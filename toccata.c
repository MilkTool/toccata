
#include <stdlib.h>
#include "core.h"
Value *empty_list_0 = (Value *)&(List){ListType,-1,0,0,0};
Value *empty_vector_1 = (Value *)&(Vector){VectorType,-1,0,5,0,0};

// --------- maybe -------------
Value *maybe_3;
Value *maybe_4(List *closures, Value *v_0) {
 while (1) {
return(maybe((List *)0, (Value *)0, v_0));
};};
FnArity maybe_5 = {FnArityType, -1, 1, (List *)0, 0, maybe_4};
Function maybe_6 = {FunctionType, -1, "maybe", 1, {&maybe_5}};
Value *maybe_3 = (Value *)&maybe_6;

Value *nothing_7 = (Value *)&(Maybe){MaybeType, -1, 0};

// proto fn for HashMapNode/assoc*
Value *assoc_STAR__8;
ProtoImpls assoc_STAR__Implementations_10;
Value *assoc_STAR__9(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4);

// proto fn for HashMapNode/dissoc*
Value *dissoc_STAR__11;
ProtoImpls dissoc_STAR__Implementations_13;
Value *dissoc_STAR__12(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3);

// proto fn for HashMapNode/get*
Value *get_STAR__14;
ProtoImpls get_STAR__Implementations_16;
Value *get_STAR__15(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4);

// proto fn for HashMapNode/hash-seq
Value *hash_seq_17;
ProtoImpls hash_seq_Implementations_19;
Value *hash_seq_18(List *closures, Value *arg0, Value *arg1);

// --------- reified-type-args -------------
Value *reified_type_args_21;
Value *reified_type_args_22(List *closures, Value *x_0) {
 while (1) {

    if (x_0->type < TypeCount) {
       fprintf(stderr, "'type-args' undefined for %s (%" PRId64 ")\n",
               extractStr(type_name(empty_list, x_0)), x_0->type);
       abort();
    }
    Value *typeArgs = ((ReifiedVal *)x_0)->typeArgs;
    incRef(typeArgs, 1);
    dec_and_free(x_0, 1);
    return(typeArgs);
};};
FnArity reified_type_args_23 = {FnArityType, -1, 1, (List *)0, 0, reified_type_args_22};
Function reified_type_args_24 = {FunctionType, -1, "reified-type-args", 1, {&reified_type_args_23}};
Value *reified_type_args_21 = (Value *)&reified_type_args_24;


// proto fn for Type/type-name
Value *type_name_25;
ProtoImpls type_name_Implementations_27;
Value *type_name_26(List *closures, Value *arg0);
Value *Default_type_name_28(List *closures, Value *value_0) {
 while (1) {

    Value *numVal = integerValue(value_0->type);
    dec_and_free(value_0, 1);
    return(integer_str(numVal));
};};
FnArity Default_type_name_29 = {FnArityType, -1, 1, (List *)0, 0, Default_type_name_28};

// proto fn for Type/type-args
Value *type_args_30;
ProtoImpls type_args_Implementations_32;
Value *type_args_31(List *closures, Value *arg0);
Value *Default_type_args_33(List *closures, Value *x_0) {
 while (1) {

// static-fixed
// #line 53 "core"
Value *rslt1 = reified_type_args_22(empty_list, x_0);
return(rslt1);

};};
FnArity Default_type_args_34 = {FnArityType, -1, 1, (List *)0, 0, Default_type_args_33};

// proto fn for Type/get-type
Value *get_type_35;
ProtoImpls get_type_Implementations_37;
Value *get_type_36(List *closures, Value *arg0);
Value *Default_get_type_38(List *closures, Value *value_0) {
 while (1) {

    Value *numVal = integerValue(value_0->type);
    dec_and_free(value_0, 1);
    return(numVal);
};};
FnArity Default_get_type_39 = {FnArityType, -1, 1, (List *)0, 0, Default_get_type_38};

// proto fn for Type/instance?
Value *instance_QM__40;
ProtoImpls instance_QM__Implementations_42;
Value *instance_QM__41(List *closures, Value *arg0, Value *arg1);

// proto fn for Type/has-field
Value *has_field_43;
ProtoImpls has_field_Implementations_45;
Value *has_field_44(List *closures, Value *arg0, Value *arg1);
Value *Default_has_field_46(List *closures, Value *arg0, Value *field_1) {
 while (1) {

dec_and_free(arg0, 1);

dec_and_free(field_1, 1);
return(nothing_7);

};};
FnArity Default_has_field_47 = {FnArityType, -1, 2, (List *)0, 0, Default_has_field_46};

// proto fn for Type/same-type?
Value *same_type_QM__48;
ProtoImpls same_type_QM__Implementations_50;
Value *same_type_QM__49(List *closures, Value *arg0, Value *arg1);

// --------- new-type-value -------------
Value *new_type_value_52;
Value *new_type_value_53(List *closures, Value *reified_template_0, Value *type_arg_values_1) {
 while (1) {

  ReifiedVal *template = (ReifiedVal *)reified_template_0;
  ReifiedVal *rv = malloc_reified(template->implCount);
  int rvSize = sizeof(ReifiedVal) + sizeof(Function *) * template->implCount;
  memcpy(rv, template, rvSize);
  __atomic_store(&rv->refs, &refsInit, __ATOMIC_RELAXED);
  rv->typeArgs = type_arg_values_1;
  return((Value *)rv);
};};
FnArity new_type_value_54 = {FnArityType, -1, 2, (List *)0, 0, new_type_value_53};
Function new_type_value_55 = {FunctionType, -1, "new-type-value", 1, {&new_type_value_54}};
Value *new_type_value_52 = (Value *)&new_type_value_55;


// --------- make-value -------------
Value *make_value_57;
Value *make_value_58(List *closures, Value *reified_template_0, Value *type_arg_values_1) {
 while (1) {

  ReifiedVal *template = (ReifiedVal *)reified_template_0;
  ReifiedVal *rv = malloc_reified(template->implCount);
  int rvSize = sizeof(ReifiedVal) + sizeof(Function *) * template->implCount;
  memcpy(rv, template, rvSize);
  __atomic_store(&rv->refs, &refsInit, __ATOMIC_RELAXED);
  rv->typeArgs = type_arg_values_1;
  dec_and_free(reified_template_0, 1);
  return((Value *)rv);
};};
FnArity make_value_59 = {FnArityType, -1, 2, (List *)0, 0, make_value_58};
Function make_value_60 = {FunctionType, -1, "make-value", 1, {&make_value_59}};
Value *make_value_57 = (Value *)&make_value_60;


// --------- list-count -------------
Value *list_count_62;
Value *list_count_63(List *closures, Value *l_0) {
 while (1) {

   Value *numVal = integerValue(((List *)l_0)->len);
   dec_and_free(l_0, 1);
   return(numVal);
};};
FnArity list_count_64 = {FnArityType, -1, 1, (List *)0, 0, list_count_63};
Function list_count_65 = {FunctionType, -1, "list-count", 1, {&list_count_64}};
Value *list_count_62 = (Value *)&list_count_65;


// --------- mutate-vect-conj -------------
Value *mutate_vect_conj_67;
Value *mutate_vect_conj_68(List *closures, Value *v_0, Value *x_1) {
 while (1) {
return((Value *)mutateVectConj((Vector *)v_0, x_1));
};};
FnArity mutate_vect_conj_69 = {FnArityType, -1, 2, (List *)0, 0, mutate_vect_conj_68};
Function mutate_vect_conj_70 = {FunctionType, -1, "mutate-vect-conj", 1, {&mutate_vect_conj_69}};
Value *mutate_vect_conj_67 = (Value *)&mutate_vect_conj_70;


// --------- list-map -------------
Value *list_map_72;
Value *list_map_73(List *closures, Value *l_0, Value *f_1) {
 while (1) {
return(listMap(l_0, f_1));
};};
FnArity list_map_74 = {FnArityType, -1, 2, (List *)0, 0, list_map_73};
Function list_map_75 = {FunctionType, -1, "list-map", 1, {&list_map_74}};
Value *list_map_72 = (Value *)&list_map_75;


// --------- list-concat -------------
Value *list_concat_77;
Value *list_concat_78(List *closures, Value *l_0) {
 while (1) {
return(listConcat(l_0));
};};
FnArity list_concat_79 = {FnArityType, -1, 1, (List *)0, 0, list_concat_78};
Function list_concat_80 = {FunctionType, -1, "list-concat", 1, {&list_concat_79}};
Value *list_concat_77 = (Value *)&list_concat_80;


// --------- add-numbers -------------
Value *add_numbers_82;
Value *add_numbers_83(List *closures, Value *x_0, Value *y_1) {
 while (1) {

    Value *numVal = integerValue(((Integer *)x_0)->numVal + ((Integer *)y_1)->numVal);
    dec_and_free(x_0, 1);
    dec_and_free(y_1, 1);
    return(numVal);
};};
FnArity add_numbers_84 = {FnArityType, -1, 2, (List *)0, 0, add_numbers_83};
Function add_numbers_85 = {FunctionType, -1, "add-numbers", 1, {&add_numbers_84}};
Value *add_numbers_82 = (Value *)&add_numbers_85;


// --------- str-malloc -------------
Value *str_malloc_87;
Value *str_malloc_88(List *closures, Value *len_0) {
 while (1) {

  String *strVal = malloc_string(((Integer *)len_0)->numVal);
  strVal->len = 0;
  strVal->buffer[0] = 0;
  dec_and_free(len_0, 1);
  return((Value *)strVal);

};};
FnArity str_malloc_89 = {FnArityType, -1, 1, (List *)0, 0, str_malloc_88};
Function str_malloc_90 = {FunctionType, -1, "str-malloc", 1, {&str_malloc_89}};
Value *str_malloc_87 = (Value *)&str_malloc_90;


// --------- str-append -------------
Value *str_append_92;
Value *str_append_93(List *closures, Value *dest_0, Value *src_1) {
 while (1) {

  String *s_1 = (String *)dest_0;
  if (src_1->type == StringType) {
    String *s2 = (String *)src_1;
    strncat(s_1->buffer, s2->buffer, s2->len);
    s_1->len += s2->len;
  } else if (src_1->type == SubStringType) {
    SubString *s2 = (SubString *)src_1;
    strncat(s_1->buffer, s2->buffer, s2->len);
    s_1->len += s2->len;
  }
  dec_and_free(dest_0, 1);
  dec_and_free(src_1, 1);
  return(nothing);
};};
FnArity str_append_94 = {FnArityType, -1, 2, (List *)0, 0, str_append_93};
Function str_append_95 = {FunctionType, -1, "str-append", 1, {&str_append_94}};
Value *str_append_92 = (Value *)&str_append_95;


// --------- fn-apply -------------
Value *fn_apply_97;
Value *fn_apply_98(List *closures, Value *x_0, Value *args_1) {
 while (1) {
return(fnApply(x_0, args_1));
};};
FnArity fn_apply_99 = {FnArityType, -1, 2, (List *)0, 0, fn_apply_98};
Function fn_apply_100 = {FunctionType, -1, "fn-apply", 1, {&fn_apply_99}};
Value *fn_apply_97 = (Value *)&fn_apply_100;


// --------- pr* -------------
Value *pr_STAR__102;
Value *pr_STAR__103(List *closures, Value *str_0) {
 while (1) {
return(prSTAR(str_0));
};};
FnArity pr_STAR__104 = {FnArityType, -1, 1, (List *)0, 0, pr_STAR__103};
Function pr_STAR__105 = {FunctionType, -1, "pr*", 1, {&pr_STAR__104}};
Value *pr_STAR__102 = (Value *)&pr_STAR__105;


// --------- pr-err* -------------
Value *pr_err_STAR__107;
Value *pr_err_STAR__108(List *closures, Value *str_0) {
 while (1) {
return(prErrSTAR(str_0));
};};
FnArity pr_err_STAR__109 = {FnArityType, -1, 1, (List *)0, 0, pr_err_STAR__108};
Function pr_err_STAR__110 = {FunctionType, -1, "pr-err*", 1, {&pr_err_STAR__109}};
Value *pr_err_STAR__107 = (Value *)&pr_err_STAR__110;


// --------- abort -------------
Value *abort_112;
Value *abort_113(List *closures) {
 while (1) {
abort();
    return(nothing);
};};
FnArity abort_114 = {FnArityType, -1, 0, (List *)0, 0, abort_113};
Function abort_115 = {FunctionType, -1, "abort", 1, {&abort_114}};
Value *abort_112 = (Value *)&abort_115;


// --------- subtract-numbers -------------
Value *subtract_numbers_117;
Value *subtract_numbers_118(List *closures, Value *x_0, Value *y_1) {
 while (1) {

    Value *numVal = integerValue(((Integer *)x_0)->numVal - ((Integer *)y_1)->numVal);
    dec_and_free(x_0, 1);
    dec_and_free(y_1, 1);
    return(numVal);
};};
FnArity subtract_numbers_119 = {FnArityType, -1, 2, (List *)0, 0, subtract_numbers_118};
Function subtract_numbers_120 = {FunctionType, -1, "subtract-numbers", 1, {&subtract_numbers_119}};
Value *subtract_numbers_117 = (Value *)&subtract_numbers_120;


// --------- mult-numbers -------------
Value *mult_numbers_122;
Value *mult_numbers_123(List *closures, Value *x_0, Value *y_1) {
 while (1) {

    Value *numVal = integerValue(((Integer *)x_0)->numVal * ((Integer *)y_1)->numVal);
    dec_and_free(x_0, 1);
    dec_and_free(y_1, 1);
    return(numVal);
};};
FnArity mult_numbers_124 = {FnArityType, -1, 2, (List *)0, 0, mult_numbers_123};
Function mult_numbers_125 = {FunctionType, -1, "mult-numbers", 1, {&mult_numbers_124}};
Value *mult_numbers_122 = (Value *)&mult_numbers_125;


// --------- rem -------------
Value *rem_127;
Value *rem_128(List *closures, Value *x_0, Value *y_1) {
 while (1) {

    Value *numVal = integerValue(((Integer *)x_0)->numVal % ((Integer *)y_1)->numVal);
    dec_and_free(x_0, 1);
    dec_and_free(y_1, 1);
    return(numVal);
};};
FnArity rem_129 = {FnArityType, -1, 2, (List *)0, 0, rem_128};
Function rem_130 = {FunctionType, -1, "rem", 1, {&rem_129}};
Value *rem_127 = (Value *)&rem_130;


// --------- escape-chars -------------
Value *escape_chars_132;
Value *escape_chars_133(List *closures, Value *s_0) {
 while (1) {
return(escapeChars(s_0));
};};
FnArity escape_chars_134 = {FnArityType, -1, 1, (List *)0, 0, escape_chars_133};
Function escape_chars_135 = {FunctionType, -1, "escape-chars", 1, {&escape_chars_134}};
Value *escape_chars_132 = (Value *)&escape_chars_135;


// --------- vect-count -------------
Value *vect_count_137;
Value *vect_count_138(List *closures, Value *v_0) {
 while (1) {

   Value *result = integerValue(((Vector *)v_0)->count);
   dec_and_free(v_0, 1);
   return(result);
};};
FnArity vect_count_139 = {FnArityType, -1, 1, (List *)0, 0, vect_count_138};
Function vect_count_140 = {FunctionType, -1, "vect-count", 1, {&vect_count_139}};
Value *vect_count_137 = (Value *)&vect_count_140;

Value *emptyBMI_141 = (Value *)&emptyBMI;

// --------- identity -------------
Value *identity_143;
Value *identity_144(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity identity_145 = {FnArityType, -1, 1, (List *)0, 0, identity_144};
Function identity_146 = {FunctionType, -1, "identity", 1, {&identity_145}};
Value *identity_143 = (Value *)&identity_146;

Value *arityImpl147(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(IntegerType, x_1));
};};
FnArity staticArity148 = {FnArityType, -1, 2, (List *)0, 0, arityImpl147};
ReifiedVal reifiedStatic149 = {19, -1, (Value *)0, 0, {}};
Value *reifiedPtr150 = (Value *)&reifiedStatic149;
Value *arityImpl151(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(StringType, x_1));
};};
FnArity staticArity152 = {FnArityType, -1, 2, (List *)0, 0, arityImpl151};
ReifiedVal reifiedStatic153 = {20, -1, (Value *)0, 0, {}};
Value *reifiedPtr154 = (Value *)&reifiedStatic153;
Value *arityImpl155(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(ListType, x_1));
};};
FnArity staticArity156 = {FnArityType, -1, 2, (List *)0, 0, arityImpl155};
ReifiedVal reifiedStatic157 = {21, -1, (Value *)0, 0, {}};
Value *reifiedPtr158 = (Value *)&reifiedStatic157;
Value *arityImpl159(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(MaybeType, x_1));
};};
FnArity staticArity160 = {FnArityType, -1, 2, (List *)0, 0, arityImpl159};
ReifiedVal reifiedStatic161 = {22, -1, (Value *)0, 0, {}};
Value *reifiedPtr162 = (Value *)&reifiedStatic161;
Value *arityImpl163(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(SymbolType, x_1));
};};
FnArity staticArity164 = {FnArityType, -1, 2, (List *)0, 0, arityImpl163};
ReifiedVal reifiedStatic165 = {23, -1, (Value *)0, 0, {}};
Value *reifiedPtr166 = (Value *)&reifiedStatic165;
Value *arityImpl167(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(VectorType, x_1));
};};
FnArity staticArity168 = {FnArityType, -1, 2, (List *)0, 0, arityImpl167};
ReifiedVal reifiedStatic169 = {24, -1, (Value *)0, 0, {}};
Value *reifiedPtr170 = (Value *)&reifiedStatic169;
Value *arityImpl171(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(FunctionType, x_1));
};};
FnArity staticArity172 = {FnArityType, -1, 2, (List *)0, 0, arityImpl171};
ReifiedVal reifiedStatic173 = {25, -1, (Value *)0, 0, {}};
Value *reifiedPtr174 = (Value *)&reifiedStatic173;
Value *arityImpl175(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(HashMapType, x_1));
};};
FnArity staticArity176 = {FnArityType, -1, 2, (List *)0, 0, arityImpl175};
ReifiedVal reifiedStatic177 = {26, -1, (Value *)0, 0, {}};
Value *reifiedPtr178 = (Value *)&reifiedStatic177;
Value *arityImpl179(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(PromiseType, x_1));
};};
FnArity staticArity180 = {FnArityType, -1, 2, (List *)0, 0, arityImpl179};
ReifiedVal reifiedStatic181 = {27, -1, (Value *)0, 0, {}};
Value *reifiedPtr182 = (Value *)&reifiedStatic181;
Value *arityImpl183(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(FutureType, x_1));
};};
FnArity staticArity184 = {FnArityType, -1, 2, (List *)0, 0, arityImpl183};
ReifiedVal reifiedStatic185 = {28, -1, (Value *)0, 0, {}};
Value *reifiedPtr186 = (Value *)&reifiedStatic185;
Value *arityImpl187(List *closures, Value *arg0, Value *x_1) {
 while (1) {
return(checkInstance(AgentType, x_1));
};};
FnArity staticArity188 = {FnArityType, -1, 2, (List *)0, 0, arityImpl187};
ReifiedVal reifiedStatic189 = {29, -1, (Value *)0, 0, {}};
Value *reifiedPtr190 = (Value *)&reifiedStatic189;

// --------- bit-and -------------
Value *bit_and_192;
Value *bit_and_193(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(bitAnd(x_0, y_1));
};};
FnArity bit_and_194 = {FnArityType, -1, 2, (List *)0, 0, bit_and_193};
Function bit_and_195 = {FunctionType, -1, "bit-and", 1, {&bit_and_194}};
Value *bit_and_192 = (Value *)&bit_and_195;


// --------- bit-or -------------
Value *bit_or_197;
Value *bit_or_198(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(bitOr(x_0, y_1));
};};
FnArity bit_or_199 = {FnArityType, -1, 2, (List *)0, 0, bit_or_198};
Function bit_or_200 = {FunctionType, -1, "bit-or", 1, {&bit_or_199}};
Value *bit_or_197 = (Value *)&bit_or_200;


// --------- char -------------
Value *char_202;
Value *char_203(List *closures, Value *n_0) {
 while (1) {

  String *strVal = malloc_string(2);
  strVal->len = 1;
  strVal->buffer[0] = ((Integer *)n_0)->numVal;
  strVal->buffer[1] = 0;
  return((Value *)strVal);

};};
FnArity char_204 = {FnArityType, -1, 1, (List *)0, 0, char_203};
Function char_205 = {FunctionType, -1, "char", 1, {&char_204}};
Value *char_202 = (Value *)&char_205;


// --------- char-code -------------
Value *char_code_207;
Value *char_code_208(List *closures, Value *c_0) {
 while (1) {

   if (c_0->type == StringType) {
     String *s = (String *)c_0;
     Value *numVal = integerValue((unsigned char)s->buffer[0]);
     dec_and_free(c_0, 1);
     return(numVal);
   } else if (c_0->type == SubStringType) {
     SubString *s = (SubString *)c_0;
     Value *numVal = integerValue((unsigned char)s->buffer[0]);
     dec_and_free(c_0, 1);
     return(numVal);
   } else
     abort();
};};
FnArity char_code_209 = {FnArityType, -1, 1, (List *)0, 0, char_code_208};
Function char_code_210 = {FunctionType, -1, "char-code", 1, {&char_code_209}};
Value *char_code_207 = (Value *)&char_code_210;


// --------- subs -------------
Value *subs_212;
Value *subs_213(List *closures, Value *src_0, Value *index_1) {
 while (1) {
return(subs2(src_0, index_1));
};};
FnArity subs_214 = {FnArityType, -1, 2, (List *)0, 0, subs_213};
Value *subs_215(List *closures, Value *src_0, Value *index_1, Value *length_2) {
 while (1) {
return(subs3(src_0, index_1, length_2));
};};
FnArity subs_216 = {FnArityType, -1, 3, (List *)0, 0, subs_215};
Function subs_217 = {FunctionType, -1, "subs", 2, {&subs_214, &subs_216}};
Value *subs_212 = (Value *)&subs_217;


// --------- symbol -------------
Value *symbol_219;
Value *symbol_220(List *closures, Value *sym_str_0) {
 while (1) {
return(symbol(sym_str_0));
};};
FnArity symbol_221 = {FnArityType, -1, 1, (List *)0, 0, symbol_220};
Function symbol_222 = {FunctionType, -1, "symbol", 1, {&symbol_221}};
Value *symbol_219 = (Value *)&symbol_222;


// --------- deliver -------------
Value *deliver_224;
Value *deliver_225(List *closures, Value *p_0, Value *v_1) {
 while (1) {
return(deliverPromise(p_0, v_1));
};};
FnArity deliver_226 = {FnArityType, -1, 2, (List *)0, 0, deliver_225};
Function deliver_227 = {FunctionType, -1, "deliver", 1, {&deliver_226}};
Value *deliver_224 = (Value *)&deliver_227;


// --------- delivered -------------
Value *delivered_229;
Value *delivered_230(List *closures, Value *p_0) {
 while (1) {
return(promiseDelivered(p_0));
};};
FnArity delivered_231 = {FnArityType, -1, 1, (List *)0, 0, delivered_230};
Function delivered_232 = {FunctionType, -1, "delivered", 1, {&delivered_231}};
Value *delivered_229 = (Value *)&delivered_232;


// proto fn for Composition/zero
Value *zero_233;
ProtoImpls zero_Implementations_235;
Value *zero_234(List *closures, Value *arg0);

// proto fn for Composition/comp*
Value *comp_STAR__236;
ProtoImpls comp_STAR__Implementations_238;
Value *comp_STAR__237(List *closures, Value *arg0, Value *arg1);

// --------- comp -------------
Value *comp_240;
Value *comp_241(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity comp_242 = {FnArityType, -1, 1, (List *)0, 0, comp_241};
Value *comp_243(List *closures, Value *arg2) {
 while (1) {
Value *x_0;
Value *xs_1;
Value **destArgs3[2] = {&x_0, &xs_1};
destructValue("core", "352", (Value *)arg2, 2, destArgs3);

// type-unknown comp*
// #line 353 "core"
Value *rslt4 = proto2Arg(&comp_STAR__Implementations_238, "<nothing>/comp*", x_0, xs_1, "core", 353);
return(rslt4);

};};
FnArity comp_244 = {FnArityType, -1, 1, (List *)0, 1, comp_243};
Function comp_245 = {FunctionType, -1, "comp", 2, {&comp_242, &comp_244}};
Value *comp_240 = (Value *)&comp_245;


// proto fn for Container/wrap
Value *wrap_246;
ProtoImpls wrap_Implementations_248;
Value *wrap_247(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/flatten
Value *flatten_249;
ProtoImpls flatten_Implementations_251;
Value *flatten_250(List *closures, Value *arg0);

// proto fn for Container/map
Value *map_252;
ProtoImpls map_Implementations_254;
Value *map_253(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/send*
Value *send_STAR__255;
ProtoImpls send_STAR__Implementations_257;
Value *send_STAR__256(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/flat-map
Value *flat_map_258;
ProtoImpls flat_map_Implementations_260;
Value *flat_map_259(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/extend
Value *extend_261;
ProtoImpls extend_Implementations_263;
Value *extend_262(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/apply*
Value *apply_STAR__264;
ProtoImpls apply_STAR__Implementations_266;
Value *apply_STAR__265(List *closures, Value *arg0, Value *arg1);

// proto fn for Container/extract
Value *extract_267;
ProtoImpls extract_Implementations_269;
Value *extract_268(List *closures, Value *arg0);

// proto fn for Container/duplicate
Value *duplicate_270;
ProtoImpls duplicate_Implementations_272;
Value *duplicate_271(List *closures, Value *arg0);

// --------- cons -------------
Value *cons_274;
Value *cons_275(List *closures, Value *x_0, Value *l_1) {
 while (1) {

   Value *listVal = (Value *)listCons(x_0, (List *)l_1);
   return(listVal);

};};
FnArity cons_276 = {FnArityType, -1, 2, (List *)0, 0, cons_275};
Function cons_277 = {FunctionType, -1, "cons", 1, {&cons_276}};
Value *cons_274 = (Value *)&cons_277;


// --------- send -------------
Value *send_279;
Value *send_280(List *closures, Value *arg3) {
 while (1) {
Value *v_0;
Value *f_1;
Value *args_2;
Value **destArgs4[3] = {&v_0, &f_1, &args_2};
destructValue("core", "431", (Value *)arg3, 3, destArgs4);

// static-fixed
// #line 434 "core"
Value *rslt5 = cons_275(empty_list, f_1, args_2);

// type-unknown send*
// #line 434 "core"
Value *rslt6 = proto2Arg(&send_STAR__Implementations_257, "<nothing>/send*", v_0, rslt5, "core", 434);
return(rslt6);

};};
FnArity send_281 = {FnArityType, -1, 1, (List *)0, 1, send_280};
Function send_282 = {FunctionType, -1, "send", 1, {&send_281}};
Value *send_279 = (Value *)&send_282;


// proto fn for Collection/empty
Value *empty_283;
ProtoImpls empty_Implementations_285;
Value *empty_284(List *closures, Value *arg0);

// proto fn for Collection/fold
Value *fold_286;
ProtoImpls fold_Implementations_288;
Value *fold_287(List *closures, Value *arg0, Value *arg1);

// proto fn for Collection/conj
Value *conj_289;
ProtoImpls conj_Implementations_291;
Value *conj_290(List *closures, Value *arg0, Value *arg1);

// proto fn for Collection/empty?
Value *empty_QM__292;
ProtoImpls empty_QM__Implementations_294;
Value *empty_QM__293(List *closures, Value *arg0);

// proto fn for Collection/filter
Value *filter_295;
ProtoImpls filter_Implementations_297;
Value *filter_296(List *closures, Value *arg0, Value *arg1);

// proto fn for Collection/count
Value *count_298;
ProtoImpls count_Implementations_300;
Value *count_299(List *closures, Value *arg0);

// proto fn for Seqable/reduce
Value *reduce_301;
ProtoImpls reduce_Implementations_303;
Value *reduce_302(List *closures, Value *arg0, Value *arg1, Value *arg2);

// proto fn for Seqable/split
Value *split_304;
ProtoImpls split_Implementations_306;
Value *split_305(List *closures, Value *arg0, Value *arg1);
ProtoImpls split_Implementations_308;
Value *split_307(List *closures, Value *arg0, Value *arg1, Value *arg2);

// proto fn for Seqable/to-str
Value *to_str_309;
ProtoImpls to_str_Implementations_311;
Value *to_str_310(List *closures, Value *arg0);

// proto fn for Seqable/reverse
Value *reverse_312;
ProtoImpls reverse_Implementations_314;
Value *reverse_313(List *closures, Value *arg0);

// proto fn for Seqable/seq
Value *seq_315;
ProtoImpls seq_Implementations_317;
Value *seq_316(List *closures, Value *arg0);

// proto fn for Seqable/first
Value *first_318;
ProtoImpls first_Implementations_320;
Value *first_319(List *closures, Value *arg0);

// proto fn for Seqable/butlast
Value *butlast_321;
ProtoImpls butlast_Implementations_323;
Value *butlast_322(List *closures, Value *arg0);

// proto fn for Seqable/vec
Value *vec_324;
ProtoImpls vec_Implementations_326;
Value *vec_325(List *closures, Value *arg0);

// proto fn for Seqable/rest
Value *rest_327;
ProtoImpls rest_Implementations_329;
Value *rest_328(List *closures, Value *arg0);

// proto fn for Seqable/last
Value *last_330;
ProtoImpls last_Implementations_332;
Value *last_331(List *closures, Value *arg0);

// --------- drop -------------
Value *drop_334;
Value *drop_335(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

// type-unknown split
// #line 521 "core"
Value *rslt2 = proto2Arg(&split_Implementations_306, "<nothing>/split", coll_0, n_1, "core", 521);
Value *arg3;
Value *tail_4;
Value *tail_5;
Value **destArgs6[3] = {&arg3, &tail_4, &tail_5};
destructValue("core", "521", (Value *)rslt2, 3, destArgs6);

dec_and_free(arg3, 1);

dec_and_free(tail_5, 1);
return(tail_4);

};};
FnArity drop_336 = {FnArityType, -1, 2, (List *)0, 0, drop_335};
Function drop_337 = {FunctionType, -1, "drop", 1, {&drop_336}};
Value *drop_334 = (Value *)&drop_337;


// --------- take -------------
Value *take_339;
Value *take_340(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

// type-unknown split
// #line 525 "core"
Value *rslt2 = proto2Arg(&split_Implementations_306, "<nothing>/split", coll_0, n_1, "core", 525);
Value *prefix_3;
Value *arg4;
Value *tail_5;
Value **destArgs6[3] = {&prefix_3, &arg4, &tail_5};
destructValue("core", "525", (Value *)rslt2, 3, destArgs6);

dec_and_free(arg4, 1);

dec_and_free(tail_5, 1);
return(prefix_3);

};};
FnArity take_341 = {FnArityType, -1, 2, (List *)0, 0, take_340};
Function take_342 = {FunctionType, -1, "take", 1, {&take_341}};
Value *take_339 = (Value *)&take_342;


// --------- second -------------
Value *second_344;
Value *second_345(List *closures, Value *coll_0) {
 while (1) {

// type-unknown rest
// #line 530 "core"
Value *rslt1 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", coll_0, "core", 530);

// type-unknown first
// #line 530 "core"
Value *rslt2 = proto1Arg(&first_Implementations_320, "<nothing>/first", rslt1, "core", 530);
return(rslt2);

};};
FnArity second_346 = {FnArityType, -1, 1, (List *)0, 0, second_345};
Function second_347 = {FunctionType, -1, "second", 1, {&second_346}};
Value *second_344 = (Value *)&second_347;


// proto fn for Indexed/nth
Value *nth_348;
ProtoImpls nth_Implementations_350;
Value *nth_349(List *closures, Value *arg0, Value *arg1);

// proto fn for Indexed/store
Value *store_351;
ProtoImpls store_Implementations_353;
Value *store_352(List *closures, Value *arg0, Value *arg1, Value *arg2);

// proto fn for Associative/vals
Value *vals_354;
ProtoImpls vals_Implementations_356;
Value *vals_355(List *closures, Value *arg0);

// proto fn for Associative/keys
Value *keys_357;
ProtoImpls keys_Implementations_359;
Value *keys_358(List *closures, Value *arg0);

// proto fn for Associative/get
Value *get_360;
ProtoImpls get_Implementations_362;
Value *get_361(List *closures, Value *arg0, Value *arg1);
ProtoImpls get_Implementations_364;
Value *get_363(List *closures, Value *arg0, Value *arg1, Value *arg2);

// proto fn for Function/invoke
Value *invoke_365;
ProtoImpls invoke_Implementations_367;
Value *invoke_366(List *closures, Value *arg0);
ProtoImpls invoke_Implementations_369;
Value *invoke_368(List *closures, Value *arg0, Value *arg1);
ProtoImpls invoke_Implementations_371;
Value *invoke_370(List *closures, Value *arg0, Value *arg1, Value *arg2);
ProtoImpls invoke_Implementations_373;
Value *invoke_372(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3);
ProtoImpls invoke_Implementations_375;
Value *invoke_374(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4);
ProtoImpls invoke_Implementations_377;
Value *invoke_376(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5);
ProtoImpls invoke_Implementations_379;
Value *invoke_378(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6);
ProtoImpls invoke_Implementations_381;
Value *invoke_380(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7);
ProtoImpls invoke_Implementations_383;
Value *invoke_382(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7, Value *arg8);

// proto fn for Eq/=*
Value *_EQ__STAR__384;
ProtoImpls _EQ__STAR__Implementations_386;
Value *_EQ__STAR__385(List *closures, Value *arg0, Value *arg1);

// proto fn for Ord/<*
Value *_LT__STAR__387;
ProtoImpls _LT__STAR__Implementations_389;
Value *_LT__STAR__388(List *closures, Value *arg0, Value *arg1);

// proto fn for Hashable/sha1
Value *sha1_390;
ProtoImpls sha1_Implementations_392;
Value *sha1_391(List *closures, Value *arg0);

// proto fn for Stringable/string-list
Value *string_list_393;
ProtoImpls string_list_Implementations_395;
Value *string_list_394(List *closures, Value *arg0);

// proto fn for Stringable/show*
Value *show_STAR__396;
ProtoImpls show_STAR__Implementations_398;
Value *show_STAR__397(List *closures, Value *arg0, Value *arg1);

// --------- show -------------
Value *show_400;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[1];
} str0 = {StringType, -1, 0, 0, ""};
Value *strPtr0 = (Value *)&str0;
Value *show_401(List *closures, Value *x_0) {
 while (1) {

// type-unknown show*
// #line 607 "core"
Value *rslt1 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", x_0, strPtr0, "core", 607);
return(rslt1);

};};
FnArity show_402 = {FnArityType, -1, 1, (List *)0, 0, show_401};
Function show_403 = {FunctionType, -1, "show", 1, {&show_402}};
Value *show_400 = (Value *)&show_403;


// --------- list -------------
Value *list_405;
Value *list_406(List *closures, Value *arg1) {
 while (1) {
Value *l_0 = (Value *)arg1;
return(l_0);

};};
FnArity list_407 = {FnArityType, -1, 1, (List *)0, 1, list_406};
Function list_408 = {FunctionType, -1, "list", 1, {&list_407}};
Value *list_405 = (Value *)&list_408;


// --------- vector -------------
Value *vector_410;
Value *vector_411(List *closures, Value *arg1) {
 while (1) {
Value *l_0 = (Value *)arg1;

// type-unknown vec
// #line 617 "core"
Value *rslt2 = proto1Arg(&vec_Implementations_326, "<nothing>/vec", l_0, "core", 617);
return(rslt2);

};};
FnArity vector_412 = {FnArityType, -1, 1, (List *)0, 1, vector_411};
Function vector_413 = {FunctionType, -1, "vector", 1, {&vector_412}};
Value *vector_410 = (Value *)&vector_413;


// --------- address-of -------------
Value *address_of_415;
Value *address_of_416(List *closures, Value *x_0) {
 while (1) {
return(integerValue((long long)x_0));
};};
FnArity address_of_417 = {FnArityType, -1, 1, (List *)0, 0, address_of_416};
Function address_of_418 = {FunctionType, -1, "address-of", 1, {&address_of_417}};
Value *address_of_415 = (Value *)&address_of_418;


// --------- identical -------------
Value *identical_420;
Value *identical_421(List *closures, Value *x_0, Value *y_1) {
 while (1) {

  if (x_0 == y_1) {
    dec_and_free(y_1, 1);
    return(maybe((List *)0, (Value *)0, x_0));
  } else {
    dec_and_free(x_0, 1);
    dec_and_free(y_1, 1);
    return(nothing);
  }
};};
FnArity identical_422 = {FnArityType, -1, 2, (List *)0, 0, identical_421};
Function identical_423 = {FunctionType, -1, "identical", 1, {&identical_422}};
Value *identical_420 = (Value *)&identical_423;

Value *Integer__EQ__STAR__424(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(integer_EQ(x_0, y_1));
};};
FnArity Integer__EQ__STAR__425 = {FnArityType, -1, 2, (List *)0, 0, Integer__EQ__STAR__424};
Value *Maybe_zero_426(List *closures, Value *mv_0) {
 while (1) {

dec_and_free(mv_0, 1);
return(nothing_7);

};};
FnArity Maybe_zero_427 = {FnArityType, -1, 1, (List *)0, 0, Maybe_zero_426};
Value *Maybe_extract_428(List *closures, Value *mv_0) {
 while (1) {
return(maybeExtract(mv_0));
};};
FnArity Maybe_extract_429 = {FnArityType, -1, 1, (List *)0, 0, Maybe_extract_428};
Value *List_first_430(List *closures, Value *l_0) {
 while (1) {
return(car(l_0));
};};
FnArity List_first_431 = {FnArityType, -1, 1, (List *)0, 0, List_first_430};
Value *List_rest_432(List *closures, Value *l_0) {
 while (1) {
return(cdr(l_0));
};};
FnArity List_rest_433 = {FnArityType, -1, 1, (List *)0, 0, List_rest_432};

// --------- cdr -------------
Value *cdr_435;
Value *cdr_436(List *closures, Value *l_0) {
 while (1) {
return(cdr(l_0));
};};
FnArity cdr_437 = {FnArityType, -1, 1, (List *)0, 0, cdr_436};
Function cdr_438 = {FunctionType, -1, "cdr", 1, {&cdr_437}};
Value *cdr_435 = (Value *)&cdr_438;


// --------- mxt -------------
Value *mxt_440;
Value *mxt_441(List *closures, Value *mv_0) {
 while (1) {
return(maybeExtract(mv_0));
};};
FnArity mxt_442 = {FnArityType, -1, 1, (List *)0, 0, mxt_441};
Function mxt_443 = {FunctionType, -1, "mxt", 1, {&mxt_442}};
Value *mxt_440 = (Value *)&mxt_443;


// --------- list-reduce -------------
Value *list_reduce_445;
Value *list_reduce_446(List *closures, Value *l_0, Value *result_1, Value *f_2) {
 while (1) {

incRef(l_0, 1);

incRef(result_1, 1);

incRef(f_2, 1);

// type-unknown first
// #line 663 "core"
Value *rslt3 = proto1Arg(&first_Implementations_320, "<nothing>/first", l_0, "core", 663);
Value *h_4 = rslt3;

incRef(h_4, 1);
Value *andRslt5;

// type-unknown =*
// #line 665 "core"
Value *rslt6 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", nothing_7, h_4, "core", 665);
andRslt5 = rslt6;
if (isNothing(andRslt5)) {
dec_and_free(result_1, 1);
} else {
dec_and_free(andRslt5, 1);

// static-fixed
// #line 666 "core"
Value *rslt7 = maybe_4(empty_list, result_1);
andRslt5 = rslt7;
}
if (!isNothing(andRslt5)) {
dec_and_free(f_2, 2);
dec_and_free(h_4, 1);
dec_and_free(l_0, 1);
dec_and_free(result_1, 1);
return(maybeExtract(andRslt5));
} else {
dec_and_free(andRslt5, 1);

// static-fixed
// #line 667 "core"
Value *rslt8 = cdr_436(empty_list, l_0);

// static-fixed
// #line 667 "core"
Value *rslt9 = mxt_441(empty_list, h_4);

// dynamic unknown type
// #line 667 "core"
Value *rslt13;
if((f_2)->type != FunctionType) {
rslt13 = invoke_370(empty_list, f_2, result_1, rslt9);
} else {
FnArity *arity10 = findFnArity(f_2, 2);
if(arity10 != (FnArity *)0 && !arity10->variadic) {
FnType2 *fn12 = (FnType2 *)arity10->fn;
rslt13 = fn12(arity10->closures, result_1, rslt9);
} else if(arity10 != (FnArity *)0 && arity10->variadic) {
FnType1 *fn12 = (FnType1 *)arity10->fn;
List *dynArgs11 = empty_list;
dynArgs11 = (List *)listCons(rslt9, dynArgs11);
dynArgs11 = (List *)listCons(result_1, dynArgs11);
rslt13 = fn12(arity10->closures, (Value *)dynArgs11);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_2)->name);
  abort();
}
dec_and_free(f_2, 1);
}
Value *rslt17;
FnArity *arity14 = findFnArity(list_reduce_445, 3);
if(arity14 != (FnArity *)0 && !arity14->variadic) { FnType3 *fn16 = (FnType3 *)arity14->fn;


// dynamic fn type
// #line 667 "core"
rslt17 = fn16(arity14->closures, rslt8, rslt13, f_2);
} else if(arity14 != (FnArity *)0 && arity14->variadic) { FnType1 *fn16 = (FnType1 *)arity14->fn;
List *dynArgs15 = empty_list;
dynArgs15 = (List *)listCons(f_2, dynArgs15);
dynArgs15 = (List *)listCons(rslt13, dynArgs15);
dynArgs15 = (List *)listCons(rslt8, dynArgs15);

// dynamic fn type
// #line 667 "core"
rslt17 = fn16(arity14->closures, (Value *)dynArgs15);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)list_reduce_445)->name, "core", 667);
  abort();
}
dec_and_free(list_reduce_445, 1);
return(rslt17);
}

};};
FnArity list_reduce_447 = {FnArityType, -1, 3, (List *)0, 0, list_reduce_446};
Function list_reduce_448 = {FunctionType, -1, "list-reduce", 1, {&list_reduce_447}};
Value *list_reduce_445 = (Value *)&list_reduce_448;

Value *List_reduce_449(List *closures, Value *l_0, Value *result_1, Value *f_2) {
 while (1) {

// static-fixed
// #line 676 "core"
Value *rslt3 = list_reduce_446(empty_list, l_0, result_1, f_2);
return(rslt3);

};};
FnArity List_reduce_450 = {FnArityType, -1, 3, (List *)0, 0, List_reduce_449};
Value *List_flat_map_451(List *closures, Value *l_0, Value *mf_1) {
 while (1) {

// static-fixed
// #line 672 "core"
Value *rslt2 = list_map_73(empty_list, l_0, mf_1);

// static-fixed
// #line 672 "core"
Value *rslt3 = list_concat_78(empty_list, rslt2);
return(rslt3);

};};
FnArity List_flat_map_452 = {FnArityType, -1, 2, (List *)0, 0, List_flat_map_451};

// --------- + -------------
Value *_PLUS__454;
Integer num0 = {IntegerType, -1, 0};
Value *numPtr0 = (Value *)&num0;
Value *_PLUS__455(List *closures) {
 while (1) {
return(numPtr0);

};};
FnArity _PLUS__456 = {FnArityType, -1, 0, (List *)0, 0, _PLUS__455};
Value *_PLUS__457(List *closures, Value *x_0, Value *y_1) {
 while (1) {

// static-fixed
// #line 681 "core"
Value *rslt2 = add_numbers_83(empty_list, x_0, y_1);
return(rslt2);

};};
FnArity _PLUS__458 = {FnArityType, -1, 2, (List *)0, 0, _PLUS__457};
Value *_PLUS__459(List *closures, Value *arg1) {
 while (1) {
Value *xs_0 = (Value *)arg1;

// type-known for reduce
// #line 683 "core"
Value *rslt2 = List_reduce_449(empty_list, xs_0, numPtr0, add_numbers_82);
return(rslt2);

};};
FnArity _PLUS__460 = {FnArityType, -1, 1, (List *)0, 1, _PLUS__459};
Function _PLUS__461 = {FunctionType, -1, "+", 3, {&_PLUS__456, &_PLUS__458, &_PLUS__460}};
Value *_PLUS__454 = (Value *)&_PLUS__461;

Value *List_vec_462(List *closures, Value *l_0) {
 while (1) {

// type-known for reduce
// #line 695 "core"
Value *rslt1 = List_reduce_449(empty_list, l_0, empty_vector_1, mutate_vect_conj_67);
return(rslt1);

};};
FnArity List_vec_463 = {FnArityType, -1, 1, (List *)0, 0, List_vec_462};

// --------- anon -------------
Value *fn465;
Value *arityImpl466(List *closures, Value *len_0, Value *s_1) {
 while (1) {

// type-unknown count
// #line 699 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_1, "core", 699);

// static-fixed
// #line 699 "core"
Value *rslt3 = _PLUS__457(empty_list, len_0, rslt2);
return(rslt3);

};};
FnArity staticArity467 = {FnArityType, -1, 2, (List *)0, 0, arityImpl466};
Function anon_468 = {FunctionType, -1, "anon", 1, {&staticArity467}};
Value *fn465 = (Value *)&anon_468;

Value *arityImpl470(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 702 "core"
Value *rslt2 = str_append_93(empty_list, val1, s_0);
return(rslt2);

};};
Value *List_to_str_464(List *closures, Value *coll_0) {
 while (1) {
Value *l_1 = coll_0;

// static-fixed
// #line 672 "core"
Value *rslt2 = list_map_73(empty_list, l_1, string_list_393);

// static-fixed
// #line 672 "core"
Value *rslt3 = list_concat_78(empty_list, rslt2);

// static-fixed
// #line 698 "core"
Value *rslt4 = cons_275(empty_list, strPtr0, rslt3);
Value *ss_list_5 = rslt4;

incRef(ss_list_5, 1);

// type-known for reduce
// #line 699 "core"
Value *rslt6 = List_reduce_449(empty_list, ss_list_5, numPtr0, fn465);
Value *new_len_7 = rslt6;

// static-fixed
// #line 700 "core"
Value *rslt8 = str_malloc_88(empty_list, new_len_7);
Value *new_str_9 = rslt8;

incRef(new_str_9, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl470;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)new_str_9, (List *)dynArity10->closures);
Function *anon_471 = malloc_function(1);
anon_471->name = "anon";
anon_471->arityCount = 1;
anon_471->arities[0] = dynArity10;
Value *fn469 = (Value *)anon_471;

// type-unknown map
// #line 701 "core"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", ss_list_5, fn469, "core", 701);

dec_and_free(rslt11, 1);
return(new_str_9);

};};
FnArity List_to_str_472 = {FnArityType, -1, 1, (List *)0, 0, List_to_str_464};
Value *List_empty_QM__473(List *closures, Value *l_0) {
 while (1) {
Value *andRslt1;

// type-unknown count
// #line 688 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", l_0, "core", 688);

// type-known for =*
// #line 688 "core"
Value *rslt3 = Integer__EQ__STAR__424(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 689 "core"
Value *rslt4 = maybe_4(empty_list, empty_list_0);
return(rslt4);
andRslt1 = rslt4;
}

};};
FnArity List_empty_QM__474 = {FnArityType, -1, 1, (List *)0, 0, List_empty_QM__473};
Value *List_count_475(List *closures, Value *l_0) {
 while (1) {

// static-fixed
// #line 691 "core"
Value *rslt1 = list_count_63(empty_list, l_0);
return(rslt1);

};};
FnArity List_count_476 = {FnArityType, -1, 1, (List *)0, 0, List_count_475};

// --------- list* -------------
Value *list_STAR__478;
Value *list_STAR__479(List *closures) {
 while (1) {
return(empty_list_0);

};};
FnArity list_STAR__480 = {FnArityType, -1, 0, (List *)0, 0, list_STAR__479};
Value *list_STAR__481(List *closures, Value *arg_0) {
 while (1) {
return(arg_0);

};};
FnArity list_STAR__482 = {FnArityType, -1, 1, (List *)0, 0, list_STAR__481};
Value *list_STAR__483(List *closures, Value *arg2) {
 while (1) {
Value *arg_0;
Value *args_1;
Value **destArgs3[2] = {&arg_0, &args_1};
destructValue("core", "713", (Value *)arg2, 2, destArgs3);

// static-fixed
// #line 715 "core"
Value *rslt4 = fn_apply_98(empty_list, list_STAR__478, args_1);

// static-fixed
// #line 715 "core"
Value *rslt5 = cons_275(empty_list, arg_0, rslt4);
return(rslt5);

};};
FnArity list_STAR__484 = {FnArityType, -1, 1, (List *)0, 1, list_STAR__483};
Function list_STAR__485 = {FunctionType, -1, "list*", 3, {&list_STAR__480, &list_STAR__482, &list_STAR__484}};
Value *list_STAR__478 = (Value *)&list_STAR__485;


// --------- fn-name -------------
Value *fn_name_487;
Value *fn_name_488(List *closures, Value *f_0) {
 while (1) {
return(stringValue(((Function *)f_0)->name));
};};
FnArity fn_name_489 = {FnArityType, -1, 1, (List *)0, 0, fn_name_488};
Function fn_name_490 = {FunctionType, -1, "fn-name", 1, {&fn_name_489}};
Value *fn_name_487 = (Value *)&fn_name_490;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str1 = {StringType, -1, 10, 0, "<Function "};
Value *strPtr1 = (Value *)&str1;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str2 = {StringType, -1, 1, 0, ">"};
Value *strPtr2 = (Value *)&str2;
Value *Function_string_list_491(List *closures, Value *arg0) {
 while (1) {

// static-fixed
// #line 725 "core"
Value *rslt1 = fn_name_488(empty_list, arg0);

// call-list
// #line 725 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr2, newList2);
newList2 = listCons((Value *)rslt1, newList2);
newList2 = listCons((Value *)strPtr1, newList2);
Value *rslt3 = (Value *)newList2;
return(rslt3);

};};
FnArity Function_string_list_492 = {FnArityType, -1, 1, (List *)0, 0, Function_string_list_491};
Value *Function_show_STAR__493(List *closures, Value *x_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);

// type-known for string-list
// #line 728 "core"
Value *rslt2 = Function_string_list_491(empty_list, x_0);
return(rslt2);

};};
FnArity Function_show_STAR__494 = {FnArityType, -1, 2, (List *)0, 0, Function_show_STAR__493};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str3 = {StringType, -1, 8, 0, "Function"};
Value *strPtr3 = (Value *)&str3;
Value *Function_type_name_495(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr3);

};};
FnArity Function_type_name_496 = {FnArityType, -1, 1, (List *)0, 0, Function_type_name_495};
Value *Function_sha1_497(List *closures, Value *f_0) {
 while (1) {

dec_and_free(f_0, 1);
return(numPtr0);

};};
FnArity Function_sha1_498 = {FnArityType, -1, 1, (List *)0, 0, Function_sha1_497};
Value *Function_apply_STAR__499(List *closures, Value *f_0, Value *args_1) {
 while (1) {

// static-fixed
// #line 737 "core"
Value *rslt2 = fn_apply_98(empty_list, list_STAR__478, args_1);

// static-fixed
// #line 737 "core"
Value *rslt3 = fn_apply_98(empty_list, f_0, rslt2);
return(rslt3);

};};
FnArity Function_apply_STAR__500 = {FnArityType, -1, 2, (List *)0, 0, Function_apply_STAR__499};

// --------- interpose -------------
Value *interpose_502;
Value *arityImpl505(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// call-list
// #line 741 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)x_0, newList2);
newList2 = listCons((Value *)val1, newList2);
Value *rslt3 = (Value *)newList2;
return(rslt3);

};};
Value *interpose_503(List *closures, Value *coll_0, Value *sep_1) {
 while (1) {

// type-unknown seq
// #line 741 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", coll_0, "core", 741);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl505;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)sep_1, (List *)dynArity3->closures);
Function *anon_506 = malloc_function(1);
anon_506->name = "anon";
anon_506->arityCount = 1;
anon_506->arities[0] = dynArity3;
Value *fn504 = (Value *)anon_506;

// type-unknown flat-map
// #line 741 "core"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt2, fn504, "core", 741);

// type-unknown rest
// #line 741 "core"
Value *rslt5 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", rslt4, "core", 741);
return(rslt5);

};};
FnArity interpose_507 = {FnArityType, -1, 2, (List *)0, 0, interpose_503};
Function interpose_508 = {FunctionType, -1, "interpose", 1, {&interpose_507}};
Value *interpose_502 = (Value *)&interpose_508;


// --------- print -------------
Value *print_510;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str4 = {StringType, -1, 1, 0, " "};
Value *strPtr4 = (Value *)&str4;
Value *print_511(List *closures, Value *arg1) {
 while (1) {
Value *vs_0 = (Value *)arg1;

// static-fixed
// #line 744 "core"
Value *rslt2 = interpose_503(empty_list, vs_0, strPtr4);

// type-unknown flat-map
// #line 744 "core"
Value *rslt3 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt2, string_list_393, "core", 744);

// type-unknown map
// #line 744 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, pr_STAR__102, "core", 744);
return(rslt4);

};};
FnArity print_512 = {FnArityType, -1, 1, (List *)0, 1, print_511};
Function print_513 = {FunctionType, -1, "print", 1, {&print_512}};
Value *print_510 = (Value *)&print_513;


// --------- println -------------
Value *println_515;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str5 = {StringType, -1, 1, 0, "\n"};
Value *strPtr5 = (Value *)&str5;
Value *println_516(List *closures, Value *arg1) {
 while (1) {
Value *vs_0 = (Value *)arg1;

// static-fixed
// #line 747 "core"
Value *rslt2 = interpose_503(empty_list, vs_0, strPtr4);

// type-unknown flat-map
// #line 747 "core"
Value *rslt3 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt2, string_list_393, "core", 747);

// type-unknown map
// #line 747 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, pr_STAR__102, "core", 747);

dec_and_free(rslt4, 1);

// static-fixed
// #line 748 "core"
Value *rslt5 = pr_STAR__103(empty_list, strPtr5);
return(rslt5);

};};
FnArity println_517 = {FnArityType, -1, 1, (List *)0, 1, println_516};
Function println_518 = {FunctionType, -1, "println", 1, {&println_517}};
Value *println_515 = (Value *)&println_518;


// --------- print-err -------------
Value *print_err_520;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str6 = {StringType, -1, 5, 0, "\n*** "};
Value *strPtr6 = (Value *)&str6;
Value *print_err_521(List *closures, Value *arg1) {
 while (1) {
Value *vs_0 = (Value *)arg1;

// static-fixed
// #line 751 "core"
Value *rslt2 = pr_err_STAR__108(empty_list, strPtr6);

dec_and_free(rslt2, 1);

// static-fixed
// #line 752 "core"
Value *rslt3 = interpose_503(empty_list, vs_0, strPtr4);

// type-unknown flat-map
// #line 752 "core"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt3, string_list_393, "core", 752);

// type-unknown map
// #line 752 "core"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, pr_err_STAR__107, "core", 752);

dec_and_free(rslt5, 1);

// static-fixed
// #line 753 "core"
Value *rslt6 = pr_err_STAR__108(empty_list, strPtr5);
return(rslt6);

};};
FnArity print_err_522 = {FnArityType, -1, 1, (List *)0, 1, print_err_521};
Function print_err_523 = {FunctionType, -1, "print-err", 1, {&print_err_522}};
Value *print_err_520 = (Value *)&print_err_523;


// --------- str -------------
Value *str_525;
Value *str_526(List *closures, Value *arg1) {
 while (1) {
Value *vs_0 = (Value *)arg1;

// type-known for to-str
// #line 759 "core"
Value *rslt2 = List_to_str_464(empty_list, vs_0);
return(rslt2);

};};
FnArity str_527 = {FnArityType, -1, 1, (List *)0, 1, str_526};
Function str_528 = {FunctionType, -1, "str", 1, {&str_527}};
Value *str_525 = (Value *)&str_528;


// --------- < -------------
Value *_LT__530;
Value *_LT__531(List *closures, Value *x_0, Value *y_1) {
 while (1) {

// type-unknown <*
// #line 764 "core"
Value *rslt2 = proto2Arg(&_LT__STAR__Implementations_389, "<nothing>/<*", x_0, y_1, "core", 764);
return(rslt2);

};};
FnArity _LT__532 = {FnArityType, -1, 2, (List *)0, 0, _LT__531};

// --------- anon -------------
Value *fn534;
Value *arityImpl539(List *closures, Value *x_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);
return(x_0);

};};
FnArity staticArity540 = {FnArityType, -1, 2, (List *)0, 0, arityImpl539};
Function anon_541 = {FunctionType, -1, "anon", 1, {&staticArity540}};
Value *fn534 = (Value *)&anon_541;

Value *_LT__533(List *closures, Value *arg2) {
 while (1) {
Value *v_0;
Value *vs_1;
Value **destArgs3[2] = {&v_0, &vs_1};
destructValue("core", "765", (Value *)arg2, 2, destArgs3);

incRef(v_0, 1);

incRef(vs_1, 2);
Value *orRslt4;
Value *andRslt5;

// type-known for empty?
// #line 766 "core"
Value *rslt6 = List_empty_QM__473(empty_list, vs_1);
andRslt5 = rslt6;
if (isNothing(andRslt5)) {
dec_and_free(v_0, 1);
} else {
dec_and_free(andRslt5, 1);

// static-fixed
// #line 767 "core"
Value *rslt7 = maybe_4(empty_list, v_0);
andRslt5 = rslt7;
}
orRslt4 = andRslt5;
if (!isNothing(orRslt4)) {
dec_and_free(v_0, 1);
dec_and_free(vs_1, 2);
return(orRslt4);
} else {
dec_and_free(orRslt4, 1);
Value *y_8;
Value *tail_9;
Value **destArgs10[2] = {&y_8, &tail_9};
destructValue("core", "768", (Value *)vs_1, 2, destArgs10);

dec_and_free(tail_9, 1);

// static-fixed
// #line 769 "core"
Value *rslt11 = maybe_4(empty_list, fn534);

// type-unknown <*
// #line 770 "core"
Value *rslt12 = proto2Arg(&_LT__STAR__Implementations_389, "<nothing>/<*", v_0, y_8, "core", 770);
Value *f_13 = _LT__530;

// call-list
// #line 771 "core"
List *newList14 = empty_list;
newList14 = listCons((Value *)vs_1, newList14);
Value *rslt15 = (Value *)newList14;
Value *args_16 = rslt15;

// static-fixed
// #line 737 "core"
Value *rslt17 = fn_apply_98(empty_list, list_STAR__478, args_16);

// static-fixed
// #line 737 "core"
Value *rslt18 = fn_apply_98(empty_list, f_13, rslt17);

// call-list
// #line 770 "core"
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
newList19 = listCons((Value *)rslt12, newList19);
Value *rslt20 = (Value *)newList19;

// type-unknown apply*
// #line 769 "core"
Value *rslt21 = proto2Arg(&apply_STAR__Implementations_266, "<nothing>/apply*", rslt11, rslt20, "core", 769);
return(rslt21);
orRslt4 = rslt21;
}

};};
FnArity _LT__542 = {FnArityType, -1, 1, (List *)0, 1, _LT__533};
Function _LT__543 = {FunctionType, -1, "<", 2, {&_LT__532, &_LT__542}};
Value *_LT__530 = (Value *)&_LT__543;


// --------- <= -------------
Value *_LT__EQ__545;
Value *_LT__EQ__546(List *closures, Value *x_0) {
 while (1) {

// static-fixed
// #line 776 "core"
Value *rslt1 = maybe_4(empty_list, x_0);
return(rslt1);

};};
FnArity _LT__EQ__547 = {FnArityType, -1, 1, (List *)0, 0, _LT__EQ__546};
Value *_LT__EQ__548(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *orRslt2;

// type-unknown <*
// #line 777 "core"
Value *rslt3 = proto2Arg(&_LT__STAR__Implementations_389, "<nothing>/<*", x_0, y_1, "core", 777);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);

// type-unknown =*
// #line 777 "core"
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", x_0, y_1, "core", 777);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity _LT__EQ__549 = {FnArityType, -1, 2, (List *)0, 0, _LT__EQ__548};
Value *_LT__EQ__550(List *closures, Value *arg3) {
 while (1) {
Value *x_0;
Value *y_1;
Value *ys_2;
Value **destArgs4[3] = {&x_0, &y_1, &ys_2};
destructValue("core", "778", (Value *)arg3, 3, destArgs4);

incRef(x_0, 1);

incRef(y_1, 2);
Value *andRslt5;
Value *orRslt6;

// type-unknown <*
// #line 779 "core"
Value *rslt7 = proto2Arg(&_LT__STAR__Implementations_389, "<nothing>/<*", x_0, y_1, "core", 779);
orRslt6 = rslt7;
if (!isNothing(orRslt6)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt6, 1);

// type-unknown =*
// #line 779 "core"
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", x_0, y_1, "core", 779);
orRslt6 = rslt8;
}
andRslt5 = orRslt6;
if (isNothing(andRslt5)) {
dec_and_free(y_1, 1);
dec_and_free(ys_2, 1);
return(nothing);
} else {
dec_and_free(andRslt5, 1);
Value *f_9 = _LT__EQ__545;

// call-list
// #line 780 "core"
List *newList10 = empty_list;
newList10 = listCons((Value *)ys_2, newList10);
newList10 = listCons((Value *)y_1, newList10);
Value *rslt11 = (Value *)newList10;
Value *args_12 = rslt11;

// static-fixed
// #line 737 "core"
Value *rslt13 = fn_apply_98(empty_list, list_STAR__478, args_12);

// static-fixed
// #line 737 "core"
Value *rslt14 = fn_apply_98(empty_list, f_9, rslt13);
return(rslt14);
andRslt5 = rslt14;
}

};};
FnArity _LT__EQ__551 = {FnArityType, -1, 1, (List *)0, 1, _LT__EQ__550};
Function _LT__EQ__552 = {FunctionType, -1, "<=", 3, {&_LT__EQ__547, &_LT__EQ__549, &_LT__EQ__551}};
Value *_LT__EQ__545 = (Value *)&_LT__EQ__552;


// --------- = -------------
Value *_EQ__554;
Value *_EQ__555(List *closures, Value *v_0) {
 while (1) {

// static-fixed
// #line 785 "core"
Value *rslt1 = maybe_4(empty_list, v_0);
return(rslt1);

};};
FnArity _EQ__556 = {FnArityType, -1, 1, (List *)0, 0, _EQ__555};
Value *_EQ__557(List *closures, Value *x_0, Value *y_1) {
 while (1) {

// type-unknown =*
// #line 786 "core"
Value *rslt2 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", x_0, y_1, "core", 786);
return(rslt2);

};};
FnArity _EQ__558 = {FnArityType, -1, 2, (List *)0, 0, _EQ__557};
Value *_EQ__559(List *closures, Value *arg3) {
 while (1) {
Value *x_0;
Value *y_1;
Value *ys_2;
Value **destArgs4[3] = {&x_0, &y_1, &ys_2};
destructValue("core", "787", (Value *)arg3, 3, destArgs4);

incRef(y_1, 1);
Value *andRslt5;

// type-unknown =*
// #line 788 "core"
Value *rslt6 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", x_0, y_1, "core", 788);
andRslt5 = rslt6;
if (isNothing(andRslt5)) {
dec_and_free(y_1, 1);
dec_and_free(ys_2, 1);
return(nothing);
} else {
dec_and_free(andRslt5, 1);
Value *f_7 = _EQ__554;

// call-list
// #line 789 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)ys_2, newList8);
newList8 = listCons((Value *)y_1, newList8);
Value *rslt9 = (Value *)newList8;
Value *args_10 = rslt9;

// static-fixed
// #line 737 "core"
Value *rslt11 = fn_apply_98(empty_list, list_STAR__478, args_10);

// static-fixed
// #line 737 "core"
Value *rslt12 = fn_apply_98(empty_list, f_7, rslt11);
return(rslt12);
andRslt5 = rslt12;
}

};};
FnArity _EQ__560 = {FnArityType, -1, 1, (List *)0, 1, _EQ__559};
Function _EQ__561 = {FunctionType, -1, "=", 3, {&_EQ__556, &_EQ__558, &_EQ__560}};
Value *_EQ__554 = (Value *)&_EQ__561;


// --------- inc -------------
Value *inc_563;
Integer num1 = {IntegerType, -1, 1};
Value *numPtr1 = (Value *)&num1;
Value *inc_564(List *closures, Value *x_0) {
 while (1) {

// static-fixed
// #line 795 "core"
Value *rslt1 = _PLUS__457(empty_list, x_0, numPtr1);
return(rslt1);

};};
FnArity inc_565 = {FnArityType, -1, 1, (List *)0, 0, inc_564};
Function inc_566 = {FunctionType, -1, "inc", 1, {&inc_565}};
Value *inc_563 = (Value *)&inc_566;


// --------- - -------------
Value *_MINUS__568;
Value *_MINUS__569(List *closures) {
 while (1) {
return(numPtr0);

};};
FnArity _MINUS__570 = {FnArityType, -1, 0, (List *)0, 0, _MINUS__569};
Value *_MINUS__571(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity _MINUS__572 = {FnArityType, -1, 1, (List *)0, 0, _MINUS__571};
Value *_MINUS__573(List *closures, Value *arg2) {
 while (1) {
Value *x_0;
Value *xs_1;
Value **destArgs3[2] = {&x_0, &xs_1};
destructValue("core", "801", (Value *)arg2, 2, destArgs3);

// type-known for reduce
// #line 801 "core"
Value *rslt4 = List_reduce_449(empty_list, xs_1, x_0, subtract_numbers_117);
return(rslt4);

};};
FnArity _MINUS__574 = {FnArityType, -1, 1, (List *)0, 1, _MINUS__573};
Function _MINUS__575 = {FunctionType, -1, "-", 3, {&_MINUS__570, &_MINUS__572, &_MINUS__574}};
Value *_MINUS__568 = (Value *)&_MINUS__575;


// --------- dec -------------
Value *dec_577;
Value *dec_578(List *closures, Value *x_0) {
 while (1) {

// static-fixed
// #line 806 "core"
Value *rslt1 = subtract_numbers_118(empty_list, x_0, numPtr1);
return(rslt1);

};};
FnArity dec_579 = {FnArityType, -1, 1, (List *)0, 0, dec_578};
Function dec_580 = {FunctionType, -1, "dec", 1, {&dec_579}};
Value *dec_577 = (Value *)&dec_580;


// --------- * -------------
Value *_STAR__582;
Value *_STAR__583(List *closures) {
 while (1) {
return(numPtr1);

};};
FnArity _STAR__584 = {FnArityType, -1, 0, (List *)0, 0, _STAR__583};
Value *_STAR__585(List *closures, Value *x_0, Value *y_1) {
 while (1) {

// static-fixed
// #line 811 "core"
Value *rslt2 = mult_numbers_123(empty_list, x_0, y_1);
return(rslt2);

};};
FnArity _STAR__586 = {FnArityType, -1, 2, (List *)0, 0, _STAR__585};
Value *_STAR__587(List *closures, Value *arg1) {
 while (1) {
Value *xs_0 = (Value *)arg1;

// type-known for reduce
// #line 812 "core"
Value *rslt2 = List_reduce_449(empty_list, xs_0, numPtr1, mult_numbers_122);
return(rslt2);

};};
FnArity _STAR__588 = {FnArityType, -1, 1, (List *)0, 1, _STAR__587};
Function _STAR__589 = {FunctionType, -1, "*", 3, {&_STAR__584, &_STAR__586, &_STAR__588}};
Value *_STAR__582 = (Value *)&_STAR__589;

Value *Integer_string_list_590(List *closures, Value *n_0) {
 while (1) {
return((Value *)listCons(integer_str(n_0), empty_list));

};};
FnArity Integer_string_list_591 = {FnArityType, -1, 1, (List *)0, 0, Integer_string_list_590};
Value *Integer_show_STAR__592(List *closures, Value *x_0, Value *indent_1) {
 while (1) {

dec_and_free(indent_1, 1);

// type-known for string-list
// #line 823 "core"
Value *rslt2 = Integer_string_list_590(empty_list, x_0);
return(rslt2);

};};
FnArity Integer_show_STAR__593 = {FnArityType, -1, 2, (List *)0, 0, Integer_show_STAR__592};
Value *Integer_type_args_594(List *closures, Value *n_0) {
 while (1) {

// call-list
// #line 816 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)n_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity Integer_type_args_595 = {FnArityType, -1, 1, (List *)0, 0, Integer_type_args_594};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str7 = {StringType, -1, 7, 0, "Integer"};
Value *strPtr7 = (Value *)&str7;
Value *Integer_type_name_596(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr7);

};};
FnArity Integer_type_name_597 = {FnArityType, -1, 1, (List *)0, 0, Integer_type_name_596};
Value *Integer__LT__STAR__598(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(integerLT(x_0, y_1));
};};
FnArity Integer__LT__STAR__599 = {FnArityType, -1, 2, (List *)0, 0, Integer__LT__STAR__598};
Value *Integer_sha1_600(List *closures, Value *x_0) {
 while (1) {
return(integerSha1(x_0));
};};
FnArity Integer_sha1_601 = {FnArityType, -1, 1, (List *)0, 0, Integer_sha1_600};
Value *String_string_list_602(List *closures, Value *s_0) {
 while (1) {

// call-list
// #line 837 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)s_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity String_string_list_603 = {FnArityType, -1, 1, (List *)0, 0, String_string_list_602};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str8 = {StringType, -1, 1, 0, "\""};
Value *strPtr8 = (Value *)&str8;
Value *String_show_STAR__604(List *closures, Value *s_0, Value *indent_1) {
 while (1) {

dec_and_free(indent_1, 1);

// call-list
// #line 840 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr8, newList2);
Value *rslt3 = (Value *)newList2;

// static-variadic
// #line 840 "core"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)s_0, varArgs4);
varArgs4 = (List *)listCons((Value *)strPtr8, varArgs4);
Value *rslt5 = list_STAR__483(empty_list, (Value *)varArgs4);
return(rslt5);

};};
FnArity String_show_STAR__605 = {FnArityType, -1, 2, (List *)0, 0, String_show_STAR__604};
Value *String__EQ__STAR__606(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(strEQ(x_0, y_1));
};};
FnArity String__EQ__STAR__607 = {FnArityType, -1, 2, (List *)0, 0, String__EQ__STAR__606};
Value *String_seq_608(List *closures, Value *coll_0) {
 while (1) {
return(strSeq(coll_0));
};};
FnArity String_seq_609 = {FnArityType, -1, 1, (List *)0, 0, String_seq_608};
Value *String_vec_610(List *closures, Value *coll_0) {
 while (1) {
return(strVec(coll_0));
};};
FnArity String_vec_611 = {FnArityType, -1, 1, (List *)0, 0, String_vec_610};
Value *arityImpl614(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 867 "core"
Value *rslt2 = subs_215(empty_list, val1, numPtr0, numPtr1);
return(rslt2);

};};
Value *String_first_612(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 865 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 865);

// static-fixed
// #line 865 "core"
Value *rslt2 = _LT__531(empty_list, numPtr0, rslt1);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl614;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)s_0, (List *)dynArity3->closures);
Function *anon_615 = malloc_function(1);
anon_615->name = "anon";
anon_615->arityCount = 1;
anon_615->arities[0] = dynArity3;
Value *fn613 = (Value *)anon_615;

// type-unknown map
// #line 865 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn613, "core", 865);
return(rslt4);

};};
FnArity String_first_616 = {FnArityType, -1, 1, (List *)0, 0, String_first_612};
Value *String_rest_617(List *closures, Value *s_0) {
 while (1) {

// static-fixed
// #line 870 "core"
Value *rslt1 = subs_213(empty_list, s_0, numPtr1);
return(rslt1);

};};
FnArity String_rest_618 = {FnArityType, -1, 1, (List *)0, 0, String_rest_617};
Value *arityImpl621(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 876 "core"
Value *rslt3 = dec_578(empty_list, val2);

// static-fixed
// #line 876 "core"
Value *rslt4 = subs_213(empty_list, val1, rslt3);
return(rslt4);

};};
Value *String_last_619(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 873 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 873);
Value *n_2 = rslt1;

incRef(n_2, 1);

// static-fixed
// #line 874 "core"
Value *rslt3 = _LT__531(empty_list, numPtr0, n_2);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl621;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)n_2, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)s_0, (List *)dynArity4->closures);
Function *anon_622 = malloc_function(1);
anon_622->name = "anon";
anon_622->arityCount = 1;
anon_622->arities[0] = dynArity4;
Value *fn620 = (Value *)anon_622;

// type-unknown map
// #line 874 "core"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, fn620, "core", 874);
return(rslt5);

};};
FnArity String_last_623 = {FnArityType, -1, 1, (List *)0, 0, String_last_619};
Value *String_butlast_624(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 879 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 879);

// static-fixed
// #line 879 "core"
Value *rslt2 = dec_578(empty_list, rslt1);

// static-fixed
// #line 879 "core"
Value *rslt3 = subs_215(empty_list, s_0, numPtr0, rslt2);
return(rslt3);

};};
FnArity String_butlast_625 = {FnArityType, -1, 1, (List *)0, 0, String_butlast_624};
Value *String_reduce_626(List *closures, Value *s_0, Value *x_1, Value *f_2) {
 while (1) {

// type-known for seq
// #line 884 "core"
Value *rslt3 = String_seq_608(empty_list, s_0);

// type-known for reduce
// #line 884 "core"
Value *rslt4 = List_reduce_449(empty_list, rslt3, x_1, f_2);
return(rslt4);

};};
FnArity String_reduce_627 = {FnArityType, -1, 3, (List *)0, 0, String_reduce_626};
Value *String_reverse_628(List *closures, Value *s_0) {
 while (1) {

// type-known for seq
// #line 887 "core"
Value *rslt1 = String_seq_608(empty_list, s_0);

// type-unknown reverse
// #line 887 "core"
Value *rslt2 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt1, "core", 887);

// type-unknown to-str
// #line 887 "core"
Value *rslt3 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt2, "core", 887);
return(rslt3);

};};
FnArity String_reverse_629 = {FnArityType, -1, 1, (List *)0, 0, String_reverse_628};
Value *String_to_str_630(List *closures, Value *s_0) {
 while (1) {
return(s_0);

};};
FnArity String_to_str_631 = {FnArityType, -1, 1, (List *)0, 0, String_to_str_630};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str9 = {StringType, -1, 6, 0, "String"};
Value *strPtr9 = (Value *)&str9;
Value *String_type_name_632(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr9);

};};
FnArity String_type_name_633 = {FnArityType, -1, 1, (List *)0, 0, String_type_name_632};
Value *String_type_args_634(List *closures, Value *s_0) {
 while (1) {

// call-list
// #line 834 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)s_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity String_type_args_635 = {FnArityType, -1, 1, (List *)0, 0, String_type_args_634};
Value *String__LT__STAR__636(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(strLT(x_0, y_1));
};};
FnArity String__LT__STAR__637 = {FnArityType, -1, 2, (List *)0, 0, String__LT__STAR__636};
Value *String_zero_638(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr0);

};};
FnArity String_zero_639 = {FnArityType, -1, 1, (List *)0, 0, String_zero_638};
Value *String_comp_STAR__640(List *closures, Value *s_0, Value *ss_1) {
 while (1) {

// static-fixed
// #line 845 "core"
Value *rslt2 = cons_275(empty_list, s_0, ss_1);

// type-known for to-str
// #line 845 "core"
Value *rslt3 = List_to_str_464(empty_list, rslt2);
return(rslt3);

};};
FnArity String_comp_STAR__641 = {FnArityType, -1, 2, (List *)0, 0, String_comp_STAR__640};
Value *String_sha1_642(List *closures, Value *s_0) {
 while (1) {
return(strSha1(s_0));
};};
FnArity String_sha1_643 = {FnArityType, -1, 1, (List *)0, 0, String_sha1_642};
Value *arityImpl646(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 899 "core"
Value *rslt3 = subs_215(empty_list, val1, val2, numPtr1);
return(rslt3);

};};
Value *String_nth_644(List *closures, Value *s_0, Value *n_1) {
 while (1) {

incRef(s_0, 1);

incRef(n_1, 1);

// type-unknown count
// #line 897 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 897);

// static-fixed
// #line 897 "core"
Value *rslt3 = _LT__531(empty_list, n_1, rslt2);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl646;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)n_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)s_0, (List *)dynArity4->closures);
Function *anon_647 = malloc_function(1);
anon_647->name = "anon";
anon_647->arityCount = 1;
anon_647->arities[0] = dynArity4;
Value *fn645 = (Value *)anon_647;

// type-unknown map
// #line 897 "core"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, fn645, "core", 897);
return(rslt5);

};};
FnArity String_nth_648 = {FnArityType, -1, 2, (List *)0, 0, String_nth_644};
Value *String_count_649(List *closures, Value *s_0) {
 while (1) {
return(strCount(s_0));
};};
FnArity String_count_650 = {FnArityType, -1, 1, (List *)0, 0, String_count_649};
Value *String_empty_QM__651(List *closures, Value *coll_0) {
 while (1) {

// type-known for count
// #line 852 "core"
Value *rslt1 = String_count_649(empty_list, coll_0);

// static-fixed
// #line 852 "core"
Value *rslt2 = _EQ__557(empty_list, numPtr0, rslt1);
return(rslt2);

};};
FnArity String_empty_QM__652 = {FnArityType, -1, 1, (List *)0, 0, String_empty_QM__651};
Value *String_empty_653(List *closures, Value *coll_0) {
 while (1) {

dec_and_free(coll_0, 1);
return(strPtr0);

};};
FnArity String_empty_654 = {FnArityType, -1, 1, (List *)0, 0, String_empty_653};
Value *SubString_string_list_655(List *closures, Value *s_0) {
 while (1) {

// call-list
// #line 837 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)s_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity SubString_string_list_656 = {FnArityType, -1, 1, (List *)0, 0, SubString_string_list_655};
Value *SubString_show_STAR__657(List *closures, Value *s_0, Value *indent_1) {
 while (1) {

dec_and_free(indent_1, 1);

// call-list
// #line 840 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr8, newList2);
Value *rslt3 = (Value *)newList2;

// static-variadic
// #line 840 "core"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)s_0, varArgs4);
varArgs4 = (List *)listCons((Value *)strPtr8, varArgs4);
Value *rslt5 = list_STAR__483(empty_list, (Value *)varArgs4);
return(rslt5);

};};
FnArity SubString_show_STAR__658 = {FnArityType, -1, 2, (List *)0, 0, SubString_show_STAR__657};
Value *SubString__EQ__STAR__659(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(strEQ(x_0, y_1));
};};
FnArity SubString__EQ__STAR__660 = {FnArityType, -1, 2, (List *)0, 0, SubString__EQ__STAR__659};
Value *SubString_seq_661(List *closures, Value *coll_0) {
 while (1) {
return(strSeq(coll_0));
};};
FnArity SubString_seq_662 = {FnArityType, -1, 1, (List *)0, 0, SubString_seq_661};
Value *SubString_vec_663(List *closures, Value *coll_0) {
 while (1) {
return(strVec(coll_0));
};};
FnArity SubString_vec_664 = {FnArityType, -1, 1, (List *)0, 0, SubString_vec_663};
Value *arityImpl667(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 867 "core"
Value *rslt2 = subs_215(empty_list, val1, numPtr0, numPtr1);
return(rslt2);

};};
Value *SubString_first_665(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 865 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 865);

// static-fixed
// #line 865 "core"
Value *rslt2 = _LT__531(empty_list, numPtr0, rslt1);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl667;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)s_0, (List *)dynArity3->closures);
Function *anon_668 = malloc_function(1);
anon_668->name = "anon";
anon_668->arityCount = 1;
anon_668->arities[0] = dynArity3;
Value *fn666 = (Value *)anon_668;

// type-unknown map
// #line 865 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn666, "core", 865);
return(rslt4);

};};
FnArity SubString_first_669 = {FnArityType, -1, 1, (List *)0, 0, SubString_first_665};
Value *SubString_rest_670(List *closures, Value *s_0) {
 while (1) {

// static-fixed
// #line 870 "core"
Value *rslt1 = subs_213(empty_list, s_0, numPtr1);
return(rslt1);

};};
FnArity SubString_rest_671 = {FnArityType, -1, 1, (List *)0, 0, SubString_rest_670};
Value *arityImpl674(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 876 "core"
Value *rslt3 = dec_578(empty_list, val2);

// static-fixed
// #line 876 "core"
Value *rslt4 = subs_213(empty_list, val1, rslt3);
return(rslt4);

};};
Value *SubString_last_672(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 873 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 873);
Value *n_2 = rslt1;

incRef(n_2, 1);

// static-fixed
// #line 874 "core"
Value *rslt3 = _LT__531(empty_list, numPtr0, n_2);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl674;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)n_2, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)s_0, (List *)dynArity4->closures);
Function *anon_675 = malloc_function(1);
anon_675->name = "anon";
anon_675->arityCount = 1;
anon_675->arities[0] = dynArity4;
Value *fn673 = (Value *)anon_675;

// type-unknown map
// #line 874 "core"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, fn673, "core", 874);
return(rslt5);

};};
FnArity SubString_last_676 = {FnArityType, -1, 1, (List *)0, 0, SubString_last_672};
Value *SubString_butlast_677(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown count
// #line 879 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 879);

// static-fixed
// #line 879 "core"
Value *rslt2 = dec_578(empty_list, rslt1);

// static-fixed
// #line 879 "core"
Value *rslt3 = subs_215(empty_list, s_0, numPtr0, rslt2);
return(rslt3);

};};
FnArity SubString_butlast_678 = {FnArityType, -1, 1, (List *)0, 0, SubString_butlast_677};
Value *SubString_reduce_679(List *closures, Value *s_0, Value *x_1, Value *f_2) {
 while (1) {

// type-known for seq
// #line 884 "core"
Value *rslt3 = SubString_seq_661(empty_list, s_0);

// type-known for reduce
// #line 884 "core"
Value *rslt4 = List_reduce_449(empty_list, rslt3, x_1, f_2);
return(rslt4);

};};
FnArity SubString_reduce_680 = {FnArityType, -1, 3, (List *)0, 0, SubString_reduce_679};
Value *SubString_reverse_681(List *closures, Value *s_0) {
 while (1) {

// type-known for seq
// #line 887 "core"
Value *rslt1 = SubString_seq_661(empty_list, s_0);

// type-unknown reverse
// #line 887 "core"
Value *rslt2 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt1, "core", 887);

// type-unknown to-str
// #line 887 "core"
Value *rslt3 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt2, "core", 887);
return(rslt3);

};};
FnArity SubString_reverse_682 = {FnArityType, -1, 1, (List *)0, 0, SubString_reverse_681};
Value *SubString_to_str_683(List *closures, Value *s_0) {
 while (1) {
return(s_0);

};};
FnArity SubString_to_str_684 = {FnArityType, -1, 1, (List *)0, 0, SubString_to_str_683};
Value *SubString_type_name_685(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr9);

};};
FnArity SubString_type_name_686 = {FnArityType, -1, 1, (List *)0, 0, SubString_type_name_685};
Value *SubString_type_args_687(List *closures, Value *s_0) {
 while (1) {

// call-list
// #line 834 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)s_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity SubString_type_args_688 = {FnArityType, -1, 1, (List *)0, 0, SubString_type_args_687};
Value *SubString__LT__STAR__689(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(strLT(x_0, y_1));
};};
FnArity SubString__LT__STAR__690 = {FnArityType, -1, 2, (List *)0, 0, SubString__LT__STAR__689};
Value *SubString_zero_691(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr0);

};};
FnArity SubString_zero_692 = {FnArityType, -1, 1, (List *)0, 0, SubString_zero_691};
Value *SubString_comp_STAR__693(List *closures, Value *s_0, Value *ss_1) {
 while (1) {

// static-fixed
// #line 845 "core"
Value *rslt2 = cons_275(empty_list, s_0, ss_1);

// type-known for to-str
// #line 845 "core"
Value *rslt3 = List_to_str_464(empty_list, rslt2);
return(rslt3);

};};
FnArity SubString_comp_STAR__694 = {FnArityType, -1, 2, (List *)0, 0, SubString_comp_STAR__693};
Value *SubString_sha1_695(List *closures, Value *s_0) {
 while (1) {
return(strSha1(s_0));
};};
FnArity SubString_sha1_696 = {FnArityType, -1, 1, (List *)0, 0, SubString_sha1_695};
Value *arityImpl699(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 899 "core"
Value *rslt3 = subs_215(empty_list, val1, val2, numPtr1);
return(rslt3);

};};
Value *SubString_nth_697(List *closures, Value *s_0, Value *n_1) {
 while (1) {

incRef(s_0, 1);

incRef(n_1, 1);

// type-unknown count
// #line 897 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_0, "core", 897);

// static-fixed
// #line 897 "core"
Value *rslt3 = _LT__531(empty_list, n_1, rslt2);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl699;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)n_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)s_0, (List *)dynArity4->closures);
Function *anon_700 = malloc_function(1);
anon_700->name = "anon";
anon_700->arityCount = 1;
anon_700->arities[0] = dynArity4;
Value *fn698 = (Value *)anon_700;

// type-unknown map
// #line 897 "core"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, fn698, "core", 897);
return(rslt5);

};};
FnArity SubString_nth_701 = {FnArityType, -1, 2, (List *)0, 0, SubString_nth_697};
Value *SubString_count_702(List *closures, Value *s_0) {
 while (1) {
return(strCount(s_0));
};};
FnArity SubString_count_703 = {FnArityType, -1, 1, (List *)0, 0, SubString_count_702};
Value *SubString_empty_QM__704(List *closures, Value *coll_0) {
 while (1) {

// type-known for count
// #line 852 "core"
Value *rslt1 = SubString_count_702(empty_list, coll_0);

// static-fixed
// #line 852 "core"
Value *rslt2 = _EQ__557(empty_list, numPtr0, rslt1);
return(rslt2);

};};
FnArity SubString_empty_QM__705 = {FnArityType, -1, 1, (List *)0, 0, SubString_empty_QM__704};
Value *SubString_empty_706(List *closures, Value *coll_0) {
 while (1) {

dec_and_free(coll_0, 1);
return(strPtr0);

};};
FnArity SubString_empty_707 = {FnArityType, -1, 1, (List *)0, 0, SubString_empty_706};
Value *Symbol_string_list_708(List *closures, Value *v_0) {
 while (1) {

  Value *strVal = stringValue(((SubString *)v_0)->buffer);
  dec_and_free(v_0, 1);
  return((Value *)listCons(strVal, empty_list));
};};
FnArity Symbol_string_list_709 = {FnArityType, -1, 1, (List *)0, 0, Symbol_string_list_708};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str10 = {StringType, -1, 1, 0, "'"};
Value *strPtr10 = (Value *)&str10;
Value *Symbol_show_STAR__710(List *closures, Value *x_0, Value *indent_1) {
 while (1) {

dec_and_free(indent_1, 1);

// type-known for string-list
// #line 922 "core"
Value *rslt2 = Symbol_string_list_708(empty_list, x_0);

// static-fixed
// #line 922 "core"
Value *rslt3 = cons_275(empty_list, strPtr10, rslt2);
return(rslt3);

};};
FnArity Symbol_show_STAR__711 = {FnArityType, -1, 2, (List *)0, 0, Symbol_show_STAR__710};
Value *Symbol__EQ__STAR__712(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(symEQ(x_0, y_1));
};};
FnArity Symbol__EQ__STAR__713 = {FnArityType, -1, 2, (List *)0, 0, Symbol__EQ__STAR__712};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str11 = {StringType, -1, 6, 0, "Symbol"};
Value *strPtr11 = (Value *)&str11;
Value *Symbol_type_name_714(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr11);

};};
FnArity Symbol_type_name_715 = {FnArityType, -1, 1, (List *)0, 0, Symbol_type_name_714};
Value *Symbol_type_args_716(List *closures, Value *s_0) {
 while (1) {

// call-list
// #line 913 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)s_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity Symbol_type_args_717 = {FnArityType, -1, 1, (List *)0, 0, Symbol_type_args_716};
Value *Symbol__LT__STAR__718(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(symLT(x_0, y_1));
};};
FnArity Symbol__LT__STAR__719 = {FnArityType, -1, 2, (List *)0, 0, Symbol__LT__STAR__718};
Value *Symbol_sha1_720(List *closures, Value *s_0) {
 while (1) {
return(symbolSha1(s_0));
};};
FnArity Symbol_sha1_721 = {FnArityType, -1, 1, (List *)0, 0, Symbol_sha1_720};

// --------- maybe-apply -------------
Value *maybe_apply_723;
Value *maybe_apply_724(List *closures, Value *mv_0, Value *args_1) {
 while (1) {
return(maybeApply(mv_0, args_1));
};};
FnArity maybe_apply_725 = {FnArityType, -1, 2, (List *)0, 0, maybe_apply_724};
Function maybe_apply_726 = {FunctionType, -1, "maybe-apply", 1, {&maybe_apply_725}};
Value *maybe_apply_723 = (Value *)&maybe_apply_726;


// --------- maybe-map -------------
Value *maybe_map_728;
Value *maybe_map_729(List *closures, Value *mv_0, Value *f_1) {
 while (1) {
return(maybeMap(mv_0, f_1));
};};
FnArity maybe_map_730 = {FnArityType, -1, 2, (List *)0, 0, maybe_map_729};
Function maybe_map_731 = {FunctionType, -1, "maybe-map", 1, {&maybe_map_730}};
Value *maybe_map_728 = (Value *)&maybe_map_731;


// --------- anon -------------
Value *fn733;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str12 = {StringType, -1, 7, 0, "<maybe "};
Value *strPtr12 = (Value *)&str12;
Value *arityImpl734(List *closures, Value *v_0) {
 while (1) {

// call-list
// #line 952 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr12, newList1);
Value *rslt2 = (Value *)newList1;

// type-unknown string-list
// #line 953 "core"
Value *rslt3 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_0, "core", 953);

// call-list
// #line 954 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)strPtr2, newList4);
Value *rslt5 = (Value *)newList4;

// call-list
// #line 952 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
newList6 = listCons((Value *)rslt3, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown comp*
// #line 952 "core"
Value *rslt8 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt2, rslt7, "core", 952);
return(rslt8);

};};
FnArity staticArity735 = {FnArityType, -1, 1, (List *)0, 0, arityImpl734};
Function anon_736 = {FunctionType, -1, "anon", 1, {&staticArity735}};
Value *fn733 = (Value *)&anon_736;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str13 = {StringType, -1, 9, 0, "<nothing>"};
Value *strPtr13 = (Value *)&str13;
Value *Maybe_string_list_732(List *closures, Value *mv_0) {
 while (1) {

// type-unknown map
// #line 951 "core"
Value *rslt1 = proto2Arg(&map_Implementations_254, "<nothing>/map", mv_0, fn733, "core", 951);
if (!isNothing(rslt1)) {
return(maybeExtract(rslt1));
} else {
dec_and_free(rslt1, 1);

// call-list
// #line 955 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr13, newList2);
Value *rslt3 = (Value *)newList2;
return(rslt3);
}

};};
FnArity Maybe_string_list_737 = {FnArityType, -1, 1, (List *)0, 0, Maybe_string_list_732};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str14 = {StringType, -1, 7, 0, "       "};
Value *strPtr14 = (Value *)&str14;
Value *arityImpl740(List *closures, Value *v_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs13);

dec_and_free(closuresTail, 1);

// call-list
// #line 959 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr12, newList1);
Value *rslt2 = (Value *)newList1;

// call-list
// #line 960 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)strPtr14, newList4);
Value *rslt5 = (Value *)newList4;

// type-unknown comp*
// #line 960 "core"
Value *rslt6 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val3, rslt5, "core", 960);

// type-unknown show*
// #line 960 "core"
Value *rslt7 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", v_0, rslt6, "core", 960);

// call-list
// #line 961 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 959 "core"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-unknown comp*
// #line 959 "core"
Value *rslt12 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt2, rslt11, "core", 959);
return(rslt12);

};};
Value *Maybe_show_STAR__738(List *closures, Value *x_0, Value *indent_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl740;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)indent_1, (List *)dynArity2->closures);
Function *anon_741 = malloc_function(1);
anon_741->name = "anon";
anon_741->arityCount = 1;
anon_741->arities[0] = dynArity2;
Value *fn739 = (Value *)anon_741;

// type-unknown map
// #line 958 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", x_0, fn739, "core", 958);
if (!isNothing(rslt3)) {
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);

// call-list
// #line 962 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)strPtr13, newList4);
Value *rslt5 = (Value *)newList4;
return(rslt5);
}

};};
FnArity Maybe_show_STAR__742 = {FnArityType, -1, 2, (List *)0, 0, Maybe_show_STAR__738};
Value *Maybe__EQ__STAR__743(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(maybeEQ(x_0, y_1));
};};
FnArity Maybe__EQ__STAR__744 = {FnArityType, -1, 2, (List *)0, 0, Maybe__EQ__STAR__743};
Value *Maybe_type_args_745(List *closures, Value *v_0) {
 while (1) {

// type-unknown map
// #line 944 "core"
Value *rslt1 = proto2Arg(&map_Implementations_254, "<nothing>/map", v_0, list_405, "core", 944);
if (!isNothing(rslt1)) {
return(maybeExtract(rslt1));
} else {
dec_and_free(rslt1, 1);
return(empty_list_0);
}

};};
FnArity Maybe_type_args_746 = {FnArityType, -1, 1, (List *)0, 0, Maybe_type_args_745};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str15 = {StringType, -1, 5, 0, "Maybe"};
Value *strPtr15 = (Value *)&str15;
Value *Maybe_type_name_747(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr15);

};};
FnArity Maybe_type_name_748 = {FnArityType, -1, 1, (List *)0, 0, Maybe_type_name_747};
Value *Maybe_get_749(List *closures, Value *m_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);
return(m_0);

};};
FnArity Maybe_get_750 = {FnArityType, -1, 2, (List *)0, 0, Maybe_get_749};
Value *Maybe_get_751(List *closures, Value *m_0, Value *arg1, Value *not_found_2) {
 while (1) {

dec_and_free(arg1, 1);
Value *orRslt3;
orRslt3 = m_0;
if (!isNothing(orRslt3)) {
dec_and_free(not_found_2, 1);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// static-fixed
// #line 991 "core"
Value *rslt4 = maybe_4(empty_list, not_found_2);
return(rslt4);
orRslt3 = rslt4;
}

};};
FnArity Maybe_get_752 = {FnArityType, -1, 3, (List *)0, 0, Maybe_get_751};
Value *Maybe_assoc_STAR__753(List *closures, Value *arg0, Value *arg1, Value *v_2, Value *arg3, Value *arg4) {
 while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);

// static-fixed
// #line 994 "core"
Value *rslt5 = maybe_4(empty_list, v_2);
return(rslt5);

};};
FnArity Maybe_assoc_STAR__754 = {FnArityType, -1, 5, (List *)0, 0, Maybe_assoc_STAR__753};
Value *Maybe_invoke_755(List *closures, Value *m_0, Value *t_1, Value *f_2) {
 while (1) {
return(maybeInvoke(m_0, t_1, f_2));
};};
FnArity Maybe_invoke_756 = {FnArityType, -1, 3, (List *)0, 0, Maybe_invoke_755};
Value *Maybe_extract_757(List *closures, Value *mv_0) {
 while (1) {
return(maybeExtract(mv_0));
};};
FnArity Maybe_extract_758 = {FnArityType, -1, 1, (List *)0, 0, Maybe_extract_757};
Value *Maybe_map_759(List *closures, Value *mv_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 975 "core"
Value *rslt2 = maybe_map_729(empty_list, mv_0, f_1);
return(rslt2);

};};
FnArity Maybe_map_760 = {FnArityType, -1, 2, (List *)0, 0, Maybe_map_759};
Value *Maybe_wrap_761(List *closures, Value *arg0, Value *mv_1) {
 while (1) {

dec_and_free(arg0, 1);

// static-fixed
// #line 978 "core"
Value *rslt2 = maybe_4(empty_list, mv_1);
return(rslt2);

};};
FnArity Maybe_wrap_762 = {FnArityType, -1, 2, (List *)0, 0, Maybe_wrap_761};
Value *Maybe_apply_STAR__763(List *closures, Value *mv_0, Value *args_1) {
 while (1) {

// static-fixed
// #line 981 "core"
Value *rslt2 = maybe_apply_724(empty_list, mv_0, args_1);
return(rslt2);

};};
FnArity Maybe_apply_STAR__764 = {FnArityType, -1, 2, (List *)0, 0, Maybe_apply_STAR__763};
Value *Maybe_flat_map_765(List *closures, Value *mv_0, Value *f_1) {
 while (1) {

incRef(mv_0, 1);
Value *andRslt2;
andRslt2 = mv_0;
if (isNothing(andRslt2)) {
dec_and_free(mv_0, 1);
dec_and_free(f_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-known for extract
// #line 984 "core"
Value *rslt3 = Maybe_extract_757(empty_list, mv_0);

// dynamic unknown type
// #line 984 "core"
Value *rslt7;
if((f_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, f_1, rslt3);
} else {
FnArity *arity4 = findFnArity(f_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, rslt3);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(rslt3, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}
return(rslt7);
andRslt2 = rslt7;
}

};};
FnArity Maybe_flat_map_766 = {FnArityType, -1, 2, (List *)0, 0, Maybe_flat_map_765};

// --------- some -------------
Value *some_768;
Value *some_769(List *closures, Value *coll_0, Value *f_1) {
 while (1) {

incRef(coll_0, 2);

incRef(f_1, 1);
Value *andRslt2;

// type-unknown count
// #line 997 "core"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", coll_0, "core", 997);

// static-fixed
// #line 997 "core"
Value *rslt4 = _LT__531(empty_list, numPtr0, rslt3);
andRslt2 = rslt4;
if (isNothing(andRslt2)) {
dec_and_free(coll_0, 2);
dec_and_free(f_1, 2);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *orRslt5;

// type-unknown first
// #line 998 "core"
Value *rslt6 = proto1Arg(&first_Implementations_320, "<nothing>/first", coll_0, "core", 998);

// type-unknown flat-map
// #line 998 "core"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt6, f_1, "core", 998);
orRslt5 = rslt7;
if (!isNothing(orRslt5)) {
dec_and_free(coll_0, 1);
dec_and_free(f_1, 1);
return(orRslt5);
} else {
dec_and_free(orRslt5, 1);

// type-unknown rest
// #line 999 "core"
Value *rslt8 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", coll_0, "core", 999);

// recursive-fixed
// #line 999 "core"
coll_0 = rslt8;
f_1 = f_1;
}
andRslt2 = orRslt5;
}

};};
FnArity some_770 = {FnArityType, -1, 2, (List *)0, 0, some_769};
Function some_771 = {FunctionType, -1, "some", 1, {&some_770}};
Value *some_768 = (Value *)&some_771;


// --------- pred-taker -------------
Value *pred_taker_773;
Value *arityImpl778(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 1005 "core"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, x_0, "core", 1005);
return(rslt2);

};};
Value *arityImpl776(List *closures, Value *x_0) {
while (1) {

incRef(x_0, 1);
Value *val3;
Value *val8;
Value *val9;
Value *val11;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[5] = {&val3, &val8, &val9, &val11, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs25);

incRef(val3, 1);

incRef(val8, 2);

dec_and_free(closuresTail, 1);
Value *orRslt1;
Value *andRslt2;

// dynamic unknown type
// #line 1005 "core"
Value *rslt7;
if((val3)->type != FunctionType) {
rslt7 = invoke_368(empty_list, val3, x_0);
} else {
FnArity *arity4 = findFnArity(val3, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val3)->name);
  abort();
}
dec_and_free(val3, 1);
}
andRslt2 = rslt7;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(val8, 1);
dec_and_free(val9, 1);
dec_and_free(val11, 1);
dec_and_free(val3, 1);
} else {
dec_and_free(andRslt2, 1);

// type-unknown rest
// #line 1006 "core"
Value *rslt10 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val9, "core", 1006);
Value *rslt15;
FnArity *arity12 = findFnArity(val11, 2);
if(arity12 != (FnArity *)0 && !arity12->variadic) { FnType2 *fn14 = (FnType2 *)arity12->fn;


// dynamic fn type
// #line 1006 "core"
rslt15 = fn14(arity12->closures, rslt10, val3);
} else if(arity12 != (FnArity *)0 && arity12->variadic) { FnType1 *fn14 = (FnType1 *)arity12->fn;
List *dynArgs13 = empty_list;
dynArgs13 = (List *)listCons(val3, dynArgs13);
dynArgs13 = (List *)listCons(rslt10, dynArgs13);

// dynamic fn type
// #line 1006 "core"
rslt15 = fn14(arity12->closures, (Value *)dynArgs13);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val11)->name, "core", 1006);
  abort();
}
dec_and_free(val11, 1);

// static-fixed
// #line 1006 "core"
Value *rslt16 = cons_275(empty_list, x_0, rslt15);

// type-unknown wrap
// #line 1005 "core"
Value *rslt17 = proto2Arg(&wrap_Implementations_248, "wrap", val8, rslt16, "core", 1005);

// static-fixed
// #line 1005 "core"
Value *rslt18 = maybe_4(empty_list, rslt17);
andRslt2 = rslt18;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(val8, 1);

} else {
dec_and_free(orRslt1, 1);

// type-unknown zero
// #line 1005 "core"
Value *rslt19 = proto1Arg(&zero_Implementations_235, "zero", val8, "core", 1005);

// type-unknown zero
// #line 1005 "core"
Value *rslt20 = proto1Arg(&zero_Implementations_235, "zero", rslt19, "core", 1005);

// static-fixed
// #line 1005 "core"
Value *rslt21 = maybe_4(empty_list, rslt20);
orRslt1 = rslt21;
}

// type-known for extract
// #line 1005 "core"
Value *rslt22 = Maybe_extract_757(empty_list, orRslt1);
FnArity *dynArity23 = malloc_fnArity();
dynArity23->count = 1;
dynArity23->variadic = 0;
dynArity23->fn = arityImpl778;
dynArity23->closures = empty_list;
dynArity23->closures = listCons((Value *)val8, (List *)dynArity23->closures);
Function *anon_779 = malloc_function(1);
anon_779->name = "anon";
anon_779->arityCount = 1;
anon_779->arities[0] = dynArity23;
Value *fn777 = (Value *)anon_779;

// type-unknown flat-map
// #line 1005 "core"
Value *rslt24 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt22, fn777, "core", 1005);
return(rslt24);

};};
Value *pred_taker_774(List *closures, Value *coll_0, Value *pred_1) {
 while (1) {

incRef(coll_0, 2);
Value *orRslt2;
Value *andRslt3;

// type-unknown empty?
// #line 1002 "core"
Value *rslt4 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", coll_0, "core", 1002);
andRslt3 = rslt4;
if (isNothing(andRslt3)) {
} else {
dec_and_free(andRslt3, 1);

// static-fixed
// #line 1003 "core"
Value *rslt5 = maybe_4(empty_list, empty_list_0);
andRslt3 = rslt5;
}
orRslt2 = andRslt3;
if (!isNothing(orRslt2)) {
dec_and_free(pred_1, 1);
dec_and_free(pred_taker_773, 1);
dec_and_free(coll_0, 2);

} else {
dec_and_free(orRslt2, 1);

// type-unknown first
// #line 1004 "core"
Value *rslt6 = proto1Arg(&first_Implementations_320, "<nothing>/first", coll_0, "core", 1004);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl776;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)pred_taker_773, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)coll_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)wrapper_7, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)pred_1, (List *)dynArity8->closures);
Function *anon_780 = malloc_function(1);
anon_780->name = "anon";
anon_780->arityCount = 1;
anon_780->arities[0] = dynArity8;
Value *fn775 = (Value *)anon_780;

// type-unknown flat-map
// #line 1004 "core"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_7, fn775, "core", 1004);
orRslt2 = rslt9;
}
if (!isNothing(orRslt2)) {
return(maybeExtract(orRslt2));
} else {
dec_and_free(orRslt2, 1);
return(empty_list_0);
}

};};
FnArity pred_taker_781 = {FnArityType, -1, 2, (List *)0, 0, pred_taker_774};
Function pred_taker_782 = {FunctionType, -1, "pred-taker", 1, {&pred_taker_781}};
Value *pred_taker_773 = (Value *)&pred_taker_782;


// --------- take-while -------------
Value *take_while_784;
Value *take_while_785(List *closures, Value *coll_0, Value *pred_1) {
 while (1) {

// static-fixed
// #line 1010 "core"
Value *rslt2 = pred_taker_774(empty_list, coll_0, pred_1);
return(rslt2);

};};
FnArity take_while_786 = {FnArityType, -1, 2, (List *)0, 0, take_while_785};
Function take_while_787 = {FunctionType, -1, "take-while", 1, {&take_while_786}};
Value *take_while_784 = (Value *)&take_while_787;


// --------- range* -------------
Value *range_STAR__789;
Value *range_STAR__790(List *closures, Value *n_0, Value *l_1) {
 while (1) {

incRef(n_0, 3);

incRef(l_1, 2);
Value *orRslt2;
Value *andRslt3;

// static-fixed
// #line 1013 "core"
Value *rslt4 = _EQ__557(empty_list, n_0, numPtr0);
andRslt3 = rslt4;
if (isNothing(andRslt3)) {
dec_and_free(l_1, 1);
} else {
dec_and_free(andRslt3, 1);

// static-fixed
// #line 1013 "core"
Value *rslt5 = cons_275(empty_list, numPtr0, l_1);

// static-fixed
// #line 1013 "core"
Value *rslt6 = maybe_4(empty_list, rslt5);
andRslt3 = rslt6;
}
orRslt2 = andRslt3;
if (!isNothing(orRslt2)) {
dec_and_free(l_1, 1);
dec_and_free(n_0, 1);

} else {
dec_and_free(orRslt2, 1);
Value *andRslt7;

// static-fixed
// #line 1014 "core"
Value *rslt8 = _LT__531(empty_list, n_0, numPtr0);
andRslt7 = rslt8;
if (isNothing(andRslt7)) {
dec_and_free(l_1, 1);
} else {
dec_and_free(andRslt7, 1);

// static-fixed
// #line 1014 "core"
Value *rslt9 = maybe_4(empty_list, l_1);
andRslt7 = rslt9;
}
orRslt2 = andRslt7;
}
if (!isNothing(orRslt2)) {
dec_and_free(l_1, 1);
dec_and_free(n_0, 2);
return(maybeExtract(orRslt2));
} else {
dec_and_free(orRslt2, 1);

// static-fixed
// #line 1015 "core"
Value *rslt10 = dec_578(empty_list, n_0);

// static-fixed
// #line 1015 "core"
Value *rslt11 = cons_275(empty_list, n_0, l_1);
Value *rslt15;
FnArity *arity12 = findFnArity(range_STAR__789, 2);
if(arity12 != (FnArity *)0 && !arity12->variadic) { FnType2 *fn14 = (FnType2 *)arity12->fn;


// dynamic fn type
// #line 1015 "core"
rslt15 = fn14(arity12->closures, rslt10, rslt11);
} else if(arity12 != (FnArity *)0 && arity12->variadic) { FnType1 *fn14 = (FnType1 *)arity12->fn;
List *dynArgs13 = empty_list;
dynArgs13 = (List *)listCons(rslt11, dynArgs13);
dynArgs13 = (List *)listCons(rslt10, dynArgs13);

// dynamic fn type
// #line 1015 "core"
rslt15 = fn14(arity12->closures, (Value *)dynArgs13);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)range_STAR__789)->name, "core", 1015);
  abort();
}
dec_and_free(range_STAR__789, 1);
return(rslt15);
}

};};
FnArity range_STAR__791 = {FnArityType, -1, 2, (List *)0, 0, range_STAR__790};
Function range_STAR__792 = {FunctionType, -1, "range*", 1, {&range_STAR__791}};
Value *range_STAR__789 = (Value *)&range_STAR__792;


// --------- range -------------
Value *range_794;
Value *range_795(List *closures, Value *n_0) {
 while (1) {

// static-fixed
// #line 1018 "core"
Value *rslt1 = dec_578(empty_list, n_0);

// static-fixed
// #line 1018 "core"
Value *rslt2 = range_STAR__790(empty_list, rslt1, empty_list_0);
return(rslt2);

};};
FnArity range_796 = {FnArityType, -1, 1, (List *)0, 0, range_795};
Function range_797 = {FunctionType, -1, "range", 1, {&range_796}};
Value *range_794 = (Value *)&range_797;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str16 = {StringType, -1, 1, 0, "("};
Value *strPtr16 = (Value *)&str16;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str17 = {StringType, -1, 2, 0, ", "};
Value *strPtr17 = (Value *)&str17;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str18 = {StringType, -1, 1, 0, ")"};
Value *strPtr18 = (Value *)&str18;
Value *List_string_list_798(List *closures, Value *l_0) {
 while (1) {

// call-list
// #line 1027 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr16, newList1);
Value *rslt2 = (Value *)newList1;

// static-fixed
// #line 1028 "core"
Value *rslt3 = interpose_503(empty_list, l_0, strPtr17);

// type-unknown flat-map
// #line 1028 "core"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt3, string_list_393, "core", 1028);

// call-list
// #line 1029 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr18, newList5);
Value *rslt6 = (Value *)newList5;

// call-list
// #line 1027 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)rslt4, newList7);
Value *rslt8 = (Value *)newList7;

// type-unknown comp*
// #line 1027 "core"
Value *rslt9 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt2, rslt8, "core", 1027);
return(rslt9);

};};
FnArity List_string_list_799 = {FnArityType, -1, 1, (List *)0, 0, List_string_list_798};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str19 = {StringType, -1, 2, 0, ",\n"};
Value *strPtr19 = (Value *)&str19;
Value *arityImpl802(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// call-list
// #line 1037 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr4, newList2);
Value *rslt3 = (Value *)newList2;

// type-unknown comp*
// #line 1037 "core"
Value *rslt4 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val1, rslt3, "core", 1037);

// type-unknown show*
// #line 1037 "core"
Value *rslt5 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", x_0, rslt4, "core", 1037);

// static-variadic
// #line 1036 "core"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr4, varArgs6);
varArgs6 = (List *)listCons((Value *)val1, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr19, varArgs6);
Value *rslt7 = list_STAR__483(empty_list, (Value *)varArgs6);
return(rslt7);

};};
Value *List_show_STAR__800(List *closures, Value *x_0, Value *indent_1) {
 while (1) {

incRef(x_0, 1);

incRef(indent_1, 1);

// type-known for empty?
// #line 1032 "core"
Value *rslt2 = List_empty_QM__473(empty_list, x_0);
Value *mv_3 = rslt2;

// static-fixed
// #line 975 "core"
Value *rslt4 = maybe_map_729(empty_list, mv_3, string_list_393);
if (!isNothing(rslt4)) {
dec_and_free(x_0, 1);
dec_and_free(indent_1, 2);
return(maybeExtract(rslt4));
} else {
dec_and_free(rslt4, 1);
Value *h_5;
Value *tail_6;
Value **destArgs7[2] = {&h_5, &tail_6};
destructValue("core", "1033", (Value *)x_0, 2, destArgs7);

// call-list
// #line 1034 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr4, newList8);
Value *rslt9 = (Value *)newList8;

// type-unknown comp*
// #line 1034 "core"
Value *rslt10 = proto2Arg(&comp_STAR__Implementations_238, "comp*", indent_1, rslt9, "core", 1034);

// type-unknown show*
// #line 1034 "core"
Value *rslt11 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", h_5, rslt10, "core", 1034);

// static-fixed
// #line 1034 "core"
Value *rslt12 = cons_275(empty_list, strPtr16, rslt11);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl802;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)indent_1, (List *)dynArity13->closures);
Function *anon_803 = malloc_function(1);
anon_803->name = "anon";
anon_803->arityCount = 1;
anon_803->arities[0] = dynArity13;
Value *fn801 = (Value *)anon_803;

// type-unknown flat-map
// #line 1035 "core"
Value *rslt14 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", tail_6, fn801, "core", 1035);

// call-list
// #line 1038 "core"
List *newList15 = empty_list;
newList15 = listCons((Value *)strPtr18, newList15);
Value *rslt16 = (Value *)newList15;

// call-list
// #line 1034 "core"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
newList17 = listCons((Value *)rslt14, newList17);
Value *rslt18 = (Value *)newList17;

// type-unknown comp*
// #line 1034 "core"
Value *rslt19 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt12, rslt18, "core", 1034);
return(rslt19);
}

};};
FnArity List_show_STAR__804 = {FnArityType, -1, 2, (List *)0, 0, List_show_STAR__800};
Value *List__EQ__STAR__805(List *closures, Value *x_0, Value *y_1) {
 while (1) {
return(listEQ(x_0, y_1));
};};
FnArity List__EQ__STAR__806 = {FnArityType, -1, 2, (List *)0, 0, List__EQ__STAR__805};
Value *List_seq_807(List *closures, Value *l_0) {
 while (1) {
return(l_0);

};};
FnArity List_seq_808 = {FnArityType, -1, 1, (List *)0, 0, List_seq_807};
Value *List_last_809(List *closures, Value *coll_0) {
 while (1) {

incRef(coll_0, 1);

// type-known for count
// #line 1071 "core"
Value *rslt1 = List_count_475(empty_list, coll_0);

// static-fixed
// #line 1071 "core"
Value *rslt2 = dec_578(empty_list, rslt1);

// type-unknown nth
// #line 1071 "core"
Value *rslt3 = proto2Arg(&nth_Implementations_350, "<nothing>/nth", coll_0, rslt2, "core", 1071);
return(rslt3);

};};
FnArity List_last_810 = {FnArityType, -1, 1, (List *)0, 0, List_last_809};
Value *List_butlast_811(List *closures, Value *coll_0) {
 while (1) {

incRef(coll_0, 1);

// type-known for count
// #line 1074 "core"
Value *rslt1 = List_count_475(empty_list, coll_0);

// static-fixed
// #line 1074 "core"
Value *rslt2 = dec_578(empty_list, rslt1);

// type-unknown split
// #line 1074 "core"
Value *rslt3 = proto2Arg(&split_Implementations_306, "<nothing>/split", coll_0, rslt2, "core", 1074);
Value *r_4;
Value *arg5;
Value *tail_6;
Value **destArgs7[3] = {&r_4, &arg5, &tail_6};
destructValue("core", "1074", (Value *)rslt3, 3, destArgs7);

dec_and_free(arg5, 1);

dec_and_free(tail_6, 1);
return(r_4);

};};
FnArity List_butlast_812 = {FnArityType, -1, 1, (List *)0, 0, List_butlast_811};
Value *List_reverse_813(List *closures, Value *l_0) {
 while (1) {
return((Value *)reverseList((List *)l_0));
};};
FnArity List_reverse_814 = {FnArityType, -1, 1, (List *)0, 0, List_reverse_813};
Value *List_split_815(List *closures, Value *l_0, Value *n_1, Value *prefix_2) {
 while (1) {

incRef(l_0, 2);

incRef(n_1, 1);

incRef(prefix_2, 1);
Value *andRslt3;
Value *orRslt4;

// type-known for empty?
// #line 1081 "core"
Value *rslt5 = List_empty_QM__473(empty_list, l_0);
orRslt4 = rslt5;
if (!isNothing(orRslt4)) {
dec_and_free(n_1, 1);

} else {
dec_and_free(orRslt4, 1);

// static-fixed
// #line 1082 "core"
Value *rslt6 = _EQ__557(empty_list, numPtr0, n_1);
orRslt4 = rslt6;
}
andRslt3 = orRslt4;
if (isNothing(andRslt3)) {
dec_and_free(prefix_2, 1);
dec_and_free(l_0, 1);
} else {
dec_and_free(andRslt3, 1);

// type-unknown reverse
// #line 1083 "core"
Value *rslt7 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", prefix_2, "core", 1083);

// call-vector
// #line 1083 "core"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, rslt7);
newVect8 = mutateVectConj(newVect8, l_0);
Value *rslt9 = (Value *)newVect8;

// static-fixed
// #line 1083 "core"
Value *rslt10 = maybe_4(empty_list, rslt9);
andRslt3 = rslt10;
}
if (!isNothing(andRslt3)) {
dec_and_free(prefix_2, 1);
dec_and_free(l_0, 1);
dec_and_free(n_1, 1);
return(maybeExtract(andRslt3));
} else {
dec_and_free(andRslt3, 1);
Value *head_11;
Value *tail_12;
Value **destArgs13[2] = {&head_11, &tail_12};
destructValue("core", "1084", (Value *)l_0, 2, destArgs13);

// static-fixed
// #line 1085 "core"
Value *rslt14 = dec_578(empty_list, n_1);

// static-fixed
// #line 1085 "core"
Value *rslt15 = cons_275(empty_list, head_11, prefix_2);

// type-unknown split
// #line 1085 "core"
Value *rslt16 = proto3Arg(&split_Implementations_308, "<nothing>/split", tail_12, rslt14, rslt15, "core", 1085);
return(rslt16);
}

};};
FnArity List_split_816 = {FnArityType, -1, 3, (List *)0, 0, List_split_815};
Value *List_split_817(List *closures, Value *l_0, Value *n_1) {
 while (1) {

// type-known for split
// #line 1088 "core"
Value *rslt2 = List_split_815(empty_list, l_0, n_1, empty_list_0);
return(rslt2);

};};
FnArity List_split_818 = {FnArityType, -1, 2, (List *)0, 0, List_split_817};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str20 = {StringType, -1, 4, 0, "List"};
Value *strPtr20 = (Value *)&str20;
Value *List_type_name_819(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr20);

};};
FnArity List_type_name_820 = {FnArityType, -1, 1, (List *)0, 0, List_type_name_819};
Value *List_type_args_821(List *closures, Value *l_0) {
 while (1) {
return(l_0);

};};
FnArity List_type_args_822 = {FnArityType, -1, 1, (List *)0, 0, List_type_args_821};
Value *List_zero_823(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(empty_list_0);

};};
FnArity List_zero_824 = {FnArityType, -1, 1, (List *)0, 0, List_zero_823};
Value *List_comp_STAR__825(List *closures, Value *l_0, Value *ls_1) {
 while (1) {

// type-unknown map
// #line 1047 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", ls_1, seq_315, "core", 1047);

// static-fixed
// #line 1047 "core"
Value *rslt3 = cons_275(empty_list, l_0, rslt2);

// static-fixed
// #line 1047 "core"
Value *rslt4 = list_concat_78(empty_list, rslt3);
return(rslt4);

};};
FnArity List_comp_STAR__826 = {FnArityType, -1, 2, (List *)0, 0, List_comp_STAR__825};
Value *List_nth_827(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

incRef(coll_0, 1);

incRef(n_1, 2);
Value *orRslt2;
Value *andRslt3;

// static-fixed
// #line 1092 "core"
Value *rslt4 = _EQ__557(empty_list, n_1, numPtr0);
andRslt3 = rslt4;
if (isNothing(andRslt3)) {
dec_and_free(coll_0, 1);
} else {
dec_and_free(andRslt3, 1);

// type-known for first
// #line 1092 "core"
Value *rslt5 = List_first_430(empty_list, coll_0);
andRslt3 = rslt5;
}
orRslt2 = andRslt3;
if (!isNothing(orRslt2)) {
dec_and_free(coll_0, 1);
dec_and_free(n_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *andRslt6;

// static-fixed
// #line 1093 "core"
Value *rslt7 = _LT__531(empty_list, numPtr0, n_1);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(coll_0, 1);
dec_and_free(n_1, 1);
return(nothing);
} else {
dec_and_free(andRslt6, 1);

// type-known for rest
// #line 1093 "core"
Value *rslt8 = List_rest_432(empty_list, coll_0);

// static-fixed
// #line 1093 "core"
Value *rslt9 = dec_578(empty_list, n_1);

// type-unknown nth
// #line 1093 "core"
Value *rslt10 = proto2Arg(&nth_Implementations_350, "<nothing>/nth", rslt8, rslt9, "core", 1093);
return(rslt10);
andRslt6 = rslt10;
}
orRslt2 = andRslt6;
}

};};
FnArity List_nth_828 = {FnArityType, -1, 2, (List *)0, 0, List_nth_827};
Value *List_map_829(List *closures, Value *l_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 1051 "core"
Value *rslt2 = list_map_73(empty_list, l_0, f_1);
return(rslt2);

};};
FnArity List_map_830 = {FnArityType, -1, 2, (List *)0, 0, List_map_829};
Value *List_wrap_831(List *closures, Value *x_0, Value *v_1) {
 while (1) {

dec_and_free(x_0, 1);

// call-list
// #line 1054 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)v_1, newList2);
Value *rslt3 = (Value *)newList2;
return(rslt3);

};};
FnArity List_wrap_832 = {FnArityType, -1, 2, (List *)0, 0, List_wrap_831};
Value *List_flatten_833(List *closures, Value *ls_0) {
 while (1) {

// static-fixed
// #line 1057 "core"
Value *rslt1 = list_concat_78(empty_list, ls_0);
return(rslt1);

};};
FnArity List_flatten_834 = {FnArityType, -1, 1, (List *)0, 0, List_flatten_833};
Value *List_empty_835(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(empty_list_0);

};};
FnArity List_empty_836 = {FnArityType, -1, 1, (List *)0, 0, List_empty_835};
Value *List_conj_837(List *closures, Value *l_0, Value *v_1) {
 while (1) {

// static-fixed
// #line 1062 "core"
Value *rslt2 = cons_275(empty_list, v_1, l_0);
return(rslt2);

};};
FnArity List_conj_838 = {FnArityType, -1, 2, (List *)0, 0, List_conj_837};
Value *List_filter_839(List *closures, Value *coll_0, Value *f_1) {
 while (1) {
return(listFilter(coll_0, f_1));
};};
FnArity List_filter_840 = {FnArityType, -1, 2, (List *)0, 0, List_filter_839};

// --------- vec= -------------
Value *vec_EQ__842;
Value *vec_EQ__843(List *closures, Value *x_0, Value *y_1, Value *n_2) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);

incRef(n_2, 1);
Value *orRslt3;

// static-fixed
// #line 1096 "core"
Value *rslt4 = _EQ__557(empty_list, numPtr0, n_2);
orRslt3 = rslt4;
if (!isNothing(orRslt3)) {
dec_and_free(y_1, 2);
dec_and_free(n_2, 1);
dec_and_free(x_0, 2);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// static-fixed
// #line 1097 "core"
Value *rslt5 = dec_578(empty_list, n_2);
Value *n_6 = rslt5;

incRef(n_6, 2);
Value *andRslt7;

// type-unknown get
// #line 1098 "core"
Value *rslt8 = proto2Arg(&get_Implementations_362, "<nothing>/get", x_0, n_6, "core", 1098);

// type-unknown get
// #line 1098 "core"
Value *rslt9 = proto2Arg(&get_Implementations_362, "<nothing>/get", y_1, n_6, "core", 1098);

// static-fixed
// #line 1098 "core"
Value *rslt10 = _EQ__557(empty_list, rslt8, rslt9);
andRslt7 = rslt10;
if (isNothing(andRslt7)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
dec_and_free(n_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// recursive-fixed
// #line 1099 "core"
x_0 = x_0;
y_1 = y_1;
n_2 = n_6;
}
orRslt3 = andRslt7;
}

};};
FnArity vec_EQ__844 = {FnArityType, -1, 3, (List *)0, 0, vec_EQ__843};
Function vec_EQ__845 = {FunctionType, -1, "vec=", 1, {&vec_EQ__844}};
Value *vec_EQ__842 = (Value *)&vec_EQ__845;


// --------- subvec* -------------
Value *subvec_STAR__847;
Value *arityImpl850(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *val4;
Value *val5;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[6] = {&val1, &val2, &val4, &val5, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs12);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1105 "core"
Value *rslt3 = inc_564(empty_list, val2);

// static-fixed
// #line 1105 "core"
Value *rslt6 = mutate_vect_conj_68(empty_list, val5, x_0);
Value *rslt11;
FnArity *arity8 = findFnArity(val7, 4);
if(arity8 != (FnArity *)0 && !arity8->variadic) { FnType4 *fn10 = (FnType4 *)arity8->fn;


// dynamic fn type
// #line 1105 "core"
rslt11 = fn10(arity8->closures, val1, rslt3, val4, rslt6);
} else if(arity8 != (FnArity *)0 && arity8->variadic) { FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(rslt6, dynArgs9);
dynArgs9 = (List *)listCons(val4, dynArgs9);
dynArgs9 = (List *)listCons(rslt3, dynArgs9);
dynArgs9 = (List *)listCons(val1, dynArgs9);

// dynamic fn type
// #line 1105 "core"
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val7)->name, "core", 1105);
  abort();
}
dec_and_free(val7, 1);
return(rslt11);

};};
Value *subvec_STAR__848(List *closures, Value *v_0, Value *curr_index_1, Value *max_index_2, Value *result_3) {
 while (1) {

incRef(v_0, 1);

incRef(curr_index_1, 2);

incRef(max_index_2, 1);

incRef(result_3, 1);
Value *andRslt4;

// static-fixed
// #line 1102 "core"
Value *rslt5 = _LT__EQ__548(empty_list, curr_index_1, max_index_2);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
dec_and_free(v_0, 2);
dec_and_free(max_index_2, 1);
dec_and_free(subvec_STAR__847, 1);
dec_and_free(result_3, 1);
dec_and_free(curr_index_1, 2);
} else {
dec_and_free(andRslt4, 1);

// type-unknown get
// #line 1103 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", v_0, curr_index_1, "core", 1103);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl850;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)subvec_STAR__847, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)result_3, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)max_index_2, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)curr_index_1, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)v_0, (List *)dynArity7->closures);
Function *anon_851 = malloc_function(1);
anon_851->name = "anon";
anon_851->arityCount = 1;
anon_851->arities[0] = dynArity7;
Value *fn849 = (Value *)anon_851;

// type-unknown map
// #line 1103 "core"
Value *rslt8 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt6, fn849, "core", 1103);
andRslt4 = rslt8;
}
if (!isNothing(andRslt4)) {
dec_and_free(result_3, 1);
return(maybeExtract(andRslt4));
} else {
dec_and_free(andRslt4, 1);
return(result_3);
}

};};
FnArity subvec_STAR__852 = {FnArityType, -1, 4, (List *)0, 0, subvec_STAR__848};
Function subvec_STAR__853 = {FunctionType, -1, "subvec*", 1, {&subvec_STAR__852}};
Value *subvec_STAR__847 = (Value *)&subvec_STAR__853;


// --------- subvec -------------
Value *subvec_855;
Value *subvec_856(List *closures, Value *v_0, Value *start_1) {
 while (1) {

incRef(v_0, 1);

// type-unknown count
// #line 1112 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_0, "core", 1112);

// static-fixed
// #line 1112 "core"
Value *rslt3 = subvec_STAR__848(empty_list, v_0, start_1, rslt2, empty_vector_1);
return(rslt3);

};};
FnArity subvec_857 = {FnArityType, -1, 2, (List *)0, 0, subvec_856};
Value *subvec_858(List *closures, Value *v_0, Value *start_1, Value *len_2) {
 while (1) {

incRef(start_1, 1);

// static-fixed
// #line 1116 "core"
Value *rslt3 = _PLUS__457(empty_list, start_1, len_2);

// static-fixed
// #line 1116 "core"
Value *rslt4 = dec_578(empty_list, rslt3);

// static-fixed
// #line 1116 "core"
Value *rslt5 = subvec_STAR__848(empty_list, v_0, start_1, rslt4, empty_vector_1);
return(rslt5);

};};
FnArity subvec_859 = {FnArityType, -1, 3, (List *)0, 0, subvec_858};
Function subvec_860 = {FunctionType, -1, "subvec", 2, {&subvec_857, &subvec_859}};
Value *subvec_855 = (Value *)&subvec_860;


// --------- vect-reduce -------------
Value *vect_reduce_862;
Value *arityImpl865(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *val4;
Value *val5;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[6] = {&val1, &val2, &val4, &val5, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs15);

incRef(val5, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1121 "core"
Value *rslt3 = inc_564(empty_list, val2);

// dynamic unknown type
// #line 1121 "core"
Value *rslt9;
if((val5)->type != FunctionType) {
rslt9 = invoke_370(empty_list, val5, val4, x_0);
} else {
FnArity *arity6 = findFnArity(val5, 2);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType2 *fn8 = (FnType2 *)arity6->fn;
rslt9 = fn8(arity6->closures, val4, x_0);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(x_0, dynArgs7);
dynArgs7 = (List *)listCons(val4, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val5)->name);
  abort();
}
dec_and_free(val5, 1);
}
Value *rslt14;
FnArity *arity11 = findFnArity(val10, 4);
if(arity11 != (FnArity *)0 && !arity11->variadic) { FnType4 *fn13 = (FnType4 *)arity11->fn;


// dynamic fn type
// #line 1121 "core"
rslt14 = fn13(arity11->closures, val1, rslt3, rslt9, val5);
} else if(arity11 != (FnArity *)0 && arity11->variadic) { FnType1 *fn13 = (FnType1 *)arity11->fn;
List *dynArgs12 = empty_list;
dynArgs12 = (List *)listCons(val5, dynArgs12);
dynArgs12 = (List *)listCons(rslt9, dynArgs12);
dynArgs12 = (List *)listCons(rslt3, dynArgs12);
dynArgs12 = (List *)listCons(val1, dynArgs12);

// dynamic fn type
// #line 1121 "core"
rslt14 = fn13(arity11->closures, (Value *)dynArgs12);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val10)->name, "core", 1121);
  abort();
}
dec_and_free(val10, 1);
return(rslt14);

};};
Value *vect_reduce_863(List *closures, Value *v_0, Value *n_1, Value *result_2, Value *f_3) {
 while (1) {

incRef(v_0, 1);

incRef(n_1, 1);

incRef(result_2, 1);

// type-unknown get
// #line 1119 "core"
Value *rslt4 = proto2Arg(&get_Implementations_362, "<nothing>/get", v_0, n_1, "core", 1119);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl865;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)vect_reduce_862, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)f_3, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)result_2, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)n_1, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)v_0, (List *)dynArity5->closures);
Function *anon_866 = malloc_function(1);
anon_866->name = "anon";
anon_866->arityCount = 1;
anon_866->arities[0] = dynArity5;
Value *fn864 = (Value *)anon_866;

// type-unknown map
// #line 1119 "core"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, fn864, "core", 1119);
if (!isNothing(rslt6)) {
dec_and_free(result_2, 1);
return(maybeExtract(rslt6));
} else {
dec_and_free(rslt6, 1);
return(result_2);
}

};};
FnArity vect_reduce_867 = {FnArityType, -1, 4, (List *)0, 0, vect_reduce_863};
Function vect_reduce_868 = {FunctionType, -1, "vect-reduce", 1, {&vect_reduce_867}};
Value *vect_reduce_862 = (Value *)&vect_reduce_868;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str21 = {StringType, -1, 1, 0, "["};
Value *strPtr21 = (Value *)&str21;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str22 = {StringType, -1, 1, 0, "]"};
Value *strPtr22 = (Value *)&str22;
Value *Vector_string_list_869(List *closures, Value *v_0) {
 while (1) {

// call-list
// #line 1131 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr21, newList1);
Value *rslt2 = (Value *)newList1;

// type-unknown seq
// #line 1132 "core"
Value *rslt3 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", v_0, "core", 1132);

// type-unknown map
// #line 1132 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, str_525, "core", 1132);

// static-fixed
// #line 1132 "core"
Value *rslt5 = interpose_503(empty_list, rslt4, strPtr17);

// call-list
// #line 1133 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr22, newList6);
Value *rslt7 = (Value *)newList6;

// call-list
// #line 1131 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)rslt5, newList8);
Value *rslt9 = (Value *)newList8;

// type-known for comp*
// #line 1131 "core"
Value *rslt10 = List_comp_STAR__825(empty_list, rslt2, rslt9);
return(rslt10);

};};
FnArity Vector_string_list_870 = {FnArityType, -1, 1, (List *)0, 0, Vector_string_list_869};
Value *arityImpl873(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// call-list
// #line 1141 "core"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr4, newList2);
Value *rslt3 = (Value *)newList2;

// type-unknown comp*
// #line 1141 "core"
Value *rslt4 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val1, rslt3, "core", 1141);

// type-unknown show*
// #line 1141 "core"
Value *rslt5 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", x_0, rslt4, "core", 1141);

// static-variadic
// #line 1140 "core"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr4, varArgs6);
varArgs6 = (List *)listCons((Value *)val1, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr19, varArgs6);
Value *rslt7 = list_STAR__483(empty_list, (Value *)varArgs6);
return(rslt7);

};};
Value *Vector_show_STAR__871(List *closures, Value *x_0, Value *indent_1) {
 while (1) {

incRef(x_0, 1);

incRef(indent_1, 1);

// type-unknown empty?
// #line 1136 "core"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", x_0, "core", 1136);

// type-unknown map
// #line 1136 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, string_list_393, "core", 1136);
if (!isNothing(rslt3)) {
dec_and_free(x_0, 1);
dec_and_free(indent_1, 2);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);

// type-unknown seq
// #line 1137 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", x_0, "core", 1137);
Value *h_5;
Value *tail_6;
Value **destArgs7[2] = {&h_5, &tail_6};
destructValue("core", "1137", (Value *)rslt4, 2, destArgs7);

// call-list
// #line 1138 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr4, newList8);
Value *rslt9 = (Value *)newList8;

// type-unknown comp*
// #line 1138 "core"
Value *rslt10 = proto2Arg(&comp_STAR__Implementations_238, "comp*", indent_1, rslt9, "core", 1138);

// type-unknown show*
// #line 1138 "core"
Value *rslt11 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", h_5, rslt10, "core", 1138);

// static-fixed
// #line 1138 "core"
Value *rslt12 = cons_275(empty_list, strPtr21, rslt11);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl873;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)indent_1, (List *)dynArity13->closures);
Function *anon_874 = malloc_function(1);
anon_874->name = "anon";
anon_874->arityCount = 1;
anon_874->arities[0] = dynArity13;
Value *fn872 = (Value *)anon_874;

// type-unknown flat-map
// #line 1139 "core"
Value *rslt14 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", tail_6, fn872, "core", 1139);

// call-list
// #line 1142 "core"
List *newList15 = empty_list;
newList15 = listCons((Value *)strPtr22, newList15);
Value *rslt16 = (Value *)newList15;

// call-list
// #line 1138 "core"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
newList17 = listCons((Value *)rslt14, newList17);
Value *rslt18 = (Value *)newList17;

// type-known for comp*
// #line 1138 "core"
Value *rslt19 = List_comp_STAR__825(empty_list, rslt12, rslt18);
return(rslt19);
}

};};
FnArity Vector_show_STAR__875 = {FnArityType, -1, 2, (List *)0, 0, Vector_show_STAR__871};
Value *Vector__EQ__STAR__876(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 3);

incRef(y_1, 2);
Value *andRslt2;

// type-known for instance?
// #line 1242 "core"
Value *rslt3 = arityImpl167(empty_list, reifiedPtr170, y_1);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 2);
dec_and_free(x_0, 4);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown count
// #line 1243 "core"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", x_0, "core", 1243);

// type-unknown count
// #line 1243 "core"
Value *rslt5 = proto1Arg(&count_Implementations_300, "<nothing>/count", y_1, "core", 1243);

// static-fixed
// #line 1243 "core"
Value *rslt6 = _EQ__557(empty_list, rslt4, rslt5);
andRslt2 = rslt6;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 3);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown count
// #line 1244 "core"
Value *rslt7 = proto1Arg(&count_Implementations_300, "<nothing>/count", x_0, "core", 1244);

// static-fixed
// #line 1244 "core"
Value *rslt8 = vec_EQ__843(empty_list, x_0, y_1, rslt7);
andRslt2 = rslt8;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 1245 "core"
Value *rslt9 = maybe_4(empty_list, x_0);
return(rslt9);
andRslt2 = rslt9;
}
}
}

};};
FnArity Vector__EQ__STAR__877 = {FnArityType, -1, 2, (List *)0, 0, Vector__EQ__STAR__876};
Value *Vector_seq_878(List *closures, Value *v_0) {
 while (1) {
return(vectSeq((Vector *)v_0, 0));

};};
FnArity Vector_seq_879 = {FnArityType, -1, 1, (List *)0, 0, Vector_seq_878};
Value *Vector_vec_880(List *closures, Value *v_0) {
 while (1) {
return(v_0);

};};
FnArity Vector_vec_881 = {FnArityType, -1, 1, (List *)0, 0, Vector_vec_880};
Value *Vector_first_882(List *closures, Value *v_0) {
 while (1) {

// type-unknown get
// #line 1195 "core"
Value *rslt1 = proto2Arg(&get_Implementations_362, "<nothing>/get", v_0, numPtr0, "core", 1195);
return(rslt1);

};};
FnArity Vector_first_883 = {FnArityType, -1, 1, (List *)0, 0, Vector_first_882};
Value *Vector_rest_884(List *closures, Value *v_0) {
 while (1) {

// static-fixed
// #line 1198 "core"
Value *rslt1 = subvec_856(empty_list, v_0, numPtr1);
return(rslt1);

};};
FnArity Vector_rest_885 = {FnArityType, -1, 1, (List *)0, 0, Vector_rest_884};
Value *Vector_last_886(List *closures, Value *v_0) {
 while (1) {

incRef(v_0, 2);
Value *andRslt1;

// type-unknown count
// #line 1201 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_0, "core", 1201);

// static-fixed
// #line 1201 "core"
Value *rslt3 = _LT__531(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
dec_and_free(v_0, 2);
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// type-unknown count
// #line 1202 "core"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_0, "core", 1202);

// static-fixed
// #line 1202 "core"
Value *rslt5 = dec_578(empty_list, rslt4);

// type-unknown get
// #line 1202 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", v_0, rslt5, "core", 1202);
return(rslt6);
andRslt1 = rslt6;
}

};};
FnArity Vector_last_887 = {FnArityType, -1, 1, (List *)0, 0, Vector_last_886};
Value *Vector_butlast_888(List *closures, Value *v_0) {
 while (1) {

incRef(v_0, 1);

// type-unknown count
// #line 1205 "core"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_0, "core", 1205);

// static-fixed
// #line 1205 "core"
Value *rslt2 = dec_578(empty_list, rslt1);

// static-fixed
// #line 1205 "core"
Value *rslt3 = subvec_858(empty_list, v_0, numPtr0, rslt2);
return(rslt3);

};};
FnArity Vector_butlast_889 = {FnArityType, -1, 1, (List *)0, 0, Vector_butlast_888};
Value *Vector_reverse_890(List *closures, Value *v_0) {
 while (1) {
return(vectorReverse(v_0));
};};
FnArity Vector_reverse_891 = {FnArityType, -1, 1, (List *)0, 0, Vector_reverse_890};
Value *Vector_reduce_892(List *closures, Value *v_0, Value *result_1, Value *f_2) {
 while (1) {

// static-fixed
// #line 1211 "core"
Value *rslt3 = vect_reduce_863(empty_list, v_0, numPtr0, result_1, f_2);
return(rslt3);

};};
FnArity Vector_reduce_893 = {FnArityType, -1, 3, (List *)0, 0, Vector_reduce_892};

// --------- anon -------------
Value *fn895;
Value *arityImpl896(List *closures, Value *len_0, Value *s_1) {
 while (1) {

// type-unknown count
// #line 1215 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", s_1, "core", 1215);

// static-fixed
// #line 1215 "core"
Value *rslt3 = _PLUS__457(empty_list, len_0, rslt2);
return(rslt3);

};};
FnArity staticArity897 = {FnArityType, -1, 2, (List *)0, 0, arityImpl896};
Function anon_898 = {FunctionType, -1, "anon", 1, {&staticArity897}};
Value *fn895 = (Value *)&anon_898;

Value *arityImpl901(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1218 "core"
Value *rslt2 = str_append_93(empty_list, val1, s_0);
return(rslt2);

};};
Value *Vector_to_str_894(List *closures, Value *coll_0) {
 while (1) {

// type-known for seq
// #line 1214 "core"
Value *rslt1 = Vector_seq_878(empty_list, coll_0);
Value *l_2 = rslt1;

// static-fixed
// #line 672 "core"
Value *rslt3 = list_map_73(empty_list, l_2, string_list_393);

// static-fixed
// #line 672 "core"
Value *rslt4 = list_concat_78(empty_list, rslt3);

// static-fixed
// #line 1214 "core"
Value *rslt5 = cons_275(empty_list, strPtr0, rslt4);
Value *ss_list_6 = rslt5;

incRef(ss_list_6, 1);

// type-known for reduce
// #line 1215 "core"
Value *rslt7 = List_reduce_449(empty_list, ss_list_6, numPtr0, fn895);
Value *new_len_8 = rslt7;

// static-fixed
// #line 1216 "core"
Value *rslt9 = str_malloc_88(empty_list, new_len_8);
Value *new_str_10 = rslt9;

incRef(new_str_10, 1);
Value *l_11 = ss_list_6;
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl901;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)new_str_10, (List *)dynArity12->closures);
Function *anon_902 = malloc_function(1);
anon_902->name = "anon";
anon_902->arityCount = 1;
anon_902->arities[0] = dynArity12;
Value *fn900 = (Value *)anon_902;

// static-fixed
// #line 1051 "core"
Value *rslt13 = list_map_73(empty_list, l_11, fn900);

dec_and_free(rslt13, 1);
return(new_str_10);

};};
FnArity Vector_to_str_903 = {FnArityType, -1, 1, (List *)0, 0, Vector_to_str_894};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str23 = {StringType, -1, 6, 0, "Vector"};
Value *strPtr23 = (Value *)&str23;
Value *Vector_type_name_904(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr23);

};};
FnArity Vector_type_name_905 = {FnArityType, -1, 1, (List *)0, 0, Vector_type_name_904};
Value *Vector_type_args_906(List *closures, Value *v_0) {
 while (1) {

// type-known for seq
// #line 1127 "core"
Value *rslt1 = Vector_seq_878(empty_list, v_0);
return(rslt1);

};};
FnArity Vector_type_args_907 = {FnArityType, -1, 1, (List *)0, 0, Vector_type_args_906};
Value *Vector_get_908(List *closures, Value *v_0, Value *n_1) {
 while (1) {
return(vectorGet(v_0, n_1));
};};
FnArity Vector_get_909 = {FnArityType, -1, 2, (List *)0, 0, Vector_get_908};
Value *Vector_zero_910(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(empty_vector_1);

};};
FnArity Vector_zero_911 = {FnArityType, -1, 1, (List *)0, 0, Vector_zero_910};

// --------- anon -------------
Value *fn913;
Value *arityImpl914(List *closures, Value *v_0, Value *next_v_1) {
 while (1) {

// type-unknown reduce
// #line 1149 "core"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", next_v_1, v_0, mutate_vect_conj_67, "core", 1149);
return(rslt2);

};};
FnArity staticArity915 = {FnArityType, -1, 2, (List *)0, 0, arityImpl914};
Function anon_916 = {FunctionType, -1, "anon", 1, {&staticArity915}};
Value *fn913 = (Value *)&anon_916;

Value *Vector_comp_STAR__912(List *closures, Value *v_0, Value *vs_1) {
 while (1) {

// static-fixed
// #line 1147 "core"
Value *rslt2 = cons_275(empty_list, v_0, vs_1);

// type-known for reduce
// #line 1147 "core"
Value *rslt3 = List_reduce_449(empty_list, rslt2, empty_vector_1, fn913);
return(rslt3);

};};
FnArity Vector_comp_STAR__917 = {FnArityType, -1, 2, (List *)0, 0, Vector_comp_STAR__912};
Value *Vector_nth_918(List *closures, Value *v_0, Value *n_1) {
 while (1) {

// type-known for get
// #line 1224 "core"
Value *rslt2 = Vector_get_908(empty_list, v_0, n_1);
return(rslt2);

};};
FnArity Vector_nth_919 = {FnArityType, -1, 2, (List *)0, 0, Vector_nth_918};
Value *Vector_store_920(List *closures, Value *v_0, Value *n_1, Value *x_2) {
 while (1) {

  Value *result = vectStore((Vector *)v_0, ((Integer *)n_1)->numVal, (Value *)x_2);
  dec_and_free(v_0, 1);
  dec_and_free(n_1, 1);
  return(result);
};};
FnArity Vector_store_921 = {FnArityType, -1, 3, (List *)0, 0, Vector_store_920};
Value *arityImpl924(List *closures, Value *v_0, Value *x_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1154 "core"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, x_1);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, x_1);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(x_1, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}

// static-fixed
// #line 1154 "core"
Value *rslt7 = mutate_vect_conj_68(empty_list, v_0, rslt6);
return(rslt7);

};};
Value *Vector_map_922(List *closures, Value *v_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 2;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl924;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
Function *anon_925 = malloc_function(1);
anon_925->name = "anon";
anon_925->arityCount = 1;
anon_925->arities[0] = dynArity2;
Value *fn923 = (Value *)anon_925;

// type-known for reduce
// #line 1153 "core"
Value *rslt3 = Vector_reduce_892(empty_list, v_0, empty_vector_1, fn923);
return(rslt3);

};};
FnArity Vector_map_926 = {FnArityType, -1, 2, (List *)0, 0, Vector_map_922};
Value *Vector_wrap_927(List *closures, Value *v_0, Value *x_1) {
 while (1) {

dec_and_free(v_0, 1);

// call-vector
// #line 1156 "core"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, x_1);
Value *rslt3 = (Value *)newVect2;
return(rslt3);

};};
FnArity Vector_wrap_928 = {FnArityType, -1, 2, (List *)0, 0, Vector_wrap_927};
Value *arityImpl931(List *closures, Value *result_0, Value *x_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1161 "core"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, x_1);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, x_1);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(x_1, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}

// type-unknown reduce
// #line 1161 "core"
Value *rslt7 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt6, result_0, mutate_vect_conj_67, "core", 1161);
return(rslt7);

};};
Value *Vector_flat_map_929(List *closures, Value *v_0, Value *mf_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 2;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl931;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)mf_1, (List *)dynArity2->closures);
Function *anon_932 = malloc_function(1);
anon_932->name = "anon";
anon_932->arityCount = 1;
anon_932->arities[0] = dynArity2;
Value *fn930 = (Value *)anon_932;

// type-known for reduce
// #line 1159 "core"
Value *rslt3 = Vector_reduce_892(empty_list, v_0, empty_vector_1, fn930);
return(rslt3);

};};
FnArity Vector_flat_map_933 = {FnArityType, -1, 2, (List *)0, 0, Vector_flat_map_929};
Value *Vector_flatten_934(List *closures, Value *v_0) {
 while (1) {
Value *f_1 = comp_240;

// type-known for seq
// #line 1164 "core"
Value *rslt2 = Vector_seq_878(empty_list, v_0);

// call-list
// #line 1164 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_1, rslt6);

// type-unknown vec
// #line 1164 "core"
Value *rslt8 = proto1Arg(&vec_Implementations_326, "<nothing>/vec", rslt7, "core", 1164);
return(rslt8);

};};
FnArity Vector_flatten_935 = {FnArityType, -1, 1, (List *)0, 0, Vector_flatten_934};
Value *Vector_empty_QM__936(List *closures, Value *v_0) {
 while (1) {
Value *andRslt1;

// type-unknown count
// #line 1168 "core"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_0, "core", 1168);

// static-fixed
// #line 1168 "core"
Value *rslt3 = _EQ__557(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 1169 "core"
Value *rslt4 = maybe_4(empty_list, empty_vector_1);
return(rslt4);
andRslt1 = rslt4;
}

};};
FnArity Vector_empty_QM__937 = {FnArityType, -1, 1, (List *)0, 0, Vector_empty_QM__936};
Value *Vector_empty_938(List *closures, Value *coll_0) {
 while (1) {

dec_and_free(coll_0, 1);
return(empty_vector_1);

};};
FnArity Vector_empty_939 = {FnArityType, -1, 1, (List *)0, 0, Vector_empty_938};
Value *Vector_count_940(List *closures, Value *l_0) {
 while (1) {

// static-fixed
// #line 1174 "core"
Value *rslt1 = vect_count_138(empty_list, l_0);
return(rslt1);

};};
FnArity Vector_count_941 = {FnArityType, -1, 1, (List *)0, 0, Vector_count_940};
Value *Vector_conj_942(List *closures, Value *vect_0, Value *v_1) {
 while (1) {

  Value *result = (Value *)vectConj((Vector *)vect_0, v_1);
  dec_and_free(vect_0, 1);
  return(result);
};};
FnArity Vector_conj_943 = {FnArityType, -1, 2, (List *)0, 0, Vector_conj_942};
Value *arityImpl946(List *closures, Value *result_0, Value *x_1) {
while (1) {

incRef(result_0, 1);

incRef(x_1, 1);
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *andRslt2;

// dynamic unknown type
// #line 1185 "core"
Value *rslt7;
if((val3)->type != FunctionType) {
rslt7 = invoke_368(empty_list, val3, x_1);
} else {
FnArity *arity4 = findFnArity(val3, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_1);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_1, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val3)->name);
  abort();
}
dec_and_free(val3, 1);
}
andRslt2 = rslt7;
if (isNothing(andRslt2)) {
dec_and_free(result_0, 1);
dec_and_free(x_1, 1);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 1185 "core"
Value *rslt8 = mutate_vect_conj_68(empty_list, result_0, x_1);

// static-fixed
// #line 1185 "core"
Value *rslt9 = maybe_4(empty_list, rslt8);
andRslt2 = rslt9;
}
if (!isNothing(andRslt2)) {
dec_and_free(result_0, 1);
return(maybeExtract(andRslt2));
} else {
dec_and_free(andRslt2, 1);
return(result_0);
}

};};
Value *Vector_filter_944(List *closures, Value *v_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 2;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl946;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
Function *anon_947 = malloc_function(1);
anon_947->name = "anon";
anon_947->arityCount = 1;
anon_947->arities[0] = dynArity2;
Value *fn945 = (Value *)anon_947;

// type-known for reduce
// #line 1183 "core"
Value *rslt3 = Vector_reduce_892(empty_list, v_0, empty_vector_1, fn945);
return(rslt3);

};};
FnArity Vector_filter_948 = {FnArityType, -1, 2, (List *)0, 0, Vector_filter_944};

// --------- partitioner -------------
Value *partitioner_950;
Value *arityImpl953(List *closures, Value *arg3, Value *x_5) {
while (1) {
Value *result_0;
Value *part_1;
Value *tail_2;
Value **destArgs4[3] = {&result_0, &part_1, &tail_2};
destructValue("core", "1249", (Value *)arg3, 3, destArgs4);

incRef(result_0, 1);

dec_and_free(tail_2, 1);
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val9, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1250 "core"
Value *rslt6 = cons_275(empty_list, x_5, part_1);
Value *part_7 = rslt6;

incRef(part_7, 2);
Value *andRslt8;

// type-known for count
// #line 1251 "core"
Value *rslt10 = List_count_475(empty_list, part_7);

// static-fixed
// #line 1251 "core"
Value *rslt11 = _EQ__557(empty_list, val9, rslt10);
andRslt8 = rslt11;
if (isNothing(andRslt8)) {
dec_and_free(part_7, 1);
dec_and_free(result_0, 1);
} else {
dec_and_free(andRslt8, 1);

// type-known for reverse
// #line 1252 "core"
Value *rslt12 = List_reverse_813(empty_list, part_7);

// static-fixed
// #line 1252 "core"
Value *rslt13 = cons_275(empty_list, rslt12, result_0);

// call-vector
// #line 1252 "core"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, empty_list_0);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 1252 "core"
Value *rslt16 = maybe_4(empty_list, rslt15);
andRslt8 = rslt16;
}
if (!isNothing(andRslt8)) {
dec_and_free(part_7, 1);
dec_and_free(result_0, 1);
return(maybeExtract(andRslt8));
} else {
dec_and_free(andRslt8, 1);

// call-vector
// #line 1253 "core"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, result_0);
newVect17 = mutateVectConj(newVect17, part_7);
Value *rslt18 = (Value *)newVect17;
return(rslt18);
}

};};
Value *partitioner_951(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

// call-vector
// #line 1248 "core"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, empty_list_0);
newVect2 = mutateVectConj(newVect2, empty_list_0);
Value *rslt3 = (Value *)newVect2;
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 2;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl953;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)n_1, (List *)dynArity4->closures);
Function *anon_954 = malloc_function(1);
anon_954->name = "anon";
anon_954->arityCount = 1;
anon_954->arities[0] = dynArity4;
Value *fn952 = (Value *)anon_954;

// type-unknown reduce
// #line 1248 "core"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", coll_0, rslt3, fn952, "core", 1248);
return(rslt5);

};};
FnArity partitioner_955 = {FnArityType, -1, 2, (List *)0, 0, partitioner_951};
Function partitioner_956 = {FunctionType, -1, "partitioner", 1, {&partitioner_955}};
Value *partitioner_950 = (Value *)&partitioner_956;


// --------- partition -------------
Value *partition_958;
Value *partition_959(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

// static-fixed
// #line 1256 "core"
Value *rslt2 = partitioner_951(empty_list, coll_0, n_1);
Value *partitioned_3;
Value *tail_4;
Value **destArgs5[2] = {&partitioned_3, &tail_4};
destructValue("core", "1256", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown reverse
// #line 1257 "core"
Value *rslt6 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", partitioned_3, "core", 1257);
return(rslt6);

};};
FnArity partition_960 = {FnArityType, -1, 2, (List *)0, 0, partition_959};
Function partition_961 = {FunctionType, -1, "partition", 1, {&partition_960}};
Value *partition_958 = (Value *)&partition_961;


// --------- partition-all -------------
Value *partition_all_963;
Value *partition_all_964(List *closures, Value *coll_0, Value *n_1) {
 while (1) {

// static-fixed
// #line 1260 "core"
Value *rslt2 = partitioner_951(empty_list, coll_0, n_1);
Value *partitioned_3;
Value *remainder_4;
Value *tail_5;
Value **destArgs6[3] = {&partitioned_3, &remainder_4, &tail_5};
destructValue("core", "1260", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);

// static-fixed
// #line 1261 "core"
Value *rslt7 = cons_275(empty_list, remainder_4, partitioned_3);

// type-known for reverse
// #line 1261 "core"
Value *rslt8 = List_reverse_813(empty_list, rslt7);
return(rslt8);

};};
FnArity partition_all_965 = {FnArityType, -1, 2, (List *)0, 0, partition_all_964};
Function partition_all_966 = {FunctionType, -1, "partition-all", 1, {&partition_all_965}};
Value *partition_all_963 = (Value *)&partition_all_966;


// --------- partial -------------
Value *partial_968;
Value *arityImpl971(List *closures, Value *arg1) {
while (1) {
Value *more_args_0 = (Value *)arg1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[3] = {&val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs10);

dec_and_free(closuresTail, 1);

// call-list
// #line 1266 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)more_args_0, newList4);
Value *rslt5 = (Value *)newList4;

// type-known for comp*
// #line 1266 "core"
Value *rslt6 = List_comp_STAR__825(empty_list, val3, rslt5);

// call-list
// #line 1266 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)rslt6, newList7);
Value *rslt8 = (Value *)newList7;

// type-unknown apply*
// #line 1266 "core"
Value *rslt9 = proto2Arg(&apply_STAR__Implementations_266, "apply*", val2, rslt8, "core", 1266);
return(rslt9);

};};
Value *partial_969(List *closures, Value *arg2) {
 while (1) {
Value *f_0;
Value *args_1;
Value **destArgs3[2] = {&f_0, &args_1};
destructValue("core", "1263", (Value *)arg2, 2, destArgs3);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 1;
dynArity4->fn = arityImpl971;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)args_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)f_0, (List *)dynArity4->closures);
Function *anon_972 = malloc_function(1);
anon_972->name = "anon";
anon_972->arityCount = 1;
anon_972->arities[0] = dynArity4;
Value *fn970 = (Value *)anon_972;
return(fn970);

};};
FnArity partial_973 = {FnArityType, -1, 1, (List *)0, 1, partial_969};
Function partial_974 = {FunctionType, -1, "partial", 1, {&partial_973}};
Value *partial_968 = (Value *)&partial_974;


// --------- every -------------
Value *every_976;
Value *arityImpl981(List *closures, Value *tail_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-unknown conj
// #line 1272 "core"
Value *rslt3 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", tail_0, val2, "core", 1272);

// type-unknown wrap
// #line 1271 "core"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "core", 1271);
return(rslt4);

};};
Value *arityImpl979(List *closures, Value *head_0) {
while (1) {
Value *val1;
Value *val3;
Value *val4;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[5] = {&val1, &val3, &val4, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs12);

dec_and_free(closuresTail, 1);

// type-unknown rest
// #line 1271 "core"
Value *rslt2 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val1, "core", 1271);
Value *rslt8;
FnArity *arity5 = findFnArity(val4, 2);
if(arity5 != (FnArity *)0 && !arity5->variadic) { FnType2 *fn7 = (FnType2 *)arity5->fn;


// dynamic fn type
// #line 1271 "core"
rslt8 = fn7(arity5->closures, rslt2, val3);
} else if(arity5 != (FnArity *)0 && arity5->variadic) { FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(val3, dynArgs6);
dynArgs6 = (List *)listCons(rslt2, dynArgs6);

// dynamic fn type
// #line 1271 "core"
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val4)->name, "core", 1271);
  abort();
}
dec_and_free(val4, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl981;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)head_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)val10, (List *)dynArity9->closures);
Function *anon_982 = malloc_function(1);
anon_982->name = "anon";
anon_982->arityCount = 1;
anon_982->arities[0] = dynArity9;
Value *fn980 = (Value *)anon_982;

// type-unknown flat-map
// #line 1271 "core"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt8, fn980, "core", 1271);
return(rslt11);

};};
Value *every_977(List *closures, Value *coll_0, Value *f_1) {
 while (1) {

incRef(coll_0, 2);

incRef(f_1, 1);
Value *orRslt2;

// type-unknown empty?
// #line 1269 "core"
Value *rslt3 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", coll_0, "core", 1269);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(every_976, 1);
dec_and_free(coll_0, 2);
dec_and_free(f_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);

// type-unknown first
// #line 1270 "core"
Value *rslt4 = proto1Arg(&first_Implementations_320, "<nothing>/first", coll_0, "core", 1270);

// type-unknown flat-map
// #line 1270 "core"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt4, f_1, "core", 1270);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl979;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)wrapper_6, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)every_976, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)f_1, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)coll_0, (List *)dynArity7->closures);
Function *anon_983 = malloc_function(1);
anon_983->name = "anon";
anon_983->arityCount = 1;
anon_983->arities[0] = dynArity7;
Value *fn978 = (Value *)anon_983;

// type-unknown flat-map
// #line 1270 "core"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_6, fn978, "core", 1270);
return(rslt8);
orRslt2 = rslt8;
}

};};
FnArity every_984 = {FnArityType, -1, 2, (List *)0, 0, every_977};
Function every_985 = {FunctionType, -1, "every", 1, {&every_984}};
Value *every_976 = (Value *)&every_985;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str24 = {StringType, -1, 17, 0, "BitmapIndexedNode"};
Value *strPtr24 = (Value *)&str24;
Value *BitmapIndexNode_type_name_986(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr24);

};};
FnArity BitmapIndexNode_type_name_987 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_type_name_986};
Value *BitmapIndexNode_count_988(List *closures, Value *x_0) {
 while (1) {
return(bmiCount(x_0));
};};
FnArity BitmapIndexNode_count_989 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_count_988};
Value *BitmapIndexNode_hash_seq_990(List *closures, Value *m_0, Value *s_1) {
 while (1) {
return(bmiHashSeq(m_0, s_1));
};};
FnArity BitmapIndexNode_hash_seq_991 = {FnArityType, -1, 2, (List *)0, 0, BitmapIndexNode_hash_seq_990};
Value *BitmapIndexNode_assoc_STAR__992(List *closures, Value *m_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(bmiAssoc(m_0, k_1, v_2, hash_3, shift_4));
};};
FnArity BitmapIndexNode_assoc_STAR__993 = {FnArityType, -1, 5, (List *)0, 0, BitmapIndexNode_assoc_STAR__992};
Value *BitmapIndexNode_dissoc_STAR__994(List *closures, Value *node_0, Value *k_1, Value *hash_2, Value *shift_3) {
 while (1) {
return(bmiDissoc(node_0, k_1, hash_2, shift_3));
};};
FnArity BitmapIndexNode_dissoc_STAR__995 = {FnArityType, -1, 4, (List *)0, 0, BitmapIndexNode_dissoc_STAR__994};
Value *BitmapIndexNode_get_STAR__996(List *closures, Value *node_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(bmiGet(node_0, k_1, v_2, hash_3, shift_4));
};};
FnArity BitmapIndexNode_get_STAR__997 = {FnArityType, -1, 5, (List *)0, 0, BitmapIndexNode_get_STAR__996};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str25 = {StringType, -1, 9, 0, "ArrayNode"};
Value *strPtr25 = (Value *)&str25;
Value *ArrayNode_type_name_998(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr25);

};};
FnArity ArrayNode_type_name_999 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_type_name_998};
Value *ArrayNode_count_1000(List *closures, Value *x_0) {
 while (1) {
return(arrayNodeCount(x_0));
};};
FnArity ArrayNode_count_1001 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_count_1000};
Value *ArrayNode_assoc_STAR__1002(List *closures, Value *m_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(arrayNodeAssoc(m_0, k_1, v_2, hash_3, shift_4));
};};
FnArity ArrayNode_assoc_STAR__1003 = {FnArityType, -1, 5, (List *)0, 0, ArrayNode_assoc_STAR__1002};
Value *ArrayNode_hash_seq_1004(List *closures, Value *m_0, Value *s_1) {
 while (1) {
return(arrayNodeSeq(m_0, s_1));
};};
FnArity ArrayNode_hash_seq_1005 = {FnArityType, -1, 2, (List *)0, 0, ArrayNode_hash_seq_1004};
Value *ArrayNode_get_STAR__1006(List *closures, Value *m_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(arrayNodeGet(m_0, k_1, v_2, hash_3, shift_4));
};};
FnArity ArrayNode_get_STAR__1007 = {FnArityType, -1, 5, (List *)0, 0, ArrayNode_get_STAR__1006};
Value *ArrayNode_dissoc_STAR__1008(List *closures, Value *m_0, Value *k_1, Value *hash_2, Value *shift_3) {
 while (1) {
return(arrayNodeDissoc(m_0, k_1, hash_2, shift_3));
};};
FnArity ArrayNode_dissoc_STAR__1009 = {FnArityType, -1, 4, (List *)0, 0, ArrayNode_dissoc_STAR__1008};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str26 = {StringType, -1, 17, 0, "HashCollisionNode"};
Value *strPtr26 = (Value *)&str26;
Value *HashCollisionNode_type_name_1010(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr26);

};};
FnArity HashCollisionNode_type_name_1011 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_type_name_1010};
Value *HashCollisionNode_count_1012(List *closures, Value *x_0) {
 while (1) {
return(collisionCount(x_0));
};};
FnArity HashCollisionNode_count_1013 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_count_1012};
Value *HashCollisionNode_assoc_STAR__1014(List *closures, Value *node_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(collisionAssoc(node_0, k_1, v_2, hash_3, shift_4));
};};
FnArity HashCollisionNode_assoc_STAR__1015 = {FnArityType, -1, 5, (List *)0, 0, HashCollisionNode_assoc_STAR__1014};
Value *HashCollisionNode_dissoc_STAR__1016(List *closures, Value *node_0, Value *k_1, Value *hash_2, Value *shift_3) {
 while (1) {
return(collisionDissoc(node_0, k_1, hash_2, shift_3));
};};
FnArity HashCollisionNode_dissoc_STAR__1017 = {FnArityType, -1, 4, (List *)0, 0, HashCollisionNode_dissoc_STAR__1016};
Value *HashCollisionNode_hash_seq_1018(List *closures, Value *m_0, Value *s_1) {
 while (1) {
return(collisionSeq(m_0, s_1));
};};
FnArity HashCollisionNode_hash_seq_1019 = {FnArityType, -1, 2, (List *)0, 0, HashCollisionNode_hash_seq_1018};
Value *HashCollisionNode_get_STAR__1020(List *closures, Value *node_0, Value *k_1, Value *v_2, Value *hash_3, Value *shift_4) {
 while (1) {
return(collisionGet(node_0, k_1, v_2, hash_3, shift_4));
};};
FnArity HashCollisionNode_get_STAR__1021 = {FnArityType, -1, 5, (List *)0, 0, HashCollisionNode_get_STAR__1020};

// --------- dissoc -------------
Value *dissoc_1023;

// --------- anon -------------
Value *fn1025;
Value *arityImpl1026(List *closures, Value *m_0, Value *k_1) {
 while (1) {

incRef(k_1, 1);

// type-unknown sha1
// #line 1341 "core"
Value *rslt2 = proto1Arg(&sha1_Implementations_392, "<nothing>/sha1", k_1, "core", 1341);

// type-unknown dissoc*
// #line 1341 "core"
Value *rslt3 = proto4Arg(&dissoc_STAR__Implementations_13, "<nothing>/dissoc*", m_0, k_1, rslt2, numPtr0, "core", 1341);
return(rslt3);

};};
FnArity staticArity1027 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1026};
Function anon_1028 = {FunctionType, -1, "anon", 1, {&staticArity1027}};
Value *fn1025 = (Value *)&anon_1028;

Value *dissoc_1024(List *closures, Value *arg2) {
 while (1) {
Value *m_0;
Value *ks_1;
Value **destArgs3[2] = {&m_0, &ks_1};
destructValue("core", "1338", (Value *)arg2, 2, destArgs3);

// type-known for reduce
// #line 1340 "core"
Value *rslt4 = List_reduce_449(empty_list, ks_1, m_0, fn1025);
return(rslt4);

};};
FnArity dissoc_1029 = {FnArityType, -1, 1, (List *)0, 1, dissoc_1024};
Function dissoc_1030 = {FunctionType, -1, "dissoc", 1, {&dissoc_1029}};
Value *dissoc_1023 = (Value *)&dissoc_1030;


// --------- assoc -------------
Value *assoc_1032;
Value *assoc_1033(List *closures, Value *m_0, Value *k_1, Value *v_2) {
 while (1) {

incRef(k_1, 1);

// type-unknown sha1
// #line 1346 "core"
Value *rslt3 = proto1Arg(&sha1_Implementations_392, "<nothing>/sha1", k_1, "core", 1346);

// type-unknown assoc*
// #line 1346 "core"
Value *rslt4 = proto5Arg(&assoc_STAR__Implementations_10, "<nothing>/assoc*", m_0, k_1, v_2, rslt3, numPtr0, "core", 1346);
return(rslt4);

};};
FnArity assoc_1034 = {FnArityType, -1, 3, (List *)0, 0, assoc_1033};
Integer num2 = {IntegerType, -1, 2};
Value *numPtr2 = (Value *)&num2;

// --------- anon -------------
Value *fn1036;
Value *arityImpl1037(List *closures, Value *m_0, Value *arg4) {
 while (1) {
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1348", (Value *)arg4, 3, destArgs5);

incRef(k_1, 1);

dec_and_free(tail_3, 1);

// type-unknown sha1
// #line 1349 "core"
Value *rslt6 = proto1Arg(&sha1_Implementations_392, "<nothing>/sha1", k_1, "core", 1349);

// type-unknown assoc*
// #line 1349 "core"
Value *rslt7 = proto5Arg(&assoc_STAR__Implementations_10, "<nothing>/assoc*", m_0, k_1, v_2, rslt6, numPtr0, "core", 1349);
return(rslt7);

};};
FnArity staticArity1038 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1037};
Function anon_1039 = {FunctionType, -1, "anon", 1, {&staticArity1038}};
Value *fn1036 = (Value *)&anon_1039;

Value *assoc_1035(List *closures, Value *arg2) {
 while (1) {
Value *m_0;
Value *kv_pairs_1;
Value **destArgs3[2] = {&m_0, &kv_pairs_1};
destructValue("core", "1347", (Value *)arg2, 2, destArgs3);

// static-fixed
// #line 1348 "core"
Value *rslt4 = partition_959(empty_list, kv_pairs_1, numPtr2);

// type-unknown reduce
// #line 1348 "core"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt4, m_0, fn1036, "core", 1348);
return(rslt5);

};};
FnArity assoc_1040 = {FnArityType, -1, 1, (List *)0, 1, assoc_1035};
Function assoc_1041 = {FunctionType, -1, "assoc", 2, {&assoc_1034, &assoc_1040}};
Value *assoc_1032 = (Value *)&assoc_1041;


// --------- spaces -------------
Value *spaces_1043;

// --------- anon -------------
Value *fn1045;
Value *arityImpl1046(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr4);

};};
FnArity staticArity1047 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1046};
Function anon_1048 = {FunctionType, -1, "anon", 1, {&staticArity1047}};
Value *fn1045 = (Value *)&anon_1048;

Value *spaces_1044(List *closures, Value *n_0) {
 while (1) {

// static-fixed
// #line 1352 "core"
Value *rslt1 = range_795(empty_list, n_0);

// type-unknown map
// #line 1352 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1045, "core", 1352);

// type-unknown to-str
// #line 1352 "core"
Value *rslt3 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt2, "core", 1352);
return(rslt3);

};};
FnArity spaces_1049 = {FnArityType, -1, 1, (List *)0, 0, spaces_1044};
Function spaces_1050 = {FunctionType, -1, "spaces", 1, {&spaces_1049}};
Value *spaces_1043 = (Value *)&spaces_1050;


// --------- show-kv -------------
Value *show_kv_1052;
Value *show_kv_1053(List *closures, Value *arg3, Value *indent_5) {
 while (1) {

incRef(indent_5, 1);
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1354", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *f_6 = str_525;

// type-unknown show*
// #line 1355 "core"
Value *rslt7 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", k_0, indent_5, "core", 1355);

// call-list
// #line 1355 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)rslt7, newList8);
Value *rslt9 = (Value *)newList8;
Value *args_10 = rslt9;

// static-fixed
// #line 737 "core"
Value *rslt11 = fn_apply_98(empty_list, list_STAR__478, args_10);

// static-fixed
// #line 737 "core"
Value *rslt12 = fn_apply_98(empty_list, f_6, rslt11);
Value *k_str_13 = rslt12;

incRef(k_str_13, 1);

// call-list
// #line 1356 "core"
List *newList14 = empty_list;
newList14 = listCons((Value *)strPtr4, newList14);
newList14 = listCons((Value *)k_str_13, newList14);
Value *rslt15 = (Value *)newList14;

// type-unknown count
// #line 1357 "core"
Value *rslt16 = proto1Arg(&count_Implementations_300, "<nothing>/count", k_str_13, "core", 1357);

// static-fixed
// #line 1357 "core"
Value *rslt17 = _PLUS__457(empty_list, numPtr2, rslt16);

// static-fixed
// #line 1357 "core"
Value *rslt18 = spaces_1044(empty_list, rslt17);

// call-list
// #line 1357 "core"
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
Value *rslt20 = (Value *)newList19;

// type-unknown comp*
// #line 1357 "core"
Value *rslt21 = proto2Arg(&comp_STAR__Implementations_238, "comp*", indent_5, rslt20, "core", 1357);

// type-unknown show*
// #line 1357 "core"
Value *rslt22 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", v_1, rslt21, "core", 1357);

// call-list
// #line 1356 "core"
List *newList23 = empty_list;
newList23 = listCons((Value *)rslt22, newList23);
Value *rslt24 = (Value *)newList23;

// type-known for comp*
// #line 1356 "core"
Value *rslt25 = List_comp_STAR__825(empty_list, rslt15, rslt24);
return(rslt25);

};};
FnArity show_kv_1054 = {FnArityType, -1, 2, (List *)0, 0, show_kv_1053};
Function show_kv_1055 = {FunctionType, -1, "show-kv", 1, {&show_kv_1054}};
Value *show_kv_1052 = (Value *)&show_kv_1055;


// --------- anon -------------
Value *fn1057;
Value *arityImpl1058(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1380", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// type-unknown string-list
// #line 1381 "core"
Value *rslt5 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", k_0, "core", 1381);

// call-list
// #line 1381 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr4, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 1381 "core"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_1, "core", 1381);

// call-list
// #line 1381 "core"
List *newList9 = empty_list;
newList9 = listCons((Value *)rslt8, newList9);
newList9 = listCons((Value *)rslt7, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown comp*
// #line 1381 "core"
Value *rslt11 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt5, rslt10, "core", 1381);
return(rslt11);

};};
FnArity staticArity1059 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1058};
Function anon_1060 = {FunctionType, -1, "anon", 1, {&staticArity1059}};
Value *fn1057 = (Value *)&anon_1060;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str27 = {StringType, -1, 1, 0, "{"};
Value *strPtr27 = (Value *)&str27;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str28 = {StringType, -1, 1, 0, "}"};
Value *strPtr28 = (Value *)&str28;
Value *BitmapIndexNode_string_list_1056(List *closures, Value *n_0) {
 while (1) {

// type-unknown seq
// #line 1379 "core"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", n_0, "core", 1379);
Value *a_list_2 = rslt1;

// type-unknown map
// #line 1380 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", a_list_2, fn1057, "core", 1380);
Value *kv_strs_4 = rslt3;

// call-list
// #line 1382 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr27, newList5);
Value *rslt6 = (Value *)newList5;

// call-list
// #line 1383 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr17, newList7);
Value *rslt8 = (Value *)newList7;

// static-fixed
// #line 1383 "core"
Value *rslt9 = interpose_503(empty_list, kv_strs_4, rslt8);

// type-unknown flatten
// #line 1383 "core"
Value *rslt10 = proto1Arg(&flatten_Implementations_251, "<nothing>/flatten", rslt9, "core", 1383);

// call-list
// #line 1384 "core"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr28, newList11);
Value *rslt12 = (Value *)newList11;

// call-list
// #line 1382 "core"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt10, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 1382 "core"
Value *rslt15 = List_comp_STAR__825(empty_list, rslt6, rslt14);
return(rslt15);

};};
FnArity BitmapIndexNode_string_list_1061 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_string_list_1056};
Value *arityImpl1064(List *closures, Value *kv_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1392 "core"
Value *rslt2 = show_kv_1053(empty_list, kv_0, val1);

// static-variadic
// #line 1391 "core"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)rslt2, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr4, varArgs3);
varArgs3 = (List *)listCons((Value *)val1, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr19, varArgs3);
Value *rslt4 = list_STAR__483(empty_list, (Value *)varArgs3);
return(rslt4);

};};
Value *BitmapIndexNode_show_STAR__1062(List *closures, Value *m_0, Value *indent_1) {
 while (1) {

incRef(m_0, 1);

incRef(indent_1, 1);

// type-unknown empty?
// #line 1387 "core"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", m_0, "core", 1387);

// type-unknown map
// #line 1387 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, string_list_393, "core", 1387);
if (!isNothing(rslt3)) {
dec_and_free(m_0, 1);
dec_and_free(indent_1, 2);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);

// type-unknown seq
// #line 1388 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1388);
Value *h_5;
Value *tail_6;
Value **destArgs7[2] = {&h_5, &tail_6};
destructValue("core", "1388", (Value *)rslt4, 2, destArgs7);

// static-fixed
// #line 1389 "core"
Value *rslt8 = show_kv_1053(empty_list, h_5, indent_1);

// static-fixed
// #line 1389 "core"
Value *rslt9 = cons_275(empty_list, strPtr27, rslt8);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl1064;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)indent_1, (List *)dynArity10->closures);
Function *anon_1065 = malloc_function(1);
anon_1065->name = "anon";
anon_1065->arityCount = 1;
anon_1065->arities[0] = dynArity10;
Value *fn1063 = (Value *)anon_1065;

// type-unknown flat-map
// #line 1390 "core"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", tail_6, fn1063, "core", 1390);

// call-list
// #line 1393 "core"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr28, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 1389 "core"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 1389 "core"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt9, rslt15);
return(rslt16);
}

};};
FnArity BitmapIndexNode_show_STAR__1066 = {FnArityType, -1, 2, (List *)0, 0, BitmapIndexNode_show_STAR__1062};
Value *arityImpl1069(List *closures, Value *arg3) {
while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1402", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1403 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", val5, k_0, "core", 1403);

// static-variadic
// #line 1404 "core"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)v_1, varArgs7);
varArgs7 = (List *)listCons((Value *)_EQ__554, varArgs7);
Value *rslt8 = partial_969(empty_list, (Value *)varArgs7);

// type-unknown flat-map
// #line 1403 "core"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt6, rslt8, "core", 1403);
return(rslt9);

};};
Value *BitmapIndexNode__EQ__STAR__1067(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;

// type-known for instance?
// #line 1401 "core"
Value *rslt3 = arityImpl175(empty_list, reifiedPtr178, y_1);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 2);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown seq
// #line 1402 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", x_0, "core", 1402);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1069;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)y_1, (List *)dynArity5->closures);
Function *anon_1070 = malloc_function(1);
anon_1070->name = "anon";
anon_1070->arityCount = 1;
anon_1070->arities[0] = dynArity5;
Value *fn1068 = (Value *)anon_1070;

// static-fixed
// #line 1402 "core"
Value *rslt6 = every_977(empty_list, rslt4, fn1068);
andRslt2 = rslt6;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 1405 "core"
Value *rslt7 = maybe_4(empty_list, x_0);
return(rslt7);
andRslt2 = rslt7;
}
}

};};
FnArity BitmapIndexNode__EQ__STAR__1071 = {FnArityType, -1, 2, (List *)0, 0, BitmapIndexNode__EQ__STAR__1067};
Value *BitmapIndexNode_seq_1072(List *closures, Value *n_0) {
 while (1) {

// type-known for hash-seq
// #line 1397 "core"
Value *rslt1 = BitmapIndexNode_hash_seq_990(empty_list, n_0, empty_list_0);
return(rslt1);

};};
FnArity BitmapIndexNode_seq_1073 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_seq_1072};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str29 = {StringType, -1, 7, 0, "HashMap"};
Value *strPtr29 = (Value *)&str29;
Value *BitmapIndexNode_type_name_1074(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr29);

};};
FnArity BitmapIndexNode_type_name_1075 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_type_name_1074};

// --------- anon -------------
Value *fn1077;
Value *arityImpl1078(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1409", (Value *)arg3, 3, destArgs4);

dec_and_free(v_1, 1);

dec_and_free(tail_2, 1);
return(k_0);

};};
FnArity staticArity1079 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1078};
Function anon_1080 = {FunctionType, -1, "anon", 1, {&staticArity1079}};
Value *fn1077 = (Value *)&anon_1080;

Value *BitmapIndexNode_keys_1076(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1409 "core"
Value *rslt1 = BitmapIndexNode_seq_1072(empty_list, m_0);

// type-unknown map
// #line 1409 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1077, "core", 1409);
return(rslt2);

};};
FnArity BitmapIndexNode_keys_1081 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_keys_1076};

// --------- anon -------------
Value *fn1083;
Value *arityImpl1084(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1411", (Value *)arg3, 3, destArgs4);

dec_and_free(k_0, 1);

dec_and_free(tail_2, 1);
return(v_1);

};};
FnArity staticArity1085 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1084};
Function anon_1086 = {FunctionType, -1, "anon", 1, {&staticArity1085}};
Value *fn1083 = (Value *)&anon_1086;

Value *BitmapIndexNode_vals_1082(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1411 "core"
Value *rslt1 = BitmapIndexNode_seq_1072(empty_list, m_0);

// type-unknown map
// #line 1411 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1083, "core", 1411);
return(rslt2);

};};
FnArity BitmapIndexNode_vals_1087 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_vals_1082};
Value *BitmapIndexNode_get_1088(List *closures, Value *m_0, Value *k_1) {
 while (1) {
return(hashMapGet(m_0, k_1));
};};
FnArity BitmapIndexNode_get_1089 = {FnArityType, -1, 2, (List *)0, 0, BitmapIndexNode_get_1088};
Value *BitmapIndexNode_get_1090(List *closures, Value *m_0, Value *k_1, Value *not_found_2) {
 while (1) {

// type-known for get
// #line 1415 "core"
Value *rslt3 = BitmapIndexNode_get_1088(empty_list, m_0, k_1);
if (!isNothing(rslt3)) {
dec_and_free(not_found_2, 1);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);
return(not_found_2);
}

};};
FnArity BitmapIndexNode_get_1091 = {FnArityType, -1, 3, (List *)0, 0, BitmapIndexNode_get_1090};
Value *BitmapIndexNode_zero_1092(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(emptyBMI_141);

};};
FnArity BitmapIndexNode_zero_1093 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_zero_1092};

// --------- anon -------------
Value *fn1095;

// --------- anon -------------
Value *fn1097;
Value *arityImpl1098(List *closures, Value *acc_0, Value *pair_1) {
 while (1) {
Value *f_2 = assoc_1032;

// call-list
// #line 1370 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)pair_1, newList3);
newList3 = listCons((Value *)acc_0, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity staticArity1099 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1098};
Function anon_1100 = {FunctionType, -1, "anon", 1, {&staticArity1099}};
Value *fn1097 = (Value *)&anon_1100;

Value *arityImpl1096(List *closures, Value *acc_0, Value *mval_1) {
 while (1) {

// type-unknown seq
// #line 1368 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", mval_1, "core", 1368);

// type-unknown reduce
// #line 1368 "core"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, acc_0, fn1097, "core", 1368);
return(rslt3);

};};
FnArity staticArity1101 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1096};
Function anon_1102 = {FunctionType, -1, "anon", 1, {&staticArity1101}};
Value *fn1095 = (Value *)&anon_1102;

Value *BitmapIndexNode_comp_STAR__1094(List *closures, Value *mval_0, Value *mvals_1) {
 while (1) {

// type-unknown reduce
// #line 1366 "core"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", mvals_1, mval_0, fn1095, "core", 1366);
return(rslt2);

};};
FnArity BitmapIndexNode_comp_STAR__1103 = {FnArityType, -1, 2, (List *)0, 0, BitmapIndexNode_comp_STAR__1094};
Value *BitmapIndexNode_empty_QM__1104(List *closures, Value *x_0) {
 while (1) {
Value *andRslt1;

// type-known for count
// #line 1374 "core"
Value *rslt2 = BitmapIndexNode_count_988(empty_list, x_0);

// static-fixed
// #line 1374 "core"
Value *rslt3 = _EQ__557(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 1375 "core"
Value *rslt4 = maybe_4(empty_list, emptyBMI_141);
return(rslt4);
andRslt1 = rslt4;
}

};};
FnArity BitmapIndexNode_empty_QM__1105 = {FnArityType, -1, 1, (List *)0, 0, BitmapIndexNode_empty_QM__1104};

// --------- anon -------------
Value *fn1107;
Value *arityImpl1108(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1380", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// type-unknown string-list
// #line 1381 "core"
Value *rslt5 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", k_0, "core", 1381);

// call-list
// #line 1381 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr4, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 1381 "core"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_1, "core", 1381);

// call-list
// #line 1381 "core"
List *newList9 = empty_list;
newList9 = listCons((Value *)rslt8, newList9);
newList9 = listCons((Value *)rslt7, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown comp*
// #line 1381 "core"
Value *rslt11 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt5, rslt10, "core", 1381);
return(rslt11);

};};
FnArity staticArity1109 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1108};
Function anon_1110 = {FunctionType, -1, "anon", 1, {&staticArity1109}};
Value *fn1107 = (Value *)&anon_1110;

Value *ArrayNode_string_list_1106(List *closures, Value *n_0) {
 while (1) {

// type-unknown seq
// #line 1379 "core"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", n_0, "core", 1379);
Value *a_list_2 = rslt1;

// type-unknown map
// #line 1380 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", a_list_2, fn1107, "core", 1380);
Value *kv_strs_4 = rslt3;

// call-list
// #line 1382 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr27, newList5);
Value *rslt6 = (Value *)newList5;

// call-list
// #line 1383 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr17, newList7);
Value *rslt8 = (Value *)newList7;

// static-fixed
// #line 1383 "core"
Value *rslt9 = interpose_503(empty_list, kv_strs_4, rslt8);

// type-unknown flatten
// #line 1383 "core"
Value *rslt10 = proto1Arg(&flatten_Implementations_251, "<nothing>/flatten", rslt9, "core", 1383);

// call-list
// #line 1384 "core"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr28, newList11);
Value *rslt12 = (Value *)newList11;

// call-list
// #line 1382 "core"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt10, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 1382 "core"
Value *rslt15 = List_comp_STAR__825(empty_list, rslt6, rslt14);
return(rslt15);

};};
FnArity ArrayNode_string_list_1111 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_string_list_1106};
Value *arityImpl1114(List *closures, Value *kv_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1392 "core"
Value *rslt2 = show_kv_1053(empty_list, kv_0, val1);

// static-variadic
// #line 1391 "core"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)rslt2, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr4, varArgs3);
varArgs3 = (List *)listCons((Value *)val1, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr19, varArgs3);
Value *rslt4 = list_STAR__483(empty_list, (Value *)varArgs3);
return(rslt4);

};};
Value *ArrayNode_show_STAR__1112(List *closures, Value *m_0, Value *indent_1) {
 while (1) {

incRef(m_0, 1);

incRef(indent_1, 1);

// type-unknown empty?
// #line 1387 "core"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", m_0, "core", 1387);

// type-unknown map
// #line 1387 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, string_list_393, "core", 1387);
if (!isNothing(rslt3)) {
dec_and_free(m_0, 1);
dec_and_free(indent_1, 2);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);

// type-unknown seq
// #line 1388 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1388);
Value *h_5;
Value *tail_6;
Value **destArgs7[2] = {&h_5, &tail_6};
destructValue("core", "1388", (Value *)rslt4, 2, destArgs7);

// static-fixed
// #line 1389 "core"
Value *rslt8 = show_kv_1053(empty_list, h_5, indent_1);

// static-fixed
// #line 1389 "core"
Value *rslt9 = cons_275(empty_list, strPtr27, rslt8);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl1114;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)indent_1, (List *)dynArity10->closures);
Function *anon_1115 = malloc_function(1);
anon_1115->name = "anon";
anon_1115->arityCount = 1;
anon_1115->arities[0] = dynArity10;
Value *fn1113 = (Value *)anon_1115;

// type-unknown flat-map
// #line 1390 "core"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", tail_6, fn1113, "core", 1390);

// call-list
// #line 1393 "core"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr28, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 1389 "core"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 1389 "core"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt9, rslt15);
return(rslt16);
}

};};
FnArity ArrayNode_show_STAR__1116 = {FnArityType, -1, 2, (List *)0, 0, ArrayNode_show_STAR__1112};
Value *arityImpl1119(List *closures, Value *arg3) {
while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1402", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1403 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", val5, k_0, "core", 1403);

// static-variadic
// #line 1404 "core"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)v_1, varArgs7);
varArgs7 = (List *)listCons((Value *)_EQ__554, varArgs7);
Value *rslt8 = partial_969(empty_list, (Value *)varArgs7);

// type-unknown flat-map
// #line 1403 "core"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt6, rslt8, "core", 1403);
return(rslt9);

};};
Value *ArrayNode__EQ__STAR__1117(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;

// type-known for instance?
// #line 1401 "core"
Value *rslt3 = arityImpl175(empty_list, reifiedPtr178, y_1);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 2);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown seq
// #line 1402 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", x_0, "core", 1402);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1119;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)y_1, (List *)dynArity5->closures);
Function *anon_1120 = malloc_function(1);
anon_1120->name = "anon";
anon_1120->arityCount = 1;
anon_1120->arities[0] = dynArity5;
Value *fn1118 = (Value *)anon_1120;

// static-fixed
// #line 1402 "core"
Value *rslt6 = every_977(empty_list, rslt4, fn1118);
andRslt2 = rslt6;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 1405 "core"
Value *rslt7 = maybe_4(empty_list, x_0);
return(rslt7);
andRslt2 = rslt7;
}
}

};};
FnArity ArrayNode__EQ__STAR__1121 = {FnArityType, -1, 2, (List *)0, 0, ArrayNode__EQ__STAR__1117};
Value *ArrayNode_seq_1122(List *closures, Value *n_0) {
 while (1) {

// type-known for hash-seq
// #line 1397 "core"
Value *rslt1 = ArrayNode_hash_seq_1004(empty_list, n_0, empty_list_0);
return(rslt1);

};};
FnArity ArrayNode_seq_1123 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_seq_1122};
Value *ArrayNode_type_name_1124(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr29);

};};
FnArity ArrayNode_type_name_1125 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_type_name_1124};

// --------- anon -------------
Value *fn1127;
Value *arityImpl1128(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1409", (Value *)arg3, 3, destArgs4);

dec_and_free(v_1, 1);

dec_and_free(tail_2, 1);
return(k_0);

};};
FnArity staticArity1129 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1128};
Function anon_1130 = {FunctionType, -1, "anon", 1, {&staticArity1129}};
Value *fn1127 = (Value *)&anon_1130;

Value *ArrayNode_keys_1126(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1409 "core"
Value *rslt1 = ArrayNode_seq_1122(empty_list, m_0);

// type-unknown map
// #line 1409 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1127, "core", 1409);
return(rslt2);

};};
FnArity ArrayNode_keys_1131 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_keys_1126};

// --------- anon -------------
Value *fn1133;
Value *arityImpl1134(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1411", (Value *)arg3, 3, destArgs4);

dec_and_free(k_0, 1);

dec_and_free(tail_2, 1);
return(v_1);

};};
FnArity staticArity1135 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1134};
Function anon_1136 = {FunctionType, -1, "anon", 1, {&staticArity1135}};
Value *fn1133 = (Value *)&anon_1136;

Value *ArrayNode_vals_1132(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1411 "core"
Value *rslt1 = ArrayNode_seq_1122(empty_list, m_0);

// type-unknown map
// #line 1411 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1133, "core", 1411);
return(rslt2);

};};
FnArity ArrayNode_vals_1137 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_vals_1132};
Value *ArrayNode_get_1138(List *closures, Value *m_0, Value *k_1) {
 while (1) {
return(hashMapGet(m_0, k_1));
};};
FnArity ArrayNode_get_1139 = {FnArityType, -1, 2, (List *)0, 0, ArrayNode_get_1138};
Value *ArrayNode_get_1140(List *closures, Value *m_0, Value *k_1, Value *not_found_2) {
 while (1) {

// type-known for get
// #line 1415 "core"
Value *rslt3 = ArrayNode_get_1138(empty_list, m_0, k_1);
if (!isNothing(rslt3)) {
dec_and_free(not_found_2, 1);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);
return(not_found_2);
}

};};
FnArity ArrayNode_get_1141 = {FnArityType, -1, 3, (List *)0, 0, ArrayNode_get_1140};
Value *ArrayNode_zero_1142(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(emptyBMI_141);

};};
FnArity ArrayNode_zero_1143 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_zero_1142};

// --------- anon -------------
Value *fn1145;

// --------- anon -------------
Value *fn1147;
Value *arityImpl1148(List *closures, Value *acc_0, Value *pair_1) {
 while (1) {
Value *f_2 = assoc_1032;

// call-list
// #line 1370 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)pair_1, newList3);
newList3 = listCons((Value *)acc_0, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity staticArity1149 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1148};
Function anon_1150 = {FunctionType, -1, "anon", 1, {&staticArity1149}};
Value *fn1147 = (Value *)&anon_1150;

Value *arityImpl1146(List *closures, Value *acc_0, Value *mval_1) {
 while (1) {

// type-unknown seq
// #line 1368 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", mval_1, "core", 1368);

// type-unknown reduce
// #line 1368 "core"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, acc_0, fn1147, "core", 1368);
return(rslt3);

};};
FnArity staticArity1151 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1146};
Function anon_1152 = {FunctionType, -1, "anon", 1, {&staticArity1151}};
Value *fn1145 = (Value *)&anon_1152;

Value *ArrayNode_comp_STAR__1144(List *closures, Value *mval_0, Value *mvals_1) {
 while (1) {

// type-unknown reduce
// #line 1366 "core"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", mvals_1, mval_0, fn1145, "core", 1366);
return(rslt2);

};};
FnArity ArrayNode_comp_STAR__1153 = {FnArityType, -1, 2, (List *)0, 0, ArrayNode_comp_STAR__1144};
Value *ArrayNode_empty_QM__1154(List *closures, Value *x_0) {
 while (1) {
Value *andRslt1;

// type-known for count
// #line 1374 "core"
Value *rslt2 = ArrayNode_count_1000(empty_list, x_0);

// static-fixed
// #line 1374 "core"
Value *rslt3 = _EQ__557(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 1375 "core"
Value *rslt4 = maybe_4(empty_list, emptyBMI_141);
return(rslt4);
andRslt1 = rslt4;
}

};};
FnArity ArrayNode_empty_QM__1155 = {FnArityType, -1, 1, (List *)0, 0, ArrayNode_empty_QM__1154};

// --------- anon -------------
Value *fn1157;
Value *arityImpl1158(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1380", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// type-unknown string-list
// #line 1381 "core"
Value *rslt5 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", k_0, "core", 1381);

// call-list
// #line 1381 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr4, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 1381 "core"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_1, "core", 1381);

// call-list
// #line 1381 "core"
List *newList9 = empty_list;
newList9 = listCons((Value *)rslt8, newList9);
newList9 = listCons((Value *)rslt7, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown comp*
// #line 1381 "core"
Value *rslt11 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt5, rslt10, "core", 1381);
return(rslt11);

};};
FnArity staticArity1159 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1158};
Function anon_1160 = {FunctionType, -1, "anon", 1, {&staticArity1159}};
Value *fn1157 = (Value *)&anon_1160;

Value *HashCollisionNode_string_list_1156(List *closures, Value *n_0) {
 while (1) {

// type-unknown seq
// #line 1379 "core"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", n_0, "core", 1379);
Value *a_list_2 = rslt1;

// type-unknown map
// #line 1380 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", a_list_2, fn1157, "core", 1380);
Value *kv_strs_4 = rslt3;

// call-list
// #line 1382 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr27, newList5);
Value *rslt6 = (Value *)newList5;

// call-list
// #line 1383 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr17, newList7);
Value *rslt8 = (Value *)newList7;

// static-fixed
// #line 1383 "core"
Value *rslt9 = interpose_503(empty_list, kv_strs_4, rslt8);

// type-unknown flatten
// #line 1383 "core"
Value *rslt10 = proto1Arg(&flatten_Implementations_251, "<nothing>/flatten", rslt9, "core", 1383);

// call-list
// #line 1384 "core"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr28, newList11);
Value *rslt12 = (Value *)newList11;

// call-list
// #line 1382 "core"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt10, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 1382 "core"
Value *rslt15 = List_comp_STAR__825(empty_list, rslt6, rslt14);
return(rslt15);

};};
FnArity HashCollisionNode_string_list_1161 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_string_list_1156};
Value *arityImpl1164(List *closures, Value *kv_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1392 "core"
Value *rslt2 = show_kv_1053(empty_list, kv_0, val1);

// static-variadic
// #line 1391 "core"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)rslt2, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr4, varArgs3);
varArgs3 = (List *)listCons((Value *)val1, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr19, varArgs3);
Value *rslt4 = list_STAR__483(empty_list, (Value *)varArgs3);
return(rslt4);

};};
Value *HashCollisionNode_show_STAR__1162(List *closures, Value *m_0, Value *indent_1) {
 while (1) {

incRef(m_0, 1);

incRef(indent_1, 1);

// type-unknown empty?
// #line 1387 "core"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", m_0, "core", 1387);

// type-unknown map
// #line 1387 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, string_list_393, "core", 1387);
if (!isNothing(rslt3)) {
dec_and_free(m_0, 1);
dec_and_free(indent_1, 2);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);

// type-unknown seq
// #line 1388 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1388);
Value *h_5;
Value *tail_6;
Value **destArgs7[2] = {&h_5, &tail_6};
destructValue("core", "1388", (Value *)rslt4, 2, destArgs7);

// static-fixed
// #line 1389 "core"
Value *rslt8 = show_kv_1053(empty_list, h_5, indent_1);

// static-fixed
// #line 1389 "core"
Value *rslt9 = cons_275(empty_list, strPtr27, rslt8);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl1164;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)indent_1, (List *)dynArity10->closures);
Function *anon_1165 = malloc_function(1);
anon_1165->name = "anon";
anon_1165->arityCount = 1;
anon_1165->arities[0] = dynArity10;
Value *fn1163 = (Value *)anon_1165;

// type-unknown flat-map
// #line 1390 "core"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", tail_6, fn1163, "core", 1390);

// call-list
// #line 1393 "core"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr28, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 1389 "core"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 1389 "core"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt9, rslt15);
return(rslt16);
}

};};
FnArity HashCollisionNode_show_STAR__1166 = {FnArityType, -1, 2, (List *)0, 0, HashCollisionNode_show_STAR__1162};
Value *arityImpl1169(List *closures, Value *arg3) {
while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1402", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1403 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", val5, k_0, "core", 1403);

// static-variadic
// #line 1404 "core"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)v_1, varArgs7);
varArgs7 = (List *)listCons((Value *)_EQ__554, varArgs7);
Value *rslt8 = partial_969(empty_list, (Value *)varArgs7);

// type-unknown flat-map
// #line 1403 "core"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt6, rslt8, "core", 1403);
return(rslt9);

};};
Value *HashCollisionNode__EQ__STAR__1167(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;

// type-known for instance?
// #line 1401 "core"
Value *rslt3 = arityImpl175(empty_list, reifiedPtr178, y_1);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 2);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown seq
// #line 1402 "core"
Value *rslt4 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", x_0, "core", 1402);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1169;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)y_1, (List *)dynArity5->closures);
Function *anon_1170 = malloc_function(1);
anon_1170->name = "anon";
anon_1170->arityCount = 1;
anon_1170->arities[0] = dynArity5;
Value *fn1168 = (Value *)anon_1170;

// static-fixed
// #line 1402 "core"
Value *rslt6 = every_977(empty_list, rslt4, fn1168);
andRslt2 = rslt6;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 1405 "core"
Value *rslt7 = maybe_4(empty_list, x_0);
return(rslt7);
andRslt2 = rslt7;
}
}

};};
FnArity HashCollisionNode__EQ__STAR__1171 = {FnArityType, -1, 2, (List *)0, 0, HashCollisionNode__EQ__STAR__1167};
Value *HashCollisionNode_seq_1172(List *closures, Value *n_0) {
 while (1) {

// type-known for hash-seq
// #line 1397 "core"
Value *rslt1 = HashCollisionNode_hash_seq_1018(empty_list, n_0, empty_list_0);
return(rslt1);

};};
FnArity HashCollisionNode_seq_1173 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_seq_1172};
Value *HashCollisionNode_type_name_1174(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr29);

};};
FnArity HashCollisionNode_type_name_1175 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_type_name_1174};

// --------- anon -------------
Value *fn1177;
Value *arityImpl1178(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1409", (Value *)arg3, 3, destArgs4);

dec_and_free(v_1, 1);

dec_and_free(tail_2, 1);
return(k_0);

};};
FnArity staticArity1179 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1178};
Function anon_1180 = {FunctionType, -1, "anon", 1, {&staticArity1179}};
Value *fn1177 = (Value *)&anon_1180;

Value *HashCollisionNode_keys_1176(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1409 "core"
Value *rslt1 = HashCollisionNode_seq_1172(empty_list, m_0);

// type-unknown map
// #line 1409 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1177, "core", 1409);
return(rslt2);

};};
FnArity HashCollisionNode_keys_1181 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_keys_1176};

// --------- anon -------------
Value *fn1183;
Value *arityImpl1184(List *closures, Value *arg3) {
 while (1) {
Value *k_0;
Value *v_1;
Value *tail_2;
Value **destArgs4[3] = {&k_0, &v_1, &tail_2};
destructValue("core", "1411", (Value *)arg3, 3, destArgs4);

dec_and_free(k_0, 1);

dec_and_free(tail_2, 1);
return(v_1);

};};
FnArity staticArity1185 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1184};
Function anon_1186 = {FunctionType, -1, "anon", 1, {&staticArity1185}};
Value *fn1183 = (Value *)&anon_1186;

Value *HashCollisionNode_vals_1182(List *closures, Value *m_0) {
 while (1) {

// type-known for seq
// #line 1411 "core"
Value *rslt1 = HashCollisionNode_seq_1172(empty_list, m_0);

// type-unknown map
// #line 1411 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn1183, "core", 1411);
return(rslt2);

};};
FnArity HashCollisionNode_vals_1187 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_vals_1182};
Value *HashCollisionNode_get_1188(List *closures, Value *m_0, Value *k_1) {
 while (1) {
return(hashMapGet(m_0, k_1));
};};
FnArity HashCollisionNode_get_1189 = {FnArityType, -1, 2, (List *)0, 0, HashCollisionNode_get_1188};
Value *HashCollisionNode_get_1190(List *closures, Value *m_0, Value *k_1, Value *not_found_2) {
 while (1) {

// type-known for get
// #line 1415 "core"
Value *rslt3 = HashCollisionNode_get_1188(empty_list, m_0, k_1);
if (!isNothing(rslt3)) {
dec_and_free(not_found_2, 1);
return(maybeExtract(rslt3));
} else {
dec_and_free(rslt3, 1);
return(not_found_2);
}

};};
FnArity HashCollisionNode_get_1191 = {FnArityType, -1, 3, (List *)0, 0, HashCollisionNode_get_1190};
Value *HashCollisionNode_zero_1192(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(emptyBMI_141);

};};
FnArity HashCollisionNode_zero_1193 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_zero_1192};

// --------- anon -------------
Value *fn1195;

// --------- anon -------------
Value *fn1197;
Value *arityImpl1198(List *closures, Value *acc_0, Value *pair_1) {
 while (1) {
Value *f_2 = assoc_1032;

// call-list
// #line 1370 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)pair_1, newList3);
newList3 = listCons((Value *)acc_0, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity staticArity1199 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1198};
Function anon_1200 = {FunctionType, -1, "anon", 1, {&staticArity1199}};
Value *fn1197 = (Value *)&anon_1200;

Value *arityImpl1196(List *closures, Value *acc_0, Value *mval_1) {
 while (1) {

// type-unknown seq
// #line 1368 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", mval_1, "core", 1368);

// type-unknown reduce
// #line 1368 "core"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, acc_0, fn1197, "core", 1368);
return(rslt3);

};};
FnArity staticArity1201 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1196};
Function anon_1202 = {FunctionType, -1, "anon", 1, {&staticArity1201}};
Value *fn1195 = (Value *)&anon_1202;

Value *HashCollisionNode_comp_STAR__1194(List *closures, Value *mval_0, Value *mvals_1) {
 while (1) {

// type-unknown reduce
// #line 1366 "core"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", mvals_1, mval_0, fn1195, "core", 1366);
return(rslt2);

};};
FnArity HashCollisionNode_comp_STAR__1203 = {FnArityType, -1, 2, (List *)0, 0, HashCollisionNode_comp_STAR__1194};
Value *HashCollisionNode_empty_QM__1204(List *closures, Value *x_0) {
 while (1) {
Value *andRslt1;

// type-known for count
// #line 1374 "core"
Value *rslt2 = HashCollisionNode_count_1012(empty_list, x_0);

// static-fixed
// #line 1374 "core"
Value *rslt3 = _EQ__557(empty_list, numPtr0, rslt2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 1375 "core"
Value *rslt4 = maybe_4(empty_list, emptyBMI_141);
return(rslt4);
andRslt1 = rslt4;
}

};};
FnArity HashCollisionNode_empty_QM__1205 = {FnArityType, -1, 1, (List *)0, 0, HashCollisionNode_empty_QM__1204};

// --------- hash-map -------------
Value *hash_map_1207;

// --------- anon -------------
Value *fn1209;
Value *arityImpl1210(List *closures, Value *m_0, Value *arg4) {
 while (1) {
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1422", (Value *)arg4, 3, destArgs5);

incRef(k_1, 1);

dec_and_free(tail_3, 1);

// type-unknown sha1
// #line 1423 "core"
Value *rslt6 = proto1Arg(&sha1_Implementations_392, "<nothing>/sha1", k_1, "core", 1423);

// type-unknown assoc*
// #line 1423 "core"
Value *rslt7 = proto5Arg(&assoc_STAR__Implementations_10, "<nothing>/assoc*", m_0, k_1, v_2, rslt6, numPtr0, "core", 1423);
return(rslt7);

};};
FnArity staticArity1211 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1210};
Function anon_1212 = {FunctionType, -1, "anon", 1, {&staticArity1211}};
Value *fn1209 = (Value *)&anon_1212;

Value *hash_map_1208(List *closures, Value *arg1) {
 while (1) {
Value *kv_pairs_0 = (Value *)arg1;

// static-fixed
// #line 1420 "core"
Value *rslt2 = partition_959(empty_list, kv_pairs_0, numPtr2);

// type-unknown reduce
// #line 1420 "core"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, emptyBMI_141, fn1209, "core", 1420);
return(rslt3);

};};
FnArity hash_map_1213 = {FnArityType, -1, 1, (List *)0, 1, hash_map_1208};
Function hash_map_1214 = {FunctionType, -1, "hash-map", 1, {&hash_map_1213}};
Value *hash_map_1207 = (Value *)&hash_map_1214;


// --------- filter-keys -------------
Value *filter_keys_1216;
Value *arityImpl1221(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[4] = {&val1, &val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs5);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1430 "core"
Value *rslt4 = assoc_1033(empty_list, val1, val2, val3);
return(rslt4);

};};
Value *arityImpl1219(List *closures, Value *m_0, Value *arg4) {
while (1) {

incRef(m_0, 1);
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1429", (Value *)arg4, 3, destArgs5);

incRef(k_1, 1);

dec_and_free(tail_3, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs13);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1430 "core"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, k_1);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, k_1);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(k_1, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl1221;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)v_2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)k_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)m_0, (List *)dynArity11->closures);
Function *anon_1222 = malloc_function(1);
anon_1222->name = "anon";
anon_1222->arityCount = 1;
anon_1222->arities[0] = dynArity11;
Value *fn1220 = (Value *)anon_1222;

// type-unknown map
// #line 1430 "core"
Value *rslt12 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt10, fn1220, "core", 1430);
if (!isNothing(rslt12)) {
dec_and_free(m_0, 1);
return(maybeExtract(rslt12));
} else {
dec_and_free(rslt12, 1);
return(m_0);
}

};};
Value *filter_keys_1217(List *closures, Value *m_0, Value *f_1) {
 while (1) {

// type-unknown seq
// #line 1428 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1428);

// static-variadic
// #line 1428 "core"
List *varArgs3 = empty_list;
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 2;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1219;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)f_1, (List *)dynArity5->closures);
Function *anon_1223 = malloc_function(1);
anon_1223->name = "anon";
anon_1223->arityCount = 1;
anon_1223->arities[0] = dynArity5;
Value *fn1218 = (Value *)anon_1223;

// type-unknown reduce
// #line 1428 "core"
Value *rslt6 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, rslt4, fn1218, "core", 1428);
return(rslt6);

};};
FnArity filter_keys_1224 = {FnArityType, -1, 2, (List *)0, 0, filter_keys_1217};
Function filter_keys_1225 = {FunctionType, -1, "filter-keys", 1, {&filter_keys_1224}};
Value *filter_keys_1216 = (Value *)&filter_keys_1225;


// --------- remove-keys -------------
Value *remove_keys_1227;
Value *arityImpl1232(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs2[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs2);

dec_and_free(closuresTail, 1);
return(val1);

};};
Value *arityImpl1230(List *closures, Value *m_0, Value *arg4) {
while (1) {

incRef(m_0, 1);
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1437", (Value *)arg4, 3, destArgs5);

incRef(k_1, 1);

dec_and_free(tail_3, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs14);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1438 "core"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, k_1);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, k_1);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(k_1, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl1232;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)m_0, (List *)dynArity11->closures);
Function *anon_1233 = malloc_function(1);
anon_1233->name = "anon";
anon_1233->arityCount = 1;
anon_1233->arities[0] = dynArity11;
Value *fn1231 = (Value *)anon_1233;

// type-unknown map
// #line 1438 "core"
Value *rslt12 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt10, fn1231, "core", 1438);
if (!isNothing(rslt12)) {
dec_and_free(v_2, 1);
dec_and_free(m_0, 1);
dec_and_free(k_1, 1);
return(maybeExtract(rslt12));
} else {
dec_and_free(rslt12, 1);

// static-fixed
// #line 1439 "core"
Value *rslt13 = assoc_1033(empty_list, m_0, k_1, v_2);
return(rslt13);
}

};};
Value *remove_keys_1228(List *closures, Value *m_0, Value *f_1) {
 while (1) {

// type-unknown seq
// #line 1436 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1436);

// static-variadic
// #line 1436 "core"
List *varArgs3 = empty_list;
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 2;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1230;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)f_1, (List *)dynArity5->closures);
Function *anon_1234 = malloc_function(1);
anon_1234->name = "anon";
anon_1234->arityCount = 1;
anon_1234->arities[0] = dynArity5;
Value *fn1229 = (Value *)anon_1234;

// type-unknown reduce
// #line 1436 "core"
Value *rslt6 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, rslt4, fn1229, "core", 1436);
return(rslt6);

};};
FnArity remove_keys_1235 = {FnArityType, -1, 2, (List *)0, 0, remove_keys_1228};
Function remove_keys_1236 = {FunctionType, -1, "remove-keys", 1, {&remove_keys_1235}};
Value *remove_keys_1227 = (Value *)&remove_keys_1236;


// --------- map-vals -------------
Value *map_vals_1238;
Value *arityImpl1241(List *closures, Value *m_0, Value *arg4) {
while (1) {
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1444", (Value *)arg4, 3, destArgs5);

dec_and_free(tail_3, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs12);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1445 "core"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, v_2);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, v_2);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(v_2, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}

// static-fixed
// #line 1445 "core"
Value *rslt11 = assoc_1033(empty_list, m_0, k_1, rslt10);
return(rslt11);

};};
Value *map_vals_1239(List *closures, Value *m_0, Value *f_1) {
 while (1) {

// type-unknown seq
// #line 1443 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "core", 1443);

// static-variadic
// #line 1443 "core"
List *varArgs3 = empty_list;
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 2;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1241;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)f_1, (List *)dynArity5->closures);
Function *anon_1242 = malloc_function(1);
anon_1242->name = "anon";
anon_1242->arityCount = 1;
anon_1242->arities[0] = dynArity5;
Value *fn1240 = (Value *)anon_1242;

// type-unknown reduce
// #line 1443 "core"
Value *rslt6 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, rslt4, fn1240, "core", 1443);
return(rslt6);

};};
FnArity map_vals_1243 = {FnArityType, -1, 2, (List *)0, 0, map_vals_1239};
Function map_vals_1244 = {FunctionType, -1, "map-vals", 1, {&map_vals_1243}};
Value *map_vals_1238 = (Value *)&map_vals_1244;


// --------- get-in* -------------
Value *get_in_STAR__1246;
Value *arityImpl1253(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 1452 "core"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, v_0, "core", 1452);
return(rslt2);

};};
Value *arityImpl1251(List *closures, Value *sub_m_0) {
while (1) {
Value *val1;
Value *val3;
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[4] = {&val1, &val3, &val9, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs11);

dec_and_free(closuresTail, 1);

// type-unknown rest
// #line 1452 "core"
Value *rslt2 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val1, "core", 1452);
Value *rslt7;
FnArity *arity4 = findFnArity(val3, 2);
if(arity4 != (FnArity *)0 && !arity4->variadic) { FnType2 *fn6 = (FnType2 *)arity4->fn;


// dynamic fn type
// #line 1452 "core"
rslt7 = fn6(arity4->closures, sub_m_0, rslt2);
} else if(arity4 != (FnArity *)0 && arity4->variadic) { FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(rslt2, dynArgs5);
dynArgs5 = (List *)listCons(sub_m_0, dynArgs5);

// dynamic fn type
// #line 1452 "core"
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val3)->name, "core", 1452);
  abort();
}
dec_and_free(val3, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1253;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)val9, (List *)dynArity8->closures);
Function *anon_1254 = malloc_function(1);
anon_1254->name = "anon";
anon_1254->arityCount = 1;
anon_1254->arities[0] = dynArity8;
Value *fn1252 = (Value *)anon_1254;

// type-unknown flat-map
// #line 1452 "core"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt7, fn1252, "core", 1452);
return(rslt10);

};};
Value *arityImpl1249(List *closures, Value *k_0) {
while (1) {
Value *val1;
Value *val4;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[5] = {&val1, &val4, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs8);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1451 "core"
Value *rslt2 = proto2Arg(&get_Implementations_362, "<nothing>/get", val1, k_0, "core", 1451);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1251;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val6, (List *)dynArity3->closures);
Function *anon_1255 = malloc_function(1);
anon_1255->name = "anon";
anon_1255->arityCount = 1;
anon_1255->arities[0] = dynArity3;
Value *fn1250 = (Value *)anon_1255;

// type-unknown flat-map
// #line 1451 "core"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn1250, "core", 1451);
return(rslt7);

};};
Value *get_in_STAR__1247(List *closures, Value *m_0, Value *path_1) {
 while (1) {

incRef(m_0, 1);

incRef(path_1, 2);
Value *orRslt2;
Value *andRslt3;

// type-unknown empty?
// #line 1448 "core"
Value *rslt4 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", path_1, "core", 1448);
andRslt3 = rslt4;
if (isNothing(andRslt3)) {
dec_and_free(m_0, 1);
} else {
dec_and_free(andRslt3, 1);

// static-fixed
// #line 1449 "core"
Value *rslt5 = maybe_4(empty_list, m_0);
andRslt3 = rslt5;
}
orRslt2 = andRslt3;
if (!isNothing(orRslt2)) {
dec_and_free(m_0, 1);
dec_and_free(path_1, 2);
dec_and_free(get_in_STAR__1246, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);

// type-unknown first
// #line 1450 "core"
Value *rslt6 = proto1Arg(&first_Implementations_320, "<nothing>/first", path_1, "core", 1450);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1249;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)path_1, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)get_in_STAR__1246, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)wrapper_7, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)m_0, (List *)dynArity8->closures);
Function *anon_1256 = malloc_function(1);
anon_1256->name = "anon";
anon_1256->arityCount = 1;
anon_1256->arities[0] = dynArity8;
Value *fn1248 = (Value *)anon_1256;

// type-unknown flat-map
// #line 1450 "core"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_7, fn1248, "core", 1450);
return(rslt9);
orRslt2 = rslt9;
}

};};
FnArity get_in_STAR__1257 = {FnArityType, -1, 2, (List *)0, 0, get_in_STAR__1247};
Function get_in_STAR__1258 = {FunctionType, -1, "get-in*", 1, {&get_in_STAR__1257}};
Value *get_in_STAR__1246 = (Value *)&get_in_STAR__1258;


// --------- get-in -------------
Value *get_in_1260;
Value *get_in_1261(List *closures, Value *m_0, Value *path_1) {
 while (1) {

incRef(path_1, 1);
Value *andRslt2;

// type-unknown count
// #line 1456 "core"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", path_1, "core", 1456);

// static-fixed
// #line 1456 "core"
Value *rslt4 = _LT__531(empty_list, numPtr0, rslt3);
andRslt2 = rslt4;
if (isNothing(andRslt2)) {
dec_and_free(m_0, 1);
dec_and_free(path_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);

// type-unknown seq
// #line 1457 "core"
Value *rslt5 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", path_1, "core", 1457);

// static-fixed
// #line 1457 "core"
Value *rslt6 = get_in_STAR__1247(empty_list, m_0, rslt5);
return(rslt6);
andRslt2 = rslt6;
}

};};
FnArity get_in_1262 = {FnArityType, -1, 2, (List *)0, 0, get_in_1261};
Function get_in_1263 = {FunctionType, -1, "get-in", 1, {&get_in_1262}};
Value *get_in_1260 = (Value *)&get_in_1263;


// --------- update-in -------------
Value *update_in_1265;
Value *arityImpl1270(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[5] = {&val1, &val2, &val3, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs11);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1465 "core"
Value *rslt8;
if((val4)->type != FunctionType) {
rslt8 = invoke_368(empty_list, val4, v_0);
} else {
FnArity *arity5 = findFnArity(val4, 1);
if(arity5 != (FnArity *)0 && !arity5->variadic) {
FnType1 *fn7 = (FnType1 *)arity5->fn;
rslt8 = fn7(arity5->closures, v_0);
} else if(arity5 != (FnArity *)0 && arity5->variadic) {
FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(v_0, dynArgs6);
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val4)->name);
  abort();
}
dec_and_free(val4, 1);
}

// static-fixed
// #line 1465 "core"
Value *rslt9 = assoc_1033(empty_list, val2, val3, rslt8);

// type-unknown wrap
// #line 1464 "core"
Value *rslt10 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt9, "core", 1464);
return(rslt10);

};};
Value *arityImpl1268(List *closures, Value *k_0) {
while (1) {

incRef(k_0, 1);
Value *val1;
Value *val4;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[4] = {&val1, &val4, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs7);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1464 "core"
Value *rslt2 = proto2Arg(&get_Implementations_362, "<nothing>/get", val1, k_0, "core", 1464);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1270;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)k_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val1, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
Function *anon_1271 = malloc_function(1);
anon_1271->name = "anon";
anon_1271->arityCount = 1;
anon_1271->arities[0] = dynArity3;
Value *fn1269 = (Value *)anon_1271;

// type-unknown flat-map
// #line 1464 "core"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn1269, "core", 1464);
return(rslt6);

};};
Value *arityImpl1278(List *closures, Value *new_m_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[4] = {&val1, &val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs6);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1469 "core"
Value *rslt4 = assoc_1033(empty_list, val2, val3, new_m_0);

// type-unknown wrap
// #line 1468 "core"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "core", 1468);
return(rslt5);

};};
Value *arityImpl1276(List *closures, Value *sub_m_0) {
while (1) {
Value *val1;
Value *val3;
Value *val4;
Value *val10;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[7] = {&val1, &val3, &val4, &val10, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs14);

dec_and_free(closuresTail, 1);

// type-unknown rest
// #line 1468 "core"
Value *rslt2 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val1, "core", 1468);
Value *rslt8;
FnArity *arity5 = findFnArity(val4, 3);
if(arity5 != (FnArity *)0 && !arity5->variadic) { FnType3 *fn7 = (FnType3 *)arity5->fn;


// dynamic fn type
// #line 1468 "core"
rslt8 = fn7(arity5->closures, sub_m_0, rslt2, val3);
} else if(arity5 != (FnArity *)0 && arity5->variadic) { FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(val3, dynArgs6);
dynArgs6 = (List *)listCons(rslt2, dynArgs6);
dynArgs6 = (List *)listCons(sub_m_0, dynArgs6);

// dynamic fn type
// #line 1468 "core"
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val4)->name, "core", 1468);
  abort();
}
dec_and_free(val4, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl1278;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)val10, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)val11, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)val12, (List *)dynArity9->closures);
Function *anon_1279 = malloc_function(1);
anon_1279->name = "anon";
anon_1279->arityCount = 1;
anon_1279->arities[0] = dynArity9;
Value *fn1277 = (Value *)anon_1279;

// type-unknown flat-map
// #line 1468 "core"
Value *rslt13 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt8, fn1277, "core", 1468);
return(rslt13);

};};
Value *arityImpl1274(List *closures, Value *k_0) {
while (1) {

incRef(k_0, 1);
Value *val1;
Value *val4;
Value *val5;
Value *val6;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[6] = {&val1, &val4, &val5, &val6, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs9);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1467 "core"
Value *rslt2 = proto2Arg(&get_Implementations_362, "<nothing>/get", val1, k_0, "core", 1467);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1276;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val1, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)k_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val6, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val7, (List *)dynArity3->closures);
Function *anon_1280 = malloc_function(1);
anon_1280->name = "anon";
anon_1280->arityCount = 1;
anon_1280->arities[0] = dynArity3;
Value *fn1275 = (Value *)anon_1280;

// type-unknown flat-map
// #line 1467 "core"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn1275, "core", 1467);
return(rslt8);

};};
Value *update_in_1266(List *closures, Value *m_0, Value *path_1, Value *f_2) {
 while (1) {

incRef(m_0, 2);

incRef(path_1, 4);

incRef(f_2, 1);
Value *orRslt3;
Value *andRslt4;

// type-unknown empty?
// #line 1460 "core"
Value *rslt5 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", path_1, "core", 1460);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
dec_and_free(m_0, 1);
} else {
dec_and_free(andRslt4, 1);

// static-fixed
// #line 1461 "core"
Value *rslt6 = maybe_4(empty_list, m_0);
andRslt4 = rslt6;
}
orRslt3 = andRslt4;
if (!isNothing(orRslt3)) {
dec_and_free(f_2, 2);
dec_and_free(m_0, 2);
dec_and_free(path_1, 4);
dec_and_free(update_in_1265, 1);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);
Value *andRslt7;

// type-unknown count
// #line 1462 "core"
Value *rslt8 = proto1Arg(&count_Implementations_300, "<nothing>/count", path_1, "core", 1462);

// static-fixed
// #line 1462 "core"
Value *rslt9 = _EQ__557(empty_list, numPtr1, rslt8);
andRslt7 = rslt9;
if (isNothing(andRslt7)) {
dec_and_free(f_2, 1);
dec_and_free(m_0, 1);
dec_and_free(path_1, 1);
} else {
dec_and_free(andRslt7, 1);

// type-unknown first
// #line 1463 "core"
Value *rslt10 = proto1Arg(&first_Implementations_320, "<nothing>/first", path_1, "core", 1463);
Value *wrapper_11 = rslt10;

incRef(wrapper_11, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl1268;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_11, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)f_2, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)m_0, (List *)dynArity12->closures);
Function *anon_1272 = malloc_function(1);
anon_1272->name = "anon";
anon_1272->arityCount = 1;
anon_1272->arities[0] = dynArity12;
Value *fn1267 = (Value *)anon_1272;

// type-unknown flat-map
// #line 1463 "core"
Value *rslt13 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_11, fn1267, "core", 1463);
andRslt7 = rslt13;
}
orRslt3 = andRslt7;
if (!isNothing(orRslt3)) {
dec_and_free(f_2, 1);
dec_and_free(m_0, 1);
dec_and_free(path_1, 2);
dec_and_free(update_in_1265, 1);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// type-unknown first
// #line 1466 "core"
Value *rslt14 = proto1Arg(&first_Implementations_320, "<nothing>/first", path_1, "core", 1466);
Value *wrapper_15 = rslt14;

incRef(wrapper_15, 1);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl1274;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)path_1, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)f_2, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)update_in_1265, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)wrapper_15, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)m_0, (List *)dynArity16->closures);
Function *anon_1281 = malloc_function(1);
anon_1281->name = "anon";
anon_1281->arityCount = 1;
anon_1281->arities[0] = dynArity16;
Value *fn1273 = (Value *)anon_1281;

// type-unknown flat-map
// #line 1466 "core"
Value *rslt17 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_15, fn1273, "core", 1466);
return(rslt17);
orRslt3 = rslt17;
}
}

};};
FnArity update_in_1282 = {FnArityType, -1, 3, (List *)0, 0, update_in_1266};
Function update_in_1283 = {FunctionType, -1, "update-in", 1, {&update_in_1282}};
Value *update_in_1265 = (Value *)&update_in_1283;


// --------- update -------------
Value *update_1285;
Value *arityImpl1288(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[5] = {&val1, &val2, &val3, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs11);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1473 "core"
Value *rslt8;
if((val4)->type != FunctionType) {
rslt8 = invoke_368(empty_list, val4, v_0);
} else {
FnArity *arity5 = findFnArity(val4, 1);
if(arity5 != (FnArity *)0 && !arity5->variadic) {
FnType1 *fn7 = (FnType1 *)arity5->fn;
rslt8 = fn7(arity5->closures, v_0);
} else if(arity5 != (FnArity *)0 && arity5->variadic) {
FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(v_0, dynArgs6);
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val4)->name);
  abort();
}
dec_and_free(val4, 1);
}

// static-fixed
// #line 1473 "core"
Value *rslt9 = assoc_1033(empty_list, val2, val3, rslt8);

// type-unknown wrap
// #line 1472 "core"
Value *rslt10 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt9, "core", 1472);
return(rslt10);

};};
Value *update_1286(List *closures, Value *m_0, Value *key_1, Value *f_2) {
 while (1) {

incRef(m_0, 1);

incRef(key_1, 1);

// type-unknown get
// #line 1472 "core"
Value *rslt3 = proto2Arg(&get_Implementations_362, "<nothing>/get", m_0, key_1, "core", 1472);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1288;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)f_2, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)key_1, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)m_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
Function *anon_1289 = malloc_function(1);
anon_1289->name = "anon";
anon_1289->arityCount = 1;
anon_1289->arities[0] = dynArity5;
Value *fn1287 = (Value *)anon_1289;

// type-unknown flat-map
// #line 1472 "core"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn1287, "core", 1472);
return(rslt6);

};};
FnArity update_1290 = {FnArityType, -1, 3, (List *)0, 0, update_1286};
Function update_1291 = {FunctionType, -1, "update", 1, {&update_1290}};
Value *update_1285 = (Value *)&update_1291;


// --------- assoc-in* -------------
Value *assoc_in_STAR__1293;
Value *arityImpl1298(List *closures, Value *k_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[4] = {&val1, &val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs6);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1480 "core"
Value *rslt4 = assoc_1033(empty_list, val2, k_0, val3);

// type-unknown wrap
// #line 1479 "core"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "core", 1479);
return(rslt5);

};};
Value *arityImpl1296(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val4;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[5] = {&val1, &val4, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs8);

dec_and_free(closuresTail, 1);

// type-unknown first
// #line 1479 "core"
Value *rslt2 = proto1Arg(&first_Implementations_320, "<nothing>/first", val1, "core", 1479);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1298;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val6, (List *)dynArity3->closures);
Function *anon_1299 = malloc_function(1);
anon_1299->name = "anon";
anon_1299->arityCount = 1;
anon_1299->arities[0] = dynArity3;
Value *fn1297 = (Value *)anon_1299;

// type-unknown flat-map
// #line 1479 "core"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn1297, "core", 1479);
return(rslt7);

};};
Value *arityImpl1305(List *closures, Value *new_m_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[4] = {&val1, &val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs6);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1485 "core"
Value *rslt4 = assoc_1033(empty_list, val2, val3, new_m_0);

// type-unknown wrap
// #line 1484 "core"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "core", 1484);
return(rslt5);

};};
Value *arityImpl1302(List *closures, Value *k_0) {
while (1) {

incRef(k_0, 1);
Value *val2;
Value *val11;
Value *val13;
Value *val14;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs22[6] = {&val2, &val11, &val13, &val14, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs22);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-unknown get
// #line 1482 "core"
Value *rslt3 = proto2Arg(&get_Implementations_362, "<nothing>/get", val2, k_0, "core", 1482);
orRslt1 = rslt3;
if (!isNothing(orRslt1)) {

} else {
dec_and_free(orRslt1, 1);

// static-variadic
// #line 1483 "core"
List *varArgs4 = empty_list;
Value *rslt5 = hash_map_1208(empty_list, (Value *)varArgs4);

// static-fixed
// #line 1483 "core"
Value *rslt6 = maybe_4(empty_list, rslt5);
orRslt1 = rslt6;
}
Value *mv_7 = orRslt1;

incRef(mv_7, 1);
Value *andRslt8;
andRslt8 = mv_7;
if (isNothing(andRslt8)) {
dec_and_free(val13, 1);
dec_and_free(mv_7, 1);
dec_and_free(val20, 1);
dec_and_free(val2, 1);
dec_and_free(k_0, 1);
dec_and_free(val14, 1);
dec_and_free(val11, 1);
} else {
dec_and_free(andRslt8, 1);

// type-known for extract
// #line 984 "core"
Value *rslt9 = Maybe_extract_757(empty_list, mv_7);
Value *sub_m_10 = rslt9;

// type-unknown rest
// #line 1484 "core"
Value *rslt12 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val11, "core", 1484);
Value *rslt18;
FnArity *arity15 = findFnArity(val14, 3);
if(arity15 != (FnArity *)0 && !arity15->variadic) { FnType3 *fn17 = (FnType3 *)arity15->fn;


// dynamic fn type
// #line 1484 "core"
rslt18 = fn17(arity15->closures, sub_m_10, rslt12, val13);
} else if(arity15 != (FnArity *)0 && arity15->variadic) { FnType1 *fn17 = (FnType1 *)arity15->fn;
List *dynArgs16 = empty_list;
dynArgs16 = (List *)listCons(val13, dynArgs16);
dynArgs16 = (List *)listCons(rslt12, dynArgs16);
dynArgs16 = (List *)listCons(sub_m_10, dynArgs16);

// dynamic fn type
// #line 1484 "core"
rslt18 = fn17(arity15->closures, (Value *)dynArgs16);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val14)->name, "core", 1484);
  abort();
}
dec_and_free(val14, 1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl1305;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)k_0, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val2, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
Function *anon_1306 = malloc_function(1);
anon_1306->name = "anon";
anon_1306->arityCount = 1;
anon_1306->arities[0] = dynArity19;
Value *fn1304 = (Value *)anon_1306;

// type-unknown flat-map
// #line 1484 "core"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn1304, "core", 1484);
andRslt8 = rslt21;
}
return(andRslt8);

};};
Value *assoc_in_STAR__1294(List *closures, Value *m_0, Value *path_1, Value *v_2) {
 while (1) {

incRef(m_0, 2);

incRef(path_1, 4);

incRef(v_2, 1);
Value *orRslt3;
Value *andRslt4;

// type-unknown empty?
// #line 1476 "core"
Value *rslt5 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", path_1, "core", 1476);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
dec_and_free(m_0, 1);
} else {
dec_and_free(andRslt4, 1);

// static-fixed
// #line 1477 "core"
Value *rslt6 = maybe_4(empty_list, m_0);
andRslt4 = rslt6;
}
orRslt3 = andRslt4;
if (!isNothing(orRslt3)) {
dec_and_free(v_2, 2);
dec_and_free(m_0, 2);
dec_and_free(assoc_in_STAR__1293, 1);
dec_and_free(path_1, 4);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// type-unknown count
// #line 1478 "core"
Value *rslt7 = proto1Arg(&count_Implementations_300, "<nothing>/count", path_1, "core", 1478);

// static-fixed
// #line 1478 "core"
Value *rslt8 = _EQ__557(empty_list, numPtr1, rslt7);
Value *wrapper_9 = rslt8;

incRef(wrapper_9, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl1296;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_9, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)m_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)v_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)path_1, (List *)dynArity10->closures);
Function *anon_1300 = malloc_function(1);
anon_1300->name = "anon";
anon_1300->arityCount = 1;
anon_1300->arities[0] = dynArity10;
Value *fn1295 = (Value *)anon_1300;

// type-unknown flat-map
// #line 1478 "core"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_9, fn1295, "core", 1478);
orRslt3 = rslt11;
if (!isNothing(orRslt3)) {
dec_and_free(v_2, 1);
dec_and_free(m_0, 1);
dec_and_free(assoc_in_STAR__1293, 1);
dec_and_free(path_1, 2);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// type-unknown first
// #line 1481 "core"
Value *rslt12 = proto1Arg(&first_Implementations_320, "<nothing>/first", path_1, "core", 1481);
Value *wrapper_13 = rslt12;

incRef(wrapper_13, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl1302;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)wrapper_13, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)assoc_in_STAR__1293, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)v_2, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)path_1, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)m_0, (List *)dynArity14->closures);
Function *anon_1307 = malloc_function(1);
anon_1307->name = "anon";
anon_1307->arityCount = 1;
anon_1307->arities[0] = dynArity14;
Value *fn1301 = (Value *)anon_1307;

// type-unknown flat-map
// #line 1481 "core"
Value *rslt15 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_13, fn1301, "core", 1481);
return(rslt15);
orRslt3 = rslt15;
}
}

};};
FnArity assoc_in_STAR__1308 = {FnArityType, -1, 3, (List *)0, 0, assoc_in_STAR__1294};
Function assoc_in_STAR__1309 = {FunctionType, -1, "assoc-in*", 1, {&assoc_in_STAR__1308}};
Value *assoc_in_STAR__1293 = (Value *)&assoc_in_STAR__1309;


// --------- assoc-in -------------
Value *assoc_in_1311;
Value *assoc_in_1312(List *closures, Value *m_0, Value *path_1, Value *v_2) {
 while (1) {

// static-fixed
// #line 1488 "core"
Value *rslt3 = assoc_in_STAR__1294(empty_list, m_0, path_1, v_2);

// type-known for extract
// #line 1488 "core"
Value *rslt4 = Maybe_extract_757(empty_list, rslt3);
return(rslt4);

};};
FnArity assoc_in_1313 = {FnArityType, -1, 3, (List *)0, 0, assoc_in_1312};
Function assoc_in_1314 = {FunctionType, -1, "assoc-in", 1, {&assoc_in_1313}};
Value *assoc_in_1311 = (Value *)&assoc_in_1314;


// --------- merge-with -------------
Value *merge_with_1316;
Value *arityImpl1323(List *closures, Value *old_v_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[5] = {&val1, &val2, &val3, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs10);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1497 "core"
Value *rslt8;
if((val4)->type != FunctionType) {
rslt8 = invoke_370(empty_list, val4, old_v_0, val3);
} else {
FnArity *arity5 = findFnArity(val4, 2);
if(arity5 != (FnArity *)0 && !arity5->variadic) {
FnType2 *fn7 = (FnType2 *)arity5->fn;
rslt8 = fn7(arity5->closures, old_v_0, val3);
} else if(arity5 != (FnArity *)0 && arity5->variadic) {
FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(val3, dynArgs6);
dynArgs6 = (List *)listCons(old_v_0, dynArgs6);
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val4)->name);
  abort();
}
dec_and_free(val4, 1);
}

// static-fixed
// #line 1497 "core"
Value *rslt9 = assoc_1033(empty_list, val1, val2, rslt8);
return(rslt9);

};};
Value *arityImpl1321(List *closures, Value *hm_0, Value *arg4) {
while (1) {

incRef(hm_0, 2);
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("core", "1494", (Value *)arg4, 3, destArgs5);

incRef(k_1, 2);

incRef(v_2, 1);

dec_and_free(tail_3, 1);
Value *val8;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[2] = {&val8, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs11);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 1495 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", hm_0, k_1, "core", 1495);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl1323;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)v_2, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)k_1, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)hm_0, (List *)dynArity7->closures);
Function *anon_1324 = malloc_function(1);
anon_1324->name = "anon";
anon_1324->arityCount = 1;
anon_1324->arities[0] = dynArity7;
Value *fn1322 = (Value *)anon_1324;

// type-unknown map
// #line 1495 "core"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt6, fn1322, "core", 1495);
if (!isNothing(rslt9)) {
dec_and_free(v_2, 1);
dec_and_free(k_1, 1);
dec_and_free(hm_0, 1);
return(maybeExtract(rslt9));
} else {
dec_and_free(rslt9, 1);

// static-fixed
// #line 1498 "core"
Value *rslt10 = assoc_1033(empty_list, hm_0, k_1, v_2);
return(rslt10);
}

};};
Value *arityImpl1319(List *closures, Value *hm_0, Value *m_1) {
while (1) {
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val4, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);

// type-unknown seq
// #line 1493 "core"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_1, "core", 1493);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 2;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1321;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_1325 = malloc_function(1);
anon_1325->name = "anon";
anon_1325->arityCount = 1;
anon_1325->arities[0] = dynArity3;
Value *fn1320 = (Value *)anon_1325;

// type-unknown reduce
// #line 1493 "core"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, hm_0, fn1320, "core", 1493);
return(rslt5);

};};
Value *merge_with_1317(List *closures, Value *arg3) {
 while (1) {
Value *merge_fn_0;
Value *hm_1;
Value *ms_2;
Value **destArgs4[3] = {&merge_fn_0, &hm_1, &ms_2};
destructValue("core", "1490", (Value *)arg3, 3, destArgs4);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 2;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1319;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)merge_fn_0, (List *)dynArity5->closures);
Function *anon_1326 = malloc_function(1);
anon_1326->name = "anon";
anon_1326->arityCount = 1;
anon_1326->arities[0] = dynArity5;
Value *fn1318 = (Value *)anon_1326;

// type-known for reduce
// #line 1491 "core"
Value *rslt6 = List_reduce_449(empty_list, ms_2, hm_1, fn1318);
return(rslt6);

};};
FnArity merge_with_1327 = {FnArityType, -1, 1, (List *)0, 1, merge_with_1317};
Function merge_with_1328 = {FunctionType, -1, "merge-with", 1, {&merge_with_1327}};
Value *merge_with_1316 = (Value *)&merge_with_1328;


// --------- add-promise-action -------------
Value *add_promise_action_1330;
Value *add_promise_action_1331(List *closures, Value *p_0, Value *f_1) {
 while (1) {
return(addPromiseAction((Promise *)p_0, f_1));
};};
FnArity add_promise_action_1332 = {FnArityType, -1, 2, (List *)0, 0, add_promise_action_1331};
Function add_promise_action_1333 = {FunctionType, -1, "add-promise-action", 1, {&add_promise_action_1332}};
Value *add_promise_action_1330 = (Value *)&add_promise_action_1333;


// --------- promise -------------
Value *promise_1335;
Value *promise_1336(List *closures) {
 while (1) {
return((Value *)malloc_promise());

};};
FnArity promise_1337 = {FnArityType, -1, 0, (List *)0, 0, promise_1336};
Value *promise_1338(List *closures, Value *v_0) {
 while (1) {
Value *rslt4;
FnArity *arity1 = findFnArity(promise_1335, 0);
if(arity1 != (FnArity *)0 && !arity1->variadic) { FnType0 *fn3 = (FnType0 *)arity1->fn;


// dynamic fn type
// #line 1507 "core"
rslt4 = fn3(arity1->closures);
} else if(arity1 != (FnArity *)0 && arity1->variadic) { FnType1 *fn3 = (FnType1 *)arity1->fn;
List *dynArgs2 = empty_list;

// dynamic fn type
// #line 1507 "core"
rslt4 = fn3(arity1->closures, (Value *)dynArgs2);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)promise_1335)->name, "core", 1507);
  abort();
}
dec_and_free(promise_1335, 1);

// static-fixed
// #line 1507 "core"
Value *rslt5 = deliver_225(empty_list, rslt4, v_0);
return(rslt5);

};};
FnArity promise_1339 = {FnArityType, -1, 1, (List *)0, 0, promise_1338};
Function promise_1340 = {FunctionType, -1, "promise", 2, {&promise_1337, &promise_1339}};
Value *promise_1335 = (Value *)&promise_1340;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str30 = {StringType, -1, 9, 0, "<Promise "};
Value *strPtr30 = (Value *)&str30;
Value *arityImpl1345(List *closures, Value *x_str_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs9);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1517 "core"
Value *rslt3 = address_of_416(empty_list, val2);

// static-variadic
// #line 1517 "core"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
Value *rslt5 = str_526(empty_list, (Value *)varArgs4);

// call-list
// #line 1517 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr2, newList6);
newList6 = listCons((Value *)rslt5, newList6);
newList6 = listCons((Value *)strPtr4, newList6);
newList6 = listCons((Value *)x_str_0, newList6);
newList6 = listCons((Value *)strPtr30, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown wrap
// #line 1516 "core"
Value *rslt8 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt7, "core", 1516);
return(rslt8);

};};
Value *arityImpl1343(List *closures, Value *x_0) {
while (1) {
Value *val4;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val4, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

dec_and_free(closuresTail, 1);

// type-unknown string-list
// #line 1516 "core"
Value *rslt1 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", x_0, "core", 1516);

// type-unknown to-str
// #line 1516 "core"
Value *rslt2 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt1, "core", 1516);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1345;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
Function *anon_1346 = malloc_function(1);
anon_1346->name = "anon";
anon_1346->arityCount = 1;
anon_1346->arities[0] = dynArity3;
Value *fn1344 = (Value *)anon_1346;

// type-unknown flat-map
// #line 1516 "core"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn1344, "core", 1516);
return(rslt6);

};};
Value *Promise_string_list_1341(List *closures, Value *p_0) {
 while (1) {

incRef(p_0, 2);

// static-fixed
// #line 1515 "core"
Value *rslt1 = delivered_230(empty_list, p_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1343;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)wrapper_2, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)p_0, (List *)dynArity3->closures);
Function *anon_1347 = malloc_function(1);
anon_1347->name = "anon";
anon_1347->arityCount = 1;
anon_1347->arities[0] = dynArity3;
Value *fn1342 = (Value *)anon_1347;

// type-unknown flat-map
// #line 1515 "core"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_2, fn1342, "core", 1515);
if (!isNothing(rslt4)) {
dec_and_free(p_0, 1);
return(maybeExtract(rslt4));
} else {
dec_and_free(rslt4, 1);

// static-fixed
// #line 1518 "core"
Value *rslt5 = address_of_416(empty_list, p_0);

// static-variadic
// #line 1518 "core"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 1518 "core"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr30, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);
}

};};
FnArity Promise_string_list_1348 = {FnArityType, -1, 1, (List *)0, 0, Promise_string_list_1341};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str31 = {StringType, -1, 9, 0, "         "};
Value *strPtr31 = (Value *)&str31;
Value *arityImpl1351(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs15);

dec_and_free(closuresTail, 1);

// call-list
// #line 1522 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)strPtr31, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown comp*
// #line 1522 "core"
Value *rslt5 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val2, rslt4, "core", 1522);

// type-unknown show*
// #line 1522 "core"
Value *rslt6 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", x_0, rslt5, "core", 1522);

// static-variadic
// #line 1522 "core"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)rslt6, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr30, varArgs7);
Value *rslt8 = list_STAR__483(empty_list, (Value *)varArgs7);

// call-list
// #line 1523 "core"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr2, newList9);
Value *rslt10 = (Value *)newList9;

// call-list
// #line 1522 "core"
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
Value *rslt12 = (Value *)newList11;

// type-known for comp*
// #line 1522 "core"
Value *rslt13 = List_comp_STAR__825(empty_list, rslt8, rslt12);

// type-unknown wrap
// #line 1521 "core"
Value *rslt14 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt13, "core", 1521);
return(rslt14);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str32 = {StringType, -1, 9, 0, "<Promise>"};
Value *strPtr32 = (Value *)&str32;
Value *Promise_show_STAR__1349(List *closures, Value *p_0, Value *indent_1) {
 while (1) {

// static-fixed
// #line 1521 "core"
Value *rslt2 = delivered_230(empty_list, p_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1351;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)indent_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)wrapper_3, (List *)dynArity4->closures);
Function *anon_1352 = malloc_function(1);
anon_1352->name = "anon";
anon_1352->arityCount = 1;
anon_1352->arities[0] = dynArity4;
Value *fn1350 = (Value *)anon_1352;

// type-unknown flat-map
// #line 1521 "core"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_3, fn1350, "core", 1521);
if (!isNothing(rslt5)) {
return(maybeExtract(rslt5));
} else {
dec_and_free(rslt5, 1);

// call-list
// #line 1524 "core"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr32, newList6);
Value *rslt7 = (Value *)newList6;
return(rslt7);
}

};};
FnArity Promise_show_STAR__1353 = {FnArityType, -1, 2, (List *)0, 0, Promise_show_STAR__1349};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str33 = {StringType, -1, 7, 0, "Promise"};
Value *strPtr33 = (Value *)&str33;
Value *Promise_type_name_1354(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr33);

};};
FnArity Promise_type_name_1355 = {FnArityType, -1, 1, (List *)0, 0, Promise_type_name_1354};
Value *arityImpl1358(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1529 "core"
Value *rslt2 = deliver_225(empty_list, val1, x_0);
return(rslt2);

};};
Value *arityImpl1362(List *closures, Value *p_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1531 "core"
Value *rslt2 = add_promise_action_1331(empty_list, p_0, val1);
return(rslt2);

};};
Value *Promise_comp_STAR__1356(List *closures, Value *p_0, Value *ps_1) {
 while (1) {

// static-fixed
// #line 1528 "core"
Value *rslt2 = promise_1336(empty_list);
Value *new_p_3 = rslt2;

incRef(new_p_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1358;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)new_p_3, (List *)dynArity4->closures);
Function *anon_1359 = malloc_function(1);
anon_1359->name = "anon";
anon_1359->arityCount = 1;
anon_1359->arities[0] = dynArity4;
Value *fn1357 = (Value *)anon_1359;
Value *f_5 = fn1357;

// static-fixed
// #line 1530 "core"
Value *rslt6 = cons_275(empty_list, p_0, ps_1);
Value *l_7 = rslt6;
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1362;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)f_5, (List *)dynArity8->closures);
Function *anon_1363 = malloc_function(1);
anon_1363->name = "anon";
anon_1363->arityCount = 1;
anon_1363->arities[0] = dynArity8;
Value *fn1361 = (Value *)anon_1363;

// static-fixed
// #line 1051 "core"
Value *rslt9 = list_map_73(empty_list, l_7, fn1361);

dec_and_free(rslt9, 1);
return(new_p_3);

};};
FnArity Promise_comp_STAR__1364 = {FnArityType, -1, 2, (List *)0, 0, Promise_comp_STAR__1356};
Value *Promise_extract_1365(List *closures, Value *prom_0) {
 while (1) {
return(extractPromise(prom_0));
};};
FnArity Promise_extract_1366 = {FnArityType, -1, 1, (List *)0, 0, Promise_extract_1365};
Value *arityImpl1369(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs8);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1541 "core"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, x_0);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, x_0);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(x_0, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}

// static-fixed
// #line 1541 "core"
Value *rslt7 = deliver_225(empty_list, val1, rslt6);
return(rslt7);

};};
Value *Promise_map_1367(List *closures, Value *p_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 1539 "core"
Value *rslt2 = promise_1336(empty_list);
Value *new_p_3 = rslt2;

incRef(new_p_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1369;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)f_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)new_p_3, (List *)dynArity4->closures);
Function *anon_1370 = malloc_function(1);
anon_1370->name = "anon";
anon_1370->arityCount = 1;
anon_1370->arities[0] = dynArity4;
Value *fn1368 = (Value *)anon_1370;

// static-fixed
// #line 1540 "core"
Value *rslt5 = add_promise_action_1331(empty_list, p_0, fn1368);

dec_and_free(rslt5, 1);
return(new_p_3);

};};
FnArity Promise_map_1371 = {FnArityType, -1, 2, (List *)0, 0, Promise_map_1367};
Value *Promise_wrap_1372(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);

// static-fixed
// #line 1544 "core"
Value *rslt2 = promise_1338(empty_list, v_1);
return(rslt2);

};};
FnArity Promise_wrap_1373 = {FnArityType, -1, 2, (List *)0, 0, Promise_wrap_1372};

// --------- anon -------------
Value *fn1375;
Value *arityImpl1380(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1552 "core"
Value *rslt2 = cons_275(empty_list, v_0, val1);
return(rslt2);

};};
Value *arityImpl1378(List *closures, Value *l_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1380;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)l_0, (List *)dynArity2->closures);
Function *anon_1381 = malloc_function(1);
anon_1381->name = "anon";
anon_1381->arityCount = 1;
anon_1381->arities[0] = dynArity2;
Value *fn1379 = (Value *)anon_1381;

// type-unknown map
// #line 1551 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", val1, fn1379, "core", 1551);
return(rslt3);

};};
Value *arityImpl1376(List *closures, Value *p_list_0, Value *p_v_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1378;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)p_v_1, (List *)dynArity2->closures);
Function *anon_1382 = malloc_function(1);
anon_1382->name = "anon";
anon_1382->arityCount = 1;
anon_1382->arities[0] = dynArity2;
Value *fn1377 = (Value *)anon_1382;

// type-unknown flat-map
// #line 1550 "core"
Value *rslt3 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", p_list_0, fn1377, "core", 1550);
return(rslt3);

};};
FnArity staticArity1383 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1376};
Function anon_1384 = {FunctionType, -1, "anon", 1, {&staticArity1383}};
Value *fn1375 = (Value *)&anon_1384;

Value *arityImpl1386(List *closures, Value *vs_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs8);

dec_and_free(closuresTail, 1);

// type-known for extract
// #line 1554 "core"
Value *rslt3 = Promise_extract_1365(empty_list, val2);

// call-list
// #line 1554 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)vs_0, newList4);
Value *rslt5 = (Value *)newList4;

// type-unknown apply*
// #line 1554 "core"
Value *rslt6 = proto2Arg(&apply_STAR__Implementations_266, "apply*", rslt3, rslt5, "core", 1554);

// static-fixed
// #line 1554 "core"
Value *rslt7 = deliver_225(empty_list, val1, rslt6);
return(rslt7);

};};
Value *Promise_apply_STAR__1374(List *closures, Value *p_f_0, Value *p_vs_1) {
 while (1) {

// static-fixed
// #line 1547 "core"
Value *rslt2 = promise_1336(empty_list);
Value *new_p_3 = rslt2;

incRef(new_p_3, 1);

// type-unknown reverse
// #line 1548 "core"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", p_vs_1, "core", 1548);

// static-fixed
// #line 1548 "core"
Value *rslt5 = promise_1338(empty_list, empty_list_0);

// type-unknown reduce
// #line 1548 "core"
Value *rslt6 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt4, rslt5, fn1375, "core", 1548);
Value *p_vlist_7 = rslt6;
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1386;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)p_f_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)new_p_3, (List *)dynArity8->closures);
Function *anon_1387 = malloc_function(1);
anon_1387->name = "anon";
anon_1387->arityCount = 1;
anon_1387->arities[0] = dynArity8;
Value *fn1385 = (Value *)anon_1387;

// static-fixed
// #line 1553 "core"
Value *rslt9 = add_promise_action_1331(empty_list, p_vlist_7, fn1385);

dec_and_free(rslt9, 1);
return(new_p_3);

};};
FnArity Promise_apply_STAR__1388 = {FnArityType, -1, 2, (List *)0, 0, Promise_apply_STAR__1374};
Value *arityImpl1393(List *closures, Value *y_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1561 "core"
Value *rslt2 = deliver_225(empty_list, val1, y_0);
return(rslt2);

};};
Value *arityImpl1391(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[3] = {&val1, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs9);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1560 "core"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, x_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, x_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(x_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl1393;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
Function *anon_1394 = malloc_function(1);
anon_1394->name = "anon";
anon_1394->arityCount = 1;
anon_1394->arities[0] = dynArity6;
Value *fn1392 = (Value *)anon_1394;

// static-fixed
// #line 1560 "core"
Value *rslt8 = add_promise_action_1331(empty_list, rslt5, fn1392);
return(rslt8);

};};
Value *Promise_flat_map_1389(List *closures, Value *p_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 1558 "core"
Value *rslt2 = promise_1336(empty_list);
Value *new_p_3 = rslt2;

incRef(new_p_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1391;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)new_p_3, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)f_1, (List *)dynArity4->closures);
Function *anon_1395 = malloc_function(1);
anon_1395->name = "anon";
anon_1395->arityCount = 1;
anon_1395->arities[0] = dynArity4;
Value *fn1390 = (Value *)anon_1395;

// static-fixed
// #line 1559 "core"
Value *rslt5 = add_promise_action_1331(empty_list, p_0, fn1390);

dec_and_free(rslt5, 1);
return(new_p_3);

};};
FnArity Promise_flat_map_1396 = {FnArityType, -1, 2, (List *)0, 0, Promise_flat_map_1389};

// --------- future -------------
Value *future_1398;
Value *future_1399(List *closures) {
 while (1) {
return(makeFuture((Value *)0));
};};
FnArity future_1400 = {FnArityType, -1, 0, (List *)0, 0, future_1399};
Value *future_1401(List *closures, Value *f_0) {
 while (1) {
return(makeFuture(f_0));
};};
FnArity future_1402 = {FnArityType, -1, 1, (List *)0, 0, future_1401};
Function future_1403 = {FunctionType, -1, "future", 2, {&future_1400, &future_1402}};
Value *future_1398 = (Value *)&future_1403;


// --------- thread-id -------------
Value *thread_id_1405;
Value *thread_id_1406(List *closures) {
 while (1) {
return(integerValue((int64_t)pthread_self()));
};};
FnArity thread_id_1407 = {FnArityType, -1, 0, (List *)0, 0, thread_id_1406};
Function thread_id_1408 = {FunctionType, -1, "thread-id", 1, {&thread_id_1407}};
Value *thread_id_1405 = (Value *)&thread_id_1408;


// --------- deliver-future -------------
Value *deliver_future_1410;
Value *deliver_future_1411(List *closures, Value *fut_0, Value *val_1) {
 while (1) {
return(deliverFuture(fut_0, val_1));
};};
FnArity deliver_future_1412 = {FnArityType, -1, 2, (List *)0, 0, deliver_future_1411};
Function deliver_future_1413 = {FunctionType, -1, "deliver-future", 1, {&deliver_future_1412}};
Value *deliver_future_1410 = (Value *)&deliver_future_1413;


// --------- add-future-action -------------
Value *add_future_action_1415;
Value *add_future_action_1416(List *closures, Value *fut_0, Value *f_1) {
 while (1) {
return(addFutureAction((Future *)fut_0, f_1));
};};
FnArity add_future_action_1417 = {FnArityType, -1, 2, (List *)0, 0, add_future_action_1416};
Function add_future_action_1418 = {FunctionType, -1, "add-future-action", 1, {&add_future_action_1417}};
Value *add_future_action_1415 = (Value *)&add_future_action_1418;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str34 = {StringType, -1, 8, 0, "<Future "};
Value *strPtr34 = (Value *)&str34;
Value *Future_string_list_1419(List *closures, Value *arg0) {
 while (1) {

// static-fixed
// #line 1585 "core"
Value *rslt1 = address_of_416(empty_list, arg0);

// static-variadic
// #line 1585 "core"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)rslt1, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);

// call-list
// #line 1585 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)strPtr2, newList4);
newList4 = listCons((Value *)rslt3, newList4);
newList4 = listCons((Value *)strPtr34, newList4);
Value *rslt5 = (Value *)newList4;
return(rslt5);

};};
FnArity Future_string_list_1420 = {FnArityType, -1, 1, (List *)0, 0, Future_string_list_1419};
Value *Future_show_STAR__1421(List *closures, Value *p_0, Value *indent_1) {
 while (1) {

dec_and_free(indent_1, 1);

// type-known for string-list
// #line 1588 "core"
Value *rslt2 = Future_string_list_1419(empty_list, p_0);
return(rslt2);

};};
FnArity Future_show_STAR__1422 = {FnArityType, -1, 2, (List *)0, 0, Future_show_STAR__1421};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str35 = {StringType, -1, 6, 0, "Future"};
Value *strPtr35 = (Value *)&str35;
Value *Future_type_name_1423(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr35);

};};
FnArity Future_type_name_1424 = {FnArityType, -1, 1, (List *)0, 0, Future_type_name_1423};
Value *arityImpl1427(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1593 "core"
Value *rslt2 = deliver_future_1411(empty_list, val1, x_0);
return(rslt2);

};};
Value *arityImpl1431(List *closures, Value *p_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1595 "core"
Value *rslt2 = add_future_action_1416(empty_list, p_0, val1);
return(rslt2);

};};
Value *Future_comp_STAR__1425(List *closures, Value *p_0, Value *ps_1) {
 while (1) {

// static-fixed
// #line 1592 "core"
Value *rslt2 = future_1399(empty_list);
Value *new_p_3 = rslt2;

incRef(new_p_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1427;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)new_p_3, (List *)dynArity4->closures);
Function *anon_1428 = malloc_function(1);
anon_1428->name = "anon";
anon_1428->arityCount = 1;
anon_1428->arities[0] = dynArity4;
Value *fn1426 = (Value *)anon_1428;
Value *f_5 = fn1426;

// static-fixed
// #line 1594 "core"
Value *rslt6 = cons_275(empty_list, p_0, ps_1);
Value *l_7 = rslt6;
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1431;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)f_5, (List *)dynArity8->closures);
Function *anon_1432 = malloc_function(1);
anon_1432->name = "anon";
anon_1432->arityCount = 1;
anon_1432->arities[0] = dynArity8;
Value *fn1430 = (Value *)anon_1432;

// static-fixed
// #line 1051 "core"
Value *rslt9 = list_map_73(empty_list, l_7, fn1430);

dec_and_free(rslt9, 1);
return(new_p_3);

};};
FnArity Future_comp_STAR__1433 = {FnArityType, -1, 2, (List *)0, 0, Future_comp_STAR__1425};
Value *arityImpl1436(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs8);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1602 "core"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, x_0);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, x_0);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(x_0, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}

// static-fixed
// #line 1602 "core"
Value *rslt7 = deliver_future_1411(empty_list, val1, rslt6);
return(rslt7);

};};
Value *Future_map_1434(List *closures, Value *fut_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 1600 "core"
Value *rslt2 = future_1399(empty_list);
Value *new_fut_3 = rslt2;

incRef(new_fut_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1436;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)f_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)new_fut_3, (List *)dynArity4->closures);
Function *anon_1437 = malloc_function(1);
anon_1437->name = "anon";
anon_1437->arityCount = 1;
anon_1437->arities[0] = dynArity4;
Value *fn1435 = (Value *)anon_1437;

// static-fixed
// #line 1601 "core"
Value *rslt5 = add_future_action_1416(empty_list, fut_0, fn1435);

dec_and_free(rslt5, 1);
return(new_fut_3);

};};
FnArity Future_map_1438 = {FnArityType, -1, 2, (List *)0, 0, Future_map_1434};
Value *Future_wrap_1439(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);

// static-fixed
// #line 1606 "core"
Value *rslt2 = future_1399(empty_list);

// static-fixed
// #line 1606 "core"
Value *rslt3 = deliver_future_1411(empty_list, rslt2, v_1);
return(rslt3);

};};
FnArity Future_wrap_1440 = {FnArityType, -1, 2, (List *)0, 0, Future_wrap_1439};

// --------- anon -------------
Value *fn1442;
Value *arityImpl1447(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1614 "core"
Value *rslt2 = cons_275(empty_list, v_0, val1);
return(rslt2);

};};
Value *arityImpl1445(List *closures, Value *l_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1447;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)l_0, (List *)dynArity2->closures);
Function *anon_1448 = malloc_function(1);
anon_1448->name = "anon";
anon_1448->arityCount = 1;
anon_1448->arities[0] = dynArity2;
Value *fn1446 = (Value *)anon_1448;

// type-unknown map
// #line 1613 "core"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", val1, fn1446, "core", 1613);
return(rslt3);

};};
Value *arityImpl1443(List *closures, Value *fut_list_0, Value *fut_v_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1445;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)fut_v_1, (List *)dynArity2->closures);
Function *anon_1449 = malloc_function(1);
anon_1449->name = "anon";
anon_1449->arityCount = 1;
anon_1449->arities[0] = dynArity2;
Value *fn1444 = (Value *)anon_1449;

// type-unknown flat-map
// #line 1612 "core"
Value *rslt3 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", fut_list_0, fn1444, "core", 1612);
return(rslt3);

};};
FnArity staticArity1450 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1443};
Function anon_1451 = {FunctionType, -1, "anon", 1, {&staticArity1450}};
Value *fn1442 = (Value *)&anon_1451;

Value *arityImpl1453(List *closures, Value *vs_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs8);

dec_and_free(closuresTail, 1);

// type-unknown extract
// #line 1616 "core"
Value *rslt3 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", val2, "core", 1616);

// call-list
// #line 1616 "core"
List *newList4 = empty_list;
newList4 = listCons((Value *)vs_0, newList4);
Value *rslt5 = (Value *)newList4;

// type-unknown apply*
// #line 1616 "core"
Value *rslt6 = proto2Arg(&apply_STAR__Implementations_266, "apply*", rslt3, rslt5, "core", 1616);

// static-fixed
// #line 1616 "core"
Value *rslt7 = deliver_future_1411(empty_list, val1, rslt6);
return(rslt7);

};};
Value *Future_apply_STAR__1441(List *closures, Value *fut_f_0, Value *fut_vs_1) {
 while (1) {

// static-fixed
// #line 1609 "core"
Value *rslt2 = future_1399(empty_list);
Value *new_fut_3 = rslt2;

incRef(new_fut_3, 1);

// type-unknown reverse
// #line 1610 "core"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", fut_vs_1, "core", 1610);

// static-fixed
// #line 1610 "core"
Value *rslt5 = future_1399(empty_list);

// static-fixed
// #line 1610 "core"
Value *rslt6 = deliver_future_1411(empty_list, rslt5, empty_list_0);

// type-unknown reduce
// #line 1610 "core"
Value *rslt7 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt4, rslt6, fn1442, "core", 1610);
Value *fut_vlist_8 = rslt7;
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl1453;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)fut_f_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)new_fut_3, (List *)dynArity9->closures);
Function *anon_1454 = malloc_function(1);
anon_1454->name = "anon";
anon_1454->arityCount = 1;
anon_1454->arities[0] = dynArity9;
Value *fn1452 = (Value *)anon_1454;

// static-fixed
// #line 1615 "core"
Value *rslt10 = add_future_action_1416(empty_list, fut_vlist_8, fn1452);

dec_and_free(rslt10, 1);
return(new_fut_3);

};};
FnArity Future_apply_STAR__1455 = {FnArityType, -1, 2, (List *)0, 0, Future_apply_STAR__1441};
Value *arityImpl1460(List *closures, Value *y_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1623 "core"
Value *rslt2 = deliver_future_1411(empty_list, val1, y_0);
return(rslt2);

};};
Value *arityImpl1458(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[3] = {&val1, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs9);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1622 "core"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, x_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, x_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(x_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl1460;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
Function *anon_1461 = malloc_function(1);
anon_1461->name = "anon";
anon_1461->arityCount = 1;
anon_1461->arities[0] = dynArity6;
Value *fn1459 = (Value *)anon_1461;

// static-fixed
// #line 1622 "core"
Value *rslt8 = add_future_action_1416(empty_list, rslt5, fn1459);
return(rslt8);

};};
Value *Future_flat_map_1456(List *closures, Value *fut_0, Value *f_1) {
 while (1) {

// static-fixed
// #line 1620 "core"
Value *rslt2 = future_1399(empty_list);
Value *new_fut_3 = rslt2;

incRef(new_fut_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1458;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)new_fut_3, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)f_1, (List *)dynArity4->closures);
Function *anon_1462 = malloc_function(1);
anon_1462->name = "anon";
anon_1462->arityCount = 1;
anon_1462->arities[0] = dynArity4;
Value *fn1457 = (Value *)anon_1462;

// static-fixed
// #line 1621 "core"
Value *rslt5 = add_future_action_1416(empty_list, fut_0, fn1457);

dec_and_free(rslt5, 1);
return(new_fut_3);

};};
FnArity Future_flat_map_1463 = {FnArityType, -1, 2, (List *)0, 0, Future_flat_map_1456};
Value *Future_extract_1464(List *closures, Value *fut_0) {
 while (1) {
return(extractFuture(fut_0));
};};
FnArity Future_extract_1465 = {FnArityType, -1, 1, (List *)0, 0, Future_extract_1464};
Value *arityImpl1468(List *closures) {
while (1) {
Value *val0;
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val0, &val1, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1631 "core"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, val0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, val0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(val0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
return(rslt5);

};};
Value *Future_extend_1466(List *closures, Value *fut_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 0;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1468;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)fut_0, (List *)dynArity2->closures);
Function *anon_1469 = malloc_function(1);
anon_1469->name = "anon";
anon_1469->arityCount = 1;
anon_1469->arities[0] = dynArity2;
Value *fn1467 = (Value *)anon_1469;

// static-fixed
// #line 1630 "core"
Value *rslt3 = future_1401(empty_list, fn1467);
return(rslt3);

};};
FnArity Future_extend_1470 = {FnArityType, -1, 2, (List *)0, 0, Future_extend_1466};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str36 = {StringType, -1, 7, 0, "<Agent "};
Value *strPtr36 = (Value *)&str36;
Value *Agent_string_list_1471(List *closures, Value *a_0) {
 while (1) {

// call-list
// #line 1640 "core"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr36, newList1);
Value *rslt2 = (Value *)newList1;

// type-unknown extract
// #line 1641 "core"
Value *rslt3 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", a_0, "core", 1641);

// type-unknown string-list
// #line 1641 "core"
Value *rslt4 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", rslt3, "core", 1641);

// call-list
// #line 1642 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr2, newList5);
Value *rslt6 = (Value *)newList5;

// call-list
// #line 1640 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)rslt4, newList7);
Value *rslt8 = (Value *)newList7;

// type-known for comp*
// #line 1640 "core"
Value *rslt9 = List_comp_STAR__825(empty_list, rslt2, rslt8);
return(rslt9);

};};
FnArity Agent_string_list_1472 = {FnArityType, -1, 1, (List *)0, 0, Agent_string_list_1471};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str37 = {StringType, -1, 7, 0, "<      "};
Value *strPtr37 = (Value *)&str37;
Value *Agent_show_STAR__1473(List *closures, Value *a_0, Value *indent_1) {
 while (1) {

// type-unknown extract
// #line 1645 "core"
Value *rslt2 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", a_0, "core", 1645);

// call-list
// #line 1645 "core"
List *newList3 = empty_list;
newList3 = listCons((Value *)strPtr37, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown comp*
// #line 1645 "core"
Value *rslt5 = proto2Arg(&comp_STAR__Implementations_238, "comp*", indent_1, rslt4, "core", 1645);

// type-unknown show*
// #line 1645 "core"
Value *rslt6 = proto2Arg(&show_STAR__Implementations_398, "<nothing>/show*", rslt2, rslt5, "core", 1645);

// static-fixed
// #line 1645 "core"
Value *rslt7 = cons_275(empty_list, strPtr36, rslt6);

// call-list
// #line 1645 "core"
List *newList8 = empty_list;
Value *rslt9 = (Value *)newList8;

// type-known for comp*
// #line 1645 "core"
Value *rslt10 = List_comp_STAR__825(empty_list, rslt7, rslt9);
return(rslt10);

};};
FnArity Agent_show_STAR__1474 = {FnArityType, -1, 2, (List *)0, 0, Agent_show_STAR__1473};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str38 = {StringType, -1, 5, 0, "Agent"};
Value *strPtr38 = (Value *)&str38;
Value *Agent_type_name_1475(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr38);

};};
FnArity Agent_type_name_1476 = {FnArityType, -1, 1, (List *)0, 0, Agent_type_name_1475};
Value *Agent_send_STAR__1477(List *closures, Value *agt_0, Value *f_and_args_1) {
 while (1) {

  scheduleAgent((Agent *)agt_0, (List *)f_and_args_1);
  return(agt_0);
};};
FnArity Agent_send_STAR__1478 = {FnArityType, -1, 2, (List *)0, 0, Agent_send_STAR__1477};
Value *Agent_extract_1479(List *closures, Value *agt_0) {
 while (1) {
return(extractAgent(agt_0));
};};
FnArity Agent_extract_1480 = {FnArityType, -1, 1, (List *)0, 0, Agent_extract_1479};

// --------- agent -------------
Value *agent_1482;
Value *agent_1483(List *closures, Value *v_0) {
 while (1) {
return(makeAgent(v_0));
};};
FnArity agent_1484 = {FnArityType, -1, 1, (List *)0, 0, agent_1483};
Function agent_1485 = {FunctionType, -1, "agent", 1, {&agent_1484}};
Value *agent_1482 = (Value *)&agent_1485;


// --------- remove -------------
Value *remove_1487;
Value *arityImpl1490(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs7);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1662 "core"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, v_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, v_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(v_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}

// static-fixed
// #line 1662 "core"
Value *rslt6 = _EQ__557(empty_list, nothing_7, rslt5);
return(rslt6);

};};
Value *remove_1488(List *closures, Value *l_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1490;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
Function *anon_1491 = malloc_function(1);
anon_1491->name = "anon";
anon_1491->arityCount = 1;
anon_1491->arities[0] = dynArity2;
Value *fn1489 = (Value *)anon_1491;

// type-unknown filter
// #line 1661 "core"
Value *rslt3 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", l_0, fn1489, "core", 1661);
return(rslt3);

};};
FnArity remove_1492 = {FnArityType, -1, 2, (List *)0, 0, remove_1488};
Function remove_1493 = {FunctionType, -1, "remove", 1, {&remove_1492}};
Value *remove_1487 = (Value *)&remove_1493;


// --------- repeat -------------
Value *repeat_1495;
Value *arityImpl1498(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs2[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs2);

dec_and_free(closuresTail, 1);
return(val1);

};};
Value *repeat_1496(List *closures, Value *n_0, Value *v_1) {
 while (1) {

// static-fixed
// #line 1665 "core"
Value *rslt2 = range_795(empty_list, n_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1498;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)v_1, (List *)dynArity3->closures);
Function *anon_1499 = malloc_function(1);
anon_1499->name = "anon";
anon_1499->arityCount = 1;
anon_1499->arities[0] = dynArity3;
Value *fn1497 = (Value *)anon_1499;

// type-unknown map
// #line 1665 "core"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn1497, "core", 1665);
return(rslt4);

};};
FnArity repeat_1500 = {FnArityType, -1, 2, (List *)0, 0, repeat_1496};
Function repeat_1501 = {FunctionType, -1, "repeat", 1, {&repeat_1500}};
Value *repeat_1495 = (Value *)&repeat_1501;


// --------- constantly -------------
Value *constantly_1503;
Value *arityImpl1506(List *closures) {
while (1) {
Value *val0;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs1[2] = {&val0, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs1);

dec_and_free(closuresTail, 1);
return(val0);

};};
Value *arityImpl1507(List *closures, Value *arg0, Value *arg1) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);
return(val2);

};};
Value *arityImpl1508(List *closures, Value *arg0, Value *arg1, Value *arg2) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);
return(val3);

};};
Value *arityImpl1509(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val4, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
return(val4);

};};
Value *arityImpl1510(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);
return(val5);

};};
Value *arityImpl1511(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);

dec_and_free(arg5, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs7);

dec_and_free(closuresTail, 1);
return(val6);

};};
Value *arityImpl1512(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);

dec_and_free(arg5, 1);

dec_and_free(arg6, 1);
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val7, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);
return(val7);

};};
Value *arityImpl1513(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);

dec_and_free(arg5, 1);

dec_and_free(arg6, 1);

dec_and_free(arg7, 1);
Value *val8;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val8, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);
return(val8);

};};
Value *arityImpl1514(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7, Value *arg8) {
while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

dec_and_free(arg2, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);

dec_and_free(arg5, 1);

dec_and_free(arg6, 1);

dec_and_free(arg7, 1);

dec_and_free(arg8, 1);
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val9, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
return(val9);

};};
Value *arityImpl1515(List *closures, Value *arg1) {
while (1) {
Value *args_0 = (Value *)arg1;

dec_and_free(args_0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);
return(val2);

};};
Value *constantly_1504(List *closures, Value *v_0) {
 while (1) {

incRef(v_0, 9);
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 0;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl1506;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)v_0, (List *)dynArity1->closures);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 2;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl1507;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)v_0, (List *)dynArity2->closures);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 3;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl1508;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)v_0, (List *)dynArity3->closures);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 4;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1509;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)v_0, (List *)dynArity4->closures);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 5;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl1510;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)v_0, (List *)dynArity5->closures);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 6;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl1511;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)v_0, (List *)dynArity6->closures);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 7;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl1512;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)v_0, (List *)dynArity7->closures);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 8;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl1513;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_0, (List *)dynArity8->closures);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 9;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl1514;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)v_0, (List *)dynArity9->closures);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 1;
dynArity10->fn = arityImpl1515;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)v_0, (List *)dynArity10->closures);
Function *anon_1516 = malloc_function(10);
anon_1516->name = "anon";
anon_1516->arityCount = 10;
anon_1516->arities[0] = dynArity1;
anon_1516->arities[1] = dynArity2;
anon_1516->arities[2] = dynArity3;
anon_1516->arities[3] = dynArity4;
anon_1516->arities[4] = dynArity5;
anon_1516->arities[5] = dynArity6;
anon_1516->arities[6] = dynArity7;
anon_1516->arities[7] = dynArity8;
anon_1516->arities[8] = dynArity9;
anon_1516->arities[9] = dynArity10;
Value *fn1505 = (Value *)anon_1516;
return(fn1505);

};};
FnArity constantly_1517 = {FnArityType, -1, 1, (List *)0, 0, constantly_1504};
Function constantly_1518 = {FunctionType, -1, "constantly", 1, {&constantly_1517}};
Value *constantly_1503 = (Value *)&constantly_1518;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str39 = {StringType, -1, 1, 0, "0"};
Value *strPtr39 = (Value *)&str39;
Value *code_0_1519;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str40 = {StringType, -1, 1, 0, "9"};
Value *strPtr40 = (Value *)&str40;
Value *code_9_1520;

// --------- str-to-int -------------
Value *str_to_int_1522;

// --------- anon -------------
Value *fn1525;
Value *arityImpl1526(List *closures, Value *c_0) {
 while (1) {

// static-fixed
// #line 1685 "core"
Value *rslt1 = char_code_208(empty_list, c_0);
Value *c_2 = rslt1;

incRef(c_2, 2);
Value *orRslt3;

// static-fixed
// #line 1686 "core"
Value *rslt4 = _EQ__557(empty_list, code_0_1519, c_2);
orRslt3 = rslt4;
if (!isNothing(orRslt3)) {
dec_and_free(c_2, 2);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// static-fixed
// #line 1687 "core"
Value *rslt5 = _EQ__557(empty_list, code_9_1520, c_2);
orRslt3 = rslt5;
if (!isNothing(orRslt3)) {
dec_and_free(c_2, 1);
return(orRslt3);
} else {
dec_and_free(orRslt3, 1);

// static-variadic
// #line 1688 "core"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)code_9_1520, varArgs6);
varArgs6 = (List *)listCons((Value *)c_2, varArgs6);
varArgs6 = (List *)listCons((Value *)code_0_1519, varArgs6);
Value *rslt7 = _LT__533(empty_list, (Value *)varArgs6);
return(rslt7);
orRslt3 = rslt7;
}
}

};};
FnArity staticArity1527 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1526};
Function anon_1528 = {FunctionType, -1, "anon", 1, {&staticArity1527}};
Value *fn1525 = (Value *)&anon_1528;


// --------- anon -------------
Value *fn1524;
Integer num3 = {IntegerType, -1, 10};
Value *numPtr3 = (Value *)&num3;
Value *arityImpl1529(List *closures, Value *n_0, Value *c_1) {
 while (1) {

// static-fixed
// #line 1691 "core"
Value *rslt2 = _STAR__585(empty_list, n_0, numPtr3);

// static-fixed
// #line 1691 "core"
Value *rslt3 = char_code_208(empty_list, c_1);

// static-variadic
// #line 1691 "core"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)code_0_1519, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
Value *rslt5 = _MINUS__573(empty_list, (Value *)varArgs4);

// static-fixed
// #line 1691 "core"
Value *rslt6 = _PLUS__457(empty_list, rslt2, rslt5);
return(rslt6);

};};
FnArity staticArity1530 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1529};
Function anon_1531 = {FunctionType, -1, "anon", 1, {&staticArity1530}};
Value *fn1524 = (Value *)&anon_1531;

Value *str_to_int_1523(List *closures, Value *int_str_0) {
 while (1) {

// static-fixed
// #line 1684 "core"
Value *rslt1 = take_while_785(empty_list, int_str_0, fn1525);

// type-unknown reduce
// #line 1684 "core"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt1, numPtr0, fn1524, "core", 1684);
return(rslt2);

};};
FnArity str_to_int_1532 = {FnArityType, -1, 1, (List *)0, 0, str_to_int_1523};
Function str_to_int_1533 = {FunctionType, -1, "str-to-int", 1, {&str_to_int_1532}};
Value *str_to_int_1522 = (Value *)&str_to_int_1533;

Value *type_val_1534_1535;
ProtoImpls protoImpls1538;
ProtoImpls protoImpls1540;
Value *dispatchFnPtr1536;
Value *protoImpl1537(List *closures, Value *arg);
Value *protoImpl1539(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str41 = {StringType, -1, 9, 0, "<TypeCon "};
Value *strPtr41 = (Value *)&str41;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str42 = {StringType, -1, 7, 0, "HashSet"};
Value *strPtr42 = (Value *)&str42;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str43 = {StringType, -1, 2, 0, " ["};
Value *strPtr43 = (Value *)&str43;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str44 = {StringType, -1, 7, 0, "set-map"};
Value *strPtr44 = (Value *)&str44;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str45 = {StringType, -1, 2, 0, "]>"};
Value *strPtr45 = (Value *)&str45;
Value *arityImpl1541(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr44, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr42, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity1542 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1541};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str46 = {StringType, -1, 21, 0, "*HashSet constructor*"};
Value *strPtr46 = (Value *)&str46;
Value *HashSet_const_type_name_1543(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr46);

};};
FnArity HashSet_const_type_name_1544 = {FnArityType, -1, 1, (List *)0, 0, HashSet_const_type_name_1543};
Value *HashSet_instance_QMARK__1545(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_1534_1535, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity HashSet_instance_QMARK__1546 = {FnArityType, -1, 2, (List *)0, 0, HashSet_instance_QMARK__1545};
Value *HashSet_invoke_1547(List *closures, Value *arg0, Value *set_map_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, set_map_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_1534_1535, rslt3);
return(rslt4);

};};
FnArity HashSet_invoke_1548 = {FnArityType, -1, 2, (List *)0, 0, HashSet_invoke_1547};
ReifiedVal reifiedStatic1549 = {30, -1, (Value *)0, 0, {}};
Value *reifiedPtr1550 = (Value *)&reifiedStatic1549;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str47 = {StringType, -1, 2, 0, "#{"};
Value *strPtr47 = (Value *)&str47;
Value *HashSet_string_list_1551(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 1738 "core"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr47, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown vals
// #line 1739 "core"
Value *rslt7 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", set_map_2, "core", 1739);

// type-unknown flat-map
// #line 1739 "core"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt7, string_list_393, "core", 1739);

// static-fixed
// #line 1739 "core"
Value *rslt9 = interpose_503(empty_list, rslt8, strPtr4);

// call-list
// #line 1741 "core"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr28, newList10);
Value *rslt11 = (Value *)newList10;

// call-list
// #line 1738 "core"
List *newList12 = empty_list;
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)rslt9, newList12);
Value *rslt13 = (Value *)newList12;

// type-known for comp*
// #line 1738 "core"
Value *rslt14 = List_comp_STAR__825(empty_list, rslt6, rslt13);
return(rslt14);

};};
FnArity HashSet_string_list_1552 = {FnArityType, -1, 1, (List *)0, 0, HashSet_string_list_1551};
Value *HashSet_EQ_STAR__1553(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity HashSet_EQ_STAR__1554 = {FnArityType, -1, 2, (List *)0, 0, HashSet_EQ_STAR__1553};
Value *HashSet__EQ__STAR__1555(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
Value *andRslt6;

// type-unknown .set-map
// #line 1745 "core"
Value *rslt7 = proto1Arg(&protoImpls1538, "<nothing>/.set-map", y_1, "core", 1745);

// type-unknown =*
// #line 1745 "core"
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", set_map_3, rslt7, "core", 1745);
andRslt6 = rslt8;
if (isNothing(andRslt6)) {
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt6, 1);

// static-fixed
// #line 1746 "core"
Value *rslt9 = maybe_4(empty_list, x_0);
return(rslt9);
andRslt6 = rslt9;
}

};};
FnArity HashSet__EQ__STAR__1556 = {FnArityType, -1, 2, (List *)0, 0, HashSet__EQ__STAR__1555};
Value *HashSet_seq_1557(List *closures, Value *coll_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, coll_0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown vals
// #line 1734 "core"
Value *rslt5 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", set_map_2, "core", 1734);
return(rslt5);

};};
FnArity HashSet_seq_1558 = {FnArityType, -1, 1, (List *)0, 0, HashSet_seq_1557};
Value *HashSet_type_name_1559(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr42);

};};
FnArity HashSet_type_name_1560 = {FnArityType, -1, 1, (List *)0, 0, HashSet_type_name_1559};
Value *HashSet_has_field_1561(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1536, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity HashSet_has_field_1562 = {FnArityType, -1, 2, (List *)0, 0, HashSet_has_field_1561};
Value *HashSet_set_map_1563(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity HashSet_set_map_1564 = {FnArityType, -1, 2, (List *)0, 0, HashSet_set_map_1563};
Value *HashSet_set_map_1565(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity HashSet_set_map_1566 = {FnArityType, -1, 1, (List *)0, 0, HashSet_set_map_1565};
Value *HashSet_get_1567(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity HashSet_get_1568 = {FnArityType, -1, 2, (List *)0, 0, HashSet_get_1567};
Value *HashSet_zero_1569(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(set_map_2, 1);

dec_and_free(tail_3, 1);

// static-variadic
// #line 1713 "core"
List *varArgs5 = empty_list;
Value *rslt6 = hash_map_1208(empty_list, (Value *)varArgs5);

// call invoke
// #line 1713 "core"
Value *rslt7 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt6);
return(rslt7);

};};
FnArity HashSet_zero_1570 = {FnArityType, -1, 1, (List *)0, 0, HashSet_zero_1569};
Value *HashSet_comp_STAR__1571(List *closures, Value *mval_0, Value *mvals_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, mval_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown map
// #line 1715 "core"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", mvals_1, dispatchFnPtr1536, "core", 1715);

// type-unknown comp*
// #line 1715 "core"
Value *rslt7 = proto2Arg(&comp_STAR__Implementations_238, "<nothing>/comp*", set_map_3, rslt6, "core", 1715);

// call invoke
// #line 1715 "core"
Value *rslt8 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt7);
return(rslt8);

};};
FnArity HashSet_comp_STAR__1572 = {FnArityType, -1, 2, (List *)0, 0, HashSet_comp_STAR__1571};
Value *HashSet_invoke_1573(List *closures, Value *arg0, Value *v_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown get
// #line 1697 "core"
Value *rslt6 = proto2Arg(&get_Implementations_362, "<nothing>/get", set_map_3, v_1, "core", 1697);
return(rslt6);

};};
FnArity HashSet_invoke_1574 = {FnArityType, -1, 2, (List *)0, 0, HashSet_invoke_1573};
Value *arityImpl1577(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs7);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1721 "core"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, v_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, v_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(v_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}

// type-unknown .set-map
// #line 1721 "core"
Value *rslt6 = proto1Arg(&protoImpls1538, "<nothing>/.set-map", rslt5, "core", 1721);
return(rslt6);

};};
Value *HashSet_flat_map_1575(List *closures, Value *mval_0, Value *func_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, mval_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 1719 "core"
List *varArgs6 = empty_list;
Value *rslt7 = hash_map_1208(empty_list, (Value *)varArgs6);

// type-unknown vals
// #line 1719 "core"
Value *rslt8 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", set_map_3, "core", 1719);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl1577;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)func_1, (List *)dynArity9->closures);
Function *anon_1578 = malloc_function(1);
anon_1578->name = "anon";
anon_1578->arityCount = 1;
anon_1578->arities[0] = dynArity9;
Value *fn1576 = (Value *)anon_1578;

// type-unknown map
// #line 1719 "core"
Value *rslt10 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt8, fn1576, "core", 1719);

// type-unknown comp*
// #line 1719 "core"
Value *rslt11 = proto2Arg(&comp_STAR__Implementations_238, "<nothing>/comp*", rslt7, rslt10, "core", 1719);

// call invoke
// #line 1719 "core"
Value *rslt12 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt11);
return(rslt12);

};};
FnArity HashSet_flat_map_1579 = {FnArityType, -1, 2, (List *)0, 0, HashSet_flat_map_1575};
Value *HashSet_wrap_1580(List *closures, Value *x_0, Value *v_1) {
 while (1) {

incRef(v_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(set_map_3, 1);

dec_and_free(tail_4, 1);

// static-variadic
// #line 1723 "core"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)v_1, varArgs6);
varArgs6 = (List *)listCons((Value *)v_1, varArgs6);
Value *rslt7 = hash_map_1208(empty_list, (Value *)varArgs6);

// call invoke
// #line 1723 "core"
Value *rslt8 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt7);
return(rslt8);

};};
FnArity HashSet_wrap_1581 = {FnArityType, -1, 2, (List *)0, 0, HashSet_wrap_1580};
Value *arityImpl1584(List *closures, Value *m_0, Value *v_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1729 "core"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, v_1);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, v_1);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(v_1, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}
Value *new_v_7 = rslt6;

incRef(new_v_7, 1);

// static-fixed
// #line 1730 "core"
Value *rslt8 = assoc_1033(empty_list, m_0, new_v_7, new_v_7);
return(rslt8);

};};
Value *HashSet_map_1582(List *closures, Value *v_0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, v_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown vals
// #line 1726 "core"
Value *rslt6 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", set_map_3, "core", 1726);

// static-variadic
// #line 1727 "core"
List *varArgs7 = empty_list;
Value *rslt8 = hash_map_1208(empty_list, (Value *)varArgs7);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 2;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl1584;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)f_1, (List *)dynArity9->closures);
Function *anon_1585 = malloc_function(1);
anon_1585->name = "anon";
anon_1585->arityCount = 1;
anon_1585->arities[0] = dynArity9;
Value *fn1583 = (Value *)anon_1585;

// type-unknown reduce
// #line 1726 "core"
Value *rslt10 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt6, rslt8, fn1583, "core", 1726);

// call invoke
// #line 1726 "core"
Value *rslt11 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt10);
return(rslt11);

};};
FnArity HashSet_map_1586 = {FnArityType, -1, 2, (List *)0, 0, HashSet_map_1582};
Value *HashSet_empty_QM__1587(List *closures, Value *coll_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, coll_0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown empty?
// #line 1701 "core"
Value *rslt5 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", set_map_2, "core", 1701);
return(rslt5);

};};
FnArity HashSet_empty_QM__1588 = {FnArityType, -1, 1, (List *)0, 0, HashSet_empty_QM__1587};
Value *HashSet_empty_1589(List *closures, Value *coll_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, coll_0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(set_map_2, 1);

dec_and_free(tail_3, 1);

// static-variadic
// #line 1703 "core"
List *varArgs5 = empty_list;
Value *rslt6 = hash_map_1208(empty_list, (Value *)varArgs5);

// call invoke
// #line 1703 "core"
Value *rslt7 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt6);
return(rslt7);

};};
FnArity HashSet_empty_1590 = {FnArityType, -1, 1, (List *)0, 0, HashSet_empty_1589};
Value *HashSet_count_1591(List *closures, Value *coll_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, coll_0);
Value *set_map_2;
Value *tail_3;
Value **destArgs4[2] = {&set_map_2, &tail_3};
destructValue("core", "1694", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown count
// #line 1705 "core"
Value *rslt5 = proto1Arg(&count_Implementations_300, "<nothing>/count", set_map_2, "core", 1705);
return(rslt5);

};};
FnArity HashSet_count_1592 = {FnArityType, -1, 1, (List *)0, 0, HashSet_count_1591};
Value *HashSet_conj_1593(List *closures, Value *coll_0, Value *value_1) {
 while (1) {

incRef(value_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, coll_0);
Value *set_map_3;
Value *tail_4;
Value **destArgs5[2] = {&set_map_3, &tail_4};
destructValue("core", "1694", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// static-fixed
// #line 1707 "core"
Value *rslt6 = assoc_1033(empty_list, set_map_3, value_1, value_1);

// call invoke
// #line 1707 "core"
Value *rslt7 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt6);
return(rslt7);

};};
FnArity HashSet_conj_1594 = {FnArityType, -1, 2, (List *)0, 0, HashSet_conj_1593};
Value *HashSet_reduce_1595(List *closures, Value *coll_0, Value *result_1, Value *f_2) {
 while (1) {
Value *rslt3 = reified_type_args_22(empty_list, coll_0);
Value *set_map_4;
Value *tail_5;
Value **destArgs6[2] = {&set_map_4, &tail_5};
destructValue("core", "1694", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown vals
// #line 1709 "core"
Value *rslt7 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", set_map_4, "core", 1709);

// type-unknown reduce
// #line 1709 "core"
Value *rslt8 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt7, result_1, f_2, "core", 1709);
return(rslt8);

};};
FnArity HashSet_reduce_1596 = {FnArityType, -1, 3, (List *)0, 0, HashSet_reduce_1595};
Value *HashSet_assoc_STAR__1597(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity HashSet_assoc_STAR__1598 = {FnArityType, -1, 5, (List *)0, 0, HashSet_assoc_STAR__1597};
ReifiedVal reifiedStatic1599 = {31, -1, (Value *)0, 0, {}};
Value *reifiedPtr1600 = (Value *)&reifiedStatic1599;

// --------- set -------------
Value *set_1602;

// --------- anon -------------
Value *fn1604;
Value *arityImpl1605(List *closures, Value *m_0, Value *v_1) {
 while (1) {

incRef(v_1, 1);

// static-fixed
// #line 1749 "core"
Value *rslt2 = assoc_1033(empty_list, m_0, v_1, v_1);
return(rslt2);

};};
FnArity staticArity1606 = {FnArityType, -1, 2, (List *)0, 0, arityImpl1605};
Function anon_1607 = {FunctionType, -1, "anon", 1, {&staticArity1606}};
Value *fn1604 = (Value *)&anon_1607;

Value *set_1603(List *closures, Value *val_list_0) {
 while (1) {

// static-variadic
// #line 1749 "core"
List *varArgs1 = empty_list;
Value *rslt2 = hash_map_1208(empty_list, (Value *)varArgs1);

// type-unknown reduce
// #line 1749 "core"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", val_list_0, rslt2, fn1604, "core", 1749);

// call invoke
// #line 1749 "core"
Value *rslt4 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt3);
return(rslt4);

};};
FnArity set_1608 = {FnArityType, -1, 1, (List *)0, 0, set_1603};
Function set_1609 = {FunctionType, -1, "set", 1, {&set_1608}};
Value *set_1602 = (Value *)&set_1609;


// --------- hash-set -------------
Value *hash_set_1611;
Value *hash_set_1612(List *closures, Value *arg1) {
 while (1) {
Value *values_0 = (Value *)arg1;

// static-fixed
// #line 1752 "core"
Value *rslt2 = set_1603(empty_list, values_0);
return(rslt2);

};};
FnArity hash_set_1613 = {FnArityType, -1, 1, (List *)0, 1, hash_set_1612};
Function hash_set_1614 = {FunctionType, -1, "hash-set", 1, {&hash_set_1613}};
Value *hash_set_1611 = (Value *)&hash_set_1614;


// --------- disj -------------
Value *disj_1616;
Value *disj_1617(List *closures, Value *set_0, Value *val_1) {
 while (1) {

// type-unknown .set-map
// #line 1755 "core"
Value *rslt2 = proto1Arg(&protoImpls1538, "<nothing>/.set-map", set_0, "core", 1755);

// static-variadic
// #line 1755 "core"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)val_1, varArgs3);
varArgs3 = (List *)listCons((Value *)rslt2, varArgs3);
Value *rslt4 = dissoc_1024(empty_list, (Value *)varArgs3);

// call invoke
// #line 1755 "core"
Value *rslt5 = HashSet_invoke_1547(empty_list, reifiedPtr1550, rslt4);
return(rslt5);

};};
FnArity disj_1618 = {FnArityType, -1, 2, (List *)0, 0, disj_1617};
Function disj_1619 = {FunctionType, -1, "disj", 1, {&disj_1618}};
Value *disj_1616 = (Value *)&disj_1619;


// --------- integer-gen -------------
Value *integer_gen_1621;
Value *integer_gen_1622(List *closures, Value *x_0) {
 while (1) {

  if (x_0->type != IntegerType) {
    fprintf(stderr, "Invalid argument passed to 'integer-gen'\n");
    abort();
  }
  intGenerator *intGen = (intGenerator *)my_malloc(sizeof(intGenerator));
  intGen->sym_counter = ((Integer *)x_0)->numVal;
  dec_and_free(x_0, 1);
  return((Value *)opaqueValue((void *)intGen, freeIntGenerator));

};};
FnArity integer_gen_1623 = {FnArityType, -1, 1, (List *)0, 0, integer_gen_1622};
Function integer_gen_1624 = {FunctionType, -1, "integer-gen", 1, {&integer_gen_1623}};
Value *integer_gen_1621 = (Value *)&integer_gen_1624;


// --------- new-int -------------
Value *new_int_1626;
Value *new_int_1627(List *closures, Value *gen_0) {
 while (1) {

  intGenerator *gen = (intGenerator *)((Opaque *)gen_0)->ptr;
  dec_and_free(gen_0, 1);
  return(integerValue(gen->sym_counter++));

};};
FnArity new_int_1628 = {FnArityType, -1, 1, (List *)0, 0, new_int_1627};
Function new_int_1629 = {FunctionType, -1, "new-int", 1, {&new_int_1628}};
Value *new_int_1626 = (Value *)&new_int_1629;

Value *type_val_1630_1631;
ProtoImpls protoImpls1634;
ProtoImpls protoImpls1636;
Value *dispatchFnPtr1632;
Value *protoImpl1633(List *closures, Value *arg);
Value *protoImpl1635(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str48 = {StringType, -1, 12, 0, "IntGenerator"};
Value *strPtr48 = (Value *)&str48;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str49 = {StringType, -1, 3, 0, "gen"};
Value *strPtr49 = (Value *)&str49;
Value *arityImpl1637(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr49, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr48, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity1638 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1637};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str50 = {StringType, -1, 26, 0, "*IntGenerator constructor*"};
Value *strPtr50 = (Value *)&str50;
Value *IntGenerator_const_type_name_1639(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr50);

};};
FnArity IntGenerator_const_type_name_1640 = {FnArityType, -1, 1, (List *)0, 0, IntGenerator_const_type_name_1639};
Value *IntGenerator_instance_QMARK__1641(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_1630_1631, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity IntGenerator_instance_QMARK__1642 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_instance_QMARK__1641};
Value *IntGenerator_invoke_1643(List *closures, Value *arg0, Value *gen_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, gen_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_1630_1631, rslt3);
return(rslt4);

};};
FnArity IntGenerator_invoke_1644 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_invoke_1643};
ReifiedVal reifiedStatic1645 = {32, -1, (Value *)0, 0, {}};
Value *reifiedPtr1646 = (Value *)&reifiedStatic1645;
Value *IntGenerator_EQ_STAR__1647(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity IntGenerator_EQ_STAR__1648 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_EQ_STAR__1647};
Value *IntGenerator_type_name_1649(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr48);

};};
FnArity IntGenerator_type_name_1650 = {FnArityType, -1, 1, (List *)0, 0, IntGenerator_type_name_1649};
Value *IntGenerator_has_field_1651(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1632, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity IntGenerator_has_field_1652 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_has_field_1651};
Value *IntGenerator_gen_1653(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity IntGenerator_gen_1654 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_gen_1653};
Value *IntGenerator_gen_1655(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity IntGenerator_gen_1656 = {FnArityType, -1, 1, (List *)0, 0, IntGenerator_gen_1655};
Value *IntGenerator_get_1657(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity IntGenerator_get_1658 = {FnArityType, -1, 2, (List *)0, 0, IntGenerator_get_1657};
Value *IntGenerator_extract_1659(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *gen_2;
Value *tail_3;
Value **destArgs4[2] = {&gen_2, &tail_3};
destructValue("core", "1777", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// static-fixed
// #line 1779 "core"
Value *rslt5 = new_int_1627(empty_list, gen_2);
return(rslt5);

};};
FnArity IntGenerator_extract_1660 = {FnArityType, -1, 1, (List *)0, 0, IntGenerator_extract_1659};
Value *IntGenerator_assoc_STAR__1661(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity IntGenerator_assoc_STAR__1662 = {FnArityType, -1, 5, (List *)0, 0, IntGenerator_assoc_STAR__1661};
ReifiedVal reifiedStatic1663 = {33, -1, (Value *)0, 0, {}};
Value *reifiedPtr1664 = (Value *)&reifiedStatic1663;

// --------- int-generator -------------
Value *int_generator_1666;
Value *int_generator_1667(List *closures) {
 while (1) {
Value *rslt3;
FnArity *arity0 = findFnArity(int_generator_1666, 1);
if(arity0 != (FnArity *)0 && !arity0->variadic) { FnType1 *fn2 = (FnType1 *)arity0->fn;


// dynamic fn type
// #line 1782 "core"
rslt3 = fn2(arity0->closures, numPtr0);
} else if(arity0 != (FnArity *)0 && arity0->variadic) { FnType1 *fn2 = (FnType1 *)arity0->fn;
List *dynArgs1 = empty_list;
dynArgs1 = (List *)listCons(numPtr0, dynArgs1);

// dynamic fn type
// #line 1782 "core"
rslt3 = fn2(arity0->closures, (Value *)dynArgs1);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)int_generator_1666)->name, "core", 1782);
  abort();
}
dec_and_free(int_generator_1666, 1);
return(rslt3);

};};
FnArity int_generator_1668 = {FnArityType, -1, 0, (List *)0, 0, int_generator_1667};
Value *int_generator_1669(List *closures, Value *x_0) {
 while (1) {

// static-fixed
// #line 1783 "core"
Value *rslt1 = integer_gen_1622(empty_list, x_0);

// call invoke
// #line 1783 "core"
Value *rslt2 = IntGenerator_invoke_1643(empty_list, reifiedPtr1646, rslt1);
return(rslt2);

};};
FnArity int_generator_1670 = {FnArityType, -1, 1, (List *)0, 0, int_generator_1669};
Function int_generator_1671 = {FunctionType, -1, "int-generator", 2, {&int_generator_1668, &int_generator_1670}};
Value *int_generator_1666 = (Value *)&int_generator_1671;

Value *sym_counter_1672;

// --------- gensym -------------
Value *gensym_1674;
Value *gensym_1675(List *closures, Value *prefix_0) {
 while (1) {

// type-unknown extract
// #line 1788 "core"
Value *rslt1 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", sym_counter_1672, "core", 1788);

// static-variadic
// #line 1788 "core"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)rslt1, varArgs2);
varArgs2 = (List *)listCons((Value *)prefix_0, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);

// static-fixed
// #line 1788 "core"
Value *rslt4 = symbol_220(empty_list, rslt3);
return(rslt4);

};};
FnArity gensym_1676 = {FnArityType, -1, 1, (List *)0, 0, gensym_1675};
Function gensym_1677 = {FunctionType, -1, "gensym", 1, {&gensym_1676}};
Value *gensym_1674 = (Value *)&gensym_1677;


// --------- create-lazy -------------
Value *create_lazy_1679;
Value *create_lazy_1680(List *closures) {
 while (1) {

  extractCache *newCache = (extractCache *)my_malloc(sizeof(extractCache));
  newCache->tail = malloc_list();
  pthread_mutex_init(&newCache->access, NULL);
  return((Value *)opaqueValue((void *)newCache, freeExtractCache));

};};
FnArity create_lazy_1681 = {FnArityType, -1, 0, (List *)0, 0, create_lazy_1680};
Function create_lazy_1682 = {FunctionType, -1, "create-lazy", 1, {&create_lazy_1681}};
Value *create_lazy_1679 = (Value *)&create_lazy_1682;


// --------- get-lazy -------------
Value *get_lazy_1684;
Value *get_lazy_1685(List *closures, Value *lazy_struct_0) {
 while (1) {

  extractCache *cache = (extractCache *)((Opaque *)lazy_struct_0)->ptr;
  incRef((Value *)cache->tail, 1);
  dec_and_free(lazy_struct_0, 1);
  return((Value *)cache->tail);

};};
FnArity get_lazy_1686 = {FnArityType, -1, 1, (List *)0, 0, get_lazy_1685};
Function get_lazy_1687 = {FunctionType, -1, "get-lazy", 1, {&get_lazy_1686}};
Value *get_lazy_1684 = (Value *)&get_lazy_1687;


// --------- first-lazy -------------
Value *first_lazy_1689;
Value *first_lazy_1690(List *closures, Value *lazy_0, Value *tail_1) {
 while (1) {

  List *cache = (List *)lazy_0;
  extractCache *tail = (extractCache *)((Opaque *)tail_1)->ptr;
  if (cache->head == (Value *)0) {
    pthread_mutex_lock(&tail->access);
    if (cache->head == (Value *)0) {
      // leave the mutex locked and return nothing
      dec_and_free(lazy_0, 1);
      dec_and_free(tail_1, 1);
      return(nothing);
    } else {
// TODO: untested code path
fprintf(stderr, "first-lazy 4\n");
abort();
      pthread_mutex_unlock(&tail->access);
      incRef(cache->head, 1);
      dec_and_free(lazy_0, 1);
      dec_and_free(tail_1, 1);
      return(maybe((List *)0, (Value *)0, cache->head));
    }
  } else {
    incRef(cache->head, 1);
    dec_and_free(lazy_0, 1);
    dec_and_free(tail_1, 1);
    return(maybe((List *)0, (Value *)0, cache->head));
  }

};};
FnArity first_lazy_1691 = {FnArityType, -1, 2, (List *)0, 0, first_lazy_1690};
Function first_lazy_1692 = {FunctionType, -1, "first-lazy", 1, {&first_lazy_1691}};
Value *first_lazy_1689 = (Value *)&first_lazy_1692;


// --------- append-to-lazy-tail -------------
Value *append_to_lazy_tail_1694;
Value *append_to_lazy_tail_1695(List *closures, Value *tail_0, Value *value_1) {
 while (1) {

  extractCache *cacheTail = (extractCache *)((Opaque *)tail_0)->ptr;
  cacheTail->tail->head = value_1;
  cacheTail->tail->tail = malloc_list();
  List *original = cacheTail->tail;
  cacheTail->tail = cacheTail->tail->tail;
  incRef((Value *)cacheTail->tail, 1);
  dec_and_free(tail_0, 1);
  dec_and_free((Value *)original, 1);
  pthread_mutex_unlock(&cacheTail->access);
  return(nothing);

};};
FnArity append_to_lazy_tail_1696 = {FnArityType, -1, 2, (List *)0, 0, append_to_lazy_tail_1695};
Function append_to_lazy_tail_1697 = {FunctionType, -1, "append-to-lazy-tail", 1, {&append_to_lazy_tail_1696}};
Value *append_to_lazy_tail_1694 = (Value *)&append_to_lazy_tail_1697;


// --------- rest-of-lazy -------------
Value *rest_of_lazy_1699;
Value *rest_of_lazy_1700(List *closures, Value *lazy_0) {
 while (1) {

  List *cache = (List *)lazy_0;
  Value *result;
  result = (Value *)cache->tail;
  incRef(result, 1);
  dec_and_free(lazy_0, 1);
  return(result);

};};
FnArity rest_of_lazy_1701 = {FnArityType, -1, 1, (List *)0, 0, rest_of_lazy_1700};
Function rest_of_lazy_1702 = {FunctionType, -1, "rest-of-lazy", 1, {&rest_of_lazy_1701}};
Value *rest_of_lazy_1699 = (Value *)&rest_of_lazy_1702;

Value *type_val_1703_1704;
ProtoImpls protoImpls1709;
ProtoImpls protoImpls1711;
Value *dispatchFnPtr1707;
Value *protoImpl1708(List *closures, Value *arg);
Value *protoImpl1710(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls1713;
ProtoImpls protoImpls1715;
Value *dispatchFnPtr1706;
Value *protoImpl1712(List *closures, Value *arg);
Value *protoImpl1714(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls1717;
ProtoImpls protoImpls1719;
Value *dispatchFnPtr1705;
Value *protoImpl1716(List *closures, Value *arg);
Value *protoImpl1718(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str51 = {StringType, -1, 8, 0, "LazyList"};
Value *strPtr51 = (Value *)&str51;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str52 = {StringType, -1, 21, 0, "container, lazy, tail"};
Value *strPtr52 = (Value *)&str52;
Value *arityImpl1720(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr52, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr51, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity1721 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1720};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str53 = {StringType, -1, 22, 0, "*LazyList constructor*"};
Value *strPtr53 = (Value *)&str53;
Value *LazyList_const_type_name_1722(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr53);

};};
FnArity LazyList_const_type_name_1723 = {FnArityType, -1, 1, (List *)0, 0, LazyList_const_type_name_1722};
Value *LazyList_instance_QMARK__1724(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_1703_1704, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity LazyList_instance_QMARK__1725 = {FnArityType, -1, 2, (List *)0, 0, LazyList_instance_QMARK__1724};
Value *LazyList_invoke_1726(List *closures, Value *arg0, Value *container_1, Value *lazy_2, Value *tail_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, container_1);
newVect4 = mutateVectConj(newVect4, lazy_2);
newVect4 = mutateVectConj(newVect4, tail_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_1703_1704, rslt5);
return(rslt6);

};};
FnArity LazyList_invoke_1727 = {FnArityType, -1, 4, (List *)0, 0, LazyList_invoke_1726};
ReifiedVal reifiedStatic1728 = {34, -1, (Value *)0, 0, {}};
Value *reifiedPtr1729 = (Value *)&reifiedStatic1728;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str54 = {StringType, -1, 10, 0, "<LazyList>"};
Value *strPtr54 = (Value *)&str54;
Value *LazyList_string_list_1730(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *container_2;
Value *lazy_3;
Value *tail_4;
Value *tail_5;
Value **destArgs6[4] = {&container_2, &lazy_3, &tail_4, &tail_5};
destructValue("core", "1869", (Value *)rslt1, 4, destArgs6);

dec_and_free(container_2, 1);

dec_and_free(lazy_3, 1);

dec_and_free(tail_4, 1);

dec_and_free(tail_5, 1);

// call-list
// #line 1871 "core"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr54, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity LazyList_string_list_1731 = {FnArityType, -1, 1, (List *)0, 0, LazyList_string_list_1730};
Value *LazyList_EQ_STAR__1732(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity LazyList_EQ_STAR__1733 = {FnArityType, -1, 2, (List *)0, 0, LazyList_EQ_STAR__1732};
Value *LazyList_first_1734(List *closures, Value *c_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *container_2;
Value *lazy_3;
Value *tail_4;
Value *tail_5;
Value **destArgs6[4] = {&container_2, &lazy_3, &tail_4, &tail_5};
destructValue("core", "1869", (Value *)rslt1, 4, destArgs6);

incRef(tail_4, 1);

dec_and_free(tail_5, 1);
Value *orRslt7;

// static-fixed
// #line 1880 "core"
Value *rslt8 = first_lazy_1690(empty_list, lazy_3, tail_4);
orRslt7 = rslt8;
if (!isNothing(orRslt7)) {
dec_and_free(container_2, 1);
dec_and_free(tail_4, 1);
return(orRslt7);
} else {
dec_and_free(orRslt7, 1);

// type-unknown extract
// #line 1881 "core"
Value *rslt9 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", container_2, "core", 1881);
Value *v_10 = rslt9;

incRef(v_10, 1);

// static-fixed
// #line 1882 "core"
Value *rslt11 = append_to_lazy_tail_1695(empty_list, tail_4, v_10);

dec_and_free(rslt11, 1);

// static-fixed
// #line 1881 "core"
Value *rslt12 = maybe_4(empty_list, v_10);
return(rslt12);
orRslt7 = rslt12;
}

};};
FnArity LazyList_first_1735 = {FnArityType, -1, 1, (List *)0, 0, LazyList_first_1734};
Value *LazyList_rest_1736(List *closures, Value *c_0) {
 while (1) {

incRef(c_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *container_2;
Value *lazy_3;
Value *tail_4;
Value *tail_5;
Value **destArgs6[4] = {&container_2, &lazy_3, &tail_4, &tail_5};
destructValue("core", "1869", (Value *)rslt1, 4, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown first
// #line 1887 "core"
Value *rslt7 = proto1Arg(&first_Implementations_320, "<nothing>/first", c_0, "core", 1887);

dec_and_free(rslt7, 1);

// static-fixed
// #line 1888 "core"
Value *rslt8 = rest_of_lazy_1700(empty_list, lazy_3);

// call invoke
// #line 1888 "core"
Value *rslt9 = LazyList_invoke_1726(empty_list, reifiedPtr1729, container_2, rslt8, tail_4);
return(rslt9);

};};
FnArity LazyList_rest_1737 = {FnArityType, -1, 1, (List *)0, 0, LazyList_rest_1736};
Value *LazyList_type_name_1738(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr51);

};};
FnArity LazyList_type_name_1739 = {FnArityType, -1, 1, (List *)0, 0, LazyList_type_name_1738};
Value *LazyList_has_field_1740(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1707, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr1706, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr1705, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity LazyList_has_field_1741 = {FnArityType, -1, 2, (List *)0, 0, LazyList_has_field_1740};
Value *LazyList_container_1742(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity LazyList_container_1743 = {FnArityType, -1, 2, (List *)0, 0, LazyList_container_1742};
Value *LazyList_container_1744(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity LazyList_container_1745 = {FnArityType, -1, 1, (List *)0, 0, LazyList_container_1744};
Value *LazyList_lazy_1746(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity LazyList_lazy_1747 = {FnArityType, -1, 2, (List *)0, 0, LazyList_lazy_1746};
Value *LazyList_lazy_1748(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity LazyList_lazy_1749 = {FnArityType, -1, 1, (List *)0, 0, LazyList_lazy_1748};
Value *LazyList_tail_1750(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity LazyList_tail_1751 = {FnArityType, -1, 2, (List *)0, 0, LazyList_tail_1750};
Value *LazyList_tail_1752(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity LazyList_tail_1753 = {FnArityType, -1, 1, (List *)0, 0, LazyList_tail_1752};
Value *LazyList_get_1754(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity LazyList_get_1755 = {FnArityType, -1, 2, (List *)0, 0, LazyList_get_1754};
Value *LazyList_empty_QM__1756(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *container_2;
Value *lazy_3;
Value *tail_4;
Value *tail_5;
Value **destArgs6[4] = {&container_2, &lazy_3, &tail_4, &tail_5};
destructValue("core", "1869", (Value *)rslt1, 4, destArgs6);

dec_and_free(container_2, 1);

dec_and_free(lazy_3, 1);

dec_and_free(tail_4, 1);

dec_and_free(tail_5, 1);
return(nothing_7);

};};
FnArity LazyList_empty_QM__1757 = {FnArityType, -1, 1, (List *)0, 0, LazyList_empty_QM__1756};
Value *LazyList_assoc_STAR__1758(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity LazyList_assoc_STAR__1759 = {FnArityType, -1, 5, (List *)0, 0, LazyList_assoc_STAR__1758};
ReifiedVal reifiedStatic1760 = {35, -1, (Value *)0, 0, {}};
Value *reifiedPtr1761 = (Value *)&reifiedStatic1760;

// --------- lazy-list -------------
Value *lazy_list_1763;
Value *lazy_list_1764(List *closures, Value *container_0) {
 while (1) {

// static-fixed
// #line 1891 "core"
Value *rslt1 = create_lazy_1680(empty_list);
Value *lazy_struct_2 = rslt1;

incRef(lazy_struct_2, 1);

// static-fixed
// #line 1892 "core"
Value *rslt3 = get_lazy_1685(empty_list, lazy_struct_2);

// call invoke
// #line 1892 "core"
Value *rslt4 = LazyList_invoke_1726(empty_list, reifiedPtr1729, container_0, rslt3, lazy_struct_2);
return(rslt4);

};};
FnArity lazy_list_1765 = {FnArityType, -1, 1, (List *)0, 0, lazy_list_1764};
Function lazy_list_1766 = {FunctionType, -1, "lazy-list", 1, {&lazy_list_1765}};
Value *lazy_list_1763 = (Value *)&lazy_list_1766;


// --------- null-term -------------
Value *null_term_1768;
Value *null_term_1769(List *closures, Value *s_0) {
 while (1) {
return((Value *)nullTerm(s_0));

};};
FnArity null_term_1770 = {FnArityType, -1, 1, (List *)0, 0, null_term_1769};
Function null_term_1771 = {FunctionType, -1, "null-term", 1, {&null_term_1770}};
Value *null_term_1768 = (Value *)&null_term_1771;


// --------- list-zipper -------------
Value *list_zipper_1773;
Value *arityImpl1777(List *closures, Value *firsts_0) {
while (1) {
Value *val1;
Value *val3;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[4] = {&val1, &val3, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown map
// #line 1900 "core"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", val1, rest_327, "core", 1900);

// static-fixed
// #line 1900 "core"
Value *rslt4 = cons_275(empty_list, firsts_0, val3);
Value *rslt9;
FnArity *arity6 = findFnArity(val5, 2);
if(arity6 != (FnArity *)0 && !arity6->variadic) { FnType2 *fn8 = (FnType2 *)arity6->fn;


// dynamic fn type
// #line 1900 "core"
rslt9 = fn8(arity6->closures, rslt2, rslt4);
} else if(arity6 != (FnArity *)0 && arity6->variadic) { FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(rslt4, dynArgs7);
dynArgs7 = (List *)listCons(rslt2, dynArgs7);

// dynamic fn type
// #line 1900 "core"
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val5)->name, "core", 1900);
  abort();
}
dec_and_free(val5, 1);
return(rslt9);

};};
Value *list_zipper_1774(List *closures, Value *lists_0, Value *zipped_1) {
 while (1) {

incRef(lists_0, 1);

incRef(zipped_1, 1);

// static-fixed
// #line 1898 "core"
Value *rslt2 = every_977(empty_list, lists_0, first_318);
Value *mv_3 = rslt2;
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl1777;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)list_zipper_1773, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)zipped_1, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)lists_0, (List *)dynArity4->closures);
Function *anon_1778 = malloc_function(1);
anon_1778->name = "anon";
anon_1778->arityCount = 1;
anon_1778->arities[0] = dynArity4;
Value *fn1776 = (Value *)anon_1778;

// static-fixed
// #line 975 "core"
Value *rslt5 = maybe_map_729(empty_list, mv_3, fn1776);
if (!isNothing(rslt5)) {
dec_and_free(zipped_1, 1);
return(maybeExtract(rslt5));
} else {
dec_and_free(rslt5, 1);

// type-unknown reverse
// #line 1901 "core"
Value *rslt6 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", zipped_1, "core", 1901);
return(rslt6);
}

};};
FnArity list_zipper_1779 = {FnArityType, -1, 2, (List *)0, 0, list_zipper_1774};
Function list_zipper_1780 = {FunctionType, -1, "list-zipper", 1, {&list_zipper_1779}};
Value *list_zipper_1773 = (Value *)&list_zipper_1780;


// --------- zip-lists -------------
Value *zip_lists_1782;
Value *zip_lists_1783(List *closures, Value *arg2) {
 while (1) {
Value *l_0;
Value *lists_1;
Value **destArgs3[2] = {&l_0, &lists_1};
destructValue("core", "1903", (Value *)arg2, 2, destArgs3);

// static-fixed
// #line 1904 "core"
Value *rslt4 = cons_275(empty_list, l_0, lists_1);

// static-fixed
// #line 1904 "core"
Value *rslt5 = list_zipper_1774(empty_list, rslt4, empty_list_0);
return(rslt5);

};};
FnArity zip_lists_1784 = {FnArityType, -1, 1, (List *)0, 1, zip_lists_1783};
Function zip_lists_1785 = {FunctionType, -1, "zip-lists", 1, {&zip_lists_1784}};
Value *zip_lists_1782 = (Value *)&zip_lists_1785;



typedef struct {
  int open;
  FILE *fd;} fileDescStruct;

void close_file(void *ptr) {
  fileDescStruct *fileDesc = (fileDescStruct *)ptr;
  if (fileDesc->open && fileDesc->fd) {
    fclose(fileDesc->fd);
    fileDesc->fd = NULL;
  }
  free(fileDesc);
#ifdef CHECK_MEM_LEAK
  __atomic_fetch_add(&free_count, 1, __ATOMIC_ACQ_REL);
#endif
}
#include <stdlib.h>
#include <errno.h>
#include <unistd.h>
#include <sys/stat.h>
#include <limits.h>
#include <dirent.h>

// --------- fopen-read -------------
Value *fopen_read_1787;
Value *fopen_read_1788(List *closures, Value *file_path_0) {
 while (1) {

    String *arg0Str;
    if (file_path_0->type == StringType || file_path_0->type == SubStringType)
      arg0Str = nullTerm(file_path_0);
    else {
      fprintf(stderr, "\ninvalid type for 'fopen-read'\n");
      abort();
    }

    FILE* fd = fopen(arg0Str->buffer, "r");
    dec_and_free((Value *)arg0Str, 1);
    if (fd == NULL) {
      return(nothing);
    } else {
      fseek(fd, 0, SEEK_SET);
      fileDescStruct *fdStruct = (fileDescStruct *)my_malloc(sizeof(fileDescStruct));
      fdStruct->fd = fd;
      fdStruct->open = 1;
      Value *opaque = opaqueValue(fdStruct, close_file);
      Value *mo = maybe((List *)0, (Value *)0, opaque);
      return(mo);
    }

};};
FnArity fopen_read_1789 = {FnArityType, -1, 1, (List *)0, 0, fopen_read_1788};
Function fopen_read_1790 = {FunctionType, -1, "fopen-read", 1, {&fopen_read_1789}};
Value *fopen_read_1787 = (Value *)&fopen_read_1790;


// --------- sleep -------------
Value *sleep_1792;
Value *sleep_1793(List *closures, Value *seconds_0) {
 while (1) {

  replaceWorker();
  Value *result = integerValue(sleep(((Integer *)seconds_0)->numVal));
  dec_and_free(seconds_0, 1);
  return(result);

};};
FnArity sleep_1794 = {FnArityType, -1, 1, (List *)0, 0, sleep_1793};
Function sleep_1795 = {FunctionType, -1, "sleep", 1, {&sleep_1794}};
Value *sleep_1792 = (Value *)&sleep_1795;

Value *pure_1796;
Value *free_app_1797;

// --------- read* -------------
Value *read_STAR__1799;
Value *read_STAR__1800(List *closures, Value *fileDesc_0) {
 while (1) {

  fileDescStruct *fileDesc = (fileDescStruct *)((Opaque *)fileDesc_0)->ptr;
  if (feof(fileDesc->fd)) {
    dec_and_free(fileDesc_0, 1);
    return((Value *)malloc_string(0));
  }

// TODO: Figure out how to have a new type of buffer to avoid extra copy operation
  char buffer[5005];
  if (feof(fileDesc->fd)) {
    dec_and_free(fileDesc_0, 1);
    return((Value *)malloc_string(0));
  } else {
    int64_t byte_count = fread(buffer, 1, 5000, fileDesc->fd);
    String *strVal = malloc_string(byte_count);
    strncpy(strVal->buffer, buffer, byte_count);
    dec_and_free(fileDesc_0, 1);
    return((Value *)strVal);
  }

};};
FnArity read_STAR__1801 = {FnArityType, -1, 1, (List *)0, 0, read_STAR__1800};
Function read_STAR__1802 = {FunctionType, -1, "read*", 1, {&read_STAR__1801}};
Value *read_STAR__1799 = (Value *)&read_STAR__1802;


// --------- realpath -------------
Value *realpath_1804;
Value *realpath_1805(List *closures, Value *path_0) {
 while (1) {

  String *arg0Str = nullTerm(path_0);
  char actualpath [PATH_MAX+1];
  char *ptr;

  if (realpath(arg0Str->buffer, actualpath) == NULL) {
    dec_and_free((Value *)arg0Str, 1);
    return(nothing);
  } else {
    dec_and_free((Value *)arg0Str, 1);
    Value *sv = stringValue(actualpath);
    Value *mv = maybe((List *)0, (Value *)0, sv);
    return(mv);
  }
};};
FnArity realpath_1806 = {FnArityType, -1, 1, (List *)0, 0, realpath_1805};
Function realpath_1807 = {FunctionType, -1, "realpath", 1, {&realpath_1806}};
Value *realpath_1804 = (Value *)&realpath_1807;


// proto fn for FileLineInfo/file-name
Value *file_name_1808;
ProtoImpls file_name_Implementations_1810;
Value *file_name_1809(List *closures, Value *arg0);
Value *Default_file_name_1811(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);
return(strPtr0);

};};
FnArity Default_file_name_1812 = {FnArityType, -1, 1, (List *)0, 0, Default_file_name_1811};

// proto fn for FileLineInfo/line-number
Value *line_number_1813;
ProtoImpls line_number_Implementations_1815;
Value *line_number_1814(List *closures, Value *arg0);
Value *Default_line_number_1816(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);
return(numPtr0);

};};
FnArity Default_line_number_1817 = {FnArityType, -1, 1, (List *)0, 0, Default_line_number_1816};

// --------- eof? -------------
Value *eof_QM__1819;
Value *eof_QM__1820(List *closures, Value *fileDesc_0) {
 while (1) {

  fileDescStruct *fileDesc = (fileDescStruct *)((Opaque *)fileDesc_0)->ptr;
  dec_and_free(fileDesc_0, 1);
  if (!feof(fileDesc->fd)) {
    return(nothing);
  } else {
    Value *mv = maybe((List *)0, (Value *)0, (Value *)nothing);
    return(mv);
  }

};};
FnArity eof_QM__1821 = {FnArityType, -1, 1, (List *)0, 0, eof_QM__1820};
Function eof_QM__1822 = {FunctionType, -1, "eof?", 1, {&eof_QM__1821}};
Value *eof_QM__1819 = (Value *)&eof_QM__1822;


// --------- access -------------
Value *access_1824;
Value *access_1825(List *closures, Value *file_path_0) {
 while (1) {

  incRef(file_path_0, 1);
  String *arg0Str = nullTerm(file_path_0);

  if (access(arg0Str->buffer, F_OK) == -1) {
    dec_and_free((Value *)file_path_0, 1);
    dec_and_free((Value *)arg0Str, 1);
    return(nothing);
  } else {
    dec_and_free((Value *)arg0Str, 1);
    return(maybe((List *)0, (Value *)0, file_path_0));
  }
};};
FnArity access_1826 = {FnArityType, -1, 1, (List *)0, 0, access_1825};
Function access_1827 = {FunctionType, -1, "access", 1, {&access_1826}};
Value *access_1824 = (Value *)&access_1827;


// --------- fopen-write -------------
Value *fopen_write_1829;
Value *fopen_write_1830(List *closures, Value *file_path_0) {
 while (1) {

    String *arg0Str;
    if (file_path_0->type == StringType || file_path_0->type == SubStringType)
      arg0Str = nullTerm(file_path_0);
    else {
      fprintf(stderr, "\ninvalid type for 'fopen-write'\n");
      abort();
    }

    FILE* fd = fopen(arg0Str->buffer, "wb");
    dec_and_free((Value *)arg0Str, 1);
    if (fd == NULL) {
      return(nothing);
    } else {
      fileDescStruct *fdStruct = (fileDescStruct *)my_malloc(sizeof(fileDescStruct));
      fdStruct->open = 1;
      fdStruct->fd = fd;
      Value *opaque = opaqueValue(fdStruct, close_file);
      Value *mo = maybe((List *)0, (Value *)0, opaque);
      return(mo);
    }

};};
FnArity fopen_write_1831 = {FnArityType, -1, 1, (List *)0, 0, fopen_write_1830};
Function fopen_write_1832 = {FunctionType, -1, "fopen-write", 1, {&fopen_write_1831}};
Value *fopen_write_1829 = (Value *)&fopen_write_1832;


// --------- dir-exists? -------------
Value *dir_exists_QM__1834;
Value *dir_exists_QM__1835(List *closures, Value *path_0) {
 while (1) {

    String *arg0Str = nullTerm(path_0);
    struct stat sb;

    if (stat(arg0Str->buffer, &sb) == 0 && S_ISDIR(sb.st_mode))
    {
      dec_and_free((Value *)arg0Str, 1);
      return(maybe((List *)0, (Value *)0, path_0));
    }
    else
    {
      dec_and_free((Value *)arg0Str, 1);
      return(nothing);
    }

};};
FnArity dir_exists_QM__1836 = {FnArityType, -1, 1, (List *)0, 0, dir_exists_QM__1835};
Function dir_exists_QM__1837 = {FunctionType, -1, "dir-exists?", 1, {&dir_exists_QM__1836}};
Value *dir_exists_QM__1834 = (Value *)&dir_exists_QM__1837;


// proto fn for FreeWrapper/wrap-free
Value *wrap_free_1838;
ProtoImpls wrap_free_Implementations_1840;
Value *wrap_free_1839(List *closures, Value *arg0);
Value *Default_wrap_free_1841(List *closures, Value *x_0) {
 while (1) {

// dynamic unknown type
// #line 7 "/Users/jim/toccata/free.toc"
Value *rslt4;
if((pure_1796)->type != FunctionType) {
rslt4 = invoke_368(empty_list, pure_1796, x_0);
} else {
FnArity *arity1 = findFnArity(pure_1796, 1);
if(arity1 != (FnArity *)0 && !arity1->variadic) {
FnType1 *fn3 = (FnType1 *)arity1->fn;
rslt4 = fn3(arity1->closures, x_0);
} else if(arity1 != (FnArity *)0 && arity1->variadic) {
FnType1 *fn3 = (FnType1 *)arity1->fn;
List *dynArgs2 = empty_list;
dynArgs2 = (List *)listCons(x_0, dynArgs2);
rslt4 = fn3(arity1->closures, (Value *)dynArgs2);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)pure_1796)->name);
  abort();
}
dec_and_free(pure_1796, 1);
}
return(rslt4);

};};
FnArity Default_wrap_free_1842 = {FnArityType, -1, 1, (List *)0, 0, Default_wrap_free_1841};
Value *S_IRUSR_1843 = (Value *)&(Integer){IntegerType,-1,S_IRUSR};

// proto fn for AssertionTest/not-assertion?
Value *not_assertion_QM__1844;
ProtoImpls not_assertion_QM__Implementations_1846;
Value *not_assertion_QM__1845(List *closures, Value *arg0);
Value *Default_not_assertion_QM__1847(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 7 "/Users/jim/toccata/ast.toc"
Value *rslt1 = maybe_4(empty_list, ast_0);
return(rslt1);

};};
FnArity Default_not_assertion_QM__1848 = {FnArityType, -1, 1, (List *)0, 0, Default_not_assertion_QM__1847};

// --------- write* -------------
Value *write_STAR__1850;
Value *write_STAR__1851(List *closures, Value *file_desc_0, Value *str_buffer_1) {
 while (1) {

  char *buffer;
  int64_t len;

  fileDescStruct *fileDesc = (fileDescStruct *)((Opaque *)file_desc_0)->ptr;
  if (str_buffer_1->type == StringType) {
    buffer = ((String *)str_buffer_1)->buffer;
    len = ((String *)str_buffer_1)->len;
  } else if (str_buffer_1->type == SubStringType) {
    buffer = ((SubString *)str_buffer_1)->buffer;
    len = ((SubString *)str_buffer_1)->len;
  } else {
    fprintf(stderr, "\ninvalid type for 'write*'\n");
    abort();
  }
  Value *result = integerValue(fwrite(buffer, 1, len, fileDesc->fd));
  dec_and_free(file_desc_0, 1);
  dec_and_free(str_buffer_1, 1);
  return(result);

};};
FnArity write_STAR__1852 = {FnArityType, -1, 2, (List *)0, 0, write_STAR__1851};
Function write_STAR__1853 = {FunctionType, -1, "write*", 1, {&write_STAR__1852}};
Value *write_STAR__1850 = (Value *)&write_STAR__1853;

Value *S_IWUSR_1854 = (Value *)&(Integer){IntegerType,-1,S_IWUSR};
Value *S_IXUSR_1855 = (Value *)&(Integer){IntegerType,-1,S_IXUSR};

// --------- close* -------------
Value *close_STAR__1857;
Value *close_STAR__1858(List *closures, Value *file_desc_0) {
 while (1) {

  fileDescStruct *fileDesc = (fileDescStruct *)((Opaque *)file_desc_0)->ptr;
  fclose(fileDesc->fd);
  dec_and_free(file_desc_0, 1);
  return(integerValue(1));

};};
FnArity close_STAR__1859 = {FnArityType, -1, 1, (List *)0, 0, close_STAR__1858};
Function close_STAR__1860 = {FunctionType, -1, "close*", 1, {&close_STAR__1859}};
Value *close_STAR__1857 = (Value *)&close_STAR__1860;

Value *S_IEXEC_1861 = (Value *)&(Integer){IntegerType,-1,S_IEXEC};
Value *S_IRGRP_1862 = (Value *)&(Integer){IntegerType,-1,S_IRGRP};
Value *S_IWGRP_1863 = (Value *)&(Integer){IntegerType,-1,S_IWGRP};

// proto fn for FreeEvaluate/evaluate
Value *evaluate_1864;
ProtoImpls evaluate_Implementations_1866;
Value *evaluate_1865(List *closures, Value *arg0, Value *arg1);
SubString sym0 = {SymbolType, -1, 13, 0, 0, "free/evaluate"};
Value *symPtr0 = (Value *)&sym0;
SubString sym1 = {SymbolType, -1, 4, 0, 0, "fail"};
Value *symPtr1 = (Value *)&sym1;
Value *Default_evaluate_1867(List *closures, Value *x_0, Value *eval_f_1) {
 while (1) {

dec_and_free(eval_f_1, 1);

// static-variadic
// #line 11 "/Users/jim/toccata/free.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)x_0, varArgs2);
varArgs2 = (List *)listCons((Value *)symPtr1, varArgs2);
varArgs2 = (List *)listCons((Value *)symPtr0, varArgs2);
Value *rslt3 = print_err_521(empty_list, (Value *)varArgs2);

dec_and_free(rslt3, 1);

// static-fixed
// #line 12 "/Users/jim/toccata/free.toc"
Value *rslt4 = abort_113(empty_list);
return(rslt4);

};};
FnArity Default_evaluate_1868 = {FnArityType, -1, 2, (List *)0, 0, Default_evaluate_1867};

// proto fn for FileProto/close
Value *close_1869;
ProtoImpls close_Implementations_1871;
Value *close_1870(List *closures, Value *arg0);

// proto fn for FileProto/write
Value *write_1872;
ProtoImpls write_Implementations_1874;
Value *write_1873(List *closures, Value *arg0, Value *arg1);

// proto fn for FileProto/read
Value *read_1875;
ProtoImpls read_Implementations_1877;
Value *read_1876(List *closures, Value *arg0);

// proto fn for FileProto/blocking-read
Value *blocking_read_1878;
ProtoImpls blocking_read_Implementations_1880;
Value *blocking_read_1879(List *closures, Value *arg0);
Value *S_IXGRP_1881 = (Value *)&(Integer){IntegerType,-1,S_IXGRP};
Value *S_IRWXG_1882 = (Value *)&(Integer){IntegerType,-1,S_IRWXG};
Value *List_file_name_1883(List *closures, Value *l_0) {
 while (1) {

// type-known for first
// #line 12 "/Users/jim/toccata/ast.toc"
Value *rslt1 = List_first_430(empty_list, l_0);

// type-unknown map
// #line 12 "/Users/jim/toccata/ast.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, file_name_1808, "/Users/jim/toccata/ast.toc", 12);
if (!isNothing(rslt2)) {
return(maybeExtract(rslt2));
} else {
dec_and_free(rslt2, 1);
return(strPtr0);
}

};};
FnArity List_file_name_1884 = {FnArityType, -1, 1, (List *)0, 0, List_file_name_1883};
Value *List_line_number_1885(List *closures, Value *l_0) {
 while (1) {

// type-known for first
// #line 15 "/Users/jim/toccata/ast.toc"
Value *rslt1 = List_first_430(empty_list, l_0);

// type-unknown map
// #line 15 "/Users/jim/toccata/ast.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, line_number_1813, "/Users/jim/toccata/ast.toc", 15);
if (!isNothing(rslt2)) {
return(maybeExtract(rslt2));
} else {
dec_and_free(rslt2, 1);
return(numPtr0);
}

};};
FnArity List_line_number_1886 = {FnArityType, -1, 1, (List *)0, 0, List_line_number_1885};
Value *S_IROTH_1887 = (Value *)&(Integer){IntegerType,-1,S_IROTH};
Value *S_IWOTH_1888 = (Value *)&(Integer){IntegerType,-1,S_IWOTH};
Value *S_IXOTH_1889 = (Value *)&(Integer){IntegerType,-1,S_IXOTH};

// --------- file-stat* -------------
Value *file_stat_STAR__1891;
Value *file_stat_STAR__1892(List *closures, Value *path_0) {
 while (1) {

    String *arg0Str = nullTerm(path_0);
    struct stat sb;
    List *infoList = empty_list;

    if (stat(arg0Str->buffer, &sb) == 0)
    {
      if (S_ISDIR(sb.st_mode)) {
        infoList = listCons((Value *)&const0, infoList);
        infoList = listCons(maybeNothing, infoList);
      } else {
        infoList = listCons(integerValue(sb.st_size), infoList);
        infoList = listCons(nothing, infoList);
      }
      infoList = listCons(integerValue(sb.st_ctime), infoList);
      infoList = listCons(integerValue(sb.st_mode), infoList);

      dec_and_free((Value *)arg0Str, 1);
      Value *info = maybe((List *)0, (Value *)0, (Value *)infoList);
      dec_and_free((Value *)infoList, 1);
      return(info);
    }
    else
    {
      dec_and_free((Value *)arg0Str, 1);
      return(nothing);
    }

};};
FnArity file_stat_STAR__1893 = {FnArityType, -1, 1, (List *)0, 0, file_stat_STAR__1892};
Function file_stat_STAR__1894 = {FunctionType, -1, "file-stat*", 1, {&file_stat_STAR__1893}};
Value *file_stat_STAR__1891 = (Value *)&file_stat_STAR__1894;


// --------- file-list* -------------
Value *file_list_STAR__1896;
Value *file_list_STAR__1897(List *closures, Value *path_0) {
 while (1) {

    String *arg0Str = nullTerm(path_0);
    struct stat sb;

    if (stat(arg0Str->buffer, &sb) == 0 && S_ISDIR(sb.st_mode))
    {
      DIR *dir;
      struct dirent *ent;
      List *entries = empty_list;
      if ((dir = opendir (arg0Str->buffer)) != NULL) {
        while ((ent = readdir (dir)) != NULL) {
          entries = listCons(stringValue(ent->d_name), entries);
        }
        closedir (dir);
      } else {
        /* could not open directory */
        dec_and_free((Value *)arg0Str, 1);
        return(nothing);
      }
      dec_and_free((Value *)arg0Str, 1);
      Value *entryList = maybe((List *)0, (Value *)0, (Value *)entries);
      dec_and_free((Value *)entries, 1);
      return(entryList);
    }
    else
    {
      dec_and_free((Value *)arg0Str, 1);
      return(nothing);
    }

};};
FnArity file_list_STAR__1898 = {FnArityType, -1, 1, (List *)0, 0, file_list_STAR__1897};
Function file_list_STAR__1899 = {FunctionType, -1, "file-list*", 1, {&file_list_STAR__1898}};
Value *file_list_STAR__1896 = (Value *)&file_list_STAR__1899;


// --------- reduce-args -------------
Value *reduce_args_1901;
Value *reduce_args_1902(List *closures, Value *arg2, Value *s_4, Value *final_result_5) {
 while (1) {

incRef(final_result_5, 1);
Value *arg_0;
Value *args_1;
Value **destArgs3[2] = {&arg_0, &args_1};
destructValue("/Users/jim/toccata/state-maybe.toc", "4", (Value *)arg2, 2, destArgs3);

incRef(args_1, 1);

// dynamic unknown type
// #line 5 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9;
if((arg_0)->type != FunctionType) {
rslt9 = invoke_368(empty_list, arg_0, s_4);
} else {
FnArity *arity6 = findFnArity(arg_0, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, s_4);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(s_4, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)arg_0)->name);
  abort();
}
dec_and_free(arg_0, 1);
}
Value *x_10 = rslt9;

incRef(x_10, 1);
Value *andRslt11;
andRslt11 = x_10;
if (isNothing(andRslt11)) {
dec_and_free(args_1, 2);
dec_and_free(final_result_5, 2);
dec_and_free(x_10, 1);
return(nothing);
} else {
dec_and_free(andRslt11, 1);

// type-unknown extract
// #line 6 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_10, "/Users/jim/toccata/state-maybe.toc", 6);
Value *result_13;
Value *new_s_14;
Value *tail_15;
Value **destArgs16[3] = {&result_13, &new_s_14, &tail_15};
destructValue("/Users/jim/toccata/state-maybe.toc", "6", (Value *)rslt12, 3, destArgs16);

incRef(result_13, 1);

incRef(new_s_14, 1);

dec_and_free(tail_15, 1);
Value *orRslt17;
Value *andRslt18;

// static-fixed
// #line 7 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = list_count_63(empty_list, args_1);

// type-known for =*
// #line 7 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = Integer__EQ__STAR__424(empty_list, numPtr0, rslt19);
andRslt18 = rslt20;
if (isNothing(andRslt18)) {
dec_and_free(result_13, 1);
dec_and_free(final_result_5, 1);
dec_and_free(new_s_14, 1);
} else {
dec_and_free(andRslt18, 1);

// static-fixed
// #line 8 "/Users/jim/toccata/state-maybe.toc"
Value *rslt21 = cons_275(empty_list, result_13, final_result_5);

// type-known for reverse
// #line 8 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = List_reverse_813(empty_list, rslt21);

// call-vector
// #line 8 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, rslt22);
newVect23 = mutateVectConj(newVect23, new_s_14);
Value *rslt24 = (Value *)newVect23;

// static-fixed
// #line 8 "/Users/jim/toccata/state-maybe.toc"
Value *rslt25 = maybe_4(empty_list, rslt24);
andRslt18 = rslt25;
}
orRslt17 = andRslt18;
if (!isNothing(orRslt17)) {
dec_and_free(result_13, 1);
dec_and_free(args_1, 1);
dec_and_free(final_result_5, 1);
dec_and_free(new_s_14, 1);
return(orRslt17);
} else {
dec_and_free(orRslt17, 1);

// static-fixed
// #line 9 "/Users/jim/toccata/state-maybe.toc"
Value *rslt26 = cons_275(empty_list, result_13, final_result_5);

// recursive-fixed
// #line 9 "/Users/jim/toccata/state-maybe.toc"
arg2 = args_1;
s_4 = new_s_14;
final_result_5 = rslt26;
}
andRslt11 = orRslt17;
}

};};
FnArity reduce_args_1903 = {FnArityType, -1, 3, (List *)0, 0, reduce_args_1902};
Function reduce_args_1904 = {FunctionType, -1, "reduce-args", 1, {&reduce_args_1903}};
Value *reduce_args_1901 = (Value *)&reduce_args_1904;

Value *type_val_1905_1906;
ProtoImpls protoImpls1910;
ProtoImpls protoImpls1912;
Value *dispatchFnPtr1908;
Value *protoImpl1909(List *closures, Value *arg);
Value *protoImpl1911(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls1914;
ProtoImpls protoImpls1916;
Value *dispatchFnPtr1907;
Value *protoImpl1913(List *closures, Value *arg);
Value *protoImpl1915(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str55 = {StringType, -1, 9, 0, "InputFile"};
Value *strPtr55 = (Value *)&str55;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str56 = {StringType, -1, 15, 0, "file-desc, path"};
Value *strPtr56 = (Value *)&str56;
Value *arityImpl1917(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr56, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr55, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity1918 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1917};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str57 = {StringType, -1, 23, 0, "*InputFile constructor*"};
Value *strPtr57 = (Value *)&str57;
Value *InputFile_const_type_name_1919(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr57);

};};
FnArity InputFile_const_type_name_1920 = {FnArityType, -1, 1, (List *)0, 0, InputFile_const_type_name_1919};
Value *InputFile_instance_QMARK__1921(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_1905_1906, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity InputFile_instance_QMARK__1922 = {FnArityType, -1, 2, (List *)0, 0, InputFile_instance_QMARK__1921};
Value *InputFile_invoke_1923(List *closures, Value *arg0, Value *file_desc_1, Value *path_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, file_desc_1);
newVect3 = mutateVectConj(newVect3, path_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_1905_1906, rslt4);
return(rslt5);

};};
FnArity InputFile_invoke_1924 = {FnArityType, -1, 3, (List *)0, 0, InputFile_invoke_1923};
ReifiedVal reifiedStatic1925 = {36, -1, (Value *)0, 0, {}};
Value *reifiedPtr1926 = (Value *)&reifiedStatic1925;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str58 = {StringType, -1, 11, 0, "<InputFile "};
Value *strPtr58 = (Value *)&str58;
Value *InputFile_string_list_1927(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "143", (Value *)rslt1, 3, destArgs5);

dec_and_free(file_desc_2, 1);

dec_and_free(tail_4, 1);

// call-list
// #line 145 "/Users/jim/toccata/file-io.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr2, newList6);
newList6 = listCons((Value *)path_3, newList6);
newList6 = listCons((Value *)strPtr58, newList6);
Value *rslt7 = (Value *)newList6;
return(rslt7);

};};
FnArity InputFile_string_list_1928 = {FnArityType, -1, 1, (List *)0, 0, InputFile_string_list_1927};
Value *InputFile_EQ_STAR__1929(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity InputFile_EQ_STAR__1930 = {FnArityType, -1, 2, (List *)0, 0, InputFile_EQ_STAR__1929};
Value *InputFile_type_name_1931(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr55);

};};
FnArity InputFile_type_name_1932 = {FnArityType, -1, 1, (List *)0, 0, InputFile_type_name_1931};
Value *InputFile_has_field_1933(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1908, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr1907, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity InputFile_has_field_1934 = {FnArityType, -1, 2, (List *)0, 0, InputFile_has_field_1933};
Value *InputFile_file_desc_1935(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity InputFile_file_desc_1936 = {FnArityType, -1, 2, (List *)0, 0, InputFile_file_desc_1935};
Value *InputFile_file_desc_1937(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity InputFile_file_desc_1938 = {FnArityType, -1, 1, (List *)0, 0, InputFile_file_desc_1937};
Value *InputFile_path_1939(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity InputFile_path_1940 = {FnArityType, -1, 2, (List *)0, 0, InputFile_path_1939};
Value *InputFile_path_1941(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity InputFile_path_1942 = {FnArityType, -1, 1, (List *)0, 0, InputFile_path_1941};
Value *InputFile_get_1943(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity InputFile_get_1944 = {FnArityType, -1, 2, (List *)0, 0, InputFile_get_1943};
Value *InputFile_close_1945(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "143", (Value *)rslt1, 3, destArgs5);

dec_and_free(path_3, 1);

dec_and_free(tail_4, 1);

// static-fixed
// #line 156 "/Users/jim/toccata/file-io.toc"
Value *rslt6 = close_STAR__1858(empty_list, file_desc_2);
return(rslt6);

};};
FnArity InputFile_close_1946 = {FnArityType, -1, 1, (List *)0, 0, InputFile_close_1945};
Value *InputFile_extract_1947(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "143", (Value *)rslt1, 3, destArgs5);

dec_and_free(path_3, 1);

dec_and_free(tail_4, 1);

// static-fixed
// #line 153 "/Users/jim/toccata/file-io.toc"
Value *rslt6 = read_STAR__1800(empty_list, file_desc_2);
return(rslt6);

};};
FnArity InputFile_extract_1948 = {FnArityType, -1, 1, (List *)0, 0, InputFile_extract_1947};
Value *InputFile_empty_QM__1949(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "143", (Value *)rslt1, 3, destArgs5);

dec_and_free(path_3, 1);

dec_and_free(tail_4, 1);

// static-fixed
// #line 149 "/Users/jim/toccata/file-io.toc"
Value *rslt6 = eof_QM__1820(empty_list, file_desc_2);
return(rslt6);

};};
FnArity InputFile_empty_QM__1950 = {FnArityType, -1, 1, (List *)0, 0, InputFile_empty_QM__1949};
Value *InputFile_assoc_STAR__1951(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity InputFile_assoc_STAR__1952 = {FnArityType, -1, 5, (List *)0, 0, InputFile_assoc_STAR__1951};
ReifiedVal reifiedStatic1953 = {37, -1, (Value *)0, 0, {}};
Value *reifiedPtr1954 = (Value *)&reifiedStatic1953;
Value *type_val_1955_1956;
ProtoImpls protoImpls1961;
ProtoImpls protoImpls1963;
Value *dispatchFnPtr1959;
Value *protoImpl1960(List *closures, Value *arg);
Value *protoImpl1962(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls1965;
ProtoImpls protoImpls1967;
Value *dispatchFnPtr1958;
Value *protoImpl1964(List *closures, Value *arg);
Value *protoImpl1966(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls1969;
ProtoImpls protoImpls1971;
Value *dispatchFnPtr1957;
Value *protoImpl1968(List *closures, Value *arg);
Value *protoImpl1970(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str59 = {StringType, -1, 17, 0, "block-comment-ast"};
Value *strPtr59 = (Value *)&str59;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str60 = {StringType, -1, 29, 0, "lines, path-to-file, line-num"};
Value *strPtr60 = (Value *)&str60;
Value *arityImpl1972(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr60, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr59, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity1973 = {FnArityType, -1, 1, (List *)0, 0, arityImpl1972};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str61 = {StringType, -1, 31, 0, "*block-comment-ast constructor*"};
Value *strPtr61 = (Value *)&str61;
Value *block_comment_ast_const_type_name_1974(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr61);

};};
FnArity block_comment_ast_const_type_name_1975 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_const_type_name_1974};
Value *block_comment_ast_instance_QMARK__1976(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_1955_1956, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity block_comment_ast_instance_QMARK__1977 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_instance_QMARK__1976};
Value *block_comment_ast_invoke_1978(List *closures, Value *arg0, Value *lines_1, Value *path_to_file_2, Value *line_num_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, lines_1);
newVect4 = mutateVectConj(newVect4, path_to_file_2);
newVect4 = mutateVectConj(newVect4, line_num_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_1955_1956, rslt5);
return(rslt6);

};};
FnArity block_comment_ast_invoke_1979 = {FnArityType, -1, 4, (List *)0, 0, block_comment_ast_invoke_1978};
ReifiedVal reifiedStatic1980 = {38, -1, (Value *)0, 0, {}};
Value *reifiedPtr1981 = (Value *)&reifiedStatic1980;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str62 = {StringType, -1, 16, 0, "<BlockCommentAST"};
Value *strPtr62 = (Value *)&str62;
Value *block_comment_ast_string_list_1982(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lines_2;
Value *path_to_file_3;
Value *line_num_4;
Value *tail_5;
Value **destArgs6[4] = {&lines_2, &path_to_file_3, &line_num_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "18", (Value *)rslt1, 4, destArgs6);

dec_and_free(path_to_file_3, 1);

dec_and_free(line_num_4, 1);

dec_and_free(tail_5, 1);

// call-list
// #line 23 "/Users/jim/toccata/ast.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr62, newList7);
Value *rslt8 = (Value *)newList7;

// static-fixed
// #line 24 "/Users/jim/toccata/ast.toc"
Value *rslt9 = interpose_503(empty_list, lines_2, strPtr5);

// call-list
// #line 25 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
Value *rslt11 = (Value *)newList10;

// call-list
// #line 23 "/Users/jim/toccata/ast.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)rslt9, newList12);
Value *rslt13 = (Value *)newList12;

// type-known for comp*
// #line 23 "/Users/jim/toccata/ast.toc"
Value *rslt14 = List_comp_STAR__825(empty_list, rslt8, rslt13);
return(rslt14);

};};
FnArity block_comment_ast_string_list_1983 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_string_list_1982};
Value *block_comment_ast_EQ_STAR__1984(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity block_comment_ast_EQ_STAR__1985 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_EQ_STAR__1984};
Value *block_comment_ast_not_assertion_QM__1986(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lines_2;
Value *path_to_file_3;
Value *line_num_4;
Value *tail_5;
Value **destArgs6[4] = {&lines_2, &path_to_file_3, &line_num_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "18", (Value *)rslt1, 4, destArgs6);

dec_and_free(lines_2, 1);

dec_and_free(path_to_file_3, 1);

dec_and_free(line_num_4, 1);

dec_and_free(tail_5, 1);
return(nothing_7);

};};
FnArity block_comment_ast_not_assertion_QM__1987 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_not_assertion_QM__1986};
Value *block_comment_ast_type_name_1988(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr59);

};};
FnArity block_comment_ast_type_name_1989 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_type_name_1988};
Value *block_comment_ast_has_field_1990(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1959, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr1958, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr1957, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity block_comment_ast_has_field_1991 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_has_field_1990};
Value *block_comment_ast_lines_1992(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity block_comment_ast_lines_1993 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_lines_1992};
Value *block_comment_ast_lines_1994(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity block_comment_ast_lines_1995 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_lines_1994};
Value *block_comment_ast_path_to_file_1996(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity block_comment_ast_path_to_file_1997 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_path_to_file_1996};
Value *block_comment_ast_path_to_file_1998(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity block_comment_ast_path_to_file_1999 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_path_to_file_1998};
Value *block_comment_ast_line_num_2000(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity block_comment_ast_line_num_2001 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_line_num_2000};
Value *block_comment_ast_line_num_2002(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity block_comment_ast_line_num_2003 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_line_num_2002};
Value *block_comment_ast_get_2004(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity block_comment_ast_get_2005 = {FnArityType, -1, 2, (List *)0, 0, block_comment_ast_get_2004};
Value *block_comment_ast_assoc_STAR__2006(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity block_comment_ast_assoc_STAR__2007 = {FnArityType, -1, 5, (List *)0, 0, block_comment_ast_assoc_STAR__2006};
Value *block_comment_ast_file_name_2008(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lines_2;
Value *path_to_file_3;
Value *line_num_4;
Value *tail_5;
Value **destArgs6[4] = {&lines_2, &path_to_file_3, &line_num_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "18", (Value *)rslt1, 4, destArgs6);

dec_and_free(lines_2, 1);

dec_and_free(line_num_4, 1);

dec_and_free(tail_5, 1);
return(path_to_file_3);

};};
FnArity block_comment_ast_file_name_2009 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_file_name_2008};
Value *block_comment_ast_line_number_2010(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lines_2;
Value *path_to_file_3;
Value *line_num_4;
Value *tail_5;
Value **destArgs6[4] = {&lines_2, &path_to_file_3, &line_num_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "18", (Value *)rslt1, 4, destArgs6);

dec_and_free(lines_2, 1);

dec_and_free(path_to_file_3, 1);

dec_and_free(tail_5, 1);
return(line_num_4);

};};
FnArity block_comment_ast_line_number_2011 = {FnArityType, -1, 1, (List *)0, 0, block_comment_ast_line_number_2010};
ReifiedVal reifiedStatic2012 = {39, -1, (Value *)0, 0, {}};
Value *reifiedPtr2013 = (Value *)&reifiedStatic2012;
Value *type_val_2014_2015;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str63 = {StringType, -1, 10, 0, "OutputFile"};
Value *strPtr63 = (Value *)&str63;
Value *arityImpl2018(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr56, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr63, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2019 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2018};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str64 = {StringType, -1, 24, 0, "*OutputFile constructor*"};
Value *strPtr64 = (Value *)&str64;
Value *OutputFile_const_type_name_2020(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr64);

};};
FnArity OutputFile_const_type_name_2021 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_const_type_name_2020};
Value *OutputFile_instance_QMARK__2022(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2014_2015, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity OutputFile_instance_QMARK__2023 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_instance_QMARK__2022};
Value *OutputFile_invoke_2024(List *closures, Value *arg0, Value *file_desc_1, Value *path_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, file_desc_1);
newVect3 = mutateVectConj(newVect3, path_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2014_2015, rslt4);
return(rslt5);

};};
FnArity OutputFile_invoke_2025 = {FnArityType, -1, 3, (List *)0, 0, OutputFile_invoke_2024};
ReifiedVal reifiedStatic2026 = {40, -1, (Value *)0, 0, {}};
Value *reifiedPtr2027 = (Value *)&reifiedStatic2026;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str65 = {StringType, -1, 12, 0, "<OutputFile "};
Value *strPtr65 = (Value *)&str65;
Value *OutputFile_string_list_2028(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "159", (Value *)rslt1, 3, destArgs5);

dec_and_free(file_desc_2, 1);

dec_and_free(tail_4, 1);

// call-list
// #line 161 "/Users/jim/toccata/file-io.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr2, newList6);
newList6 = listCons((Value *)path_3, newList6);
newList6 = listCons((Value *)strPtr65, newList6);
Value *rslt7 = (Value *)newList6;
return(rslt7);

};};
FnArity OutputFile_string_list_2029 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_string_list_2028};
Value *OutputFile_EQ_STAR__2030(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity OutputFile_EQ_STAR__2031 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_EQ_STAR__2030};
Value *OutputFile_type_name_2032(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr63);

};};
FnArity OutputFile_type_name_2033 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_type_name_2032};
Value *OutputFile_has_field_2034(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1908, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr1907, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity OutputFile_has_field_2035 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_has_field_2034};
Value *OutputFile_file_desc_2036(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity OutputFile_file_desc_2037 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_file_desc_2036};
Value *OutputFile_file_desc_2038(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity OutputFile_file_desc_2039 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_file_desc_2038};
Value *OutputFile_path_2040(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity OutputFile_path_2041 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_path_2040};
Value *OutputFile_path_2042(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity OutputFile_path_2043 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_path_2042};
Value *OutputFile_get_2044(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity OutputFile_get_2045 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_get_2044};
Value *OutputFile_write_2046(List *closures, Value *arg0, Value *str_buffer_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *file_desc_3;
Value *path_4;
Value *tail_5;
Value **destArgs6[3] = {&file_desc_3, &path_4, &tail_5};
destructValue("/Users/jim/toccata/file-io.toc", "159", (Value *)rslt2, 3, destArgs6);

dec_and_free(path_4, 1);

dec_and_free(tail_5, 1);

// static-fixed
// #line 164 "/Users/jim/toccata/file-io.toc"
Value *rslt7 = write_STAR__1851(empty_list, file_desc_3, str_buffer_1);
return(rslt7);

};};
FnArity OutputFile_write_2047 = {FnArityType, -1, 2, (List *)0, 0, OutputFile_write_2046};
Value *OutputFile_close_2048(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *file_desc_2;
Value *path_3;
Value *tail_4;
Value **destArgs5[3] = {&file_desc_2, &path_3, &tail_4};
destructValue("/Users/jim/toccata/file-io.toc", "159", (Value *)rslt1, 3, destArgs5);

dec_and_free(path_3, 1);

dec_and_free(tail_4, 1);

// static-fixed
// #line 165 "/Users/jim/toccata/file-io.toc"
Value *rslt6 = close_STAR__1858(empty_list, file_desc_2);
return(rslt6);

};};
FnArity OutputFile_close_2049 = {FnArityType, -1, 1, (List *)0, 0, OutputFile_close_2048};
Value *OutputFile_assoc_STAR__2050(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity OutputFile_assoc_STAR__2051 = {FnArityType, -1, 5, (List *)0, 0, OutputFile_assoc_STAR__2050};
ReifiedVal reifiedStatic2052 = {41, -1, (Value *)0, 0, {}};
Value *reifiedPtr2053 = (Value *)&reifiedStatic2052;

// --------- block-comment -------------
Value *block_comment_2055;
Value *block_comment_2056(List *closures, Value *path_to_file_0, Value *line_num_1, Value *lines_2) {
 while (1) {

// call invoke
// #line 32 "/Users/jim/toccata/ast.toc"
Value *rslt3 = block_comment_ast_invoke_1978(empty_list, reifiedPtr1981, lines_2, path_to_file_0, line_num_1);
return(rslt3);

};};
FnArity block_comment_2057 = {FnArityType, -1, 3, (List *)0, 0, block_comment_2056};
Function block_comment_2058 = {FunctionType, -1, "block-comment", 1, {&block_comment_2057}};
Value *block_comment_2055 = (Value *)&block_comment_2058;

Value *type_val_2059_2060;
ProtoImpls protoImpls2066;
ProtoImpls protoImpls2068;
Value *dispatchFnPtr2064;
Value *protoImpl2065(List *closures, Value *arg);
Value *protoImpl2067(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2070;
ProtoImpls protoImpls2072;
Value *dispatchFnPtr2063;
Value *protoImpl2069(List *closures, Value *arg);
Value *protoImpl2071(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2074;
ProtoImpls protoImpls2076;
Value *dispatchFnPtr2062;
Value *protoImpl2073(List *closures, Value *arg);
Value *protoImpl2075(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2078;
ProtoImpls protoImpls2080;
Value *dispatchFnPtr2061;
Value *protoImpl2077(List *closures, Value *arg);
Value *protoImpl2079(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str66 = {StringType, -1, 8, 0, "FileInfo"};
Value *strPtr66 = (Value *)&str66;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str67 = {StringType, -1, 30, 0, "name, permissions, ctime, size"};
Value *strPtr67 = (Value *)&str67;
Value *arityImpl2081(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr67, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr66, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2082 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2081};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str68 = {StringType, -1, 22, 0, "*FileInfo constructor*"};
Value *strPtr68 = (Value *)&str68;
Value *FileInfo_const_type_name_2083(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr68);

};};
FnArity FileInfo_const_type_name_2084 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_const_type_name_2083};
Value *FileInfo_instance_QMARK__2085(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2059_2060, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity FileInfo_instance_QMARK__2086 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_instance_QMARK__2085};
Value *FileInfo_invoke_2087(List *closures, Value *arg0, Value *name_1, Value *permissions_2, Value *ctime_3, Value *size_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, name_1);
newVect5 = mutateVectConj(newVect5, permissions_2);
newVect5 = mutateVectConj(newVect5, ctime_3);
newVect5 = mutateVectConj(newVect5, size_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_2059_2060, rslt6);
return(rslt7);

};};
FnArity FileInfo_invoke_2088 = {FnArityType, -1, 5, (List *)0, 0, FileInfo_invoke_2087};
ReifiedVal reifiedStatic2089 = {43, -1, (Value *)0, 0, {}};
Value *reifiedPtr2090 = (Value *)&reifiedStatic2089;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str69 = {StringType, -1, 10, 0, "<FileInfo "};
Value *strPtr69 = (Value *)&str69;
Value *FileInfo_string_list_2091(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *name_2;
Value *permissions_3;
Value *ctime_4;
Value *size_5;
Value *tail_6;
Value **destArgs7[5] = {&name_2, &permissions_3, &ctime_4, &size_5, &tail_6};
destructValue("/Users/jim/toccata/system.toc", "138", (Value *)rslt1, 5, destArgs7);

dec_and_free(name_2, 1);

dec_and_free(permissions_3, 1);

dec_and_free(ctime_4, 1);

dec_and_free(size_5, 1);

dec_and_free(tail_6, 1);

// call-list
// #line 141 "/Users/jim/toccata/system.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr69, newList8);
Value *rslt9 = (Value *)newList8;

// type-unknown type-args
// #line 142 "/Users/jim/toccata/system.toc"
Value *rslt10 = proto1Arg(&type_args_Implementations_32, "<nothing>/type-args", x_0, "/Users/jim/toccata/system.toc", 142);

// type-unknown flat-map
// #line 142 "/Users/jim/toccata/system.toc"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt10, string_list_393, "/Users/jim/toccata/system.toc", 142);

// static-fixed
// #line 142 "/Users/jim/toccata/system.toc"
Value *rslt12 = interpose_503(empty_list, rslt11, strPtr17);

// call-list
// #line 143 "/Users/jim/toccata/system.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)strPtr2, newList13);
Value *rslt14 = (Value *)newList13;

// call-list
// #line 141 "/Users/jim/toccata/system.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)rslt14, newList15);
newList15 = listCons((Value *)rslt12, newList15);
Value *rslt16 = (Value *)newList15;

// type-known for comp*
// #line 141 "/Users/jim/toccata/system.toc"
Value *rslt17 = List_comp_STAR__825(empty_list, rslt9, rslt16);
return(rslt17);

};};
FnArity FileInfo_string_list_2092 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_string_list_2091};
Value *FileInfo_EQ_STAR__2093(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity FileInfo_EQ_STAR__2094 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_EQ_STAR__2093};
Value *FileInfo_type_name_2095(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr66);

};};
FnArity FileInfo_type_name_2096 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_type_name_2095};
Value *FileInfo_has_field_2097(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2064, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2063, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2062, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr2061, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity FileInfo_has_field_2098 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_has_field_2097};
Value *FileInfo_name_2099(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FileInfo_name_2100 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_name_2099};
Value *FileInfo_name_2101(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FileInfo_name_2102 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_name_2101};
Value *FileInfo_permissions_2103(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FileInfo_permissions_2104 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_permissions_2103};
Value *FileInfo_permissions_2105(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FileInfo_permissions_2106 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_permissions_2105};
Value *FileInfo_ctime_2107(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FileInfo_ctime_2108 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_ctime_2107};
Value *FileInfo_ctime_2109(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FileInfo_ctime_2110 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_ctime_2109};
Integer num4 = {IntegerType, -1, 3};
Value *numPtr4 = (Value *)&num4;
Value *FileInfo_size_2111(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FileInfo_size_2112 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_size_2111};
Value *FileInfo_size_2113(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FileInfo_size_2114 = {FnArityType, -1, 1, (List *)0, 0, FileInfo_size_2113};
Value *FileInfo_get_2115(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity FileInfo_get_2116 = {FnArityType, -1, 2, (List *)0, 0, FileInfo_get_2115};
Value *FileInfo_assoc_STAR__2117(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity FileInfo_assoc_STAR__2118 = {FnArityType, -1, 5, (List *)0, 0, FileInfo_assoc_STAR__2117};
ReifiedVal reifiedStatic2119 = {44, -1, (Value *)0, 0, {}};
Value *reifiedPtr2120 = (Value *)&reifiedStatic2119;

// --------- -comp* -------------
Value *_MINUS_comp_STAR__2122;
Value *_MINUS_comp_STAR__2123(List *closures, Value *mv_0, Value *mvs_1, Value *s_2) {
 while (1) {

incRef(mvs_1, 1);

incRef(s_2, 1);

// dynamic unknown type
// #line 12 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6;
if((mv_0)->type != FunctionType) {
rslt6 = invoke_368(empty_list, mv_0, s_2);
} else {
FnArity *arity3 = findFnArity(mv_0, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, s_2);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(s_2, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)mv_0)->name);
  abort();
}
dec_and_free(mv_0, 1);
}
Value *x_7 = rslt6;
Value *orRslt8;
orRslt8 = x_7;
if (!isNothing(orRslt8)) {
dec_and_free(mvs_1, 2);
dec_and_free(s_2, 1);
return(orRslt8);
} else {
dec_and_free(orRslt8, 1);

// type-unknown first
// #line 14 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = proto1Arg(&first_Implementations_320, "<nothing>/first", mvs_1, "/Users/jim/toccata/state-maybe.toc", 14);
Value *mv_10 = rslt9;

incRef(mv_10, 1);
Value *andRslt11;
andRslt11 = mv_10;
if (isNothing(andRslt11)) {
dec_and_free(mvs_1, 1);
dec_and_free(mv_10, 1);
dec_and_free(s_2, 1);
return(nothing);
} else {
dec_and_free(andRslt11, 1);

// type-unknown extract
// #line 15 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", mv_10, "/Users/jim/toccata/state-maybe.toc", 15);

// type-unknown rest
// #line 15 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", mvs_1, "/Users/jim/toccata/state-maybe.toc", 15);

// recursive-fixed
// #line 15 "/Users/jim/toccata/state-maybe.toc"
mv_0 = rslt12;
mvs_1 = rslt13;
s_2 = s_2;
}
orRslt8 = andRslt11;
}

};};
FnArity _MINUS_comp_STAR__2124 = {FnArityType, -1, 3, (List *)0, 0, _MINUS_comp_STAR__2123};
Function _MINUS_comp_STAR__2125 = {FunctionType, -1, "-comp*", 1, {&_MINUS_comp_STAR__2124}};
Value *_MINUS_comp_STAR__2122 = (Value *)&_MINUS_comp_STAR__2125;

Value *type_val_2126_2127;
ProtoImpls protoImpls2134;
ProtoImpls protoImpls2136;
Value *dispatchFnPtr2132;
Value *protoImpl2133(List *closures, Value *arg);
Value *protoImpl2135(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2138;
ProtoImpls protoImpls2140;
Value *dispatchFnPtr2131;
Value *protoImpl2137(List *closures, Value *arg);
Value *protoImpl2139(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2142;
ProtoImpls protoImpls2144;
Value *dispatchFnPtr2130;
Value *protoImpl2141(List *closures, Value *arg);
Value *protoImpl2143(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str70 = {StringType, -1, 10, 0, "inline-ast"};
Value *strPtr70 = (Value *)&str70;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str71 = {StringType, -1, 46, 0, "lang, result-type, txt, path-to-file, line-num"};
Value *strPtr71 = (Value *)&str71;
Value *arityImpl2145(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr71, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr70, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2146 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2145};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str72 = {StringType, -1, 24, 0, "*inline-ast constructor*"};
Value *strPtr72 = (Value *)&str72;
Value *inline_ast_const_type_name_2147(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr72);

};};
FnArity inline_ast_const_type_name_2148 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_const_type_name_2147};
Value *inline_ast_instance_QMARK__2149(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2126_2127, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity inline_ast_instance_QMARK__2150 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_instance_QMARK__2149};
Value *inline_ast_invoke_2151(List *closures, Value *arg0, Value *lang_1, Value *result_type_2, Value *txt_3, Value *path_to_file_4, Value *line_num_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, lang_1);
newVect6 = mutateVectConj(newVect6, result_type_2);
newVect6 = mutateVectConj(newVect6, txt_3);
newVect6 = mutateVectConj(newVect6, path_to_file_4);
newVect6 = mutateVectConj(newVect6, line_num_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_2126_2127, rslt7);
return(rslt8);

};};
FnArity inline_ast_invoke_2152 = {FnArityType, -1, 6, (List *)0, 0, inline_ast_invoke_2151};
ReifiedVal reifiedStatic2153 = {45, -1, (Value *)0, 0, {}};
Value *reifiedPtr2154 = (Value *)&reifiedStatic2153;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str73 = {StringType, -1, 11, 0, "<InlineAST>"};
Value *strPtr73 = (Value *)&str73;
Value *inline_ast_string_list_2155(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lang_2;
Value *result_type_3;
Value *txt_4;
Value *path_to_file_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&lang_2, &result_type_3, &txt_4, &path_to_file_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/ast.toc", "35", (Value *)rslt1, 6, destArgs8);

dec_and_free(lang_2, 1);

dec_and_free(result_type_3, 1);

dec_and_free(txt_4, 1);

dec_and_free(path_to_file_5, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);

// call-list
// #line 37 "/Users/jim/toccata/ast.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr73, newList9);
Value *rslt10 = (Value *)newList9;
return(rslt10);

};};
FnArity inline_ast_string_list_2156 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_string_list_2155};
Value *inline_ast_EQ_STAR__2157(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity inline_ast_EQ_STAR__2158 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_EQ_STAR__2157};
Value *inline_ast_type_name_2159(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr70);

};};
FnArity inline_ast_type_name_2160 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_type_name_2159};
Value *inline_ast_has_field_2161(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2132, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2131, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2130, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr1958, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr1957, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity inline_ast_has_field_2162 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_has_field_2161};
Value *inline_ast_lang_2163(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity inline_ast_lang_2164 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_lang_2163};
Value *inline_ast_lang_2165(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity inline_ast_lang_2166 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_lang_2165};
Value *inline_ast_result_type_2167(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity inline_ast_result_type_2168 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_result_type_2167};
Value *inline_ast_result_type_2169(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity inline_ast_result_type_2170 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_result_type_2169};
Value *inline_ast_txt_2171(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity inline_ast_txt_2172 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_txt_2171};
Value *inline_ast_txt_2173(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity inline_ast_txt_2174 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_txt_2173};
Value *inline_ast_path_to_file_2175(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity inline_ast_path_to_file_2176 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_path_to_file_2175};
Value *inline_ast_path_to_file_2177(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity inline_ast_path_to_file_2178 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_path_to_file_2177};
Integer num5 = {IntegerType, -1, 4};
Value *numPtr5 = (Value *)&num5;
Value *inline_ast_line_num_2179(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity inline_ast_line_num_2180 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_line_num_2179};
Value *inline_ast_line_num_2181(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity inline_ast_line_num_2182 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_line_num_2181};
Value *inline_ast_get_2183(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity inline_ast_get_2184 = {FnArityType, -1, 2, (List *)0, 0, inline_ast_get_2183};
Value *inline_ast_assoc_STAR__2185(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity inline_ast_assoc_STAR__2186 = {FnArityType, -1, 5, (List *)0, 0, inline_ast_assoc_STAR__2185};
Value *inline_ast_file_name_2187(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lang_2;
Value *result_type_3;
Value *txt_4;
Value *path_to_file_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&lang_2, &result_type_3, &txt_4, &path_to_file_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/ast.toc", "35", (Value *)rslt1, 6, destArgs8);

dec_and_free(lang_2, 1);

dec_and_free(result_type_3, 1);

dec_and_free(txt_4, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);
return(path_to_file_5);

};};
FnArity inline_ast_file_name_2188 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_file_name_2187};
Value *inline_ast_line_number_2189(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *lang_2;
Value *result_type_3;
Value *txt_4;
Value *path_to_file_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&lang_2, &result_type_3, &txt_4, &path_to_file_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/ast.toc", "35", (Value *)rslt1, 6, destArgs8);

dec_and_free(lang_2, 1);

dec_and_free(result_type_3, 1);

dec_and_free(txt_4, 1);

dec_and_free(path_to_file_5, 1);

dec_and_free(tail_7, 1);
return(line_num_6);

};};
FnArity inline_ast_line_number_2190 = {FnArityType, -1, 1, (List *)0, 0, inline_ast_line_number_2189};
ReifiedVal reifiedStatic2191 = {46, -1, (Value *)0, 0, {}};
Value *reifiedPtr2192 = (Value *)&reifiedStatic2191;

// --------- file-out -------------
Value *file_out_2194;
Value *arityImpl2198(List *closures, Value *file_desc_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// call invoke
// #line 171 "/Users/jim/toccata/file-io.toc"
Value *rslt2 = OutputFile_invoke_2024(empty_list, reifiedPtr2027, file_desc_0, val1);
return(rslt2);

};};
Value *file_out_2195(List *closures, Value *path_0) {
 while (1) {

incRef(path_0, 1);

// static-fixed
// #line 169 "/Users/jim/toccata/file-io.toc"
Value *rslt1 = fopen_write_1830(empty_list, path_0);
Value *mv_2 = rslt1;
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl2198;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)path_0, (List *)dynArity3->closures);
Function *anon_2199 = malloc_function(1);
anon_2199->name = "anon";
anon_2199->arityCount = 1;
anon_2199->arities[0] = dynArity3;
Value *fn2197 = (Value *)anon_2199;

// static-fixed
// #line 975 "core"
Value *rslt4 = maybe_map_729(empty_list, mv_2, fn2197);
return(rslt4);

};};
FnArity file_out_2200 = {FnArityType, -1, 1, (List *)0, 0, file_out_2195};
Function file_out_2201 = {FunctionType, -1, "file-out", 1, {&file_out_2200}};
Value *file_out_2194 = (Value *)&file_out_2201;


// --------- inline -------------
Value *inline_2203;
Value *inline_2204(List *closures, Value *lang_0, Value *txt_1, Value *result_type_2, Value *path_to_file_3, Value *line_num_4) {
 while (1) {

// call invoke
// #line 44 "/Users/jim/toccata/ast.toc"
Value *rslt5 = inline_ast_invoke_2151(empty_list, reifiedPtr2154, lang_0, txt_1, result_type_2, path_to_file_3, line_num_4);
return(rslt5);

};};
FnArity inline_2205 = {FnArityType, -1, 5, (List *)0, 0, inline_2204};
Function inline_2206 = {FunctionType, -1, "inline", 1, {&inline_2205}};
Value *inline_2203 = (Value *)&inline_2206;

Value *type_val_2207_2208;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str74 = {StringType, -1, 7, 0, "DirInfo"};
Value *strPtr74 = (Value *)&str74;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str75 = {StringType, -1, 24, 0, "name, permissions, ctime"};
Value *strPtr75 = (Value *)&str75;
Value *arityImpl2212(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr75, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr74, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2213 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2212};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str76 = {StringType, -1, 21, 0, "*DirInfo constructor*"};
Value *strPtr76 = (Value *)&str76;
Value *DirInfo_const_type_name_2214(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr76);

};};
FnArity DirInfo_const_type_name_2215 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_const_type_name_2214};
Value *DirInfo_instance_QMARK__2216(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2207_2208, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity DirInfo_instance_QMARK__2217 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_instance_QMARK__2216};
Value *DirInfo_invoke_2218(List *closures, Value *arg0, Value *name_1, Value *permissions_2, Value *ctime_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, name_1);
newVect4 = mutateVectConj(newVect4, permissions_2);
newVect4 = mutateVectConj(newVect4, ctime_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_2207_2208, rslt5);
return(rslt6);

};};
FnArity DirInfo_invoke_2219 = {FnArityType, -1, 4, (List *)0, 0, DirInfo_invoke_2218};
ReifiedVal reifiedStatic2220 = {47, -1, (Value *)0, 0, {}};
Value *reifiedPtr2221 = (Value *)&reifiedStatic2220;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str77 = {StringType, -1, 9, 0, "<DirInfo "};
Value *strPtr77 = (Value *)&str77;
Value *DirInfo_string_list_2222(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *name_2;
Value *permissions_3;
Value *ctime_4;
Value *tail_5;
Value **destArgs6[4] = {&name_2, &permissions_3, &ctime_4, &tail_5};
destructValue("/Users/jim/toccata/system.toc", "145", (Value *)rslt1, 4, destArgs6);

dec_and_free(name_2, 1);

dec_and_free(permissions_3, 1);

dec_and_free(ctime_4, 1);

dec_and_free(tail_5, 1);

// call-list
// #line 148 "/Users/jim/toccata/system.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr77, newList7);
Value *rslt8 = (Value *)newList7;

// type-unknown type-args
// #line 149 "/Users/jim/toccata/system.toc"
Value *rslt9 = proto1Arg(&type_args_Implementations_32, "<nothing>/type-args", x_0, "/Users/jim/toccata/system.toc", 149);

// type-unknown flat-map
// #line 149 "/Users/jim/toccata/system.toc"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt9, string_list_393, "/Users/jim/toccata/system.toc", 149);

// static-fixed
// #line 149 "/Users/jim/toccata/system.toc"
Value *rslt11 = interpose_503(empty_list, rslt10, strPtr17);

// call-list
// #line 150 "/Users/jim/toccata/system.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 148 "/Users/jim/toccata/system.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 148 "/Users/jim/toccata/system.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt8, rslt15);
return(rslt16);

};};
FnArity DirInfo_string_list_2223 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_string_list_2222};
Value *DirInfo_EQ_STAR__2224(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity DirInfo_EQ_STAR__2225 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_EQ_STAR__2224};
Value *DirInfo_type_name_2226(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr74);

};};
FnArity DirInfo_type_name_2227 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_type_name_2226};
Value *DirInfo_has_field_2228(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2064, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2063, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2062, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity DirInfo_has_field_2229 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_has_field_2228};
Value *DirInfo_name_2230(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity DirInfo_name_2231 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_name_2230};
Value *DirInfo_name_2232(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity DirInfo_name_2233 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_name_2232};
Value *DirInfo_permissions_2234(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity DirInfo_permissions_2235 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_permissions_2234};
Value *DirInfo_permissions_2236(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity DirInfo_permissions_2237 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_permissions_2236};
Value *DirInfo_ctime_2238(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity DirInfo_ctime_2239 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_ctime_2238};
Value *DirInfo_ctime_2240(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity DirInfo_ctime_2241 = {FnArityType, -1, 1, (List *)0, 0, DirInfo_ctime_2240};
Value *DirInfo_get_2242(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity DirInfo_get_2243 = {FnArityType, -1, 2, (List *)0, 0, DirInfo_get_2242};
Value *DirInfo_assoc_STAR__2244(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity DirInfo_assoc_STAR__2245 = {FnArityType, -1, 5, (List *)0, 0, DirInfo_assoc_STAR__2244};
ReifiedVal reifiedStatic2246 = {48, -1, (Value *)0, 0, {}};
Value *reifiedPtr2247 = (Value *)&reifiedStatic2246;

// --------- file-in -------------
Value *file_in_2249;
Value *arityImpl2253(List *closures, Value *file_desc_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// call invoke
// #line 176 "/Users/jim/toccata/file-io.toc"
Value *rslt2 = InputFile_invoke_1923(empty_list, reifiedPtr1926, file_desc_0, val1);
return(rslt2);

};};
Value *file_in_2250(List *closures, Value *path_0) {
 while (1) {

incRef(path_0, 1);

// static-fixed
// #line 174 "/Users/jim/toccata/file-io.toc"
Value *rslt1 = fopen_read_1788(empty_list, path_0);
Value *mv_2 = rslt1;
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl2253;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)path_0, (List *)dynArity3->closures);
Function *anon_2254 = malloc_function(1);
anon_2254->name = "anon";
anon_2254->arityCount = 1;
anon_2254->arities[0] = dynArity3;
Value *fn2252 = (Value *)anon_2254;

// static-fixed
// #line 975 "core"
Value *rslt4 = maybe_map_729(empty_list, mv_2, fn2252);
return(rslt4);

};};
FnArity file_in_2255 = {FnArityType, -1, 1, (List *)0, 0, file_in_2250};
Function file_in_2256 = {FunctionType, -1, "file-in", 1, {&file_in_2255}};
Value *file_in_2249 = (Value *)&file_in_2256;


// --------- slurp -------------
Value *slurp_2258;
Value *slurp_2259(List *closures, Value *fileName_0) {
 while (1) {
String *arg0Str = nullTerm(fileName_0);

    FILE *file = fopen(arg0Str->buffer, "r");
    fseek(file, 0, SEEK_END);
    int64_t buffSize = ftell(file);
    fseek(file, 0, SEEK_SET);
    String *strVal = malloc_string(buffSize);
    fread(strVal->buffer, 1, buffSize, file);
    fclose(file);
    dec_and_free((Value *)arg0Str, 1);
    return((Value *)strVal);

};};
FnArity slurp_2260 = {FnArityType, -1, 1, (List *)0, 0, slurp_2259};
Function slurp_2261 = {FunctionType, -1, "slurp", 1, {&slurp_2260}};
Value *slurp_2258 = (Value *)&slurp_2261;

Value *type_val_2262_2263;
ProtoImpls protoImpls2266;
ProtoImpls protoImpls2268;
Value *dispatchFnPtr2264;
Value *protoImpl2265(List *closures, Value *arg);
Value *protoImpl2267(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str78 = {StringType, -1, 10, 0, "free-monad"};
Value *strPtr78 = (Value *)&str78;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str79 = {StringType, -1, 1, 0, "v"};
Value *strPtr79 = (Value *)&str79;
Value *arityImpl2269(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr79, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr78, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2270 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2269};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str80 = {StringType, -1, 24, 0, "*free-monad constructor*"};
Value *strPtr80 = (Value *)&str80;
Value *free_monad_const_type_name_2271(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr80);

};};
FnArity free_monad_const_type_name_2272 = {FnArityType, -1, 1, (List *)0, 0, free_monad_const_type_name_2271};
Value *free_monad_instance_QMARK__2273(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2262_2263, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity free_monad_instance_QMARK__2274 = {FnArityType, -1, 2, (List *)0, 0, free_monad_instance_QMARK__2273};
Value *free_monad_invoke_2275(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, v_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2262_2263, rslt3);
return(rslt4);

};};
FnArity free_monad_invoke_2276 = {FnArityType, -1, 2, (List *)0, 0, free_monad_invoke_2275};
ReifiedVal reifiedStatic2277 = {49, -1, (Value *)0, 0, {}};
Value *reifiedPtr2278 = (Value *)&reifiedStatic2277;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str81 = {StringType, -1, 13, 0, "<free-monad: "};
Value *strPtr81 = (Value *)&str81;
Value *free_monad_string_list_2279(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *v_2;
Value *tail_3;
Value **destArgs4[2] = {&v_2, &tail_3};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 19 "/Users/jim/toccata/free.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr81, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 20 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_2, "/Users/jim/toccata/free.toc", 20);

// call-list
// #line 21 "/Users/jim/toccata/free.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 19 "/Users/jim/toccata/free.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 19 "/Users/jim/toccata/free.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity free_monad_string_list_2280 = {FnArityType, -1, 1, (List *)0, 0, free_monad_string_list_2279};
Value *free_monad_EQ_STAR__2281(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity free_monad_EQ_STAR__2282 = {FnArityType, -1, 2, (List *)0, 0, free_monad_EQ_STAR__2281};
Value *free_monad_type_name_2283(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr78);

};};
FnArity free_monad_type_name_2284 = {FnArityType, -1, 1, (List *)0, 0, free_monad_type_name_2283};
Value *free_monad_has_field_2285(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2264, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity free_monad_has_field_2286 = {FnArityType, -1, 2, (List *)0, 0, free_monad_has_field_2285};
Value *free_monad_v_2287(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity free_monad_v_2288 = {FnArityType, -1, 2, (List *)0, 0, free_monad_v_2287};
Value *free_monad_v_2289(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity free_monad_v_2290 = {FnArityType, -1, 1, (List *)0, 0, free_monad_v_2289};
Value *free_monad_get_2291(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity free_monad_get_2292 = {FnArityType, -1, 2, (List *)0, 0, free_monad_get_2291};
Value *free_monad_map_2293(List *closures, Value *fv_0, Value *f_1) {
 while (1) {

incRef(fv_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, fv_0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt2, 2, destArgs5);

dec_and_free(v_3, 1);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt9;
if((pure_1796)->type != FunctionType) {
rslt9 = invoke_368(empty_list, pure_1796, f_1);
} else {
FnArity *arity6 = findFnArity(pure_1796, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, f_1);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(f_1, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)pure_1796)->name);
  abort();
}
dec_and_free(pure_1796, 1);
}

// call-list
// #line 33 "/Users/jim/toccata/free.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)fv_0, newList10);
Value *rslt11 = (Value *)newList10;

// dynamic unknown type
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt15;
if((free_app_1797)->type != FunctionType) {
rslt15 = invoke_370(empty_list, free_app_1797, rslt9, rslt11);
} else {
FnArity *arity12 = findFnArity(free_app_1797, 2);
if(arity12 != (FnArity *)0 && !arity12->variadic) {
FnType2 *fn14 = (FnType2 *)arity12->fn;
rslt15 = fn14(arity12->closures, rslt9, rslt11);
} else if(arity12 != (FnArity *)0 && arity12->variadic) {
FnType1 *fn14 = (FnType1 *)arity12->fn;
List *dynArgs13 = empty_list;
dynArgs13 = (List *)listCons(rslt11, dynArgs13);
dynArgs13 = (List *)listCons(rslt9, dynArgs13);
rslt15 = fn14(arity12->closures, (Value *)dynArgs13);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)free_app_1797)->name);
  abort();
}
dec_and_free(free_app_1797, 1);
}
return(rslt15);

};};
FnArity free_monad_map_2294 = {FnArityType, -1, 2, (List *)0, 0, free_monad_map_2293};
Value *free_monad_wrap_2295(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(v_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 34 "/Users/jim/toccata/free.toc"
Value *rslt9;
if((pure_1796)->type != FunctionType) {
rslt9 = invoke_368(empty_list, pure_1796, v_3);
} else {
FnArity *arity6 = findFnArity(pure_1796, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, v_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(v_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)pure_1796)->name);
  abort();
}
dec_and_free(pure_1796, 1);
}
return(rslt9);

};};
FnArity free_monad_wrap_2296 = {FnArityType, -1, 2, (List *)0, 0, free_monad_wrap_2295};
Value *free_monad_apply_STAR__2297(List *closures, Value *f_0, Value *args_1) {
 while (1) {

incRef(f_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, f_0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt2, 2, destArgs5);

dec_and_free(v_3, 1);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 36 "/Users/jim/toccata/free.toc"
Value *rslt9;
if((free_app_1797)->type != FunctionType) {
rslt9 = invoke_370(empty_list, free_app_1797, f_0, args_1);
} else {
FnArity *arity6 = findFnArity(free_app_1797, 2);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType2 *fn8 = (FnType2 *)arity6->fn;
rslt9 = fn8(arity6->closures, f_0, args_1);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(args_1, dynArgs7);
dynArgs7 = (List *)listCons(f_0, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)free_app_1797)->name);
  abort();
}
dec_and_free(free_app_1797, 1);
}
return(rslt9);

};};
FnArity free_monad_apply_STAR__2298 = {FnArityType, -1, 2, (List *)0, 0, free_monad_apply_STAR__2297};
Value *arityImpl2301(List *closures, Value *y_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown flat-map
// #line 39 "/Users/jim/toccata/free.toc"
Value *rslt2 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", y_0, val1, "/Users/jim/toccata/free.toc", 39);
return(rslt2);

};};
Value *free_monad_flat_map_2299(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2301;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)f_1, (List *)dynArity6->closures);
Function *anon_2302 = malloc_function(1);
anon_2302->name = "anon";
anon_2302->arityCount = 1;
anon_2302->arities[0] = dynArity6;
Value *fn2300 = (Value *)anon_2302;

// type-unknown map
// #line 38 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto2Arg(&map_Implementations_254, "<nothing>/map", v_3, fn2300, "/Users/jim/toccata/free.toc", 38);

// call invoke
// #line 38 "/Users/jim/toccata/free.toc"
Value *rslt8 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt7);
return(rslt8);

};};
FnArity free_monad_flat_map_2303 = {FnArityType, -1, 2, (List *)0, 0, free_monad_flat_map_2299};
Value *arityImpl2306(List *closures, Value *y_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown evaluate
// #line 29 "/Users/jim/toccata/free.toc"
Value *rslt2 = proto2Arg(&evaluate_Implementations_1866, "<nothing>/evaluate", y_0, val1, "/Users/jim/toccata/free.toc", 29);
return(rslt2);

};};
Value *free_monad_evaluate_2304(List *closures, Value *arg0, Value *f_1) {
 while (1) {

incRef(f_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2306;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)f_1, (List *)dynArity6->closures);
Function *anon_2307 = malloc_function(1);
anon_2307->name = "anon";
anon_2307->arityCount = 1;
anon_2307->arities[0] = dynArity6;
Value *fn2305 = (Value *)anon_2307;

// type-unknown map
// #line 28 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto2Arg(&map_Implementations_254, "<nothing>/map", v_3, fn2305, "/Users/jim/toccata/free.toc", 28);

// dynamic unknown type
// #line 28 "/Users/jim/toccata/free.toc"
Value *rslt11;
if((f_1)->type != FunctionType) {
rslt11 = invoke_368(empty_list, f_1, rslt7);
} else {
FnArity *arity8 = findFnArity(f_1, 1);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
rslt11 = fn10(arity8->closures, rslt7);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(rslt7, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}
return(rslt11);

};};
FnArity free_monad_evaluate_2308 = {FnArityType, -1, 2, (List *)0, 0, free_monad_evaluate_2304};
Value *free_monad_assoc_STAR__2309(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity free_monad_assoc_STAR__2310 = {FnArityType, -1, 5, (List *)0, 0, free_monad_assoc_STAR__2309};
Value *free_monad_wrap_free_2311(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *v_2;
Value *tail_3;
Value **destArgs4[2] = {&v_2, &tail_3};
destructValue("/Users/jim/toccata/free.toc", "14", (Value *)rslt1, 2, destArgs4);

dec_and_free(v_2, 1);

dec_and_free(tail_3, 1);
return(x_0);

};};
FnArity free_monad_wrap_free_2312 = {FnArityType, -1, 1, (List *)0, 0, free_monad_wrap_free_2311};
ReifiedVal reifiedStatic2313 = {50, -1, (Value *)0, 0, {}};
Value *reifiedPtr2314 = (Value *)&reifiedStatic2313;
Value *type_val_2315_2316;
ProtoImpls protoImpls2320;
ProtoImpls protoImpls2322;
Value *dispatchFnPtr2318;
Value *protoImpl2319(List *closures, Value *arg);
Value *protoImpl2321(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2324;
ProtoImpls protoImpls2326;
Value *dispatchFnPtr2317;
Value *protoImpl2323(List *closures, Value *arg);
Value *protoImpl2325(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str82 = {StringType, -1, 10, 0, "params-ast"};
Value *strPtr82 = (Value *)&str82;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str83 = {StringType, -1, 15, 0, "fixed, variadic"};
Value *strPtr83 = (Value *)&str83;
Value *arityImpl2327(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr83, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr82, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2328 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2327};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str84 = {StringType, -1, 24, 0, "*params-ast constructor*"};
Value *strPtr84 = (Value *)&str84;
Value *params_ast_const_type_name_2329(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr84);

};};
FnArity params_ast_const_type_name_2330 = {FnArityType, -1, 1, (List *)0, 0, params_ast_const_type_name_2329};
Value *params_ast_instance_QMARK__2331(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2315_2316, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity params_ast_instance_QMARK__2332 = {FnArityType, -1, 2, (List *)0, 0, params_ast_instance_QMARK__2331};
Value *params_ast_invoke_2333(List *closures, Value *arg0, Value *fixed_1, Value *variadic_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, fixed_1);
newVect3 = mutateVectConj(newVect3, variadic_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2315_2316, rslt4);
return(rslt5);

};};
FnArity params_ast_invoke_2334 = {FnArityType, -1, 3, (List *)0, 0, params_ast_invoke_2333};
ReifiedVal reifiedStatic2335 = {51, -1, (Value *)0, 0, {}};
Value *reifiedPtr2336 = (Value *)&reifiedStatic2335;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str85 = {StringType, -1, 8, 0, "<Params "};
Value *strPtr85 = (Value *)&str85;
Value *params_ast_string_list_2337(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fixed_2;
Value *variadic_3;
Value *tail_4;
Value **destArgs5[3] = {&fixed_2, &variadic_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "47", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// call-list
// #line 49 "/Users/jim/toccata/ast.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr85, newList6);
Value *rslt7 = (Value *)newList6;

// static-fixed
// #line 50 "/Users/jim/toccata/ast.toc"
Value *rslt8 = interpose_503(empty_list, fixed_2, strPtr4);

// type-unknown flat-map
// #line 50 "/Users/jim/toccata/ast.toc"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt8, string_list_393, "/Users/jim/toccata/ast.toc", 50);

// type-unknown string-list
// #line 51 "/Users/jim/toccata/ast.toc"
Value *rslt10 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", variadic_3, "/Users/jim/toccata/ast.toc", 51);

// static-fixed
// #line 51 "/Users/jim/toccata/ast.toc"
Value *rslt11 = cons_275(empty_list, strPtr4, rslt10);

// call-list
// #line 52 "/Users/jim/toccata/ast.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 49 "/Users/jim/toccata/ast.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
newList14 = listCons((Value *)rslt9, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 49 "/Users/jim/toccata/ast.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt7, rslt15);
return(rslt16);

};};
FnArity params_ast_string_list_2338 = {FnArityType, -1, 1, (List *)0, 0, params_ast_string_list_2337};
Value *params_ast_EQ_STAR__2339(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity params_ast_EQ_STAR__2340 = {FnArityType, -1, 2, (List *)0, 0, params_ast_EQ_STAR__2339};
Value *params_ast_type_name_2341(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr82);

};};
FnArity params_ast_type_name_2342 = {FnArityType, -1, 1, (List *)0, 0, params_ast_type_name_2341};
Value *params_ast_has_field_2343(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2318, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2317, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity params_ast_has_field_2344 = {FnArityType, -1, 2, (List *)0, 0, params_ast_has_field_2343};
Value *params_ast_fixed_2345(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity params_ast_fixed_2346 = {FnArityType, -1, 2, (List *)0, 0, params_ast_fixed_2345};
Value *params_ast_fixed_2347(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity params_ast_fixed_2348 = {FnArityType, -1, 1, (List *)0, 0, params_ast_fixed_2347};
Value *params_ast_variadic_2349(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity params_ast_variadic_2350 = {FnArityType, -1, 2, (List *)0, 0, params_ast_variadic_2349};
Value *params_ast_variadic_2351(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity params_ast_variadic_2352 = {FnArityType, -1, 1, (List *)0, 0, params_ast_variadic_2351};
Value *params_ast_get_2353(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity params_ast_get_2354 = {FnArityType, -1, 2, (List *)0, 0, params_ast_get_2353};
Value *params_ast_count_2355(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fixed_2;
Value *variadic_3;
Value *tail_4;
Value **destArgs5[3] = {&fixed_2, &variadic_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "47", (Value *)rslt1, 3, destArgs5);

dec_and_free(variadic_3, 1);

dec_and_free(tail_4, 1);

// type-unknown count
// #line 55 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&count_Implementations_300, "<nothing>/count", fixed_2, "/Users/jim/toccata/ast.toc", 55);
return(rslt6);

};};
FnArity params_ast_count_2356 = {FnArityType, -1, 1, (List *)0, 0, params_ast_count_2355};
Value *params_ast_assoc_STAR__2357(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity params_ast_assoc_STAR__2358 = {FnArityType, -1, 5, (List *)0, 0, params_ast_assoc_STAR__2357};
Value *params_ast_file_name_2359(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fixed_2;
Value *variadic_3;
Value *tail_4;
Value **destArgs5[3] = {&fixed_2, &variadic_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "47", (Value *)rslt1, 3, destArgs5);

dec_and_free(variadic_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 58 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", fixed_2, "/Users/jim/toccata/ast.toc", 58);
return(rslt6);

};};
FnArity params_ast_file_name_2360 = {FnArityType, -1, 1, (List *)0, 0, params_ast_file_name_2359};
Value *params_ast_line_number_2361(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fixed_2;
Value *variadic_3;
Value *tail_4;
Value **destArgs5[3] = {&fixed_2, &variadic_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "47", (Value *)rslt1, 3, destArgs5);

dec_and_free(variadic_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 59 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", fixed_2, "/Users/jim/toccata/ast.toc", 59);
return(rslt6);

};};
FnArity params_ast_line_number_2362 = {FnArityType, -1, 1, (List *)0, 0, params_ast_line_number_2361};
ReifiedVal reifiedStatic2363 = {52, -1, (Value *)0, 0, {}};
Value *reifiedPtr2364 = (Value *)&reifiedStatic2363;
Value *type_val_2365_2366;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str86 = {StringType, -1, 6, 0, "app-fn"};
Value *strPtr86 = (Value *)&str86;
Value *arityImpl2368(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr79, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr86, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2369 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2368};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str87 = {StringType, -1, 20, 0, "*app-fn constructor*"};
Value *strPtr87 = (Value *)&str87;
Value *app_fn_const_type_name_2370(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr87);

};};
FnArity app_fn_const_type_name_2371 = {FnArityType, -1, 1, (List *)0, 0, app_fn_const_type_name_2370};
Value *app_fn_instance_QMARK__2372(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2365_2366, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity app_fn_instance_QMARK__2373 = {FnArityType, -1, 2, (List *)0, 0, app_fn_instance_QMARK__2372};
Value *app_fn_invoke_2374(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, v_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2365_2366, rslt3);
return(rslt4);

};};
FnArity app_fn_invoke_2375 = {FnArityType, -1, 2, (List *)0, 0, app_fn_invoke_2374};
ReifiedVal reifiedStatic2376 = {53, -1, (Value *)0, 0, {}};
Value *reifiedPtr2377 = (Value *)&reifiedStatic2376;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str88 = {StringType, -1, 7, 0, "<AppFn>"};
Value *strPtr88 = (Value *)&str88;
Value *app_fn_string_list_2378(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *v_2;
Value *tail_3;
Value **destArgs4[2] = {&v_2, &tail_3};
destructValue("/Users/jim/toccata/free.toc", "41", (Value *)rslt1, 2, destArgs4);

dec_and_free(v_2, 1);

dec_and_free(tail_3, 1);

// call-list
// #line 43 "/Users/jim/toccata/free.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr88, newList5);
Value *rslt6 = (Value *)newList5;
return(rslt6);

};};
FnArity app_fn_string_list_2379 = {FnArityType, -1, 1, (List *)0, 0, app_fn_string_list_2378};
Value *app_fn_EQ_STAR__2380(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity app_fn_EQ_STAR__2381 = {FnArityType, -1, 2, (List *)0, 0, app_fn_EQ_STAR__2380};
Value *app_fn_type_name_2382(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr86);

};};
FnArity app_fn_type_name_2383 = {FnArityType, -1, 1, (List *)0, 0, app_fn_type_name_2382};
Value *app_fn_has_field_2384(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2264, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity app_fn_has_field_2385 = {FnArityType, -1, 2, (List *)0, 0, app_fn_has_field_2384};
Value *app_fn_v_2386(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity app_fn_v_2387 = {FnArityType, -1, 2, (List *)0, 0, app_fn_v_2386};
Value *app_fn_v_2388(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity app_fn_v_2389 = {FnArityType, -1, 1, (List *)0, 0, app_fn_v_2388};
Value *app_fn_get_2390(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity app_fn_get_2391 = {FnArityType, -1, 2, (List *)0, 0, app_fn_get_2390};
Value *arityImpl2394(List *closures, Value *arg1) {
while (1) {
Value *args_0 = (Value *)arg1;
Value *val2;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[3] = {&val2, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs8);

dec_and_free(closuresTail, 1);

// call-list
// #line 48 "/Users/jim/toccata/free.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)args_0, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown apply*
// #line 48 "/Users/jim/toccata/free.toc"
Value *rslt5 = proto2Arg(&apply_STAR__Implementations_266, "apply*", val2, rslt4, "/Users/jim/toccata/free.toc", 48);

// type-unknown evaluate
// #line 48 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto2Arg(&evaluate_Implementations_1866, "<nothing>/evaluate", rslt5, val6, "/Users/jim/toccata/free.toc", 48);
return(rslt7);

};};
Value *app_fn_evaluate_2392(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "41", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 1;
dynArity6->fn = arityImpl2394;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)f_1, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)v_3, (List *)dynArity6->closures);
Function *anon_2395 = malloc_function(1);
anon_2395->name = "anon";
anon_2395->arityCount = 1;
anon_2395->arities[0] = dynArity6;
Value *fn2393 = (Value *)anon_2395;
return(fn2393);

};};
FnArity app_fn_evaluate_2396 = {FnArityType, -1, 2, (List *)0, 0, app_fn_evaluate_2392};
Value *app_fn_assoc_STAR__2397(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity app_fn_assoc_STAR__2398 = {FnArityType, -1, 5, (List *)0, 0, app_fn_assoc_STAR__2397};
ReifiedVal reifiedStatic2399 = {54, -1, (Value *)0, 0, {}};
Value *reifiedPtr2400 = (Value *)&reifiedStatic2399;

// proto fn for FreeApply/free-apply
Value *free_apply_2401;
ProtoImpls free_apply_Implementations_2403;
Value *free_apply_2402(List *closures, Value *arg0, Value *arg1);
Value *Default_free_apply_2404(List *closures, Value *f_0, Value *vs_1) {
 while (1) {

// type-unknown apply*
// #line 52 "/Users/jim/toccata/free.toc"
Value *rslt2 = proto2Arg(&apply_STAR__Implementations_266, "<nothing>/apply*", f_0, vs_1, "/Users/jim/toccata/free.toc", 52);
return(rslt2);

};};
FnArity Default_free_apply_2405 = {FnArityType, -1, 2, (List *)0, 0, Default_free_apply_2404};

// --------- params -------------
Value *params_2407;
Value *params_2408(List *closures, Value *fixed_0) {
 while (1) {

// call invoke
// #line 62 "/Users/jim/toccata/ast.toc"
Value *rslt1 = params_ast_invoke_2333(empty_list, reifiedPtr2336, fixed_0, nothing_7);
return(rslt1);

};};
FnArity params_2409 = {FnArityType, -1, 1, (List *)0, 0, params_2408};
Value *params_2410(List *closures, Value *fixed_0, Value *variadic_1) {
 while (1) {

// call invoke
// #line 63 "/Users/jim/toccata/ast.toc"
Value *rslt2 = params_ast_invoke_2333(empty_list, reifiedPtr2336, fixed_0, variadic_1);
return(rslt2);

};};
FnArity params_2411 = {FnArityType, -1, 2, (List *)0, 0, params_2410};
Function params_2412 = {FunctionType, -1, "params", 2, {&params_2409, &params_2411}};
Value *params_2407 = (Value *)&params_2412;

Value *Function_free_apply_2413(List *closures, Value *f_0, Value *vs_1) {
 while (1) {
Value *f_2 = f_0;

// call-list
// #line 57 "/Users/jim/toccata/free.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)vs_1, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity Function_free_apply_2414 = {FnArityType, -1, 2, (List *)0, 0, Function_free_apply_2413};
Value *type_val_2415_2416;
ProtoImpls protoImpls2420;
ProtoImpls protoImpls2422;
Value *dispatchFnPtr2418;
Value *protoImpl2419(List *closures, Value *arg);
Value *protoImpl2421(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2424;
ProtoImpls protoImpls2426;
Value *dispatchFnPtr2417;
Value *protoImpl2423(List *closures, Value *arg);
Value *protoImpl2425(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str89 = {StringType, -1, 8, 0, "main-ast"};
Value *strPtr89 = (Value *)&str89;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str90 = {StringType, -1, 12, 0, "params, body"};
Value *strPtr90 = (Value *)&str90;
Value *arityImpl2427(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr90, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr89, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2428 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2427};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str91 = {StringType, -1, 22, 0, "*main-ast constructor*"};
Value *strPtr91 = (Value *)&str91;
Value *main_ast_const_type_name_2429(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr91);

};};
FnArity main_ast_const_type_name_2430 = {FnArityType, -1, 1, (List *)0, 0, main_ast_const_type_name_2429};
Value *main_ast_instance_QMARK__2431(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2415_2416, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity main_ast_instance_QMARK__2432 = {FnArityType, -1, 2, (List *)0, 0, main_ast_instance_QMARK__2431};
Value *main_ast_invoke_2433(List *closures, Value *arg0, Value *params_1, Value *body_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, params_1);
newVect3 = mutateVectConj(newVect3, body_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2415_2416, rslt4);
return(rslt5);

};};
FnArity main_ast_invoke_2434 = {FnArityType, -1, 3, (List *)0, 0, main_ast_invoke_2433};
ReifiedVal reifiedStatic2435 = {55, -1, (Value *)0, 0, {}};
Value *reifiedPtr2436 = (Value *)&reifiedStatic2435;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str92 = {StringType, -1, 9, 0, "<MainAST "};
Value *strPtr92 = (Value *)&str92;
Value *main_ast_string_list_2437(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *params_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&params_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "66", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// call-list
// #line 68 "/Users/jim/toccata/ast.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr92, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 69 "/Users/jim/toccata/ast.toc"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", params_2, "/Users/jim/toccata/ast.toc", 69);

// call-list
// #line 70 "/Users/jim/toccata/ast.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr4, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown string-list
// #line 71 "/Users/jim/toccata/ast.toc"
Value *rslt11 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", body_3, "/Users/jim/toccata/ast.toc", 71);

// call-list
// #line 72 "/Users/jim/toccata/ast.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 68 "/Users/jim/toccata/ast.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
newList14 = listCons((Value *)rslt10, newList14);
newList14 = listCons((Value *)rslt8, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 68 "/Users/jim/toccata/ast.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt7, rslt15);
return(rslt16);

};};
FnArity main_ast_string_list_2438 = {FnArityType, -1, 1, (List *)0, 0, main_ast_string_list_2437};
Value *main_ast_EQ_STAR__2439(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity main_ast_EQ_STAR__2440 = {FnArityType, -1, 2, (List *)0, 0, main_ast_EQ_STAR__2439};
Value *main_ast_type_name_2441(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr89);

};};
FnArity main_ast_type_name_2442 = {FnArityType, -1, 1, (List *)0, 0, main_ast_type_name_2441};
Value *main_ast_has_field_2443(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2418, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2417, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity main_ast_has_field_2444 = {FnArityType, -1, 2, (List *)0, 0, main_ast_has_field_2443};
Value *main_ast_params_2445(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity main_ast_params_2446 = {FnArityType, -1, 2, (List *)0, 0, main_ast_params_2445};
Value *main_ast_params_2447(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity main_ast_params_2448 = {FnArityType, -1, 1, (List *)0, 0, main_ast_params_2447};
Value *main_ast_body_2449(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity main_ast_body_2450 = {FnArityType, -1, 2, (List *)0, 0, main_ast_body_2449};
Value *main_ast_body_2451(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity main_ast_body_2452 = {FnArityType, -1, 1, (List *)0, 0, main_ast_body_2451};
Value *main_ast_get_2453(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity main_ast_get_2454 = {FnArityType, -1, 2, (List *)0, 0, main_ast_get_2453};
Value *main_ast_assoc_STAR__2455(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity main_ast_assoc_STAR__2456 = {FnArityType, -1, 5, (List *)0, 0, main_ast_assoc_STAR__2455};
Value *main_ast_file_name_2457(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *params_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&params_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "66", (Value *)rslt1, 3, destArgs5);

dec_and_free(params_2, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 75 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", body_3, "/Users/jim/toccata/ast.toc", 75);
return(rslt6);

};};
FnArity main_ast_file_name_2458 = {FnArityType, -1, 1, (List *)0, 0, main_ast_file_name_2457};
Value *main_ast_line_number_2459(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *params_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&params_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "66", (Value *)rslt1, 3, destArgs5);

dec_and_free(params_2, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 76 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", body_3, "/Users/jim/toccata/ast.toc", 76);
return(rslt6);

};};
FnArity main_ast_line_number_2460 = {FnArityType, -1, 1, (List *)0, 0, main_ast_line_number_2459};
ReifiedVal reifiedStatic2461 = {56, -1, (Value *)0, 0, {}};
Value *reifiedPtr2462 = (Value *)&reifiedStatic2461;

// --------- main-fn -------------
Value *main_fn_2464;
Value *main_fn_2465(List *closures, Value *params_0, Value *body_1) {
 while (1) {

// call invoke
// #line 79 "/Users/jim/toccata/ast.toc"
Value *rslt2 = main_ast_invoke_2433(empty_list, reifiedPtr2436, params_0, body_1);
return(rslt2);

};};
FnArity main_fn_2466 = {FnArityType, -1, 2, (List *)0, 0, main_fn_2465};
Function main_fn_2467 = {FunctionType, -1, "main-fn", 1, {&main_fn_2466}};
Value *main_fn_2464 = (Value *)&main_fn_2467;


// --------- list-files -------------
Value *list_files_2469;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str93 = {StringType, -1, 1, 0, "."};
Value *strPtr93 = (Value *)&str93;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str94 = {StringType, -1, 1, 0, "/"};
Value *strPtr94 = (Value *)&str94;
Value *arityImpl2478(List *closures, Value *name_0) {
while (1) {

incRef(name_0, 3);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs24[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs24);

dec_and_free(closuresTail, 1);
Value *andRslt1;

// static-fixed
// #line 156 "/Users/jim/toccata/system.toc"
Value *rslt2 = subs_215(empty_list, name_0, numPtr0, numPtr1);

// static-fixed
// #line 156 "/Users/jim/toccata/system.toc"
Value *rslt3 = _EQ__557(empty_list, strPtr93, rslt2);

// static-fixed
// #line 156 "/Users/jim/toccata/system.toc"
Value *rslt4 = _EQ__557(empty_list, nothing_7, rslt3);
andRslt1 = rslt4;
if (isNothing(andRslt1)) {
dec_and_free(val5, 1);
dec_and_free(name_0, 3);
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// static-variadic
// #line 157 "/Users/jim/toccata/system.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)name_0, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr94, varArgs6);
varArgs6 = (List *)listCons((Value *)val5, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-fixed
// #line 157 "/Users/jim/toccata/system.toc"
Value *rslt8 = file_stat_STAR__1892(empty_list, rslt7);
Value *mv_9 = rslt8;

incRef(mv_9, 1);
Value *andRslt10;
andRslt10 = mv_9;
if (isNothing(andRslt10)) {
dec_and_free(mv_9, 1);
dec_and_free(name_0, 2);
} else {
dec_and_free(andRslt10, 1);

// type-known for extract
// #line 984 "core"
Value *rslt11 = Maybe_extract_757(empty_list, mv_9);
Value *permissions_12;
Value *ctime_13;
Value *dir_QM__14;
Value *size_15;
Value *tail_16;
Value **destArgs17[5] = {&permissions_12, &ctime_13, &dir_QM__14, &size_15, &tail_16};
destructValue("/Users/jim/toccata/system.toc", "158", (Value *)rslt11, 5, destArgs17);

incRef(permissions_12, 1);

incRef(ctime_13, 1);

dec_and_free(tail_16, 1);
Value *orRslt18;
Value *andRslt19;
andRslt19 = dir_QM__14;
if (isNothing(andRslt19)) {
dec_and_free(ctime_13, 1);
dec_and_free(permissions_12, 1);
dec_and_free(name_0, 1);
} else {
dec_and_free(andRslt19, 1);

// call invoke
// #line 159 "/Users/jim/toccata/system.toc"
Value *rslt20 = DirInfo_invoke_2218(empty_list, reifiedPtr2221, name_0, permissions_12, ctime_13);

// static-fixed
// #line 159 "/Users/jim/toccata/system.toc"
Value *rslt21 = maybe_4(empty_list, rslt20);
andRslt19 = rslt21;
}
orRslt18 = andRslt19;
if (!isNothing(orRslt18)) {
dec_and_free(ctime_13, 1);
dec_and_free(size_15, 1);
dec_and_free(permissions_12, 1);
dec_and_free(name_0, 1);

} else {
dec_and_free(orRslt18, 1);

// call invoke
// #line 160 "/Users/jim/toccata/system.toc"
Value *rslt22 = FileInfo_invoke_2087(empty_list, reifiedPtr2090, name_0, permissions_12, ctime_13, size_15);

// static-fixed
// #line 160 "/Users/jim/toccata/system.toc"
Value *rslt23 = maybe_4(empty_list, rslt22);
orRslt18 = rslt23;
}
andRslt10 = orRslt18;
}
return(andRslt10);
andRslt1 = andRslt10;
}

};};
Value *list_files_2470(List *closures, Value *path_0) {
 while (1) {

incRef(path_0, 1);

// static-fixed
// #line 153 "/Users/jim/toccata/system.toc"
Value *rslt1 = file_list_STAR__1897(empty_list, path_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *mv_3 = wrapper_2;

incRef(mv_3, 1);
Value *andRslt4;
andRslt4 = mv_3;
if (isNothing(andRslt4)) {
dec_and_free(path_0, 1);
dec_and_free(mv_3, 1);
dec_and_free(wrapper_2, 1);
} else {
dec_and_free(andRslt4, 1);

// type-known for extract
// #line 984 "core"
Value *rslt5 = Maybe_extract_757(empty_list, mv_3);
Value *name_list_6 = rslt5;
Value *__7 = wrapper_2;

dec_and_free(__7, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl2478;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)path_0, (List *)dynArity8->closures);
Function *anon_2480 = malloc_function(1);
anon_2480->name = "anon";
anon_2480->arityCount = 1;
anon_2480->arities[0] = dynArity8;
Value *fn2473 = (Value *)anon_2480;

// type-unknown map
// #line 154 "/Users/jim/toccata/system.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", name_list_6, fn2473, "/Users/jim/toccata/system.toc", 154);

// type-unknown filter
// #line 154 "/Users/jim/toccata/system.toc"
Value *rslt10 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", rslt9, identity_143, "/Users/jim/toccata/system.toc", 154);

// type-unknown map
// #line 154 "/Users/jim/toccata/system.toc"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt10, extract_267, "/Users/jim/toccata/system.toc", 154);
Value *mv_12 = rslt11;

// static-fixed
// #line 978 "core"
Value *rslt13 = maybe_4(empty_list, mv_12);
andRslt4 = rslt13;
}
return(andRslt4);

};};
FnArity list_files_2481 = {FnArityType, -1, 1, (List *)0, 0, list_files_2470};
Function list_files_2482 = {FunctionType, -1, "list-files", 1, {&list_files_2481}};
Value *list_files_2469 = (Value *)&list_files_2482;


// --------- get-environment -------------
Value *get_environment_2484;
Value *get_environment_2485(List *closures, Value *variable_name_0) {
 while (1) {

  char *var;
  if (variable_name_0->type == StringType) {
    var = ((String *)variable_name_0)->buffer;
  } else if (variable_name_0->type == SubStringType) {
    var = ((SubString *)variable_name_0)->buffer;
  } else {
    fprintf(stderr, "\ninvalid type for 'get-environment'\n");
    abort();
  }

// TODO: needs mutex
  char *envStr = getenv(var);
  dec_and_free(variable_name_0, 1);
  int64_t len;
  if (envStr == NULL)
    len = 0;
  else
    len = strlen(envStr);
  if (len == 0) {
    return(nothing);
  } else {
    String *strVal = malloc_string(len);
    strncpy(strVal->buffer, envStr, len);
    Value *mv = maybe((List *)0, (Value *)0, (Value *)strVal);
    return(mv);
  }

};};
FnArity get_environment_2486 = {FnArityType, -1, 1, (List *)0, 0, get_environment_2485};
Function get_environment_2487 = {FunctionType, -1, "get-environment", 1, {&get_environment_2486}};
Value *get_environment_2484 = (Value *)&get_environment_2487;


// --------- error-number -------------
Value *error_number_2489;
Value *error_number_2490(List *closures) {
 while (1) {

  return(integerValue(errno));

};};
FnArity error_number_2491 = {FnArityType, -1, 0, (List *)0, 0, error_number_2490};
Function error_number_2492 = {FunctionType, -1, "error-number", 1, {&error_number_2491}};
Value *error_number_2489 = (Value *)&error_number_2492;


// --------- error-string -------------
Value *error_string_2494;
Value *error_string_2495(List *closures) {
 while (1) {

  char errStr[1000];
  strerror_r(errno, errStr, 1000);
  int64_t len = strlen(errStr);
  String *strVal = malloc_string(len);
  strncpy(strVal->buffer, errStr, len);
  return((Value *)strVal);

};};
FnArity error_string_2496 = {FnArityType, -1, 0, (List *)0, 0, error_string_2495};
Function error_string_2497 = {FunctionType, -1, "error-string", 1, {&error_string_2496}};
Value *error_string_2494 = (Value *)&error_string_2497;

Value *type_val_2498_2499;
ProtoImpls protoImpls2503;
ProtoImpls protoImpls2505;
Value *dispatchFnPtr2501;
Value *protoImpl2502(List *closures, Value *arg);
Value *protoImpl2504(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2507;
ProtoImpls protoImpls2509;
Value *dispatchFnPtr2500;
Value *protoImpl2506(List *closures, Value *arg);
Value *protoImpl2508(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str95 = {StringType, -1, 14, 0, "definition-ast"};
Value *strPtr95 = (Value *)&str95;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str96 = {StringType, -1, 10, 0, "sym, value"};
Value *strPtr96 = (Value *)&str96;
Value *arityImpl2510(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr96, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr95, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2511 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2510};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str97 = {StringType, -1, 28, 0, "*definition-ast constructor*"};
Value *strPtr97 = (Value *)&str97;
Value *definition_ast_const_type_name_2512(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr97);

};};
FnArity definition_ast_const_type_name_2513 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_const_type_name_2512};
Value *definition_ast_instance_QMARK__2514(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2498_2499, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity definition_ast_instance_QMARK__2515 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_instance_QMARK__2514};
Value *definition_ast_invoke_2516(List *closures, Value *arg0, Value *sym_1, Value *value_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, sym_1);
newVect3 = mutateVectConj(newVect3, value_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2498_2499, rslt4);
return(rslt5);

};};
FnArity definition_ast_invoke_2517 = {FnArityType, -1, 3, (List *)0, 0, definition_ast_invoke_2516};
ReifiedVal reifiedStatic2518 = {57, -1, (Value *)0, 0, {}};
Value *reifiedPtr2519 = (Value *)&reifiedStatic2518;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str98 = {StringType, -1, 8, 0, "<DefAST "};
Value *strPtr98 = (Value *)&str98;
Value *definition_ast_string_list_2520(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *value_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &value_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "82", (Value *)rslt1, 3, destArgs5);

dec_and_free(value_3, 1);

dec_and_free(tail_4, 1);

// static-variadic
// #line 84 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)sym_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 84 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr98, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity definition_ast_string_list_2521 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_string_list_2520};
Value *definition_ast_EQ_STAR__2522(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity definition_ast_EQ_STAR__2523 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_EQ_STAR__2522};
Value *definition_ast_type_name_2524(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr95);

};};
FnArity definition_ast_type_name_2525 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_type_name_2524};
Value *definition_ast_has_field_2526(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2501, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2500, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity definition_ast_has_field_2527 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_has_field_2526};
Value *definition_ast_sym_2528(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity definition_ast_sym_2529 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_sym_2528};
Value *definition_ast_sym_2530(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity definition_ast_sym_2531 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_sym_2530};
Value *definition_ast_value_2532(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity definition_ast_value_2533 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_value_2532};
Value *definition_ast_value_2534(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity definition_ast_value_2535 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_value_2534};
Value *definition_ast_get_2536(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity definition_ast_get_2537 = {FnArityType, -1, 2, (List *)0, 0, definition_ast_get_2536};
Value *definition_ast_assoc_STAR__2538(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity definition_ast_assoc_STAR__2539 = {FnArityType, -1, 5, (List *)0, 0, definition_ast_assoc_STAR__2538};
Value *definition_ast_file_name_2540(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *value_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &value_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "82", (Value *)rslt1, 3, destArgs5);

dec_and_free(value_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 87 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", sym_2, "/Users/jim/toccata/ast.toc", 87);
return(rslt6);

};};
FnArity definition_ast_file_name_2541 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_file_name_2540};
Value *definition_ast_line_number_2542(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *value_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &value_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "82", (Value *)rslt1, 3, destArgs5);

dec_and_free(value_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 88 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", sym_2, "/Users/jim/toccata/ast.toc", 88);
return(rslt6);

};};
FnArity definition_ast_line_number_2543 = {FnArityType, -1, 1, (List *)0, 0, definition_ast_line_number_2542};
ReifiedVal reifiedStatic2544 = {58, -1, (Value *)0, 0, {}};
Value *reifiedPtr2545 = (Value *)&reifiedStatic2544;

// --------- change-directory -------------
Value *change_directory_2547;
Value *change_directory_2548(List *closures, Value *path_0) {
 while (1) {

  String *path = nullTerm(path_0);
  if (chdir(path->buffer) == 0) {
    dec_and_free((Value *)path, 1);
    return(maybe((List *)0, (Value *)0, (Value *)path_0));
  } else
    dec_and_free((Value *)path, 1);
    return(nothing);

};};
FnArity change_directory_2549 = {FnArityType, -1, 1, (List *)0, 0, change_directory_2548};
Function change_directory_2550 = {FunctionType, -1, "change-directory", 1, {&change_directory_2549}};
Value *change_directory_2547 = (Value *)&change_directory_2550;


// --------- definition -------------
Value *definition_2552;
Value *definition_2553(List *closures, Value *sym_0, Value *value_1) {
 while (1) {

// call invoke
// #line 91 "/Users/jim/toccata/ast.toc"
Value *rslt2 = definition_ast_invoke_2516(empty_list, reifiedPtr2519, sym_0, value_1);
return(rslt2);

};};
FnArity definition_2554 = {FnArityType, -1, 2, (List *)0, 0, definition_2553};
Function definition_2555 = {FunctionType, -1, "definition", 1, {&definition_2554}};
Value *definition_2552 = (Value *)&definition_2555;


// --------- current-directory -------------
Value *current_directory_2557;
Value *current_directory_2558(List *closures) {
 while (1) {

  char path[1000];
  if (getcwd(path, 1000) == NULL) {
    return(nothing);
  } else {
    int64_t len = strlen(path);
    String *strVal = malloc_string(len);
    strncpy(strVal->buffer, path, len);
    Value *mv = maybe((List *)0, (Value *)0, (Value *)strVal);
    return(mv);
  }

};};
FnArity current_directory_2559 = {FnArityType, -1, 0, (List *)0, 0, current_directory_2558};
Function current_directory_2560 = {FunctionType, -1, "current-directory", 1, {&current_directory_2559}};
Value *current_directory_2557 = (Value *)&current_directory_2560;


// --------- make-directory -------------
Value *make_directory_2562;
Value *make_directory_2563(List *closures, Value *path_0, Value *mode_1) {
 while (1) {

  String *path = nullTerm(path_0);
  if (mkdir(path->buffer, ((Integer *)mode_1)->numVal) == 0) {
    dec_and_free((Value *)path, 1);
    dec_and_free(mode_1, 1);
    return(maybe((List *)0, (Value *)0, (Value *)path_0));
  } else
    dec_and_free((Value *)path, 1);
    dec_and_free(path_0, 1);
    dec_and_free(mode_1, 1);
    return(nothing);

};};
FnArity make_directory_2564 = {FnArityType, -1, 2, (List *)0, 0, make_directory_2563};
Function make_directory_2565 = {FunctionType, -1, "make-directory", 1, {&make_directory_2564}};
Value *make_directory_2562 = (Value *)&make_directory_2565;


// --------- exec -------------
Value *exec_2567;
Value *exec_2568(List *closures, Value *path_0) {
 while (1) {
Value *rslt4;
FnArity *arity1 = findFnArity(exec_2567, 2);
if(arity1 != (FnArity *)0 && !arity1->variadic) { FnType2 *fn3 = (FnType2 *)arity1->fn;


// dynamic fn type
// #line 250 "/Users/jim/toccata/system.toc"
rslt4 = fn3(arity1->closures, path_0, empty_list_0);
} else if(arity1 != (FnArity *)0 && arity1->variadic) { FnType1 *fn3 = (FnType1 *)arity1->fn;
List *dynArgs2 = empty_list;
dynArgs2 = (List *)listCons(empty_list_0, dynArgs2);
dynArgs2 = (List *)listCons(path_0, dynArgs2);

// dynamic fn type
// #line 250 "/Users/jim/toccata/system.toc"
rslt4 = fn3(arity1->closures, (Value *)dynArgs2);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)exec_2567)->name, "/Users/jim/toccata/system.toc", 250);
  abort();
}
dec_and_free(exec_2567, 1);
return(rslt4);

};};
FnArity exec_2569 = {FnArityType, -1, 1, (List *)0, 0, exec_2568};
Value *exec_2570(List *closures, Value *path_0, Value *args_1) {
 while (1) {

  String *path = nullTerm(path_0);;

  List *argList = (List *)args_1;
  if (argList->len == 0) {
    execl(path->buffer, (char *)0);
    exit(1);
  } else {
    char **args = malloc(sizeof(char*) * (argList->len + 2));
    int i;
    Value *arg;
    args[0] = path->buffer;
    for (i = 1;
         argList != (List *)0 && argList->head != (Value *)0;
         argList = argList->tail, i++) {
      arg = argList->head;
      if (arg->type == StringType) {
        args[i] = ((String *)arg)->buffer;
      } else {
        args[i] = ((SubString *)arg)->buffer;
      }
    }
    args[i] = (char *)0;
    execv(path->buffer, args);
    exit(1);
  }
  dec_and_free(args_1, 1);
  return(nothing);

};};
FnArity exec_2571 = {FnArityType, -1, 2, (List *)0, 0, exec_2570};
Function exec_2572 = {FunctionType, -1, "exec", 2, {&exec_2569, &exec_2571}};
Value *exec_2567 = (Value *)&exec_2572;


// --------- fork -------------
Value *fork_2574;
Value *fork_2575(List *closures) {
 while (1) {

  return(integerValue(fork()));

};};
FnArity fork_2576 = {FnArityType, -1, 0, (List *)0, 0, fork_2575};
Function fork_2577 = {FunctionType, -1, "fork", 1, {&fork_2576}};
Value *fork_2574 = (Value *)&fork_2577;


// --------- waitpid -------------
Value *waitpid_2579;
Value *waitpid_2580(List *closures, Value *pid_0) {
 while (1) {

  int rv;
  int pid = (int)((Integer *)pid_0)->numVal;
  dec_and_free(pid_0, 1);
  wait(&rv);
  return(integerValue(WEXITSTATUS(rv)));

};};
FnArity waitpid_2581 = {FnArityType, -1, 1, (List *)0, 0, waitpid_2580};
Function waitpid_2582 = {FunctionType, -1, "waitpid", 1, {&waitpid_2581}};
Value *waitpid_2579 = (Value *)&waitpid_2582;

Value *type_val_2583_2584;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str99 = {StringType, -1, 15, 0, "declaration-ast"};
Value *strPtr99 = (Value *)&str99;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str100 = {StringType, -1, 3, 0, "sym"};
Value *strPtr100 = (Value *)&str100;
Value *arityImpl2586(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr100, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr99, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2587 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2586};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str101 = {StringType, -1, 29, 0, "*declaration-ast constructor*"};
Value *strPtr101 = (Value *)&str101;
Value *declaration_ast_const_type_name_2588(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr101);

};};
FnArity declaration_ast_const_type_name_2589 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_const_type_name_2588};
Value *declaration_ast_instance_QMARK__2590(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2583_2584, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity declaration_ast_instance_QMARK__2591 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_instance_QMARK__2590};
Value *declaration_ast_invoke_2592(List *closures, Value *arg0, Value *sym_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, sym_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2583_2584, rslt3);
return(rslt4);

};};
FnArity declaration_ast_invoke_2593 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_invoke_2592};
ReifiedVal reifiedStatic2594 = {59, -1, (Value *)0, 0, {}};
Value *reifiedPtr2595 = (Value *)&reifiedStatic2594;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str102 = {StringType, -1, 12, 0, "<DeclareAST "};
Value *strPtr102 = (Value *)&str102;
Value *declaration_ast_string_list_2596(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *tail_3;
Value **destArgs4[2] = {&sym_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "94", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// static-variadic
// #line 96 "/Users/jim/toccata/ast.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)sym_2, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// call-list
// #line 96 "/Users/jim/toccata/ast.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr2, newList7);
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)strPtr102, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity declaration_ast_string_list_2597 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_string_list_2596};
Value *declaration_ast_EQ_STAR__2598(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity declaration_ast_EQ_STAR__2599 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_EQ_STAR__2598};
Value *declaration_ast_type_name_2600(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr99);

};};
FnArity declaration_ast_type_name_2601 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_type_name_2600};
Value *declaration_ast_has_field_2602(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2501, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity declaration_ast_has_field_2603 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_has_field_2602};
Value *declaration_ast_sym_2604(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity declaration_ast_sym_2605 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_sym_2604};
Value *declaration_ast_sym_2606(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity declaration_ast_sym_2607 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_sym_2606};
Value *declaration_ast_get_2608(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity declaration_ast_get_2609 = {FnArityType, -1, 2, (List *)0, 0, declaration_ast_get_2608};
Value *declaration_ast_assoc_STAR__2610(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity declaration_ast_assoc_STAR__2611 = {FnArityType, -1, 5, (List *)0, 0, declaration_ast_assoc_STAR__2610};
Value *declaration_ast_file_name_2612(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *tail_3;
Value **destArgs4[2] = {&sym_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "94", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown file-name
// #line 99 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", sym_2, "/Users/jim/toccata/ast.toc", 99);
return(rslt5);

};};
FnArity declaration_ast_file_name_2613 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_file_name_2612};
Value *declaration_ast_line_number_2614(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *tail_3;
Value **destArgs4[2] = {&sym_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "94", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown line-number
// #line 100 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", sym_2, "/Users/jim/toccata/ast.toc", 100);
return(rslt5);

};};
FnArity declaration_ast_line_number_2615 = {FnArityType, -1, 1, (List *)0, 0, declaration_ast_line_number_2614};
ReifiedVal reifiedStatic2616 = {60, -1, (Value *)0, 0, {}};
Value *reifiedPtr2617 = (Value *)&reifiedStatic2616;
Value *type_val_2618_2619;
ProtoImpls protoImpls2623;
ProtoImpls protoImpls2625;
Value *dispatchFnPtr2620;
Value *protoImpl2622(List *closures, Value *arg);
Value *protoImpl2624(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str103 = {StringType, -1, 8, 0, "free-app"};
Value *strPtr103 = (Value *)&str103;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str104 = {StringType, -1, 7, 0, "v, args"};
Value *strPtr104 = (Value *)&str104;
Value *arityImpl2626(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr104, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr103, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2627 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2626};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str105 = {StringType, -1, 22, 0, "*free-app constructor*"};
Value *strPtr105 = (Value *)&str105;
Value *free_app_const_type_name_2628(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr105);

};};
FnArity free_app_const_type_name_2629 = {FnArityType, -1, 1, (List *)0, 0, free_app_const_type_name_2628};
Value *free_app_instance_QMARK__2630(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2618_2619, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity free_app_instance_QMARK__2631 = {FnArityType, -1, 2, (List *)0, 0, free_app_instance_QMARK__2630};
Value *free_app_invoke_2632(List *closures, Value *arg0, Value *v_1, Value *args_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, v_1);
newVect3 = mutateVectConj(newVect3, args_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2618_2619, rslt4);
return(rslt5);

};};
FnArity free_app_invoke_2633 = {FnArityType, -1, 3, (List *)0, 0, free_app_invoke_2632};
ReifiedVal reifiedStatic2634 = {61, -1, (Value *)0, 0, {}};
Value *reifiedPtr2635 = (Value *)&reifiedStatic2634;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str106 = {StringType, -1, 11, 0, "<free-app: "};
Value *strPtr106 = (Value *)&str106;
Value *free_app_string_list_2636(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *v_2;
Value *args_3;
Value *tail_4;
Value **destArgs5[3] = {&v_2, &args_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt1, 3, destArgs5);

dec_and_free(v_2, 1);

dec_and_free(tail_4, 1);

// call-list
// #line 64 "/Users/jim/toccata/free.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr106, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown flat-map
// #line 65 "/Users/jim/toccata/free.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", args_3, string_list_393, "/Users/jim/toccata/free.toc", 65);

// static-fixed
// #line 65 "/Users/jim/toccata/free.toc"
Value *rslt9 = interpose_503(empty_list, rslt8, strPtr4);

// call-list
// #line 66 "/Users/jim/toccata/free.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
Value *rslt11 = (Value *)newList10;

// call-list
// #line 64 "/Users/jim/toccata/free.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)rslt9, newList12);
Value *rslt13 = (Value *)newList12;

// type-known for comp*
// #line 64 "/Users/jim/toccata/free.toc"
Value *rslt14 = List_comp_STAR__825(empty_list, rslt7, rslt13);
return(rslt14);

};};
FnArity free_app_string_list_2637 = {FnArityType, -1, 1, (List *)0, 0, free_app_string_list_2636};
Value *free_app_EQ_STAR__2638(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity free_app_EQ_STAR__2639 = {FnArityType, -1, 2, (List *)0, 0, free_app_EQ_STAR__2638};
Value *free_app_type_name_2640(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr103);

};};
FnArity free_app_type_name_2641 = {FnArityType, -1, 1, (List *)0, 0, free_app_type_name_2640};
Value *free_app_has_field_2642(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2264, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2620, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity free_app_has_field_2643 = {FnArityType, -1, 2, (List *)0, 0, free_app_has_field_2642};
Value *free_app_v_2644(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity free_app_v_2645 = {FnArityType, -1, 2, (List *)0, 0, free_app_v_2644};
Value *free_app_v_2646(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity free_app_v_2647 = {FnArityType, -1, 1, (List *)0, 0, free_app_v_2646};
Value *free_app_args_2648(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity free_app_args_2649 = {FnArityType, -1, 2, (List *)0, 0, free_app_args_2648};
Value *free_app_args_2650(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity free_app_args_2651 = {FnArityType, -1, 1, (List *)0, 0, free_app_args_2650};
Value *free_app_get_2652(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity free_app_get_2653 = {FnArityType, -1, 2, (List *)0, 0, free_app_get_2652};
Value *arityImpl2658(List *closures, Value *arg1) {
while (1) {
Value *args_0 = (Value *)arg1;
Value *val2;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[3] = {&val2, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs11);

dec_and_free(closuresTail, 1);

// call-list
// #line 81 "/Users/jim/toccata/free.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)args_0, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown apply*
// #line 81 "/Users/jim/toccata/free.toc"
Value *rslt5 = proto2Arg(&apply_STAR__Implementations_266, "apply*", val2, rslt4, "/Users/jim/toccata/free.toc", 81);

// dynamic unknown type
// #line 81 "/Users/jim/toccata/free.toc"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, rslt5);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, rslt5);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(rslt5, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}
return(rslt10);

};};
Value *arityImpl2656(List *closures, Value *g_0) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 1;
dynArity1->fn = arityImpl2658;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val2, (List *)dynArity1->closures);
dynArity1->closures = listCons((Value *)g_0, (List *)dynArity1->closures);
Function *anon_2659 = malloc_function(1);
anon_2659->name = "anon";
anon_2659->arityCount = 1;
anon_2659->arities[0] = dynArity1;
Value *fn2657 = (Value *)anon_2659;
return(fn2657);

};};
Value *free_app_map_2654(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *args_4;
Value *tail_5;
Value **destArgs6[3] = {&v_3, &args_4, &tail_5};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl2656;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)f_1, (List *)dynArity7->closures);
Function *anon_2660 = malloc_function(1);
anon_2660->name = "anon";
anon_2660->arityCount = 1;
anon_2660->arities[0] = dynArity7;
Value *fn2655 = (Value *)anon_2660;

// type-unknown map
// #line 79 "/Users/jim/toccata/free.toc"
Value *rslt8 = proto2Arg(&map_Implementations_254, "<nothing>/map", v_3, fn2655, "/Users/jim/toccata/free.toc", 79);

// call invoke
// #line 79 "/Users/jim/toccata/free.toc"
Value *rslt9 = free_app_invoke_2632(empty_list, reifiedPtr2635, rslt8, args_4);
return(rslt9);

};};
FnArity free_app_map_2661 = {FnArityType, -1, 2, (List *)0, 0, free_app_map_2654};
Value *free_app_wrap_2662(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(v_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *args_4;
Value *tail_5;
Value **destArgs6[3] = {&v_3, &args_4, &tail_5};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt2, 3, destArgs6);

dec_and_free(args_4, 1);

dec_and_free(tail_5, 1);

// dynamic unknown type
// #line 83 "/Users/jim/toccata/free.toc"
Value *rslt10;
if((pure_1796)->type != FunctionType) {
rslt10 = invoke_368(empty_list, pure_1796, v_3);
} else {
FnArity *arity7 = findFnArity(pure_1796, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, v_3);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(v_3, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)pure_1796)->name);
  abort();
}
dec_and_free(pure_1796, 1);
}
return(rslt10);

};};
FnArity free_app_wrap_2663 = {FnArityType, -1, 2, (List *)0, 0, free_app_wrap_2662};
Value *free_app_apply_STAR__2664(List *closures, Value *f_0, Value *args_1) {
 while (1) {

incRef(f_0, 1);

dec_and_free(args_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, f_0);
Value *v_3;
Value *args_4;
Value *tail_5;
Value **destArgs6[3] = {&v_3, &args_4, &tail_5};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt2, 3, destArgs6);

dec_and_free(v_3, 1);

dec_and_free(tail_5, 1);

// call invoke
// #line 85 "/Users/jim/toccata/free.toc"
Value *rslt7 = free_app_invoke_2632(empty_list, reifiedPtr2635, f_0, args_4);
return(rslt7);

};};
FnArity free_app_apply_STAR__2665 = {FnArityType, -1, 2, (List *)0, 0, free_app_apply_STAR__2664};
Value *arityImpl2668(List *closures, Value *arg2) {
while (1) {
Value *fx_0;
Value *xs_1;
Value **destArgs3[2] = {&fx_0, &xs_1};
destructValue("/Users/jim/toccata/free.toc", "87", (Value *)arg2, 2, destArgs3);
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[2] = {&val7, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs12);

dec_and_free(closuresTail, 1);

// call-list
// #line 88 "/Users/jim/toccata/free.toc"
List *newList4 = empty_list;
newList4 = listCons((Value *)xs_1, newList4);
Value *rslt5 = (Value *)newList4;

// type-unknown apply*
// #line 88 "/Users/jim/toccata/free.toc"
Value *rslt6 = proto2Arg(&apply_STAR__Implementations_266, "apply*", fx_0, rslt5, "/Users/jim/toccata/free.toc", 88);

// dynamic unknown type
// #line 88 "/Users/jim/toccata/free.toc"
Value *rslt11;
if((val7)->type != FunctionType) {
rslt11 = invoke_368(empty_list, val7, rslt6);
} else {
FnArity *arity8 = findFnArity(val7, 1);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
rslt11 = fn10(arity8->closures, rslt6);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(rslt6, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val7)->name);
  abort();
}
dec_and_free(val7, 1);
}
return(rslt11);

};};
Value *free_app_flat_map_2666(List *closures, Value *fv_0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, fv_0);
Value *v_3;
Value *args_4;
Value *tail_5;
Value **destArgs6[3] = {&v_3, &args_4, &tail_5};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 1;
dynArity7->fn = arityImpl2668;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)f_1, (List *)dynArity7->closures);
Function *anon_2669 = malloc_function(1);
anon_2669->name = "anon";
anon_2669->arityCount = 1;
anon_2669->arities[0] = dynArity7;
Value *fn2667 = (Value *)anon_2669;

// call invoke
// #line 87 "/Users/jim/toccata/free.toc"
Value *rslt8 = app_fn_invoke_2374(empty_list, reifiedPtr2377, fn2667);

// static-fixed
// #line 89 "/Users/jim/toccata/free.toc"
Value *rslt9 = cons_275(empty_list, v_3, args_4);

// call invoke
// #line 87 "/Users/jim/toccata/free.toc"
Value *rslt10 = free_app_invoke_2632(empty_list, reifiedPtr2635, rslt8, rslt9);
return(rslt10);

};};
FnArity free_app_flat_map_2670 = {FnArityType, -1, 2, (List *)0, 0, free_app_flat_map_2666};
Value *arityImpl2673(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown evaluate
// #line 75 "/Users/jim/toccata/free.toc"
Value *rslt2 = proto2Arg(&evaluate_Implementations_1866, "<nothing>/evaluate", v_0, val1, "/Users/jim/toccata/free.toc", 75);
return(rslt2);

};};
Value *free_app_evaluate_2671(List *closures, Value *arg0, Value *f_1) {
 while (1) {

incRef(f_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *args_4;
Value *tail_5;
Value **destArgs6[3] = {&v_3, &args_4, &tail_5};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown evaluate
// #line 73 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto2Arg(&evaluate_Implementations_1866, "<nothing>/evaluate", v_3, f_1, "/Users/jim/toccata/free.toc", 73);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl2673;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)f_1, (List *)dynArity8->closures);
Function *anon_2674 = malloc_function(1);
anon_2674->name = "anon";
anon_2674->arityCount = 1;
anon_2674->arities[0] = dynArity8;
Value *fn2672 = (Value *)anon_2674;

// type-unknown map
// #line 74 "/Users/jim/toccata/free.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", args_4, fn2672, "/Users/jim/toccata/free.toc", 74);

// type-unknown free-apply
// #line 73 "/Users/jim/toccata/free.toc"
Value *rslt10 = proto2Arg(&free_apply_Implementations_2403, "<nothing>/free-apply", rslt7, rslt9, "/Users/jim/toccata/free.toc", 73);
return(rslt10);

};};
FnArity free_app_evaluate_2675 = {FnArityType, -1, 2, (List *)0, 0, free_app_evaluate_2671};
Value *free_app_assoc_STAR__2676(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity free_app_assoc_STAR__2677 = {FnArityType, -1, 5, (List *)0, 0, free_app_assoc_STAR__2676};
Value *free_app_wrap_free_2678(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *v_2;
Value *args_3;
Value *tail_4;
Value **destArgs5[3] = {&v_2, &args_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "59", (Value *)rslt1, 3, destArgs5);

dec_and_free(v_2, 1);

dec_and_free(args_3, 1);

dec_and_free(tail_4, 1);
return(x_0);

};};
FnArity free_app_wrap_free_2679 = {FnArityType, -1, 1, (List *)0, 0, free_app_wrap_free_2678};
ReifiedVal reifiedStatic2680 = {62, -1, (Value *)0, 0, {}};
Value *reifiedPtr2681 = (Value *)&reifiedStatic2680;

// --------- declare -------------
Value *declare_2683;
Value *declare_2684(List *closures, Value *sym_0) {
 while (1) {

// call invoke
// #line 103 "/Users/jim/toccata/ast.toc"
Value *rslt1 = declaration_ast_invoke_2592(empty_list, reifiedPtr2595, sym_0);
return(rslt1);

};};
FnArity declare_2685 = {FnArityType, -1, 1, (List *)0, 0, declare_2684};
Function declare_2686 = {FunctionType, -1, "declare", 1, {&declare_2685}};
Value *declare_2683 = (Value *)&declare_2686;


// --------- sh-proc -------------
Value *sh_proc_2688;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str107 = {StringType, -1, 13, 0, "Error forking"};
Value *strPtr107 = (Value *)&str107;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str108 = {StringType, -1, 7, 0, "process"};
Value *strPtr108 = (Value *)&str108;
Value *sh_proc_2689(List *closures, Value *path_0, Value *args_1) {
 while (1) {

incRef(path_0, 1);

// static-fixed
// #line 298 "/Users/jim/toccata/system.toc"
Value *rslt2 = fork_2575(empty_list);
Value *pid_3 = rslt2;

incRef(pid_3, 2);
Value *orRslt4;
Value *andRslt5;

// static-fixed
// #line 299 "/Users/jim/toccata/system.toc"
Value *rslt6 = _LT__531(empty_list, pid_3, numPtr0);
andRslt5 = rslt6;
if (isNothing(andRslt5)) {
dec_and_free(path_0, 1);
} else {
dec_and_free(andRslt5, 1);

// static-variadic
// #line 300 "/Users/jim/toccata/system.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)strPtr108, varArgs7);
varArgs7 = (List *)listCons((Value *)path_0, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr107, varArgs7);
Value *rslt8 = println_516(empty_list, (Value *)varArgs7);
Value *arg9 = rslt8;

dec_and_free(arg9, 1);

// static-fixed
// #line 301 "/Users/jim/toccata/system.toc"
Value *rslt10 = abort_113(empty_list);
andRslt5 = rslt10;
}
orRslt4 = andRslt5;
if (!isNothing(orRslt4)) {
dec_and_free(path_0, 1);
dec_and_free(pid_3, 2);
dec_and_free(args_1, 1);
return(orRslt4);
} else {
dec_and_free(orRslt4, 1);
Value *andRslt11;

// static-fixed
// #line 302 "/Users/jim/toccata/system.toc"
Value *rslt12 = _EQ__557(empty_list, pid_3, numPtr0);
andRslt11 = rslt12;
if (isNothing(andRslt11)) {
dec_and_free(path_0, 1);
dec_and_free(args_1, 1);
} else {
dec_and_free(andRslt11, 1);

// type-unknown map
// #line 303 "/Users/jim/toccata/system.toc"
Value *rslt13 = proto2Arg(&map_Implementations_254, "<nothing>/map", args_1, null_term_1768, "/Users/jim/toccata/system.toc", 303);

// static-fixed
// #line 303 "/Users/jim/toccata/system.toc"
Value *rslt14 = exec_2570(empty_list, path_0, rslt13);

// static-fixed
// #line 303 "/Users/jim/toccata/system.toc"
Value *rslt15 = maybe_4(empty_list, rslt14);
andRslt11 = rslt15;
}
orRslt4 = andRslt11;
if (!isNothing(orRslt4)) {
dec_and_free(pid_3, 1);
return(orRslt4);
} else {
dec_and_free(orRslt4, 1);

// static-fixed
// #line 304 "/Users/jim/toccata/system.toc"
Value *rslt16 = waitpid_2580(empty_list, pid_3);

// static-fixed
// #line 304 "/Users/jim/toccata/system.toc"
Value *rslt17 = _EQ__557(empty_list, numPtr0, rslt16);
return(rslt17);
orRslt4 = rslt17;
}
}

};};
FnArity sh_proc_2690 = {FnArityType, -1, 2, (List *)0, 0, sh_proc_2689};
Function sh_proc_2691 = {FunctionType, -1, "sh-proc", 1, {&sh_proc_2690}};
Value *sh_proc_2688 = (Value *)&sh_proc_2691;

Value *type_val_2692_2693;
ProtoImpls protoImpls2701;
ProtoImpls protoImpls2703;
Value *dispatchFnPtr2699;
Value *protoImpl2700(List *closures, Value *arg);
Value *protoImpl2702(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2705;
ProtoImpls protoImpls2707;
Value *dispatchFnPtr2698;
Value *protoImpl2704(List *closures, Value *arg);
Value *protoImpl2706(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2709;
ProtoImpls protoImpls2711;
Value *dispatchFnPtr2696;
Value *protoImpl2708(List *closures, Value *arg);
Value *protoImpl2710(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls2713;
ProtoImpls protoImpls2715;
Value *dispatchFnPtr2695;
Value *protoImpl2712(List *closures, Value *arg);
Value *protoImpl2714(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str109 = {StringType, -1, 12, 0, "fn-arity-ast"};
Value *strPtr109 = (Value *)&str109;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str110 = {StringType, -1, 46, 0, "fn-sym, fn-var, params, doc, param-types, body"};
Value *strPtr110 = (Value *)&str110;
Value *arityImpl2716(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr110, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr109, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2717 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2716};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str111 = {StringType, -1, 26, 0, "*fn-arity-ast constructor*"};
Value *strPtr111 = (Value *)&str111;
Value *fn_arity_ast_const_type_name_2718(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr111);

};};
FnArity fn_arity_ast_const_type_name_2719 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_const_type_name_2718};
Value *fn_arity_ast_instance_QMARK__2720(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2692_2693, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity fn_arity_ast_instance_QMARK__2721 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_instance_QMARK__2720};
Value *fn_arity_ast_invoke_2722(List *closures, Value *arg0, Value *fn_sym_1, Value *fn_var_2, Value *params_3, Value *doc_4, Value *param_types_5, Value *body_6) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, fn_sym_1);
newVect7 = mutateVectConj(newVect7, fn_var_2);
newVect7 = mutateVectConj(newVect7, params_3);
newVect7 = mutateVectConj(newVect7, doc_4);
newVect7 = mutateVectConj(newVect7, param_types_5);
newVect7 = mutateVectConj(newVect7, body_6);
Value *rslt8 = (Value *)newVect7;
Value *rslt9 = new_type_value_53(empty_list, type_val_2692_2693, rslt8);
return(rslt9);

};};
FnArity fn_arity_ast_invoke_2723 = {FnArityType, -1, 7, (List *)0, 0, fn_arity_ast_invoke_2722};
ReifiedVal reifiedStatic2724 = {63, -1, (Value *)0, 0, {}};
Value *reifiedPtr2725 = (Value *)&reifiedStatic2724;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str112 = {StringType, -1, 12, 0, "<FnArityAst "};
Value *strPtr112 = (Value *)&str112;
Value *fn_arity_ast_string_list_2726(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *fn_var_3;
Value *params_4;
Value *doc_5;
Value *param_types_6;
Value *body_7;
Value *tail_8;
Value **destArgs9[7] = {&fn_sym_2, &fn_var_3, &params_4, &doc_5, &param_types_6, &body_7, &tail_8};
destructValue("/Users/jim/toccata/ast.toc", "106", (Value *)rslt1, 7, destArgs9);

dec_and_free(fn_sym_2, 1);

dec_and_free(fn_var_3, 1);

dec_and_free(doc_5, 1);

dec_and_free(param_types_6, 1);

dec_and_free(tail_8, 1);

// call-list
// #line 108 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr112, newList10);
Value *rslt11 = (Value *)newList10;

// type-unknown string-list
// #line 109 "/Users/jim/toccata/ast.toc"
Value *rslt12 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", params_4, "/Users/jim/toccata/ast.toc", 109);

// call-list
// #line 110 "/Users/jim/toccata/ast.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)strPtr5, newList13);
Value *rslt14 = (Value *)newList13;

// type-unknown string-list
// #line 111 "/Users/jim/toccata/ast.toc"
Value *rslt15 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", body_7, "/Users/jim/toccata/ast.toc", 111);

// call-list
// #line 112 "/Users/jim/toccata/ast.toc"
List *newList16 = empty_list;
newList16 = listCons((Value *)strPtr2, newList16);
Value *rslt17 = (Value *)newList16;

// call-list
// #line 108 "/Users/jim/toccata/ast.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
newList18 = listCons((Value *)rslt15, newList18);
newList18 = listCons((Value *)rslt14, newList18);
newList18 = listCons((Value *)rslt12, newList18);
Value *rslt19 = (Value *)newList18;

// type-known for comp*
// #line 108 "/Users/jim/toccata/ast.toc"
Value *rslt20 = List_comp_STAR__825(empty_list, rslt11, rslt19);
return(rslt20);

};};
FnArity fn_arity_ast_string_list_2727 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_string_list_2726};
Value *fn_arity_ast_EQ_STAR__2728(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity fn_arity_ast_EQ_STAR__2729 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_EQ_STAR__2728};
Value *fn_arity_ast_type_name_2730(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr109);

};};
FnArity fn_arity_ast_type_name_2731 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_type_name_2730};
Value *fn_arity_ast_has_field_2732(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 5);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2699, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 5);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2698, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2418, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr2696, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr2695, field_1);
orRslt2 = rslt7;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt8 = identical_421(empty_list, dispatchFnPtr2417, field_1);
return(rslt8);
orRslt2 = rslt8;
}
}
}
}
}

};};
FnArity fn_arity_ast_has_field_2733 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_has_field_2732};
Value *fn_arity_ast_fn_sym_2734(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_fn_sym_2735 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_fn_sym_2734};
Value *fn_arity_ast_fn_sym_2736(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_fn_sym_2737 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_fn_sym_2736};
Value *fn_arity_ast_fn_var_2738(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_fn_var_2739 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_fn_var_2738};
Value *fn_arity_ast_fn_var_2740(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_fn_var_2741 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_fn_var_2740};
Value *fn_arity_ast_params_2742(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_params_2743 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_params_2742};
Value *fn_arity_ast_params_2744(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_params_2745 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_params_2744};
Value *fn_arity_ast_doc_2746(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_doc_2747 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_doc_2746};
Value *fn_arity_ast_doc_2748(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_doc_2749 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_doc_2748};
Value *fn_arity_ast_param_types_2750(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_param_types_2751 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_param_types_2750};
Value *fn_arity_ast_param_types_2752(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_param_types_2753 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_param_types_2752};
Integer num6 = {IntegerType, -1, 5};
Value *numPtr6 = (Value *)&num6;
Value *fn_arity_ast_body_2754(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr6, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_arity_ast_body_2755 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_body_2754};
Value *fn_arity_ast_body_2756(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr6);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_arity_ast_body_2757 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_body_2756};
Value *fn_arity_ast_get_2758(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity fn_arity_ast_get_2759 = {FnArityType, -1, 2, (List *)0, 0, fn_arity_ast_get_2758};
Value *fn_arity_ast_assoc_STAR__2760(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity fn_arity_ast_assoc_STAR__2761 = {FnArityType, -1, 5, (List *)0, 0, fn_arity_ast_assoc_STAR__2760};
Value *fn_arity_ast_file_name_2762(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *fn_var_3;
Value *params_4;
Value *doc_5;
Value *param_types_6;
Value *body_7;
Value *tail_8;
Value **destArgs9[7] = {&fn_sym_2, &fn_var_3, &params_4, &doc_5, &param_types_6, &body_7, &tail_8};
destructValue("/Users/jim/toccata/ast.toc", "106", (Value *)rslt1, 7, destArgs9);

dec_and_free(fn_sym_2, 1);

dec_and_free(fn_var_3, 1);

dec_and_free(params_4, 1);

dec_and_free(doc_5, 1);

dec_and_free(param_types_6, 1);

dec_and_free(tail_8, 1);

// type-unknown file-name
// #line 115 "/Users/jim/toccata/ast.toc"
Value *rslt10 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", body_7, "/Users/jim/toccata/ast.toc", 115);
return(rslt10);

};};
FnArity fn_arity_ast_file_name_2763 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_file_name_2762};
Value *fn_arity_ast_line_number_2764(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *fn_var_3;
Value *params_4;
Value *doc_5;
Value *param_types_6;
Value *body_7;
Value *tail_8;
Value **destArgs9[7] = {&fn_sym_2, &fn_var_3, &params_4, &doc_5, &param_types_6, &body_7, &tail_8};
destructValue("/Users/jim/toccata/ast.toc", "106", (Value *)rslt1, 7, destArgs9);

dec_and_free(fn_sym_2, 1);

dec_and_free(fn_var_3, 1);

dec_and_free(params_4, 1);

dec_and_free(doc_5, 1);

dec_and_free(param_types_6, 1);

dec_and_free(tail_8, 1);

// type-unknown line-number
// #line 116 "/Users/jim/toccata/ast.toc"
Value *rslt10 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", body_7, "/Users/jim/toccata/ast.toc", 116);
return(rslt10);

};};
FnArity fn_arity_ast_line_number_2765 = {FnArityType, -1, 1, (List *)0, 0, fn_arity_ast_line_number_2764};
ReifiedVal reifiedStatic2766 = {64, -1, (Value *)0, 0, {}};
Value *reifiedPtr2767 = (Value *)&reifiedStatic2766;
Value *type_val_2768_2769;
ProtoImpls protoImpls2772;
ProtoImpls protoImpls2774;
Value *dispatchFnPtr2770;
Value *protoImpl2771(List *closures, Value *arg);
Value *protoImpl2773(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str113 = {StringType, -1, 6, 0, "new-sm"};
Value *strPtr113 = (Value *)&str113;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str114 = {StringType, -1, 9, 0, "invoke-fn"};
Value *strPtr114 = (Value *)&str114;
Value *arityImpl2775(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr114, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr113, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2776 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2775};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str115 = {StringType, -1, 20, 0, "*new-sm constructor*"};
Value *strPtr115 = (Value *)&str115;
Value *new_sm_const_type_name_2777(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr115);

};};
FnArity new_sm_const_type_name_2778 = {FnArityType, -1, 1, (List *)0, 0, new_sm_const_type_name_2777};
Value *new_sm_instance_QMARK__2779(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2768_2769, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity new_sm_instance_QMARK__2780 = {FnArityType, -1, 2, (List *)0, 0, new_sm_instance_QMARK__2779};
Value *new_sm_invoke_2781(List *closures, Value *arg0, Value *invoke_fn_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, invoke_fn_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2768_2769, rslt3);
return(rslt4);

};};
FnArity new_sm_invoke_2782 = {FnArityType, -1, 2, (List *)0, 0, new_sm_invoke_2781};
ReifiedVal reifiedStatic2783 = {65, -1, (Value *)0, 0, {}};
Value *reifiedPtr2784 = (Value *)&reifiedStatic2783;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str116 = {StringType, -1, 8, 0, "<new-sm "};
Value *strPtr116 = (Value *)&str116;
Value *new_sm_string_list_2785(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *invoke_fn_2;
Value *tail_3;
Value **destArgs4[2] = {&invoke_fn_2, &tail_3};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 19 "/Users/jim/toccata/state-maybe.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr116, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 20 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", invoke_fn_2, "/Users/jim/toccata/state-maybe.toc", 20);

// call-list
// #line 21 "/Users/jim/toccata/state-maybe.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 19 "/Users/jim/toccata/state-maybe.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 19 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity new_sm_string_list_2786 = {FnArityType, -1, 1, (List *)0, 0, new_sm_string_list_2785};
Value *new_sm_EQ_STAR__2787(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity new_sm_EQ_STAR__2788 = {FnArityType, -1, 2, (List *)0, 0, new_sm_EQ_STAR__2787};
Value *new_sm_type_name_2789(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr113);

};};
FnArity new_sm_type_name_2790 = {FnArityType, -1, 1, (List *)0, 0, new_sm_type_name_2789};
Value *new_sm_has_field_2791(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2770, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity new_sm_has_field_2792 = {FnArityType, -1, 2, (List *)0, 0, new_sm_has_field_2791};
Value *new_sm_invoke_fn_2793(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity new_sm_invoke_fn_2794 = {FnArityType, -1, 2, (List *)0, 0, new_sm_invoke_fn_2793};
Value *new_sm_invoke_fn_2795(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity new_sm_invoke_fn_2796 = {FnArityType, -1, 1, (List *)0, 0, new_sm_invoke_fn_2795};
Value *new_sm_get_2797(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity new_sm_get_2798 = {FnArityType, -1, 2, (List *)0, 0, new_sm_get_2797};

// --------- anon -------------
Value *fn2800;
Value *arityImpl2801(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(nothing_7);

};};
FnArity staticArity2802 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2801};
Function anon_2803 = {FunctionType, -1, "anon", 1, {&staticArity2802}};
Value *fn2800 = (Value *)&anon_2803;

Value *new_sm_zero_2799(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *invoke_fn_2;
Value *tail_3;
Value **destArgs4[2] = {&invoke_fn_2, &tail_3};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt1, 2, destArgs4);

dec_and_free(invoke_fn_2, 1);

dec_and_free(tail_3, 1);

// call invoke
// #line 53 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2800);
return(rslt5);

};};
FnArity new_sm_zero_2804 = {FnArityType, -1, 1, (List *)0, 0, new_sm_zero_2799};
Value *arityImpl2807(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 56 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = _MINUS_comp_STAR__2123(empty_list, val1, val2, s_0);
return(rslt3);

};};
Value *new_sm_comp_STAR__2805(List *closures, Value *mv_0, Value *mvs_1) {
 while (1) {

incRef(mv_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, mv_0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(invoke_fn_3, 1);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2807;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)mvs_1, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)mv_0, (List *)dynArity6->closures);
Function *anon_2808 = malloc_function(1);
anon_2808->name = "anon";
anon_2808->arityCount = 1;
anon_2808->arities[0] = dynArity6;
Value *fn2806 = (Value *)anon_2808;

// call invoke
// #line 55 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2806);
return(rslt7);

};};
FnArity new_sm_comp_STAR__2809 = {FnArityType, -1, 2, (List *)0, 0, new_sm_comp_STAR__2805};
Value *new_sm_invoke_2810(List *closures, Value *ev_0, Value *s_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, ev_0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 25 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9;
if((invoke_fn_3)->type != FunctionType) {
rslt9 = invoke_368(empty_list, invoke_fn_3, s_1);
} else {
FnArity *arity6 = findFnArity(invoke_fn_3, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, s_1);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(s_1, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_3)->name);
  abort();
}
dec_and_free(invoke_fn_3, 1);
}
return(rslt9);

};};
FnArity new_sm_invoke_2811 = {FnArityType, -1, 2, (List *)0, 0, new_sm_invoke_2810};
Value *arityImpl2814(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs21[3] = {&val1, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs21);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 30 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val13, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("/Users/jim/toccata/state-maybe.toc", "31", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// dynamic unknown type
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17;
if((val13)->type != FunctionType) {
rslt17 = invoke_368(empty_list, val13, v_9);
} else {
FnArity *arity14 = findFnArity(val13, 1);
if(arity14 != (FnArity *)0 && !arity14->variadic) {
FnType1 *fn16 = (FnType1 *)arity14->fn;
rslt17 = fn16(arity14->closures, v_9);
} else if(arity14 != (FnArity *)0 && arity14->variadic) {
FnType1 *fn16 = (FnType1 *)arity14->fn;
List *dynArgs15 = empty_list;
dynArgs15 = (List *)listCons(v_9, dynArgs15);
rslt17 = fn16(arity14->closures, (Value *)dynArgs15);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val13)->name);
  abort();
}
dec_and_free(val13, 1);
}

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, rslt17);
newVect18 = mutateVectConj(newVect18, new_s_10);
Value *rslt19 = (Value *)newVect18;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = maybe_4(empty_list, rslt19);
return(rslt20);
andRslt7 = rslt20;
}

};};
Value *new_sm_map_2812(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2814;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)f_1, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)invoke_fn_3, (List *)dynArity6->closures);
Function *anon_2815 = malloc_function(1);
anon_2815->name = "anon";
anon_2815->arityCount = 1;
anon_2815->arities[0] = dynArity6;
Value *fn2813 = (Value *)anon_2815;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2813);
return(rslt7);

};};
FnArity new_sm_map_2816 = {FnArityType, -1, 2, (List *)0, 0, new_sm_map_2812};
Value *arityImpl2819(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *new_sm_wrap_2817(List *closures, Value *arg0, Value *v_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(invoke_fn_3, 1);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2819;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)v_1, (List *)dynArity6->closures);
Function *anon_2820 = malloc_function(1);
anon_2820->name = "anon";
anon_2820->arityCount = 1;
anon_2820->arities[0] = dynArity6;
Value *fn2818 = (Value *)anon_2820;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2818);
return(rslt7);

};};
FnArity new_sm_wrap_2821 = {FnArityType, -1, 2, (List *)0, 0, new_sm_wrap_2817};
Value *arityImpl2824(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs46[3] = {&val2, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs46);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-unknown empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", val2, "/Users/jim/toccata/state-maybe.toc", 38);

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
Value *rslt5 = (Value *)newVect4;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, rslt5);
newVect6 = mutateVectConj(newVect6, s_0);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = constantly_1504(empty_list, rslt7);

// type-unknown map
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, rslt8, "/Users/jim/toccata/state-maybe.toc", 38);
orRslt1 = rslt9;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt10;
}
Value *x_11 = orRslt1;

incRef(x_11, 1);
Value *andRslt12;
andRslt12 = x_11;
if (isNothing(andRslt12)) {
dec_and_free(val18, 1);
dec_and_free(x_11, 1);
return(nothing);
} else {
dec_and_free(andRslt12, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = Maybe_extract_757(empty_list, x_11);
Value *results_14;
Value *s_15;
Value *tail_16;
Value **destArgs17[3] = {&results_14, &s_15, &tail_16};
destructValue("/Users/jim/toccata/state-maybe.toc", "40", (Value *)rslt13, 3, destArgs17);

incRef(results_14, 1);

dec_and_free(tail_16, 1);

// dynamic unknown type
// #line 41 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22;
if((val18)->type != FunctionType) {
rslt22 = invoke_368(empty_list, val18, s_15);
} else {
FnArity *arity19 = findFnArity(val18, 1);
if(arity19 != (FnArity *)0 && !arity19->variadic) {
FnType1 *fn21 = (FnType1 *)arity19->fn;
rslt22 = fn21(arity19->closures, s_15);
} else if(arity19 != (FnArity *)0 && arity19->variadic) {
FnType1 *fn21 = (FnType1 *)arity19->fn;
List *dynArgs20 = empty_list;
dynArgs20 = (List *)listCons(s_15, dynArgs20);
rslt22 = fn21(arity19->closures, (Value *)dynArgs20);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val18)->name);
  abort();
}
dec_and_free(val18, 1);
}
Value *y_23 = rslt22;

incRef(y_23, 1);
Value *andRslt24;
andRslt24 = y_23;
if (isNothing(andRslt24)) {
dec_and_free(results_14, 2);
dec_and_free(y_23, 1);
return(nothing);
} else {
dec_and_free(andRslt24, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt25 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_23, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_26;
Value *s_27;
Value *tail_28;
Value **destArgs29[3] = {&f_26, &s_27, &tail_28};
destructValue("/Users/jim/toccata/state-maybe.toc", "42", (Value *)rslt25, 3, destArgs29);

incRef(f_26, 1);

incRef(s_27, 1);

dec_and_free(tail_28, 1);
Value *orRslt30;
Value *andRslt31;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_14, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt31 = rslt32;
if (isNothing(andRslt31)) {
dec_and_free(s_27, 1);
dec_and_free(f_26, 1);
} else {
dec_and_free(andRslt31, 1);

// dynamic unknown type
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36;
if((f_26)->type != FunctionType) {
rslt36 = invoke_366(empty_list, f_26);
} else {
FnArity *arity33 = findFnArity(f_26, 0);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType0 *fn35 = (FnType0 *)arity33->fn;
rslt36 = fn35(arity33->closures);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_26)->name);
  abort();
}
dec_and_free(f_26, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, rslt36);
newVect37 = mutateVectConj(newVect37, s_27);
Value *rslt38 = (Value *)newVect37;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = maybe_4(empty_list, rslt38);
andRslt31 = rslt39;
}
orRslt30 = andRslt31;
if (!isNothing(orRslt30)) {
dec_and_free(results_14, 1);
dec_and_free(s_27, 1);
dec_and_free(f_26, 1);
return(orRslt30);
} else {
dec_and_free(orRslt30, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList40 = empty_list;
newList40 = listCons((Value *)results_14, newList40);
Value *rslt41 = (Value *)newList40;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_26, rslt41, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect43 = empty_vect;
newVect43 = mutateVectConj(newVect43, rslt42);
newVect43 = mutateVectConj(newVect43, s_27);
Value *rslt44 = (Value *)newVect43;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt45 = maybe_4(empty_list, rslt44);
return(rslt45);
orRslt30 = rslt45;
}
andRslt24 = orRslt30;
}
andRslt12 = andRslt24;
}

};};
Value *new_sm_apply_STAR__2822(List *closures, Value *fv_0, Value *args_1) {
 while (1) {

incRef(fv_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, fv_0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(invoke_fn_3, 1);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2824;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)fv_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)args_1, (List *)dynArity6->closures);
Function *anon_2825 = malloc_function(1);
anon_2825->name = "anon";
anon_2825->arityCount = 1;
anon_2825->arities[0] = dynArity6;
Value *fn2823 = (Value *)anon_2825;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2823);
return(rslt7);

};};
FnArity new_sm_apply_STAR__2826 = {FnArityType, -1, 2, (List *)0, 0, new_sm_apply_STAR__2822};
Value *arityImpl2829(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs22[3] = {&val1, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs22);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 48 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val13, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("/Users/jim/toccata/state-maybe.toc", "49", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// dynamic unknown type
// #line 50 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17;
if((val13)->type != FunctionType) {
rslt17 = invoke_368(empty_list, val13, v_9);
} else {
FnArity *arity14 = findFnArity(val13, 1);
if(arity14 != (FnArity *)0 && !arity14->variadic) {
FnType1 *fn16 = (FnType1 *)arity14->fn;
rslt17 = fn16(arity14->closures, v_9);
} else if(arity14 != (FnArity *)0 && arity14->variadic) {
FnType1 *fn16 = (FnType1 *)arity14->fn;
List *dynArgs15 = empty_list;
dynArgs15 = (List *)listCons(v_9, dynArgs15);
rslt17 = fn16(arity14->closures, (Value *)dynArgs15);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val13)->name);
  abort();
}
dec_and_free(val13, 1);
}

// dynamic unknown type
// #line 50 "/Users/jim/toccata/state-maybe.toc"
Value *rslt21;
if((rslt17)->type != FunctionType) {
rslt21 = invoke_368(empty_list, rslt17, ss_10);
} else {
FnArity *arity18 = findFnArity(rslt17, 1);
if(arity18 != (FnArity *)0 && !arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
rslt21 = fn20(arity18->closures, ss_10);
} else if(arity18 != (FnArity *)0 && arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
List *dynArgs19 = empty_list;
dynArgs19 = (List *)listCons(ss_10, dynArgs19);
rslt21 = fn20(arity18->closures, (Value *)dynArgs19);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt17)->name);
  abort();
}
dec_and_free(rslt17, 1);
}
return(rslt21);
andRslt7 = rslt21;
}

};};
Value *new_sm_flat_map_2827(List *closures, Value *ev_0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, ev_0);
Value *invoke_fn_3;
Value *tail_4;
Value **destArgs5[2] = {&invoke_fn_3, &tail_4};
destructValue("/Users/jim/toccata/state-maybe.toc", "17", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl2829;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)f_1, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)invoke_fn_3, (List *)dynArity6->closures);
Function *anon_2830 = malloc_function(1);
anon_2830->name = "anon";
anon_2830->arityCount = 1;
anon_2830->arities[0] = dynArity6;
Value *fn2828 = (Value *)anon_2830;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2828);
return(rslt7);

};};
FnArity new_sm_flat_map_2831 = {FnArityType, -1, 2, (List *)0, 0, new_sm_flat_map_2827};
Value *new_sm_assoc_STAR__2832(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity new_sm_assoc_STAR__2833 = {FnArityType, -1, 5, (List *)0, 0, new_sm_assoc_STAR__2832};
ReifiedVal reifiedStatic2834 = {66, -1, (Value *)0, 0, {}};
Value *reifiedPtr2835 = (Value *)&reifiedStatic2834;
Value *type_val_2836_2837;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str117 = {StringType, -1, 4, 0, "pure"};
Value *strPtr117 = (Value *)&str117;
Value *arityImpl2839(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr79, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr117, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2840 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2839};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str118 = {StringType, -1, 18, 0, "*pure constructor*"};
Value *strPtr118 = (Value *)&str118;
Value *pure_const_type_name_2841(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr118);

};};
FnArity pure_const_type_name_2842 = {FnArityType, -1, 1, (List *)0, 0, pure_const_type_name_2841};
Value *pure_instance_QMARK__2843(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2836_2837, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity pure_instance_QMARK__2844 = {FnArityType, -1, 2, (List *)0, 0, pure_instance_QMARK__2843};
Value *pure_invoke_2845(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, v_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2836_2837, rslt3);
return(rslt4);

};};
FnArity pure_invoke_2846 = {FnArityType, -1, 2, (List *)0, 0, pure_invoke_2845};
ReifiedVal reifiedStatic2847 = {67, -1, (Value *)0, 0, {}};
Value *reifiedPtr2848 = (Value *)&reifiedStatic2847;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str119 = {StringType, -1, 7, 0, "<pure: "};
Value *strPtr119 = (Value *)&str119;
Value *pure_string_list_2849(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *v_2;
Value *tail_3;
Value **destArgs4[2] = {&v_2, &tail_3};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 94 "/Users/jim/toccata/free.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr119, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 95 "/Users/jim/toccata/free.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", v_2, "/Users/jim/toccata/free.toc", 95);

// call-list
// #line 96 "/Users/jim/toccata/free.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 94 "/Users/jim/toccata/free.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 94 "/Users/jim/toccata/free.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity pure_string_list_2850 = {FnArityType, -1, 1, (List *)0, 0, pure_string_list_2849};
Value *pure_EQ_STAR__2851(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity pure_EQ_STAR__2852 = {FnArityType, -1, 2, (List *)0, 0, pure_EQ_STAR__2851};
Value *pure_type_name_2853(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr117);

};};
FnArity pure_type_name_2854 = {FnArityType, -1, 1, (List *)0, 0, pure_type_name_2853};
Value *pure_has_field_2855(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2264, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity pure_has_field_2856 = {FnArityType, -1, 2, (List *)0, 0, pure_has_field_2855};
Value *pure_v_2857(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity pure_v_2858 = {FnArityType, -1, 2, (List *)0, 0, pure_v_2857};
Value *pure_v_2859(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity pure_v_2860 = {FnArityType, -1, 1, (List *)0, 0, pure_v_2859};
Value *pure_get_2861(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity pure_get_2862 = {FnArityType, -1, 2, (List *)0, 0, pure_get_2861};
Value *pure_map_2863(List *closures, Value *fv_0, Value *f_1) {
 while (1) {

incRef(fv_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, fv_0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt2, 2, destArgs5);

dec_and_free(v_3, 1);

dec_and_free(tail_4, 1);

// call invoke
// #line 107 "/Users/jim/toccata/free.toc"
Value *rslt6 = pure_invoke_2845(empty_list, reifiedPtr2848, f_1);

// call-list
// #line 107 "/Users/jim/toccata/free.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)fv_0, newList7);
Value *rslt8 = (Value *)newList7;

// call invoke
// #line 107 "/Users/jim/toccata/free.toc"
Value *rslt9 = free_app_invoke_2632(empty_list, reifiedPtr2635, rslt6, rslt8);
return(rslt9);

};};
FnArity pure_map_2864 = {FnArityType, -1, 2, (List *)0, 0, pure_map_2863};
Value *pure_wrap_2865(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(v_1, 1);
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// call invoke
// #line 108 "/Users/jim/toccata/free.toc"
Value *rslt6 = pure_invoke_2845(empty_list, reifiedPtr2848, v_3);
return(rslt6);

};};
FnArity pure_wrap_2866 = {FnArityType, -1, 2, (List *)0, 0, pure_wrap_2865};
Value *pure_apply_STAR__2867(List *closures, Value *f_0, Value *args_1) {
 while (1) {

incRef(f_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, f_0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt2, 2, destArgs5);

dec_and_free(v_3, 1);

dec_and_free(tail_4, 1);

// call invoke
// #line 110 "/Users/jim/toccata/free.toc"
Value *rslt6 = free_app_invoke_2632(empty_list, reifiedPtr2635, f_0, args_1);
return(rslt6);

};};
FnArity pure_apply_STAR__2868 = {FnArityType, -1, 2, (List *)0, 0, pure_apply_STAR__2867};
Value *pure_flat_map_2869(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 112 "/Users/jim/toccata/free.toc"
Value *rslt9;
if((f_1)->type != FunctionType) {
rslt9 = invoke_368(empty_list, f_1, v_3);
} else {
FnArity *arity6 = findFnArity(f_1, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, v_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(v_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}
return(rslt9);

};};
FnArity pure_flat_map_2870 = {FnArityType, -1, 2, (List *)0, 0, pure_flat_map_2869};
Value *pure_evaluate_2871(List *closures, Value *arg0, Value *eval_f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *v_3;
Value *tail_4;
Value **destArgs5[2] = {&v_3, &tail_4};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 103 "/Users/jim/toccata/free.toc"
Value *rslt9;
if((eval_f_1)->type != FunctionType) {
rslt9 = invoke_368(empty_list, eval_f_1, v_3);
} else {
FnArity *arity6 = findFnArity(eval_f_1, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, v_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(v_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)eval_f_1)->name);
  abort();
}
dec_and_free(eval_f_1, 1);
}
return(rslt9);

};};
FnArity pure_evaluate_2872 = {FnArityType, -1, 2, (List *)0, 0, pure_evaluate_2871};
Value *pure_assoc_STAR__2873(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity pure_assoc_STAR__2874 = {FnArityType, -1, 5, (List *)0, 0, pure_assoc_STAR__2873};
Value *pure_wrap_free_2875(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *v_2;
Value *tail_3;
Value **destArgs4[2] = {&v_2, &tail_3};
destructValue("/Users/jim/toccata/free.toc", "91", (Value *)rslt1, 2, destArgs4);

dec_and_free(v_2, 1);

dec_and_free(tail_3, 1);
return(x_0);

};};
FnArity pure_wrap_free_2876 = {FnArityType, -1, 1, (List *)0, 0, pure_wrap_free_2875};
ReifiedVal reifiedStatic2877 = {68, -1, (Value *)0, 0, {}};
Value *reifiedPtr2878 = (Value *)&reifiedStatic2877;

// --------- fn-arity -------------
Value *fn_arity_2880;
Value *fn_arity_2881(List *closures, Value *params_0, Value *doc_1, Value *body_2) {
 while (1) {

// call-vector
// #line 119 "/Users/jim/toccata/ast.toc"
Vector *newVect3 = empty_vect;
Value *rslt4 = (Value *)newVect3;

// call invoke
// #line 119 "/Users/jim/toccata/ast.toc"
Value *rslt5 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, strPtr0, strPtr0, params_0, doc_1, rslt4, body_2);
return(rslt5);

};};
FnArity fn_arity_2882 = {FnArityType, -1, 3, (List *)0, 0, fn_arity_2881};
Function fn_arity_2883 = {FunctionType, -1, "fn-arity", 1, {&fn_arity_2882}};
Value *fn_arity_2880 = (Value *)&fn_arity_2883;


// --------- lift -------------
Value *lift_2885;
Value *lift_2886(List *closures, Value *x_0) {
 while (1) {

// type-unknown map
// #line 115 "/Users/jim/toccata/free.toc"
Value *rslt1 = proto2Arg(&map_Implementations_254, "<nothing>/map", x_0, wrap_free_1838, "/Users/jim/toccata/free.toc", 115);

// call invoke
// #line 115 "/Users/jim/toccata/free.toc"
Value *rslt2 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt1);
return(rslt2);

};};
FnArity lift_2887 = {FnArityType, -1, 1, (List *)0, 0, lift_2886};
Function lift_2888 = {FunctionType, -1, "lift", 1, {&lift_2887}};
Value *lift_2885 = (Value *)&lift_2888;

Value *type_val_2889_2890;
ProtoImpls protoImpls2893;
ProtoImpls protoImpls2895;
Value *dispatchFnPtr2891;
Value *protoImpl2892(List *closures, Value *arg);
Value *protoImpl2894(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str120 = {StringType, -1, 15, 0, "get-state-value"};
Value *strPtr120 = (Value *)&str120;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str121 = {StringType, -1, 3, 0, "key"};
Value *strPtr121 = (Value *)&str121;
Value *arityImpl2896(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr121, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr120, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2897 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2896};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str122 = {StringType, -1, 29, 0, "*get-state-value constructor*"};
Value *strPtr122 = (Value *)&str122;
Value *get_state_value_const_type_name_2898(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr122);

};};
FnArity get_state_value_const_type_name_2899 = {FnArityType, -1, 1, (List *)0, 0, get_state_value_const_type_name_2898};
Value *get_state_value_instance_QMARK__2900(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2889_2890, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity get_state_value_instance_QMARK__2901 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_instance_QMARK__2900};
Value *get_state_value_invoke_2902(List *closures, Value *arg0, Value *key_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, key_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_2889_2890, rslt3);
return(rslt4);

};};
FnArity get_state_value_invoke_2903 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_invoke_2902};
ReifiedVal reifiedStatic2904 = {70, -1, (Value *)0, 0, {}};
Value *reifiedPtr2905 = (Value *)&reifiedStatic2904;
Value *get_state_value_EQ_STAR__2906(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity get_state_value_EQ_STAR__2907 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_EQ_STAR__2906};
Value *get_state_value_type_name_2908(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr120);

};};
FnArity get_state_value_type_name_2909 = {FnArityType, -1, 1, (List *)0, 0, get_state_value_type_name_2908};
Value *get_state_value_has_field_2910(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2891, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity get_state_value_has_field_2911 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_has_field_2910};
Value *get_state_value_key_2912(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity get_state_value_key_2913 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_key_2912};
Value *get_state_value_key_2914(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity get_state_value_key_2915 = {FnArityType, -1, 1, (List *)0, 0, get_state_value_key_2914};
Value *get_state_value_get_2916(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity get_state_value_get_2917 = {FnArityType, -1, 2, (List *)0, 0, get_state_value_get_2916};
Value *get_state_value_assoc_STAR__2918(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity get_state_value_assoc_STAR__2919 = {FnArityType, -1, 5, (List *)0, 0, get_state_value_assoc_STAR__2918};
ReifiedVal reifiedStatic2920 = {71, -1, (Value *)0, 0, {}};
Value *reifiedPtr2921 = (Value *)&reifiedStatic2920;

// --------- get-value -------------
Value *get_value_2923;
Value *get_value_2924(List *closures, Value *key_0) {
 while (1) {

// call invoke
// #line 7 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = get_state_value_invoke_2902(empty_list, reifiedPtr2905, key_0);

// call invoke
// #line 7 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity get_value_2925 = {FnArityType, -1, 1, (List *)0, 0, get_value_2924};
Function get_value_2926 = {FunctionType, -1, "get-value", 1, {&get_value_2925}};
Value *get_value_2923 = (Value *)&get_value_2926;


// --------- anon -------------
Value *fn2928;
Value *arityImpl2929(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(nothing_7);

};};
FnArity staticArity2930 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2929};
Function anon_2931 = {FunctionType, -1, "anon", 1, {&staticArity2930}};
Value *fn2928 = (Value *)&anon_2931;

Value *arityImpl2927(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// call invoke
// #line 66 "/Users/jim/toccata/state-maybe.toc"
Value *rslt1 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2928);
return(rslt1);

};};
FnArity staticArity2932 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2927};
Value *arityImpl2935(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 63 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 63 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl2933(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl2935;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)v_1, (List *)dynArity2->closures);
Function *anon_2936 = malloc_function(1);
anon_2936->name = "anon";
anon_2936->arityCount = 1;
anon_2936->arities[0] = dynArity2;
Value *fn2934 = (Value *)anon_2936;

// call invoke
// #line 62 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn2934);
return(rslt3);

};};
FnArity staticArity2937 = {FnArityType, -1, 2, (List *)0, 0, arityImpl2933};
ReifiedVal reifiedStatic2938 = {42, -1, (Value *)0, 0, {}};
Value *reifiedPtr2939 = (Value *)&reifiedStatic2938;
Value *type_val_2940_2941;
ProtoImpls protoImpls2945;
ProtoImpls protoImpls2947;
Value *dispatchFnPtr2942;
Value *protoImpl2944(List *closures, Value *arg);
Value *protoImpl2946(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str123 = {StringType, -1, 18, 0, "update-state-value"};
Value *strPtr123 = (Value *)&str123;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str124 = {StringType, -1, 6, 0, "key, f"};
Value *strPtr124 = (Value *)&str124;
Value *arityImpl2948(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr124, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr123, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2949 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2948};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str125 = {StringType, -1, 32, 0, "*update-state-value constructor*"};
Value *strPtr125 = (Value *)&str125;
Value *update_state_value_const_type_name_2950(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr125);

};};
FnArity update_state_value_const_type_name_2951 = {FnArityType, -1, 1, (List *)0, 0, update_state_value_const_type_name_2950};
Value *update_state_value_instance_QMARK__2952(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2940_2941, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity update_state_value_instance_QMARK__2953 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_instance_QMARK__2952};
Value *update_state_value_invoke_2954(List *closures, Value *arg0, Value *key_1, Value *f_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, key_1);
newVect3 = mutateVectConj(newVect3, f_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2940_2941, rslt4);
return(rslt5);

};};
FnArity update_state_value_invoke_2955 = {FnArityType, -1, 3, (List *)0, 0, update_state_value_invoke_2954};
ReifiedVal reifiedStatic2956 = {72, -1, (Value *)0, 0, {}};
Value *reifiedPtr2957 = (Value *)&reifiedStatic2956;
Value *update_state_value_EQ_STAR__2958(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity update_state_value_EQ_STAR__2959 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_EQ_STAR__2958};
Value *update_state_value_type_name_2960(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr123);

};};
FnArity update_state_value_type_name_2961 = {FnArityType, -1, 1, (List *)0, 0, update_state_value_type_name_2960};
Value *update_state_value_has_field_2962(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2891, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2942, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity update_state_value_has_field_2963 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_has_field_2962};
Value *update_state_value_key_2964(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity update_state_value_key_2965 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_key_2964};
Value *update_state_value_key_2966(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity update_state_value_key_2967 = {FnArityType, -1, 1, (List *)0, 0, update_state_value_key_2966};
Value *update_state_value_f_2968(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity update_state_value_f_2969 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_f_2968};
Value *update_state_value_f_2970(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity update_state_value_f_2971 = {FnArityType, -1, 1, (List *)0, 0, update_state_value_f_2970};
Value *update_state_value_get_2972(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity update_state_value_get_2973 = {FnArityType, -1, 2, (List *)0, 0, update_state_value_get_2972};
Value *update_state_value_assoc_STAR__2974(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity update_state_value_assoc_STAR__2975 = {FnArityType, -1, 5, (List *)0, 0, update_state_value_assoc_STAR__2974};
ReifiedVal reifiedStatic2976 = {73, -1, (Value *)0, 0, {}};
Value *reifiedPtr2977 = (Value *)&reifiedStatic2976;
Value *type_val_2978_2979;
ProtoImpls protoImpls2983;
ProtoImpls protoImpls2985;
Value *dispatchFnPtr2980;
Value *protoImpl2982(List *closures, Value *arg);
Value *protoImpl2984(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str126 = {StringType, -1, 6, 0, "fn-ast"};
Value *strPtr126 = (Value *)&str126;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str127 = {StringType, -1, 15, 0, "fn-sym, arities"};
Value *strPtr127 = (Value *)&str127;
Value *arityImpl2986(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr127, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr126, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity2987 = {FnArityType, -1, 1, (List *)0, 0, arityImpl2986};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str128 = {StringType, -1, 20, 0, "*fn-ast constructor*"};
Value *strPtr128 = (Value *)&str128;
Value *fn_ast_const_type_name_2988(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr128);

};};
FnArity fn_ast_const_type_name_2989 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_const_type_name_2988};
Value *fn_ast_instance_QMARK__2990(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_2978_2979, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity fn_ast_instance_QMARK__2991 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_instance_QMARK__2990};
Value *fn_ast_invoke_2992(List *closures, Value *arg0, Value *fn_sym_1, Value *arities_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, fn_sym_1);
newVect3 = mutateVectConj(newVect3, arities_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_2978_2979, rslt4);
return(rslt5);

};};
FnArity fn_ast_invoke_2993 = {FnArityType, -1, 3, (List *)0, 0, fn_ast_invoke_2992};
ReifiedVal reifiedStatic2994 = {74, -1, (Value *)0, 0, {}};
Value *reifiedPtr2995 = (Value *)&reifiedStatic2994;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str129 = {StringType, -1, 13, 0, "<FunctionAST "};
Value *strPtr129 = (Value *)&str129;
Value *fn_ast_string_list_2996(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *arities_3;
Value *tail_4;
Value **destArgs5[3] = {&fn_sym_2, &arities_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "122", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 125 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)fn_sym_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 125 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr4, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr129, newList8);
Value *rslt9 = (Value *)newList8;

// type-unknown string-list
// #line 126 "/Users/jim/toccata/ast.toc"
Value *rslt10 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", arities_3, "/Users/jim/toccata/ast.toc", 126);

// call-list
// #line 127 "/Users/jim/toccata/ast.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr2, newList11);
Value *rslt12 = (Value *)newList11;

// call-list
// #line 125 "/Users/jim/toccata/ast.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt10, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 125 "/Users/jim/toccata/ast.toc"
Value *rslt15 = List_comp_STAR__825(empty_list, rslt9, rslt14);
return(rslt15);

};};
FnArity fn_ast_string_list_2997 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_string_list_2996};
Value *fn_ast_EQ_STAR__2998(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity fn_ast_EQ_STAR__2999 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_EQ_STAR__2998};
Value *fn_ast_type_name_3000(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr126);

};};
FnArity fn_ast_type_name_3001 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_type_name_3000};
Value *fn_ast_has_field_3002(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2699, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2980, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity fn_ast_has_field_3003 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_has_field_3002};
Value *fn_ast_fn_sym_3004(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_ast_fn_sym_3005 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_fn_sym_3004};
Value *fn_ast_fn_sym_3006(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_ast_fn_sym_3007 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_fn_sym_3006};
Value *fn_ast_arities_3008(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity fn_ast_arities_3009 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_arities_3008};
Value *fn_ast_arities_3010(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity fn_ast_arities_3011 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_arities_3010};
Value *fn_ast_get_3012(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity fn_ast_get_3013 = {FnArityType, -1, 2, (List *)0, 0, fn_ast_get_3012};
Value *fn_ast_assoc_STAR__3014(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity fn_ast_assoc_STAR__3015 = {FnArityType, -1, 5, (List *)0, 0, fn_ast_assoc_STAR__3014};
Value *fn_ast_file_name_3016(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *arities_3;
Value *tail_4;
Value **destArgs5[3] = {&fn_sym_2, &arities_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "122", (Value *)rslt1, 3, destArgs5);

dec_and_free(fn_sym_2, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 130 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", arities_3, "/Users/jim/toccata/ast.toc", 130);
return(rslt6);

};};
FnArity fn_ast_file_name_3017 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_file_name_3016};
Value *fn_ast_line_number_3018(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *arities_3;
Value *tail_4;
Value **destArgs5[3] = {&fn_sym_2, &arities_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "122", (Value *)rslt1, 3, destArgs5);

dec_and_free(fn_sym_2, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 131 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", arities_3, "/Users/jim/toccata/ast.toc", 131);
return(rslt6);

};};
FnArity fn_ast_line_number_3019 = {FnArityType, -1, 1, (List *)0, 0, fn_ast_line_number_3018};
ReifiedVal reifiedStatic3020 = {75, -1, (Value *)0, 0, {}};
Value *reifiedPtr3021 = (Value *)&reifiedStatic3020;

// --------- update-value -------------
Value *update_value_3023;
Value *update_value_3024(List *closures, Value *key_0, Value *f_1) {
 while (1) {

// call invoke
// #line 12 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = update_state_value_invoke_2954(empty_list, reifiedPtr2957, key_0, f_1);

// call invoke
// #line 12 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt2);
return(rslt3);

};};
FnArity update_value_3025 = {FnArityType, -1, 2, (List *)0, 0, update_value_3024};
Function update_value_3026 = {FunctionType, -1, "update-value", 1, {&update_value_3025}};
Value *update_value_3023 = (Value *)&update_value_3026;


// --------- fn-expr -------------
Value *fn_expr_3028;
Value *fn_expr_3029(List *closures, Value *sym_0, Value *arities_1) {
 while (1) {

// call invoke
// #line 134 "/Users/jim/toccata/ast.toc"
Value *rslt2 = fn_ast_invoke_2992(empty_list, reifiedPtr2995, sym_0, arities_1);
return(rslt2);

};};
FnArity fn_expr_3030 = {FnArityType, -1, 2, (List *)0, 0, fn_expr_3029};
Function fn_expr_3031 = {FunctionType, -1, "fn-expr", 1, {&fn_expr_3030}};
Value *fn_expr_3028 = (Value *)&fn_expr_3031;

Value *type_val_3032_3033;
ProtoImpls protoImpls3036;
ProtoImpls protoImpls3038;
Value *dispatchFnPtr3034;
Value *protoImpl3035(List *closures, Value *arg);
Value *protoImpl3037(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str130 = {StringType, -1, 15, 0, "parser-not-char"};
Value *strPtr130 = (Value *)&str130;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str131 = {StringType, -1, 6, 0, "test-c"};
Value *strPtr131 = (Value *)&str131;
Value *arityImpl3039(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr131, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr130, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3040 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3039};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str132 = {StringType, -1, 29, 0, "*parser-not-char constructor*"};
Value *strPtr132 = (Value *)&str132;
Value *parser_not_char_const_type_name_3041(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr132);

};};
FnArity parser_not_char_const_type_name_3042 = {FnArityType, -1, 1, (List *)0, 0, parser_not_char_const_type_name_3041};
Value *parser_not_char_instance_QMARK__3043(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3032_3033, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_not_char_instance_QMARK__3044 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_instance_QMARK__3043};
Value *parser_not_char_invoke_3045(List *closures, Value *arg0, Value *test_c_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, test_c_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3032_3033, rslt3);
return(rslt4);

};};
FnArity parser_not_char_invoke_3046 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_invoke_3045};
ReifiedVal reifiedStatic3047 = {76, -1, (Value *)0, 0, {}};
Value *reifiedPtr3048 = (Value *)&reifiedStatic3047;
Value *parser_not_char_EQ_STAR__3049(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_not_char_EQ_STAR__3050 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_EQ_STAR__3049};
Value *parser_not_char_type_name_3051(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr130);

};};
FnArity parser_not_char_type_name_3052 = {FnArityType, -1, 1, (List *)0, 0, parser_not_char_type_name_3051};
Value *parser_not_char_has_field_3053(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3034, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity parser_not_char_has_field_3054 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_has_field_3053};
Value *parser_not_char_test_c_3055(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_not_char_test_c_3056 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_test_c_3055};
Value *parser_not_char_test_c_3057(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_not_char_test_c_3058 = {FnArityType, -1, 1, (List *)0, 0, parser_not_char_test_c_3057};
Value *parser_not_char_get_3059(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_not_char_get_3060 = {FnArityType, -1, 2, (List *)0, 0, parser_not_char_get_3059};
Value *parser_not_char_assoc_STAR__3061(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_not_char_assoc_STAR__3062 = {FnArityType, -1, 5, (List *)0, 0, parser_not_char_assoc_STAR__3061};
ReifiedVal reifiedStatic3063 = {77, -1, (Value *)0, 0, {}};
Value *reifiedPtr3064 = (Value *)&reifiedStatic3063;

// --------- lift -------------
Value *lift_3066;
Value *arityImpl3071(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs9);

dec_and_free(closuresTail, 1);

// call-list
// #line 71 "/Users/jim/toccata/state-maybe.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)val2, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown apply*
// #line 71 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = proto2Arg(&apply_STAR__Implementations_266, "apply*", val1, rslt4, "/Users/jim/toccata/state-maybe.toc", 71);

// call-vector
// #line 71 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, rslt5);
newVect6 = mutateVectConj(newVect6, s_0);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 71 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);

};};
Value *arityImpl3069(List *closures, Value *arg1) {
while (1) {
Value *args_0 = (Value *)arg1;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3071;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)args_0, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)val3, (List *)dynArity2->closures);
Function *anon_3072 = malloc_function(1);
anon_3072->name = "anon";
anon_3072->arityCount = 1;
anon_3072->arities[0] = dynArity2;
Value *fn3070 = (Value *)anon_3072;

// call invoke
// #line 70 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3070);
return(rslt4);

};};
Value *lift_3067(List *closures, Value *f_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 1;
dynArity1->fn = arityImpl3069;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)f_0, (List *)dynArity1->closures);
Function *anon_3073 = malloc_function(1);
anon_3073->name = "anon";
anon_3073->arityCount = 1;
anon_3073->arities[0] = dynArity1;
Value *fn3068 = (Value *)anon_3073;
return(fn3068);

};};
FnArity lift_3074 = {FnArityType, -1, 1, (List *)0, 0, lift_3067};
Function lift_3075 = {FunctionType, -1, "lift", 1, {&lift_3074}};
Value *lift_3066 = (Value *)&lift_3075;


// --------- not-char -------------
Value *not_char_3077;
Value *not_char_3078(List *closures, Value *test_c_0) {
 while (1) {

// call invoke
// #line 17 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = parser_not_char_invoke_3045(empty_list, reifiedPtr3048, test_c_0);

// call invoke
// #line 17 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity not_char_3079 = {FnArityType, -1, 1, (List *)0, 0, not_char_3078};
Function not_char_3080 = {FunctionType, -1, "not-char", 1, {&not_char_3079}};
Value *not_char_3077 = (Value *)&not_char_3080;

Value *type_val_3081_3082;
ProtoImpls protoImpls3086;
ProtoImpls protoImpls3088;
Value *dispatchFnPtr3084;
Value *protoImpl3085(List *closures, Value *arg);
Value *protoImpl3087(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls3090;
ProtoImpls protoImpls3092;
Value *dispatchFnPtr3083;
Value *protoImpl3089(List *closures, Value *arg);
Value *protoImpl3091(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str133 = {StringType, -1, 17, 0, "parser-char-range"};
Value *strPtr133 = (Value *)&str133;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str134 = {StringType, -1, 13, 0, "lower, higher"};
Value *strPtr134 = (Value *)&str134;
Value *arityImpl3093(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr134, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr133, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3094 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3093};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str135 = {StringType, -1, 31, 0, "*parser-char-range constructor*"};
Value *strPtr135 = (Value *)&str135;
Value *parser_char_range_const_type_name_3095(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr135);

};};
FnArity parser_char_range_const_type_name_3096 = {FnArityType, -1, 1, (List *)0, 0, parser_char_range_const_type_name_3095};
Value *parser_char_range_instance_QMARK__3097(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3081_3082, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_char_range_instance_QMARK__3098 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_instance_QMARK__3097};
Value *parser_char_range_invoke_3099(List *closures, Value *arg0, Value *lower_1, Value *higher_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, lower_1);
newVect3 = mutateVectConj(newVect3, higher_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3081_3082, rslt4);
return(rslt5);

};};
FnArity parser_char_range_invoke_3100 = {FnArityType, -1, 3, (List *)0, 0, parser_char_range_invoke_3099};
ReifiedVal reifiedStatic3101 = {78, -1, (Value *)0, 0, {}};
Value *reifiedPtr3102 = (Value *)&reifiedStatic3101;
Value *parser_char_range_EQ_STAR__3103(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_char_range_EQ_STAR__3104 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_EQ_STAR__3103};
Value *parser_char_range_type_name_3105(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr133);

};};
FnArity parser_char_range_type_name_3106 = {FnArityType, -1, 1, (List *)0, 0, parser_char_range_type_name_3105};
Value *parser_char_range_has_field_3107(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3084, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3083, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity parser_char_range_has_field_3108 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_has_field_3107};
Value *parser_char_range_lower_3109(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_char_range_lower_3110 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_lower_3109};
Value *parser_char_range_lower_3111(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_char_range_lower_3112 = {FnArityType, -1, 1, (List *)0, 0, parser_char_range_lower_3111};
Value *parser_char_range_higher_3113(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_char_range_higher_3114 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_higher_3113};
Value *parser_char_range_higher_3115(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_char_range_higher_3116 = {FnArityType, -1, 1, (List *)0, 0, parser_char_range_higher_3115};
Value *parser_char_range_get_3117(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_char_range_get_3118 = {FnArityType, -1, 2, (List *)0, 0, parser_char_range_get_3117};
Value *parser_char_range_assoc_STAR__3119(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_char_range_assoc_STAR__3120 = {FnArityType, -1, 5, (List *)0, 0, parser_char_range_assoc_STAR__3119};
ReifiedVal reifiedStatic3121 = {79, -1, (Value *)0, 0, {}};
Value *reifiedPtr3122 = (Value *)&reifiedStatic3121;

// --------- update-state -------------
Value *update_state_3124;
Value *arityImpl3127(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 75 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}

// call-vector
// #line 75 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, s_0);
newVect6 = mutateVectConj(newVect6, rslt5);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 75 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);

};};
Value *update_state_3125(List *closures, Value *f_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl3127;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)f_0, (List *)dynArity1->closures);
Function *anon_3128 = malloc_function(1);
anon_3128->name = "anon";
anon_3128->arityCount = 1;
anon_3128->arities[0] = dynArity1;
Value *fn3126 = (Value *)anon_3128;

// call invoke
// #line 74 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3126);
return(rslt2);

};};
FnArity update_state_3129 = {FnArityType, -1, 1, (List *)0, 0, update_state_3125};
Function update_state_3130 = {FunctionType, -1, "update-state", 1, {&update_state_3129}};
Value *update_state_3124 = (Value *)&update_state_3130;


// --------- char-range -------------
Value *char_range_3132;
Value *char_range_3133(List *closures, Value *lower_0, Value *higher_1) {
 while (1) {

// call invoke
// #line 22 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = parser_char_range_invoke_3099(empty_list, reifiedPtr3102, lower_0, higher_1);

// call invoke
// #line 22 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt2);
return(rslt3);

};};
FnArity char_range_3134 = {FnArityType, -1, 2, (List *)0, 0, char_range_3133};
Function char_range_3135 = {FunctionType, -1, "char-range", 1, {&char_range_3134}};
Value *char_range_3132 = (Value *)&char_range_3135;

Value *type_val_3136_3137;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str136 = {StringType, -1, 14, 0, "parser-term-fn"};
Value *strPtr136 = (Value *)&str136;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str137 = {StringType, -1, 1, 0, "f"};
Value *strPtr137 = (Value *)&str137;
Value *arityImpl3139(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr137, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr136, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3140 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3139};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str138 = {StringType, -1, 28, 0, "*parser-term-fn constructor*"};
Value *strPtr138 = (Value *)&str138;
Value *parser_term_fn_const_type_name_3141(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr138);

};};
FnArity parser_term_fn_const_type_name_3142 = {FnArityType, -1, 1, (List *)0, 0, parser_term_fn_const_type_name_3141};
Value *parser_term_fn_instance_QMARK__3143(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3136_3137, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_term_fn_instance_QMARK__3144 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_instance_QMARK__3143};
Value *parser_term_fn_invoke_3145(List *closures, Value *arg0, Value *f_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, f_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3136_3137, rslt3);
return(rslt4);

};};
FnArity parser_term_fn_invoke_3146 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_invoke_3145};
ReifiedVal reifiedStatic3147 = {80, -1, (Value *)0, 0, {}};
Value *reifiedPtr3148 = (Value *)&reifiedStatic3147;
Value *parser_term_fn_EQ_STAR__3149(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_term_fn_EQ_STAR__3150 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_EQ_STAR__3149};
Value *parser_term_fn_type_name_3151(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr136);

};};
FnArity parser_term_fn_type_name_3152 = {FnArityType, -1, 1, (List *)0, 0, parser_term_fn_type_name_3151};
Value *parser_term_fn_has_field_3153(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2942, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity parser_term_fn_has_field_3154 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_has_field_3153};
Value *parser_term_fn_f_3155(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_term_fn_f_3156 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_f_3155};
Value *parser_term_fn_f_3157(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_term_fn_f_3158 = {FnArityType, -1, 1, (List *)0, 0, parser_term_fn_f_3157};
Value *parser_term_fn_get_3159(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_term_fn_get_3160 = {FnArityType, -1, 2, (List *)0, 0, parser_term_fn_get_3159};
Value *parser_term_fn_assoc_STAR__3161(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_term_fn_assoc_STAR__3162 = {FnArityType, -1, 5, (List *)0, 0, parser_term_fn_assoc_STAR__3161};
ReifiedVal reifiedStatic3163 = {81, -1, (Value *)0, 0, {}};
Value *reifiedPtr3164 = (Value *)&reifiedStatic3163;
Value *type_val_3165_3166;
ProtoImpls protoImpls3170;
ProtoImpls protoImpls3172;
Value *dispatchFnPtr3168;
Value *protoImpl3169(List *closures, Value *arg);
Value *protoImpl3171(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str139 = {StringType, -1, 8, 0, "call-ast"};
Value *strPtr139 = (Value *)&str139;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str140 = {StringType, -1, 17, 0, "call-target, args"};
Value *strPtr140 = (Value *)&str140;
Value *arityImpl3173(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr140, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr139, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3174 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3173};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str141 = {StringType, -1, 22, 0, "*call-ast constructor*"};
Value *strPtr141 = (Value *)&str141;
Value *call_ast_const_type_name_3175(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr141);

};};
FnArity call_ast_const_type_name_3176 = {FnArityType, -1, 1, (List *)0, 0, call_ast_const_type_name_3175};
Value *call_ast_instance_QMARK__3177(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3165_3166, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity call_ast_instance_QMARK__3178 = {FnArityType, -1, 2, (List *)0, 0, call_ast_instance_QMARK__3177};
Value *call_ast_invoke_3179(List *closures, Value *arg0, Value *call_target_1, Value *args_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, call_target_1);
newVect3 = mutateVectConj(newVect3, args_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3165_3166, rslt4);
return(rslt5);

};};
FnArity call_ast_invoke_3180 = {FnArityType, -1, 3, (List *)0, 0, call_ast_invoke_3179};
ReifiedVal reifiedStatic3181 = {82, -1, (Value *)0, 0, {}};
Value *reifiedPtr3182 = (Value *)&reifiedStatic3181;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str142 = {StringType, -1, 9, 0, "<CallAST "};
Value *strPtr142 = (Value *)&str142;
Value *call_ast_string_list_3183(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *call_target_2;
Value *args_3;
Value *tail_4;
Value **destArgs5[3] = {&call_target_2, &args_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "137", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 140 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)call_target_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-variadic
// #line 140 "/Users/jim/toccata/ast.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)args_3, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 140 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr4, newList10);
newList10 = listCons((Value *)rslt7, newList10);
newList10 = listCons((Value *)strPtr142, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity call_ast_string_list_3184 = {FnArityType, -1, 1, (List *)0, 0, call_ast_string_list_3183};
Value *call_ast_EQ_STAR__3185(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity call_ast_EQ_STAR__3186 = {FnArityType, -1, 2, (List *)0, 0, call_ast_EQ_STAR__3185};
Value *call_ast_type_name_3187(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr139);

};};
FnArity call_ast_type_name_3188 = {FnArityType, -1, 1, (List *)0, 0, call_ast_type_name_3187};
Value *call_ast_has_field_3189(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3168, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2620, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity call_ast_has_field_3190 = {FnArityType, -1, 2, (List *)0, 0, call_ast_has_field_3189};
Value *call_ast_call_target_3191(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity call_ast_call_target_3192 = {FnArityType, -1, 2, (List *)0, 0, call_ast_call_target_3191};
Value *call_ast_call_target_3193(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity call_ast_call_target_3194 = {FnArityType, -1, 1, (List *)0, 0, call_ast_call_target_3193};
Value *call_ast_args_3195(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity call_ast_args_3196 = {FnArityType, -1, 2, (List *)0, 0, call_ast_args_3195};
Value *call_ast_args_3197(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity call_ast_args_3198 = {FnArityType, -1, 1, (List *)0, 0, call_ast_args_3197};
Value *call_ast_get_3199(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity call_ast_get_3200 = {FnArityType, -1, 2, (List *)0, 0, call_ast_get_3199};
Value *call_ast_assoc_STAR__3201(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity call_ast_assoc_STAR__3202 = {FnArityType, -1, 5, (List *)0, 0, call_ast_assoc_STAR__3201};
Value *call_ast_file_name_3203(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *call_target_2;
Value *args_3;
Value *tail_4;
Value **destArgs5[3] = {&call_target_2, &args_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "137", (Value *)rslt1, 3, destArgs5);

dec_and_free(args_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 143 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", call_target_2, "/Users/jim/toccata/ast.toc", 143);
return(rslt6);

};};
FnArity call_ast_file_name_3204 = {FnArityType, -1, 1, (List *)0, 0, call_ast_file_name_3203};
Value *call_ast_line_number_3205(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *call_target_2;
Value *args_3;
Value *tail_4;
Value **destArgs5[3] = {&call_target_2, &args_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "137", (Value *)rslt1, 3, destArgs5);

dec_and_free(args_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 144 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", call_target_2, "/Users/jim/toccata/ast.toc", 144);
return(rslt6);

};};
FnArity call_ast_line_number_3206 = {FnArityType, -1, 1, (List *)0, 0, call_ast_line_number_3205};
ReifiedVal reifiedStatic3207 = {83, -1, (Value *)0, 0, {}};
Value *reifiedPtr3208 = (Value *)&reifiedStatic3207;

// --------- call-expr -------------
Value *call_expr_3210;
Value *call_expr_3211(List *closures, Value *arg2) {
 while (1) {
Value *target_0;
Value *args_1;
Value **destArgs3[2] = {&target_0, &args_1};
destructValue("/Users/jim/toccata/ast.toc", "146", (Value *)arg2, 2, destArgs3);

// call invoke
// #line 147 "/Users/jim/toccata/ast.toc"
Value *rslt4 = call_ast_invoke_3179(empty_list, reifiedPtr3182, target_0, args_1);
return(rslt4);

};};
FnArity call_expr_3212 = {FnArityType, -1, 1, (List *)0, 0, call_expr_3211};
Function call_expr_3213 = {FunctionType, -1, "call-expr", 1, {&call_expr_3212}};
Value *call_expr_3210 = (Value *)&call_expr_3213;


// --------- term-fn -------------
Value *term_fn_3215;
Value *term_fn_3216(List *closures, Value *f_0) {
 while (1) {

// call invoke
// #line 27 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = parser_term_fn_invoke_3145(empty_list, reifiedPtr3148, f_0);

// call invoke
// #line 27 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity term_fn_3217 = {FnArityType, -1, 1, (List *)0, 0, term_fn_3216};
Function term_fn_3218 = {FunctionType, -1, "term-fn", 1, {&term_fn_3217}};
Value *term_fn_3215 = (Value *)&term_fn_3218;

Value *type_val_3219_3220;
ProtoImpls protoImpls3223;
ProtoImpls protoImpls3225;
Value *dispatchFnPtr3221;
Value *protoImpl3222(List *closures, Value *arg);
Value *protoImpl3224(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str143 = {StringType, -1, 15, 0, "parser-terminal"};
Value *strPtr143 = (Value *)&str143;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str144 = {StringType, -1, 8, 0, "term-str"};
Value *strPtr144 = (Value *)&str144;
Value *arityImpl3226(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr144, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr143, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3227 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3226};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str145 = {StringType, -1, 29, 0, "*parser-terminal constructor*"};
Value *strPtr145 = (Value *)&str145;
Value *parser_terminal_const_type_name_3228(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr145);

};};
FnArity parser_terminal_const_type_name_3229 = {FnArityType, -1, 1, (List *)0, 0, parser_terminal_const_type_name_3228};
Value *parser_terminal_instance_QMARK__3230(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3219_3220, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_terminal_instance_QMARK__3231 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_instance_QMARK__3230};
Value *parser_terminal_invoke_3232(List *closures, Value *arg0, Value *term_str_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, term_str_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3219_3220, rslt3);
return(rslt4);

};};
FnArity parser_terminal_invoke_3233 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_invoke_3232};
ReifiedVal reifiedStatic3234 = {84, -1, (Value *)0, 0, {}};
Value *reifiedPtr3235 = (Value *)&reifiedStatic3234;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str146 = {StringType, -1, 6, 0, "<Term "};
Value *strPtr146 = (Value *)&str146;
Value *parser_terminal_string_list_3236(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *term_str_2;
Value *tail_3;
Value **destArgs4[2] = {&term_str_2, &tail_3};
destructValue("/Users/jim/toccata/grammar.toc", "29", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// static-variadic
// #line 31 "/Users/jim/toccata/grammar.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)term_str_2, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// call-list
// #line 31 "/Users/jim/toccata/grammar.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr2, newList7);
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)strPtr146, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity parser_terminal_string_list_3237 = {FnArityType, -1, 1, (List *)0, 0, parser_terminal_string_list_3236};
Value *parser_terminal_EQ_STAR__3238(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_terminal_EQ_STAR__3239 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_EQ_STAR__3238};
Value *parser_terminal_type_name_3240(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr143);

};};
FnArity parser_terminal_type_name_3241 = {FnArityType, -1, 1, (List *)0, 0, parser_terminal_type_name_3240};
Value *parser_terminal_has_field_3242(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3221, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity parser_terminal_has_field_3243 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_has_field_3242};
Value *parser_terminal_term_str_3244(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_terminal_term_str_3245 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_term_str_3244};
Value *parser_terminal_term_str_3246(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_terminal_term_str_3247 = {FnArityType, -1, 1, (List *)0, 0, parser_terminal_term_str_3246};
Value *parser_terminal_get_3248(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_terminal_get_3249 = {FnArityType, -1, 2, (List *)0, 0, parser_terminal_get_3248};
Value *parser_terminal_assoc_STAR__3250(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_terminal_assoc_STAR__3251 = {FnArityType, -1, 5, (List *)0, 0, parser_terminal_assoc_STAR__3250};
ReifiedVal reifiedStatic3252 = {85, -1, (Value *)0, 0, {}};
Value *reifiedPtr3253 = (Value *)&reifiedStatic3252;

// --------- term -------------
Value *term_3255;
Value *term_3256(List *closures, Value *term_str_0) {
 while (1) {

// call invoke
// #line 35 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = parser_terminal_invoke_3232(empty_list, reifiedPtr3235, term_str_0);

// call invoke
// #line 35 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity term_3257 = {FnArityType, -1, 1, (List *)0, 0, term_3256};
Function term_3258 = {FunctionType, -1, "term", 1, {&term_3257}};
Value *term_3255 = (Value *)&term_3258;

Value *type_val_3259_3260;
ProtoImpls protoImpls3264;
ProtoImpls protoImpls3266;
Value *dispatchFnPtr3262;
Value *protoImpl3263(List *closures, Value *arg);
Value *protoImpl3265(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls3268;
ProtoImpls protoImpls3270;
Value *dispatchFnPtr3261;
Value *protoImpl3267(List *closures, Value *arg);
Value *protoImpl3269(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str147 = {StringType, -1, 11, 0, "binding-ast"};
Value *strPtr147 = (Value *)&str147;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str148 = {StringType, -1, 12, 0, "binding, val"};
Value *strPtr148 = (Value *)&str148;
Value *arityImpl3271(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr148, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr147, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3272 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3271};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str149 = {StringType, -1, 25, 0, "*binding-ast constructor*"};
Value *strPtr149 = (Value *)&str149;
Value *binding_ast_const_type_name_3273(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr149);

};};
FnArity binding_ast_const_type_name_3274 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_const_type_name_3273};
Value *binding_ast_instance_QMARK__3275(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3259_3260, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity binding_ast_instance_QMARK__3276 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_instance_QMARK__3275};
Value *binding_ast_invoke_3277(List *closures, Value *arg0, Value *binding_1, Value *val_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, binding_1);
newVect3 = mutateVectConj(newVect3, val_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3259_3260, rslt4);
return(rslt5);

};};
FnArity binding_ast_invoke_3278 = {FnArityType, -1, 3, (List *)0, 0, binding_ast_invoke_3277};
ReifiedVal reifiedStatic3279 = {86, -1, (Value *)0, 0, {}};
Value *reifiedPtr3280 = (Value *)&reifiedStatic3279;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str150 = {StringType, -1, 12, 0, "<BindingAST "};
Value *strPtr150 = (Value *)&str150;
Value *binding_ast_string_list_3281(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *binding_2;
Value *val_3;
Value *tail_4;
Value **destArgs5[3] = {&binding_2, &val_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "150", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 153 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)binding_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-variadic
// #line 153 "/Users/jim/toccata/ast.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)val_3, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 153 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr4, newList10);
newList10 = listCons((Value *)rslt7, newList10);
newList10 = listCons((Value *)strPtr150, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity binding_ast_string_list_3282 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_string_list_3281};
Value *binding_ast_EQ_STAR__3283(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity binding_ast_EQ_STAR__3284 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_EQ_STAR__3283};
Value *binding_ast_type_name_3285(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr147);

};};
FnArity binding_ast_type_name_3286 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_type_name_3285};
Value *binding_ast_has_field_3287(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3262, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3261, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity binding_ast_has_field_3288 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_has_field_3287};
Value *binding_ast_binding_3289(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity binding_ast_binding_3290 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_binding_3289};
Value *binding_ast_binding_3291(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity binding_ast_binding_3292 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_binding_3291};
Value *binding_ast_val_3293(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity binding_ast_val_3294 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_val_3293};
Value *binding_ast_val_3295(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity binding_ast_val_3296 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_val_3295};
Value *binding_ast_get_3297(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity binding_ast_get_3298 = {FnArityType, -1, 2, (List *)0, 0, binding_ast_get_3297};
Value *binding_ast_assoc_STAR__3299(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity binding_ast_assoc_STAR__3300 = {FnArityType, -1, 5, (List *)0, 0, binding_ast_assoc_STAR__3299};
Value *binding_ast_file_name_3301(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *binding_2;
Value *val_3;
Value *tail_4;
Value **destArgs5[3] = {&binding_2, &val_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "150", (Value *)rslt1, 3, destArgs5);

dec_and_free(val_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 156 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", binding_2, "/Users/jim/toccata/ast.toc", 156);
return(rslt6);

};};
FnArity binding_ast_file_name_3302 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_file_name_3301};
Value *binding_ast_line_number_3303(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *binding_2;
Value *val_3;
Value *tail_4;
Value **destArgs5[3] = {&binding_2, &val_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "150", (Value *)rslt1, 3, destArgs5);

dec_and_free(val_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 157 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", binding_2, "/Users/jim/toccata/ast.toc", 157);
return(rslt6);

};};
FnArity binding_ast_line_number_3304 = {FnArityType, -1, 1, (List *)0, 0, binding_ast_line_number_3303};
ReifiedVal reifiedStatic3305 = {87, -1, (Value *)0, 0, {}};
Value *reifiedPtr3306 = (Value *)&reifiedStatic3305;

// proto fn for StringTerminal/string-terminal
Value *string_terminal_3307;
ProtoImpls string_terminal_Implementations_3309;
Value *string_terminal_3308(List *closures, Value *arg0);
Value *Default_string_terminal_3310(List *closures, Value *rule_0) {
 while (1) {
return(rule_0);

};};
FnArity Default_string_terminal_3311 = {FnArityType, -1, 1, (List *)0, 0, Default_string_terminal_3310};

// --------- binding -------------
Value *binding_3313;
Value *binding_3314(List *closures, Value *binding_0, Value *val_1) {
 while (1) {

// call invoke
// #line 160 "/Users/jim/toccata/ast.toc"
Value *rslt2 = binding_ast_invoke_3277(empty_list, reifiedPtr3280, binding_0, val_1);
return(rslt2);

};};
FnArity binding_3315 = {FnArityType, -1, 2, (List *)0, 0, binding_3314};
Function binding_3316 = {FunctionType, -1, "binding", 1, {&binding_3315}};
Value *binding_3313 = (Value *)&binding_3316;

Value *String_string_terminal_3317(List *closures, Value *s_0) {
 while (1) {

// static-fixed
// #line 42 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = term_3256(empty_list, s_0);
return(rslt1);

};};
FnArity String_string_terminal_3318 = {FnArityType, -1, 1, (List *)0, 0, String_string_terminal_3317};
Value *SubString_string_terminal_3319(List *closures, Value *s_0) {
 while (1) {

// static-fixed
// #line 42 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = term_3256(empty_list, s_0);
return(rslt1);

};};
FnArity SubString_string_terminal_3320 = {FnArityType, -1, 1, (List *)0, 0, SubString_string_terminal_3319};

// --------- get-val -------------
Value *get_val_3322;
Value *arityImpl3325(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 80 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = proto2Arg(&get_Implementations_362, "<nothing>/get", s_0, val1, "/Users/jim/toccata/state-maybe.toc", 80);
Value *x_3 = rslt2;

incRef(x_3, 1);
Value *andRslt4;
andRslt4 = x_3;
if (isNothing(andRslt4)) {
dec_and_free(x_3, 1);
dec_and_free(s_0, 1);
return(nothing);
} else {
dec_and_free(andRslt4, 1);

// type-unknown extract
// #line 81 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_3, "/Users/jim/toccata/state-maybe.toc", 81);
Value *v_6 = rslt5;

// call-vector
// #line 82 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, v_6);
newVect7 = mutateVectConj(newVect7, s_0);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 82 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = maybe_4(empty_list, rslt8);
return(rslt9);
andRslt4 = rslt9;
}

};};
Value *get_val_3323(List *closures, Value *k_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl3325;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)k_0, (List *)dynArity1->closures);
Function *anon_3326 = malloc_function(1);
anon_3326->name = "anon";
anon_3326->arityCount = 1;
anon_3326->arities[0] = dynArity1;
Value *fn3324 = (Value *)anon_3326;

// call invoke
// #line 79 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3324);
return(rslt2);

};};
FnArity get_val_3327 = {FnArityType, -1, 1, (List *)0, 0, get_val_3323};
Value *arityImpl3330(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 2);
Value *val2;
Value *val11;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[3] = {&val2, &val11, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs15);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-unknown get
// #line 85 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = proto2Arg(&get_Implementations_362, "<nothing>/get", s_0, val2, "/Users/jim/toccata/state-maybe.toc", 85);
Value *x_4 = rslt3;

incRef(x_4, 1);
Value *andRslt5;
andRslt5 = x_4;
if (isNothing(andRslt5)) {
dec_and_free(s_0, 1);
dec_and_free(x_4, 1);
} else {
dec_and_free(andRslt5, 1);

// type-unknown extract
// #line 86 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_4, "/Users/jim/toccata/state-maybe.toc", 86);
Value *v_7 = rslt6;

// call-vector
// #line 87 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, v_7);
newVect8 = mutateVectConj(newVect8, s_0);
Value *rslt9 = (Value *)newVect8;

// static-fixed
// #line 87 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = maybe_4(empty_list, rslt9);
andRslt5 = rslt10;
}
orRslt1 = andRslt5;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val11, 1);
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// call-vector
// #line 88 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, val11);
newVect12 = mutateVectConj(newVect12, s_0);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 88 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = maybe_4(empty_list, rslt13);
return(rslt14);
orRslt1 = rslt14;
}

};};
Value *get_val_3328(List *closures, Value *k_0, Value *nf_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3330;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)nf_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)k_0, (List *)dynArity2->closures);
Function *anon_3331 = malloc_function(1);
anon_3331->name = "anon";
anon_3331->arityCount = 1;
anon_3331->arities[0] = dynArity2;
Value *fn3329 = (Value *)anon_3331;

// call invoke
// #line 84 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3329);
return(rslt3);

};};
FnArity get_val_3332 = {FnArityType, -1, 2, (List *)0, 0, get_val_3328};
Function get_val_3333 = {FunctionType, -1, "get-val", 2, {&get_val_3327, &get_val_3332}};
Value *get_val_3322 = (Value *)&get_val_3333;

Value *type_val_3334_3335;
ProtoImpls protoImpls3338;
ProtoImpls protoImpls3340;
Value *dispatchFnPtr3336;
Value *protoImpl3337(List *closures, Value *arg);
Value *protoImpl3339(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str151 = {StringType, -1, 11, 0, "repeat-rule"};
Value *strPtr151 = (Value *)&str151;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str152 = {StringType, -1, 4, 0, "rule"};
Value *strPtr152 = (Value *)&str152;
Value *arityImpl3341(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr152, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr151, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3342 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3341};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str153 = {StringType, -1, 25, 0, "*repeat-rule constructor*"};
Value *strPtr153 = (Value *)&str153;
Value *repeat_rule_const_type_name_3343(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr153);

};};
FnArity repeat_rule_const_type_name_3344 = {FnArityType, -1, 1, (List *)0, 0, repeat_rule_const_type_name_3343};
Value *repeat_rule_instance_QMARK__3345(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3334_3335, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity repeat_rule_instance_QMARK__3346 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_instance_QMARK__3345};
Value *repeat_rule_invoke_3347(List *closures, Value *arg0, Value *rule_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rule_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3334_3335, rslt3);
return(rslt4);

};};
FnArity repeat_rule_invoke_3348 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_invoke_3347};
ReifiedVal reifiedStatic3349 = {88, -1, (Value *)0, 0, {}};
Value *reifiedPtr3350 = (Value *)&reifiedStatic3349;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str154 = {StringType, -1, 8, 0, "<Repeat "};
Value *strPtr154 = (Value *)&str154;
Value *repeat_rule_string_list_3351(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *rule_2;
Value *tail_3;
Value **destArgs4[2] = {&rule_2, &tail_3};
destructValue("/Users/jim/toccata/grammar.toc", "44", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 46 "/Users/jim/toccata/grammar.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr154, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 47 "/Users/jim/toccata/grammar.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", rule_2, "/Users/jim/toccata/grammar.toc", 47);

// call-list
// #line 48 "/Users/jim/toccata/grammar.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 46 "/Users/jim/toccata/grammar.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 46 "/Users/jim/toccata/grammar.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity repeat_rule_string_list_3352 = {FnArityType, -1, 1, (List *)0, 0, repeat_rule_string_list_3351};
Value *repeat_rule_EQ_STAR__3353(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity repeat_rule_EQ_STAR__3354 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_EQ_STAR__3353};
Value *repeat_rule_type_name_3355(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr151);

};};
FnArity repeat_rule_type_name_3356 = {FnArityType, -1, 1, (List *)0, 0, repeat_rule_type_name_3355};
Value *repeat_rule_has_field_3357(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3336, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity repeat_rule_has_field_3358 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_has_field_3357};
Value *repeat_rule_rule_3359(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity repeat_rule_rule_3360 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_rule_3359};
Value *repeat_rule_rule_3361(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity repeat_rule_rule_3362 = {FnArityType, -1, 1, (List *)0, 0, repeat_rule_rule_3361};
Value *repeat_rule_get_3363(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity repeat_rule_get_3364 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_get_3363};
Value *repeat_rule_map_3365(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *rule_3;
Value *tail_4;
Value **destArgs5[2] = {&rule_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "44", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 52 "/Users/jim/toccata/grammar.toc"
Value *rslt9;
if((f_1)->type != FunctionType) {
rslt9 = invoke_368(empty_list, f_1, rule_3);
} else {
FnArity *arity6 = findFnArity(f_1, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, rule_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(rule_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// call invoke
// #line 52 "/Users/jim/toccata/grammar.toc"
Value *rslt10 = repeat_rule_invoke_3347(empty_list, reifiedPtr3350, rslt9);
return(rslt10);

};};
FnArity repeat_rule_map_3366 = {FnArityType, -1, 2, (List *)0, 0, repeat_rule_map_3365};
Value *repeat_rule_assoc_STAR__3367(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity repeat_rule_assoc_STAR__3368 = {FnArityType, -1, 5, (List *)0, 0, repeat_rule_assoc_STAR__3367};
ReifiedVal reifiedStatic3369 = {89, -1, (Value *)0, 0, {}};
Value *reifiedPtr3370 = (Value *)&reifiedStatic3369;
Value *type_val_3371_3372;
ProtoImpls protoImpls3376;
ProtoImpls protoImpls3378;
Value *dispatchFnPtr3374;
Value *protoImpl3375(List *closures, Value *arg);
Value *protoImpl3377(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str155 = {StringType, -1, 7, 0, "let-ast"};
Value *strPtr155 = (Value *)&str155;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str156 = {StringType, -1, 14, 0, "bindings, body"};
Value *strPtr156 = (Value *)&str156;
Value *arityImpl3379(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr156, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr155, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3380 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3379};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str157 = {StringType, -1, 21, 0, "*let-ast constructor*"};
Value *strPtr157 = (Value *)&str157;
Value *let_ast_const_type_name_3381(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr157);

};};
FnArity let_ast_const_type_name_3382 = {FnArityType, -1, 1, (List *)0, 0, let_ast_const_type_name_3381};
Value *let_ast_instance_QMARK__3383(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3371_3372, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity let_ast_instance_QMARK__3384 = {FnArityType, -1, 2, (List *)0, 0, let_ast_instance_QMARK__3383};
Value *let_ast_invoke_3385(List *closures, Value *arg0, Value *bindings_1, Value *body_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, bindings_1);
newVect3 = mutateVectConj(newVect3, body_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3371_3372, rslt4);
return(rslt5);

};};
FnArity let_ast_invoke_3386 = {FnArityType, -1, 3, (List *)0, 0, let_ast_invoke_3385};
ReifiedVal reifiedStatic3387 = {90, -1, (Value *)0, 0, {}};
Value *reifiedPtr3388 = (Value *)&reifiedStatic3387;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str158 = {StringType, -1, 8, 0, "<LetAST "};
Value *strPtr158 = (Value *)&str158;
Value *let_ast_string_list_3389(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *bindings_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&bindings_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "163", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 166 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)bindings_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-variadic
// #line 166 "/Users/jim/toccata/ast.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)body_3, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 166 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr5, newList10);
newList10 = listCons((Value *)rslt7, newList10);
newList10 = listCons((Value *)strPtr158, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity let_ast_string_list_3390 = {FnArityType, -1, 1, (List *)0, 0, let_ast_string_list_3389};
Value *let_ast_EQ_STAR__3391(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity let_ast_EQ_STAR__3392 = {FnArityType, -1, 2, (List *)0, 0, let_ast_EQ_STAR__3391};
Value *let_ast_type_name_3393(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr155);

};};
FnArity let_ast_type_name_3394 = {FnArityType, -1, 1, (List *)0, 0, let_ast_type_name_3393};
Value *let_ast_has_field_3395(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3374, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2417, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity let_ast_has_field_3396 = {FnArityType, -1, 2, (List *)0, 0, let_ast_has_field_3395};
Value *let_ast_bindings_3397(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity let_ast_bindings_3398 = {FnArityType, -1, 2, (List *)0, 0, let_ast_bindings_3397};
Value *let_ast_bindings_3399(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity let_ast_bindings_3400 = {FnArityType, -1, 1, (List *)0, 0, let_ast_bindings_3399};
Value *let_ast_body_3401(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity let_ast_body_3402 = {FnArityType, -1, 2, (List *)0, 0, let_ast_body_3401};
Value *let_ast_body_3403(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity let_ast_body_3404 = {FnArityType, -1, 1, (List *)0, 0, let_ast_body_3403};
Value *let_ast_get_3405(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity let_ast_get_3406 = {FnArityType, -1, 2, (List *)0, 0, let_ast_get_3405};
Value *let_ast_assoc_STAR__3407(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity let_ast_assoc_STAR__3408 = {FnArityType, -1, 5, (List *)0, 0, let_ast_assoc_STAR__3407};
Value *let_ast_file_name_3409(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *bindings_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&bindings_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "163", (Value *)rslt1, 3, destArgs5);

dec_and_free(body_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 169 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", bindings_2, "/Users/jim/toccata/ast.toc", 169);
return(rslt6);

};};
FnArity let_ast_file_name_3410 = {FnArityType, -1, 1, (List *)0, 0, let_ast_file_name_3409};
Value *let_ast_line_number_3411(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *bindings_2;
Value *body_3;
Value *tail_4;
Value **destArgs5[3] = {&bindings_2, &body_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "163", (Value *)rslt1, 3, destArgs5);

dec_and_free(body_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 170 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", bindings_2, "/Users/jim/toccata/ast.toc", 170);
return(rslt6);

};};
FnArity let_ast_line_number_3412 = {FnArityType, -1, 1, (List *)0, 0, let_ast_line_number_3411};
ReifiedVal reifiedStatic3413 = {91, -1, (Value *)0, 0, {}};
Value *reifiedPtr3414 = (Value *)&reifiedStatic3413;

// --------- set-val -------------
Value *set_val_3416;
Value *arityImpl3419(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 92 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = assoc_1033(empty_list, s_0, val1, val2);

// call-vector
// #line 92 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, nothing_7);
newVect4 = mutateVectConj(newVect4, rslt3);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 92 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6 = maybe_4(empty_list, rslt5);
return(rslt6);

};};
Value *set_val_3417(List *closures, Value *k_0, Value *v_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3419;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)v_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)k_0, (List *)dynArity2->closures);
Function *anon_3420 = malloc_function(1);
anon_3420->name = "anon";
anon_3420->arityCount = 1;
anon_3420->arities[0] = dynArity2;
Value *fn3418 = (Value *)anon_3420;

// call invoke
// #line 91 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3418);
return(rslt3);

};};
FnArity set_val_3421 = {FnArityType, -1, 2, (List *)0, 0, set_val_3417};
Function set_val_3422 = {FunctionType, -1, "set-val", 1, {&set_val_3421}};
Value *set_val_3416 = (Value *)&set_val_3422;


// --------- let-expr -------------
Value *let_expr_3424;
Value *let_expr_3425(List *closures, Value *bindings_0, Value *body_1) {
 while (1) {

// call invoke
// #line 173 "/Users/jim/toccata/ast.toc"
Value *rslt2 = let_ast_invoke_3385(empty_list, reifiedPtr3388, bindings_0, body_1);
return(rslt2);

};};
FnArity let_expr_3426 = {FnArityType, -1, 2, (List *)0, 0, let_expr_3425};
Function let_expr_3427 = {FunctionType, -1, "let-expr", 1, {&let_expr_3426}};
Value *let_expr_3424 = (Value *)&let_expr_3427;


// --------- one-or-more -------------
Value *one_or_more_3429;
Value *one_or_more_3430(List *closures, Value *rule_0) {
 while (1) {

// type-unknown string-terminal
// #line 55 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", rule_0, "/Users/jim/toccata/grammar.toc", 55);

// call invoke
// #line 55 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = repeat_rule_invoke_3347(empty_list, reifiedPtr3350, rslt1);

// call invoke
// #line 55 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt2);
return(rslt3);

};};
FnArity one_or_more_3431 = {FnArityType, -1, 1, (List *)0, 0, one_or_more_3430};
Function one_or_more_3432 = {FunctionType, -1, "one-or-more", 1, {&one_or_more_3431}};
Value *one_or_more_3429 = (Value *)&one_or_more_3432;

Value *type_val_3433_3434;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str159 = {StringType, -1, 11, 0, "ignore-rule"};
Value *strPtr159 = (Value *)&str159;
Value *arityImpl3436(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr152, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr159, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3437 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3436};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str160 = {StringType, -1, 25, 0, "*ignore-rule constructor*"};
Value *strPtr160 = (Value *)&str160;
Value *ignore_rule_const_type_name_3438(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr160);

};};
FnArity ignore_rule_const_type_name_3439 = {FnArityType, -1, 1, (List *)0, 0, ignore_rule_const_type_name_3438};
Value *ignore_rule_instance_QMARK__3440(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3433_3434, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ignore_rule_instance_QMARK__3441 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_instance_QMARK__3440};
Value *ignore_rule_invoke_3442(List *closures, Value *arg0, Value *rule_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rule_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3433_3434, rslt3);
return(rslt4);

};};
FnArity ignore_rule_invoke_3443 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_invoke_3442};
ReifiedVal reifiedStatic3444 = {92, -1, (Value *)0, 0, {}};
Value *reifiedPtr3445 = (Value *)&reifiedStatic3444;
Value *ignore_rule_EQ_STAR__3446(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ignore_rule_EQ_STAR__3447 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_EQ_STAR__3446};
Value *ignore_rule_type_name_3448(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr159);

};};
FnArity ignore_rule_type_name_3449 = {FnArityType, -1, 1, (List *)0, 0, ignore_rule_type_name_3448};
Value *ignore_rule_has_field_3450(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3336, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity ignore_rule_has_field_3451 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_has_field_3450};
Value *ignore_rule_rule_3452(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ignore_rule_rule_3453 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_rule_3452};
Value *ignore_rule_rule_3454(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ignore_rule_rule_3455 = {FnArityType, -1, 1, (List *)0, 0, ignore_rule_rule_3454};
Value *ignore_rule_get_3456(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ignore_rule_get_3457 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_get_3456};
Value *ignore_rule_map_3458(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *rule_3;
Value *tail_4;
Value **destArgs5[2] = {&rule_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "57", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 60 "/Users/jim/toccata/grammar.toc"
Value *rslt9;
if((f_1)->type != FunctionType) {
rslt9 = invoke_368(empty_list, f_1, rule_3);
} else {
FnArity *arity6 = findFnArity(f_1, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, rule_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(rule_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// call invoke
// #line 60 "/Users/jim/toccata/grammar.toc"
Value *rslt10 = ignore_rule_invoke_3442(empty_list, reifiedPtr3445, rslt9);
return(rslt10);

};};
FnArity ignore_rule_map_3459 = {FnArityType, -1, 2, (List *)0, 0, ignore_rule_map_3458};
Value *ignore_rule_assoc_STAR__3460(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ignore_rule_assoc_STAR__3461 = {FnArityType, -1, 5, (List *)0, 0, ignore_rule_assoc_STAR__3460};
ReifiedVal reifiedStatic3462 = {93, -1, (Value *)0, 0, {}};
Value *reifiedPtr3463 = (Value *)&reifiedStatic3462;

// --------- ignore -------------
Value *ignore_3465;
Value *ignore_3466(List *closures, Value *rule_0) {
 while (1) {

// type-unknown string-terminal
// #line 63 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", rule_0, "/Users/jim/toccata/grammar.toc", 63);

// call invoke
// #line 63 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = ignore_rule_invoke_3442(empty_list, reifiedPtr3445, rslt1);

// call invoke
// #line 63 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt2);
return(rslt3);

};};
FnArity ignore_3467 = {FnArityType, -1, 1, (List *)0, 0, ignore_3466};
Function ignore_3468 = {FunctionType, -1, "ignore", 1, {&ignore_3467}};
Value *ignore_3465 = (Value *)&ignore_3468;

Value *type_val_3469_3470;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str161 = {StringType, -1, 13, 0, "parser-always"};
Value *strPtr161 = (Value *)&str161;
Value *arityImpl3472(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr79, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr161, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3473 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3472};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str162 = {StringType, -1, 27, 0, "*parser-always constructor*"};
Value *strPtr162 = (Value *)&str162;
Value *parser_always_const_type_name_3474(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr162);

};};
FnArity parser_always_const_type_name_3475 = {FnArityType, -1, 1, (List *)0, 0, parser_always_const_type_name_3474};
Value *parser_always_instance_QMARK__3476(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3469_3470, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_always_instance_QMARK__3477 = {FnArityType, -1, 2, (List *)0, 0, parser_always_instance_QMARK__3476};
Value *parser_always_invoke_3478(List *closures, Value *arg0, Value *v_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, v_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3469_3470, rslt3);
return(rslt4);

};};
FnArity parser_always_invoke_3479 = {FnArityType, -1, 2, (List *)0, 0, parser_always_invoke_3478};
ReifiedVal reifiedStatic3480 = {94, -1, (Value *)0, 0, {}};
Value *reifiedPtr3481 = (Value *)&reifiedStatic3480;
Value *parser_always_EQ_STAR__3482(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_always_EQ_STAR__3483 = {FnArityType, -1, 2, (List *)0, 0, parser_always_EQ_STAR__3482};
Value *parser_always_type_name_3484(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr161);

};};
FnArity parser_always_type_name_3485 = {FnArityType, -1, 1, (List *)0, 0, parser_always_type_name_3484};
Value *parser_always_has_field_3486(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2264, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity parser_always_has_field_3487 = {FnArityType, -1, 2, (List *)0, 0, parser_always_has_field_3486};
Value *parser_always_v_3488(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_always_v_3489 = {FnArityType, -1, 2, (List *)0, 0, parser_always_v_3488};
Value *parser_always_v_3490(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_always_v_3491 = {FnArityType, -1, 1, (List *)0, 0, parser_always_v_3490};
Value *parser_always_get_3492(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_always_get_3493 = {FnArityType, -1, 2, (List *)0, 0, parser_always_get_3492};
Value *parser_always_assoc_STAR__3494(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_always_assoc_STAR__3495 = {FnArityType, -1, 5, (List *)0, 0, parser_always_assoc_STAR__3494};
ReifiedVal reifiedStatic3496 = {95, -1, (Value *)0, 0, {}};
Value *reifiedPtr3497 = (Value *)&reifiedStatic3496;
Value *type_val_3498_3499;
ProtoImpls protoImpls3502;
ProtoImpls protoImpls3504;
Value *dispatchFnPtr3500;
Value *protoImpl3501(List *closures, Value *arg);
Value *protoImpl3503(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str163 = {StringType, -1, 7, 0, "and-ast"};
Value *strPtr163 = (Value *)&str163;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str164 = {StringType, -1, 7, 0, "clauses"};
Value *strPtr164 = (Value *)&str164;
Value *arityImpl3505(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr164, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr163, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3506 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3505};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str165 = {StringType, -1, 21, 0, "*and-ast constructor*"};
Value *strPtr165 = (Value *)&str165;
Value *and_ast_const_type_name_3507(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr165);

};};
FnArity and_ast_const_type_name_3508 = {FnArityType, -1, 1, (List *)0, 0, and_ast_const_type_name_3507};
Value *and_ast_instance_QMARK__3509(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3498_3499, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity and_ast_instance_QMARK__3510 = {FnArityType, -1, 2, (List *)0, 0, and_ast_instance_QMARK__3509};
Value *and_ast_invoke_3511(List *closures, Value *arg0, Value *clauses_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, clauses_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3498_3499, rslt3);
return(rslt4);

};};
FnArity and_ast_invoke_3512 = {FnArityType, -1, 2, (List *)0, 0, and_ast_invoke_3511};
ReifiedVal reifiedStatic3513 = {96, -1, (Value *)0, 0, {}};
Value *reifiedPtr3514 = (Value *)&reifiedStatic3513;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str166 = {StringType, -1, 8, 0, "<AndAST "};
Value *strPtr166 = (Value *)&str166;
Value *and_ast_string_list_3515(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "176", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 179 "/Users/jim/toccata/ast.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr166, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown flat-map
// #line 180 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", clauses_2, string_list_393, "/Users/jim/toccata/ast.toc", 180);

// call-list
// #line 181 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 179 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 179 "/Users/jim/toccata/ast.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity and_ast_string_list_3516 = {FnArityType, -1, 1, (List *)0, 0, and_ast_string_list_3515};
Value *and_ast_EQ_STAR__3517(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity and_ast_EQ_STAR__3518 = {FnArityType, -1, 2, (List *)0, 0, and_ast_EQ_STAR__3517};
Value *and_ast_type_name_3519(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr163);

};};
FnArity and_ast_type_name_3520 = {FnArityType, -1, 1, (List *)0, 0, and_ast_type_name_3519};
Value *and_ast_has_field_3521(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity and_ast_has_field_3522 = {FnArityType, -1, 2, (List *)0, 0, and_ast_has_field_3521};
Value *and_ast_clauses_3523(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity and_ast_clauses_3524 = {FnArityType, -1, 2, (List *)0, 0, and_ast_clauses_3523};
Value *and_ast_clauses_3525(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity and_ast_clauses_3526 = {FnArityType, -1, 1, (List *)0, 0, and_ast_clauses_3525};
Value *and_ast_get_3527(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity and_ast_get_3528 = {FnArityType, -1, 2, (List *)0, 0, and_ast_get_3527};
Value *and_ast_assoc_STAR__3529(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity and_ast_assoc_STAR__3530 = {FnArityType, -1, 5, (List *)0, 0, and_ast_assoc_STAR__3529};
Value *and_ast_file_name_3531(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "176", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown first
// #line 184 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&first_Implementations_320, "<nothing>/first", clauses_2, "/Users/jim/toccata/ast.toc", 184);

// type-unknown map
// #line 184 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt5, file_name_1808, "/Users/jim/toccata/ast.toc", 184);

// type-unknown extract
// #line 184 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 184);
return(rslt7);

};};
FnArity and_ast_file_name_3532 = {FnArityType, -1, 1, (List *)0, 0, and_ast_file_name_3531};
Value *and_ast_line_number_3533(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "176", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown first
// #line 185 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&first_Implementations_320, "<nothing>/first", clauses_2, "/Users/jim/toccata/ast.toc", 185);

// type-unknown map
// #line 185 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt5, line_number_1813, "/Users/jim/toccata/ast.toc", 185);

// type-unknown extract
// #line 185 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 185);
return(rslt7);

};};
FnArity and_ast_line_number_3534 = {FnArityType, -1, 1, (List *)0, 0, and_ast_line_number_3533};
ReifiedVal reifiedStatic3535 = {97, -1, (Value *)0, 0, {}};
Value *reifiedPtr3536 = (Value *)&reifiedStatic3535;

// --------- always -------------
Value *always_3538;
Value *always_3539(List *closures, Value *v_0) {
 while (1) {

// call invoke
// #line 68 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = parser_always_invoke_3478(empty_list, reifiedPtr3481, v_0);

// call invoke
// #line 68 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity always_3540 = {FnArityType, -1, 1, (List *)0, 0, always_3539};
Function always_3541 = {FunctionType, -1, "always", 1, {&always_3540}};
Value *always_3538 = (Value *)&always_3541;


// --------- and-expr -------------
Value *and_expr_3543;
Value *and_expr_3544(List *closures, Value *clauses_0) {
 while (1) {

// call invoke
// #line 188 "/Users/jim/toccata/ast.toc"
Value *rslt1 = and_ast_invoke_3511(empty_list, reifiedPtr3514, clauses_0);
return(rslt1);

};};
FnArity and_expr_3545 = {FnArityType, -1, 1, (List *)0, 0, and_expr_3544};
Function and_expr_3546 = {FunctionType, -1, "and-expr", 1, {&and_expr_3545}};
Value *and_expr_3543 = (Value *)&and_expr_3546;


// --------- get-in-val -------------
Value *get_in_val_3548;
Value *arityImpl3551(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 97 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = get_in_1261(empty_list, s_0, val1);
Value *x_3 = rslt2;

incRef(x_3, 1);
Value *andRslt4;
andRslt4 = x_3;
if (isNothing(andRslt4)) {
dec_and_free(x_3, 1);
dec_and_free(s_0, 1);
return(nothing);
} else {
dec_and_free(andRslt4, 1);

// type-known for extract
// #line 98 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = Maybe_extract_757(empty_list, x_3);
Value *v_6 = rslt5;

// call-vector
// #line 99 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, v_6);
newVect7 = mutateVectConj(newVect7, s_0);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 99 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = maybe_4(empty_list, rslt8);
return(rslt9);
andRslt4 = rslt9;
}

};};
Value *get_in_val_3549(List *closures, Value *path_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl3551;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)path_0, (List *)dynArity1->closures);
Function *anon_3552 = malloc_function(1);
anon_3552->name = "anon";
anon_3552->arityCount = 1;
anon_3552->arities[0] = dynArity1;
Value *fn3550 = (Value *)anon_3552;

// call invoke
// #line 96 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3550);
return(rslt2);

};};
FnArity get_in_val_3553 = {FnArityType, -1, 1, (List *)0, 0, get_in_val_3549};
Value *arityImpl3556(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 2);
Value *val2;
Value *val11;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[3] = {&val2, &val11, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs15);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// static-fixed
// #line 102 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = get_in_1261(empty_list, s_0, val2);
Value *x_4 = rslt3;

incRef(x_4, 1);
Value *andRslt5;
andRslt5 = x_4;
if (isNothing(andRslt5)) {
dec_and_free(s_0, 1);
dec_and_free(x_4, 1);
} else {
dec_and_free(andRslt5, 1);

// type-known for extract
// #line 103 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6 = Maybe_extract_757(empty_list, x_4);
Value *v_7 = rslt6;

// call-vector
// #line 104 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, v_7);
newVect8 = mutateVectConj(newVect8, s_0);
Value *rslt9 = (Value *)newVect8;

// static-fixed
// #line 104 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = maybe_4(empty_list, rslt9);
andRslt5 = rslt10;
}
orRslt1 = andRslt5;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val11, 1);
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// call-vector
// #line 105 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, val11);
newVect12 = mutateVectConj(newVect12, s_0);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 105 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = maybe_4(empty_list, rslt13);
return(rslt14);
orRslt1 = rslt14;
}

};};
Value *get_in_val_3554(List *closures, Value *path_0, Value *nf_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3556;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)nf_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)path_0, (List *)dynArity2->closures);
Function *anon_3557 = malloc_function(1);
anon_3557->name = "anon";
anon_3557->arityCount = 1;
anon_3557->arities[0] = dynArity2;
Value *fn3555 = (Value *)anon_3557;

// call invoke
// #line 101 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3555);
return(rslt3);

};};
FnArity get_in_val_3558 = {FnArityType, -1, 2, (List *)0, 0, get_in_val_3554};
Function get_in_val_3559 = {FunctionType, -1, "get-in-val", 2, {&get_in_val_3553, &get_in_val_3558}};
Value *get_in_val_3548 = (Value *)&get_in_val_3559;

Value *type_val_3560_3561;
ProtoImpls protoImpls3564;
ProtoImpls protoImpls3566;
Value *dispatchFnPtr3562;
Value *protoImpl3563(List *closures, Value *arg);
Value *protoImpl3565(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str167 = {StringType, -1, 3, 0, "Cat"};
Value *strPtr167 = (Value *)&str167;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str168 = {StringType, -1, 5, 0, "rules"};
Value *strPtr168 = (Value *)&str168;
Value *arityImpl3567(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr168, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr167, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3568 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3567};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str169 = {StringType, -1, 17, 0, "*Cat constructor*"};
Value *strPtr169 = (Value *)&str169;
Value *Cat_const_type_name_3569(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr169);

};};
FnArity Cat_const_type_name_3570 = {FnArityType, -1, 1, (List *)0, 0, Cat_const_type_name_3569};
Value *Cat_instance_QMARK__3571(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3560_3561, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity Cat_instance_QMARK__3572 = {FnArityType, -1, 2, (List *)0, 0, Cat_instance_QMARK__3571};
Value *Cat_invoke_3573(List *closures, Value *arg0, Value *rules_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rules_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3560_3561, rslt3);
return(rslt4);

};};
FnArity Cat_invoke_3574 = {FnArityType, -1, 2, (List *)0, 0, Cat_invoke_3573};
ReifiedVal reifiedStatic3575 = {98, -1, (Value *)0, 0, {}};
Value *reifiedPtr3576 = (Value *)&reifiedStatic3575;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str170 = {StringType, -1, 14, 0, "<ParserConcat "};
Value *strPtr170 = (Value *)&str170;
Value *Cat_string_list_3577(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *rules_2;
Value *tail_3;
Value **destArgs4[2] = {&rules_2, &tail_3};
destructValue("/Users/jim/toccata/grammar.toc", "70", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 72 "/Users/jim/toccata/grammar.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr170, newList5);
Value *rslt6 = (Value *)newList5;

// static-fixed
// #line 73 "/Users/jim/toccata/grammar.toc"
Value *rslt7 = interpose_503(empty_list, rules_2, strPtr17);

// type-unknown flat-map
// #line 73 "/Users/jim/toccata/grammar.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt7, string_list_393, "/Users/jim/toccata/grammar.toc", 73);

// call-list
// #line 74 "/Users/jim/toccata/grammar.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr2, newList9);
Value *rslt10 = (Value *)newList9;

// call-list
// #line 72 "/Users/jim/toccata/grammar.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
newList11 = listCons((Value *)rslt8, newList11);
Value *rslt12 = (Value *)newList11;

// type-known for comp*
// #line 72 "/Users/jim/toccata/grammar.toc"
Value *rslt13 = List_comp_STAR__825(empty_list, rslt6, rslt12);
return(rslt13);

};};
FnArity Cat_string_list_3578 = {FnArityType, -1, 1, (List *)0, 0, Cat_string_list_3577};
Value *Cat_EQ_STAR__3579(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Cat_EQ_STAR__3580 = {FnArityType, -1, 2, (List *)0, 0, Cat_EQ_STAR__3579};
Value *Cat_type_name_3581(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr167);

};};
FnArity Cat_type_name_3582 = {FnArityType, -1, 1, (List *)0, 0, Cat_type_name_3581};
Value *Cat_has_field_3583(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3562, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity Cat_has_field_3584 = {FnArityType, -1, 2, (List *)0, 0, Cat_has_field_3583};
Value *Cat_rules_3585(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Cat_rules_3586 = {FnArityType, -1, 2, (List *)0, 0, Cat_rules_3585};
Value *Cat_rules_3587(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Cat_rules_3588 = {FnArityType, -1, 1, (List *)0, 0, Cat_rules_3587};
Value *Cat_get_3589(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Cat_get_3590 = {FnArityType, -1, 2, (List *)0, 0, Cat_get_3589};
Value *Cat_map_3591(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *rules_3;
Value *tail_4;
Value **destArgs5[2] = {&rules_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "70", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown map
// #line 78 "/Users/jim/toccata/grammar.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rules_3, f_1, "/Users/jim/toccata/grammar.toc", 78);

// call invoke
// #line 78 "/Users/jim/toccata/grammar.toc"
Value *rslt7 = Cat_invoke_3573(empty_list, reifiedPtr3576, rslt6);
return(rslt7);

};};
FnArity Cat_map_3592 = {FnArityType, -1, 2, (List *)0, 0, Cat_map_3591};
Value *Cat_assoc_STAR__3593(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity Cat_assoc_STAR__3594 = {FnArityType, -1, 5, (List *)0, 0, Cat_assoc_STAR__3593};
ReifiedVal reifiedStatic3595 = {99, -1, (Value *)0, 0, {}};
Value *reifiedPtr3596 = (Value *)&reifiedStatic3595;

// --------- assoc-in-val -------------
Value *assoc_in_val_3598;
Value *arityImpl3601(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 109 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = assoc_in_1312(empty_list, s_0, val2, val1);

// call-vector
// #line 109 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, val1);
newVect4 = mutateVectConj(newVect4, rslt3);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 109 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6 = maybe_4(empty_list, rslt5);
return(rslt6);

};};
Value *assoc_in_val_3599(List *closures, Value *path_0, Value *v_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3601;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)path_0, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)v_1, (List *)dynArity2->closures);
Function *anon_3602 = malloc_function(1);
anon_3602->name = "anon";
anon_3602->arityCount = 1;
anon_3602->arities[0] = dynArity2;
Value *fn3600 = (Value *)anon_3602;

// call invoke
// #line 108 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3600);
return(rslt3);

};};
FnArity assoc_in_val_3603 = {FnArityType, -1, 2, (List *)0, 0, assoc_in_val_3599};
Function assoc_in_val_3604 = {FunctionType, -1, "assoc-in-val", 1, {&assoc_in_val_3603}};
Value *assoc_in_val_3598 = (Value *)&assoc_in_val_3604;


// --------- all -------------
Value *all_3606;
Value *all_3607(List *closures, Value *arg1) {
 while (1) {
Value *rules_0 = (Value *)arg1;
Value *l_2 = rules_0;

// static-fixed
// #line 1051 "core"
Value *rslt3 = list_map_73(empty_list, l_2, string_terminal_3307);

// call invoke
// #line 81 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = Cat_invoke_3573(empty_list, reifiedPtr3576, rslt3);

// call invoke
// #line 81 "/Users/jim/toccata/grammar.toc"
Value *rslt5 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt4);
return(rslt5);

};};
FnArity all_3608 = {FnArityType, -1, 1, (List *)0, 1, all_3607};
Function all_3609 = {FunctionType, -1, "all", 1, {&all_3608}};
Value *all_3606 = (Value *)&all_3609;

Value *type_val_3610_3611;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str171 = {StringType, -1, 6, 0, "or-ast"};
Value *strPtr171 = (Value *)&str171;
Value *arityImpl3613(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr164, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr171, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3614 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3613};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str172 = {StringType, -1, 20, 0, "*or-ast constructor*"};
Value *strPtr172 = (Value *)&str172;
Value *or_ast_const_type_name_3615(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr172);

};};
FnArity or_ast_const_type_name_3616 = {FnArityType, -1, 1, (List *)0, 0, or_ast_const_type_name_3615};
Value *or_ast_instance_QMARK__3617(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3610_3611, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity or_ast_instance_QMARK__3618 = {FnArityType, -1, 2, (List *)0, 0, or_ast_instance_QMARK__3617};
Value *or_ast_invoke_3619(List *closures, Value *arg0, Value *clauses_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, clauses_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3610_3611, rslt3);
return(rslt4);

};};
FnArity or_ast_invoke_3620 = {FnArityType, -1, 2, (List *)0, 0, or_ast_invoke_3619};
ReifiedVal reifiedStatic3621 = {100, -1, (Value *)0, 0, {}};
Value *reifiedPtr3622 = (Value *)&reifiedStatic3621;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str173 = {StringType, -1, 7, 0, "<OrAST "};
Value *strPtr173 = (Value *)&str173;
Value *or_ast_string_list_3623(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "191", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 194 "/Users/jim/toccata/ast.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr173, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown flat-map
// #line 195 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", clauses_2, string_list_393, "/Users/jim/toccata/ast.toc", 195);

// call-list
// #line 196 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 194 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 194 "/Users/jim/toccata/ast.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity or_ast_string_list_3624 = {FnArityType, -1, 1, (List *)0, 0, or_ast_string_list_3623};
Value *or_ast_EQ_STAR__3625(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity or_ast_EQ_STAR__3626 = {FnArityType, -1, 2, (List *)0, 0, or_ast_EQ_STAR__3625};
Value *or_ast_type_name_3627(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr171);

};};
FnArity or_ast_type_name_3628 = {FnArityType, -1, 1, (List *)0, 0, or_ast_type_name_3627};
Value *or_ast_has_field_3629(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity or_ast_has_field_3630 = {FnArityType, -1, 2, (List *)0, 0, or_ast_has_field_3629};
Value *or_ast_clauses_3631(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity or_ast_clauses_3632 = {FnArityType, -1, 2, (List *)0, 0, or_ast_clauses_3631};
Value *or_ast_clauses_3633(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity or_ast_clauses_3634 = {FnArityType, -1, 1, (List *)0, 0, or_ast_clauses_3633};
Value *or_ast_get_3635(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity or_ast_get_3636 = {FnArityType, -1, 2, (List *)0, 0, or_ast_get_3635};
Value *or_ast_assoc_STAR__3637(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity or_ast_assoc_STAR__3638 = {FnArityType, -1, 5, (List *)0, 0, or_ast_assoc_STAR__3637};
Value *or_ast_file_name_3639(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "191", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown first
// #line 199 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&first_Implementations_320, "<nothing>/first", clauses_2, "/Users/jim/toccata/ast.toc", 199);

// type-unknown map
// #line 199 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt5, file_name_1808, "/Users/jim/toccata/ast.toc", 199);

// type-unknown extract
// #line 199 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 199);
return(rslt7);

};};
FnArity or_ast_file_name_3640 = {FnArityType, -1, 1, (List *)0, 0, or_ast_file_name_3639};
Value *or_ast_line_number_3641(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "191", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown first
// #line 200 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&first_Implementations_320, "<nothing>/first", clauses_2, "/Users/jim/toccata/ast.toc", 200);

// type-unknown map
// #line 200 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt5, line_number_1813, "/Users/jim/toccata/ast.toc", 200);

// type-unknown extract
// #line 200 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 200);
return(rslt7);

};};
FnArity or_ast_line_number_3642 = {FnArityType, -1, 1, (List *)0, 0, or_ast_line_number_3641};
ReifiedVal reifiedStatic3643 = {101, -1, (Value *)0, 0, {}};
Value *reifiedPtr3644 = (Value *)&reifiedStatic3643;

// --------- or-expr -------------
Value *or_expr_3646;
Value *or_expr_3647(List *closures, Value *clauses_0) {
 while (1) {

// call invoke
// #line 203 "/Users/jim/toccata/ast.toc"
Value *rslt1 = or_ast_invoke_3619(empty_list, reifiedPtr3622, clauses_0);
return(rslt1);

};};
FnArity or_expr_3648 = {FnArityType, -1, 1, (List *)0, 0, or_expr_3647};
Function or_expr_3649 = {FunctionType, -1, "or-expr", 1, {&or_expr_3648}};
Value *or_expr_3646 = (Value *)&or_expr_3649;

Value *type_val_3650_3651;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str174 = {StringType, -1, 5, 0, "Union"};
Value *strPtr174 = (Value *)&str174;
Value *arityImpl3653(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr168, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr174, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3654 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3653};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[20];
} str175 = {StringType, -1, 19, 0, "*Union constructor*"};
Value *strPtr175 = (Value *)&str175;
Value *Union_const_type_name_3655(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr175);

};};
FnArity Union_const_type_name_3656 = {FnArityType, -1, 1, (List *)0, 0, Union_const_type_name_3655};
Value *Union_instance_QMARK__3657(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3650_3651, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity Union_instance_QMARK__3658 = {FnArityType, -1, 2, (List *)0, 0, Union_instance_QMARK__3657};
Value *Union_invoke_3659(List *closures, Value *arg0, Value *rules_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rules_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3650_3651, rslt3);
return(rslt4);

};};
FnArity Union_invoke_3660 = {FnArityType, -1, 2, (List *)0, 0, Union_invoke_3659};
ReifiedVal reifiedStatic3661 = {102, -1, (Value *)0, 0, {}};
Value *reifiedPtr3662 = (Value *)&reifiedStatic3661;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str176 = {StringType, -1, 13, 0, "<ParserUnion "};
Value *strPtr176 = (Value *)&str176;
Value *Union_string_list_3663(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *rules_2;
Value *tail_3;
Value **destArgs4[2] = {&rules_2, &tail_3};
destructValue("/Users/jim/toccata/grammar.toc", "83", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 85 "/Users/jim/toccata/grammar.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr176, newList5);
Value *rslt6 = (Value *)newList5;

// static-fixed
// #line 86 "/Users/jim/toccata/grammar.toc"
Value *rslt7 = interpose_503(empty_list, rules_2, strPtr17);

// type-unknown flat-map
// #line 86 "/Users/jim/toccata/grammar.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt7, string_list_393, "/Users/jim/toccata/grammar.toc", 86);

// call-list
// #line 87 "/Users/jim/toccata/grammar.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr2, newList9);
Value *rslt10 = (Value *)newList9;

// call-list
// #line 85 "/Users/jim/toccata/grammar.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
newList11 = listCons((Value *)rslt8, newList11);
Value *rslt12 = (Value *)newList11;

// type-known for comp*
// #line 85 "/Users/jim/toccata/grammar.toc"
Value *rslt13 = List_comp_STAR__825(empty_list, rslt6, rslt12);
return(rslt13);

};};
FnArity Union_string_list_3664 = {FnArityType, -1, 1, (List *)0, 0, Union_string_list_3663};
Value *Union_EQ_STAR__3665(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Union_EQ_STAR__3666 = {FnArityType, -1, 2, (List *)0, 0, Union_EQ_STAR__3665};
Value *Union_type_name_3667(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr174);

};};
FnArity Union_type_name_3668 = {FnArityType, -1, 1, (List *)0, 0, Union_type_name_3667};
Value *Union_has_field_3669(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3562, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity Union_has_field_3670 = {FnArityType, -1, 2, (List *)0, 0, Union_has_field_3669};
Value *Union_rules_3671(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Union_rules_3672 = {FnArityType, -1, 2, (List *)0, 0, Union_rules_3671};
Value *Union_rules_3673(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Union_rules_3674 = {FnArityType, -1, 1, (List *)0, 0, Union_rules_3673};
Value *Union_get_3675(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Union_get_3676 = {FnArityType, -1, 2, (List *)0, 0, Union_get_3675};
Value *Union_map_3677(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *rules_3;
Value *tail_4;
Value **destArgs5[2] = {&rules_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "83", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown map
// #line 91 "/Users/jim/toccata/grammar.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rules_3, f_1, "/Users/jim/toccata/grammar.toc", 91);

// call invoke
// #line 91 "/Users/jim/toccata/grammar.toc"
Value *rslt7 = Union_invoke_3659(empty_list, reifiedPtr3662, rslt6);
return(rslt7);

};};
FnArity Union_map_3678 = {FnArityType, -1, 2, (List *)0, 0, Union_map_3677};
Value *Union_assoc_STAR__3679(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity Union_assoc_STAR__3680 = {FnArityType, -1, 5, (List *)0, 0, Union_assoc_STAR__3679};
ReifiedVal reifiedStatic3681 = {103, -1, (Value *)0, 0, {}};
Value *reifiedPtr3682 = (Value *)&reifiedStatic3681;

// --------- update-val -------------
Value *update_val_3684;
Value *arityImpl3687(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs18[3] = {&val1, &val9, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs18);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown get
// #line 113 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = proto2Arg(&get_Implementations_362, "<nothing>/get", s_0, val1, "/Users/jim/toccata/state-maybe.toc", 113);
Value *x_3 = rslt2;

incRef(x_3, 1);
Value *andRslt4;
andRslt4 = x_3;
if (isNothing(andRslt4)) {
dec_and_free(x_3, 1);
dec_and_free(s_0, 1);
dec_and_free(val9, 1);
dec_and_free(val1, 1);
return(nothing);
} else {
dec_and_free(andRslt4, 1);

// type-unknown extract
// #line 114 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_3, "/Users/jim/toccata/state-maybe.toc", 114);
Value *old_v_6 = rslt5;

// call-vector
// #line 115 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, val1);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 115 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = update_in_1266(empty_list, s_0, rslt8, val9);
Value *y_11 = rslt10;

incRef(y_11, 1);
Value *andRslt12;
andRslt12 = y_11;
if (isNothing(andRslt12)) {
dec_and_free(old_v_6, 1);
dec_and_free(y_11, 1);
return(nothing);
} else {
dec_and_free(andRslt12, 1);

// type-known for extract
// #line 116 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = Maybe_extract_757(empty_list, y_11);
Value *new_s_14 = rslt13;

// call-vector
// #line 117 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, old_v_6);
newVect15 = mutateVectConj(newVect15, new_s_14);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 117 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17 = maybe_4(empty_list, rslt16);
return(rslt17);
andRslt12 = rslt17;
}
andRslt4 = andRslt12;
}

};};
Value *update_val_3685(List *closures, Value *key_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3687;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)key_0, (List *)dynArity2->closures);
Function *anon_3688 = malloc_function(1);
anon_3688->name = "anon";
anon_3688->arityCount = 1;
anon_3688->arities[0] = dynArity2;
Value *fn3686 = (Value *)anon_3688;

// call invoke
// #line 112 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3686);
return(rslt3);

};};
FnArity update_val_3689 = {FnArityType, -1, 2, (List *)0, 0, update_val_3685};
Function update_val_3690 = {FunctionType, -1, "update-val", 1, {&update_val_3689}};
Value *update_val_3684 = (Value *)&update_val_3690;


// --------- any -------------
Value *any_3692;
Value *any_3693(List *closures, Value *arg1) {
 while (1) {
Value *rules_0 = (Value *)arg1;
Value *l_2 = rules_0;

// static-fixed
// #line 1051 "core"
Value *rslt3 = list_map_73(empty_list, l_2, string_terminal_3307);

// call invoke
// #line 94 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = Union_invoke_3659(empty_list, reifiedPtr3662, rslt3);

// call invoke
// #line 94 "/Users/jim/toccata/grammar.toc"
Value *rslt5 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt4);
return(rslt5);

};};
FnArity any_3694 = {FnArityType, -1, 1, (List *)0, 1, any_3693};
Function any_3695 = {FunctionType, -1, "any", 1, {&any_3694}};
Value *any_3692 = (Value *)&any_3695;

Value *type_val_3696_3697;
ProtoImpls protoImpls3701;
ProtoImpls protoImpls3703;
Value *dispatchFnPtr3699;
Value *protoImpl3700(List *closures, Value *arg);
Value *protoImpl3702(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls3705;
ProtoImpls protoImpls3707;
Value *dispatchFnPtr3698;
Value *protoImpl3704(List *closures, Value *arg);
Value *protoImpl3706(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str177 = {StringType, -1, 10, 0, "either-ast"};
Value *strPtr177 = (Value *)&str177;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str178 = {StringType, -1, 11, 0, "clause, alt"};
Value *strPtr178 = (Value *)&str178;
Value *arityImpl3708(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr178, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr177, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3709 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3708};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str179 = {StringType, -1, 24, 0, "*either-ast constructor*"};
Value *strPtr179 = (Value *)&str179;
Value *either_ast_const_type_name_3710(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr179);

};};
FnArity either_ast_const_type_name_3711 = {FnArityType, -1, 1, (List *)0, 0, either_ast_const_type_name_3710};
Value *either_ast_instance_QMARK__3712(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3696_3697, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity either_ast_instance_QMARK__3713 = {FnArityType, -1, 2, (List *)0, 0, either_ast_instance_QMARK__3712};
Value *either_ast_invoke_3714(List *closures, Value *arg0, Value *clause_1, Value *alt_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, clause_1);
newVect3 = mutateVectConj(newVect3, alt_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3696_3697, rslt4);
return(rslt5);

};};
FnArity either_ast_invoke_3715 = {FnArityType, -1, 3, (List *)0, 0, either_ast_invoke_3714};
ReifiedVal reifiedStatic3716 = {104, -1, (Value *)0, 0, {}};
Value *reifiedPtr3717 = (Value *)&reifiedStatic3716;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str180 = {StringType, -1, 11, 0, "<EitherAST "};
Value *strPtr180 = (Value *)&str180;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str181 = {StringType, -1, 1, 0, ","};
Value *strPtr181 = (Value *)&str181;
Value *either_ast_string_list_3718(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clause_2;
Value *alt_3;
Value *tail_4;
Value **destArgs5[3] = {&clause_2, &alt_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "206", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// call-list
// #line 209 "/Users/jim/toccata/ast.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr180, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 210 "/Users/jim/toccata/ast.toc"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", clause_2, "/Users/jim/toccata/ast.toc", 210);

// call-list
// #line 211 "/Users/jim/toccata/ast.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr181, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown string-list
// #line 212 "/Users/jim/toccata/ast.toc"
Value *rslt11 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", alt_3, "/Users/jim/toccata/ast.toc", 212);

// call-list
// #line 213 "/Users/jim/toccata/ast.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 209 "/Users/jim/toccata/ast.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
newList14 = listCons((Value *)rslt10, newList14);
newList14 = listCons((Value *)rslt8, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 209 "/Users/jim/toccata/ast.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt7, rslt15);
return(rslt16);

};};
FnArity either_ast_string_list_3719 = {FnArityType, -1, 1, (List *)0, 0, either_ast_string_list_3718};
Value *either_ast_EQ_STAR__3720(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity either_ast_EQ_STAR__3721 = {FnArityType, -1, 2, (List *)0, 0, either_ast_EQ_STAR__3720};
Value *either_ast_type_name_3722(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr177);

};};
FnArity either_ast_type_name_3723 = {FnArityType, -1, 1, (List *)0, 0, either_ast_type_name_3722};
Value *either_ast_has_field_3724(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3699, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3698, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity either_ast_has_field_3725 = {FnArityType, -1, 2, (List *)0, 0, either_ast_has_field_3724};
Value *either_ast_clause_3726(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity either_ast_clause_3727 = {FnArityType, -1, 2, (List *)0, 0, either_ast_clause_3726};
Value *either_ast_clause_3728(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity either_ast_clause_3729 = {FnArityType, -1, 1, (List *)0, 0, either_ast_clause_3728};
Value *either_ast_alt_3730(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity either_ast_alt_3731 = {FnArityType, -1, 2, (List *)0, 0, either_ast_alt_3730};
Value *either_ast_alt_3732(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity either_ast_alt_3733 = {FnArityType, -1, 1, (List *)0, 0, either_ast_alt_3732};
Value *either_ast_get_3734(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity either_ast_get_3735 = {FnArityType, -1, 2, (List *)0, 0, either_ast_get_3734};
Value *either_ast_assoc_STAR__3736(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity either_ast_assoc_STAR__3737 = {FnArityType, -1, 5, (List *)0, 0, either_ast_assoc_STAR__3736};
Value *either_ast_file_name_3738(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clause_2;
Value *alt_3;
Value *tail_4;
Value **destArgs5[3] = {&clause_2, &alt_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "206", (Value *)rslt1, 3, destArgs5);

dec_and_free(alt_3, 1);

dec_and_free(tail_4, 1);

// type-unknown map
// #line 216 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", clause_2, file_name_1808, "/Users/jim/toccata/ast.toc", 216);

// type-unknown extract
// #line 216 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 216);
return(rslt7);

};};
FnArity either_ast_file_name_3739 = {FnArityType, -1, 1, (List *)0, 0, either_ast_file_name_3738};
Value *either_ast_line_number_3740(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *clause_2;
Value *alt_3;
Value *tail_4;
Value **destArgs5[3] = {&clause_2, &alt_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "206", (Value *)rslt1, 3, destArgs5);

dec_and_free(alt_3, 1);

dec_and_free(tail_4, 1);

// type-unknown map
// #line 217 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", clause_2, line_number_1813, "/Users/jim/toccata/ast.toc", 217);

// type-unknown extract
// #line 217 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt6, "/Users/jim/toccata/ast.toc", 217);
return(rslt7);

};};
FnArity either_ast_line_number_3741 = {FnArityType, -1, 1, (List *)0, 0, either_ast_line_number_3740};
ReifiedVal reifiedStatic3742 = {105, -1, (Value *)0, 0, {}};
Value *reifiedPtr3743 = (Value *)&reifiedStatic3742;
Value *type_val_3744_3745;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str182 = {StringType, -1, 17, 0, "none-or-more-rule"};
Value *strPtr182 = (Value *)&str182;
Value *arityImpl3747(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr152, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr182, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3748 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3747};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str183 = {StringType, -1, 31, 0, "*none-or-more-rule constructor*"};
Value *strPtr183 = (Value *)&str183;
Value *none_or_more_rule_const_type_name_3749(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr183);

};};
FnArity none_or_more_rule_const_type_name_3750 = {FnArityType, -1, 1, (List *)0, 0, none_or_more_rule_const_type_name_3749};
Value *none_or_more_rule_instance_QMARK__3751(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3744_3745, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity none_or_more_rule_instance_QMARK__3752 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_instance_QMARK__3751};
Value *none_or_more_rule_invoke_3753(List *closures, Value *arg0, Value *rule_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rule_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3744_3745, rslt3);
return(rslt4);

};};
FnArity none_or_more_rule_invoke_3754 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_invoke_3753};
ReifiedVal reifiedStatic3755 = {106, -1, (Value *)0, 0, {}};
Value *reifiedPtr3756 = (Value *)&reifiedStatic3755;
Value *none_or_more_rule_EQ_STAR__3757(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity none_or_more_rule_EQ_STAR__3758 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_EQ_STAR__3757};
Value *none_or_more_rule_type_name_3759(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr182);

};};
FnArity none_or_more_rule_type_name_3760 = {FnArityType, -1, 1, (List *)0, 0, none_or_more_rule_type_name_3759};
Value *none_or_more_rule_has_field_3761(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3336, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity none_or_more_rule_has_field_3762 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_has_field_3761};
Value *none_or_more_rule_rule_3763(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity none_or_more_rule_rule_3764 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_rule_3763};
Value *none_or_more_rule_rule_3765(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity none_or_more_rule_rule_3766 = {FnArityType, -1, 1, (List *)0, 0, none_or_more_rule_rule_3765};
Value *none_or_more_rule_get_3767(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity none_or_more_rule_get_3768 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_get_3767};
Value *none_or_more_rule_map_3769(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *rule_3;
Value *tail_4;
Value **destArgs5[2] = {&rule_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "96", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// dynamic unknown type
// #line 99 "/Users/jim/toccata/grammar.toc"
Value *rslt9;
if((f_1)->type != FunctionType) {
rslt9 = invoke_368(empty_list, f_1, rule_3);
} else {
FnArity *arity6 = findFnArity(f_1, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, rule_3);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(rule_3, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// call invoke
// #line 99 "/Users/jim/toccata/grammar.toc"
Value *rslt10 = none_or_more_rule_invoke_3753(empty_list, reifiedPtr3756, rslt9);
return(rslt10);

};};
FnArity none_or_more_rule_map_3770 = {FnArityType, -1, 2, (List *)0, 0, none_or_more_rule_map_3769};
Value *none_or_more_rule_assoc_STAR__3771(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity none_or_more_rule_assoc_STAR__3772 = {FnArityType, -1, 5, (List *)0, 0, none_or_more_rule_assoc_STAR__3771};
ReifiedVal reifiedStatic3773 = {107, -1, (Value *)0, 0, {}};
Value *reifiedPtr3774 = (Value *)&reifiedStatic3773;

// --------- either-expr -------------
Value *either_expr_3776;
Value *either_expr_3777(List *closures, Value *clause_0, Value *alt_1) {
 while (1) {

// call invoke
// #line 220 "/Users/jim/toccata/ast.toc"
Value *rslt2 = either_ast_invoke_3714(empty_list, reifiedPtr3717, clause_0, alt_1);
return(rslt2);

};};
FnArity either_expr_3778 = {FnArityType, -1, 2, (List *)0, 0, either_expr_3777};
Function either_expr_3779 = {FunctionType, -1, "either-expr", 1, {&either_expr_3778}};
Value *either_expr_3776 = (Value *)&either_expr_3779;


// --------- update-in-val -------------
Value *update_in_val_3781;
Value *arityImpl3784(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[3] = {&val1, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs16);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 121 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = get_in_1261(empty_list, s_0, val1);
Value *x_3 = rslt2;

incRef(x_3, 1);
Value *andRslt4;
andRslt4 = x_3;
if (isNothing(andRslt4)) {
dec_and_free(val7, 1);
dec_and_free(x_3, 1);
dec_and_free(s_0, 1);
dec_and_free(val1, 1);
return(nothing);
} else {
dec_and_free(andRslt4, 1);

// type-known for extract
// #line 122 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5 = Maybe_extract_757(empty_list, x_3);
Value *old_v_6 = rslt5;

// static-fixed
// #line 123 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = update_in_1266(empty_list, s_0, val1, val7);
Value *y_9 = rslt8;

incRef(y_9, 1);
Value *andRslt10;
andRslt10 = y_9;
if (isNothing(andRslt10)) {
dec_and_free(old_v_6, 1);
dec_and_free(y_9, 1);
return(nothing);
} else {
dec_and_free(andRslt10, 1);

// type-known for extract
// #line 124 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = Maybe_extract_757(empty_list, y_9);
Value *new_s_12 = rslt11;

// call-vector
// #line 125 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, old_v_6);
newVect13 = mutateVectConj(newVect13, new_s_12);
Value *rslt14 = (Value *)newVect13;

// static-fixed
// #line 125 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = maybe_4(empty_list, rslt14);
return(rslt15);
andRslt10 = rslt15;
}
andRslt4 = andRslt10;
}

};};
Value *update_in_val_3782(List *closures, Value *path_0, Value *f_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl3784;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)f_1, (List *)dynArity2->closures);
dynArity2->closures = listCons((Value *)path_0, (List *)dynArity2->closures);
Function *anon_3785 = malloc_function(1);
anon_3785->name = "anon";
anon_3785->arityCount = 1;
anon_3785->arities[0] = dynArity2;
Value *fn3783 = (Value *)anon_3785;

// call invoke
// #line 120 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn3783);
return(rslt3);

};};
FnArity update_in_val_3786 = {FnArityType, -1, 2, (List *)0, 0, update_in_val_3782};
Function update_in_val_3787 = {FunctionType, -1, "update-in-val", 1, {&update_in_val_3786}};
Value *update_in_val_3781 = (Value *)&update_in_val_3787;


// --------- none-or-more -------------
Value *none_or_more_3789;
Value *none_or_more_3790(List *closures, Value *rule_0) {
 while (1) {

// type-unknown string-terminal
// #line 102 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", rule_0, "/Users/jim/toccata/grammar.toc", 102);

// call invoke
// #line 102 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = none_or_more_rule_invoke_3753(empty_list, reifiedPtr3756, rslt1);

// call invoke
// #line 102 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt2);
return(rslt3);

};};
FnArity none_or_more_3791 = {FnArityType, -1, 1, (List *)0, 0, none_or_more_3790};
Function none_or_more_3792 = {FunctionType, -1, "none-or-more", 1, {&none_or_more_3791}};
Value *none_or_more_3789 = (Value *)&none_or_more_3792;

Value *type_val_3793_3794;
ProtoImpls protoImpls3797;
ProtoImpls protoImpls3799;
Value *dispatchFnPtr3795;
Value *protoImpl3796(List *closures, Value *arg);
Value *protoImpl3798(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str184 = {StringType, -1, 10, 0, "assert-ast"};
Value *strPtr184 = (Value *)&str184;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str185 = {StringType, -1, 9, 0, "assertion"};
Value *strPtr185 = (Value *)&str185;
Value *arityImpl3800(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr185, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr184, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3801 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3800};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str186 = {StringType, -1, 24, 0, "*assert-ast constructor*"};
Value *strPtr186 = (Value *)&str186;
Value *assert_ast_const_type_name_3802(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr186);

};};
FnArity assert_ast_const_type_name_3803 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_const_type_name_3802};
Value *assert_ast_instance_QMARK__3804(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3793_3794, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity assert_ast_instance_QMARK__3805 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_instance_QMARK__3804};
Value *assert_ast_invoke_3806(List *closures, Value *arg0, Value *assertion_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, assertion_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3793_3794, rslt3);
return(rslt4);

};};
FnArity assert_ast_invoke_3807 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_invoke_3806};
ReifiedVal reifiedStatic3808 = {108, -1, (Value *)0, 0, {}};
Value *reifiedPtr3809 = (Value *)&reifiedStatic3808;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str187 = {StringType, -1, 8, 0, "<Assert "};
Value *strPtr187 = (Value *)&str187;
Value *assert_ast_string_list_3810(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *assertion_2;
Value *tail_3;
Value **destArgs4[2] = {&assertion_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "223", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// static-variadic
// #line 225 "/Users/jim/toccata/ast.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)assertion_2, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// call-list
// #line 225 "/Users/jim/toccata/ast.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr2, newList7);
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)strPtr187, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity assert_ast_string_list_3811 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_string_list_3810};
Value *assert_ast_EQ_STAR__3812(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity assert_ast_EQ_STAR__3813 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_EQ_STAR__3812};
Value *assert_ast_not_assertion_QM__3814(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *assertion_2;
Value *tail_3;
Value **destArgs4[2] = {&assertion_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "223", (Value *)rslt1, 2, destArgs4);

dec_and_free(assertion_2, 1);

dec_and_free(tail_3, 1);
return(nothing_7);

};};
FnArity assert_ast_not_assertion_QM__3815 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_not_assertion_QM__3814};
Value *assert_ast_type_name_3816(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr184);

};};
FnArity assert_ast_type_name_3817 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_type_name_3816};
Value *assert_ast_has_field_3818(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3795, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity assert_ast_has_field_3819 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_has_field_3818};
Value *assert_ast_assertion_3820(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity assert_ast_assertion_3821 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_assertion_3820};
Value *assert_ast_assertion_3822(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity assert_ast_assertion_3823 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_assertion_3822};
Value *assert_ast_get_3824(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity assert_ast_get_3825 = {FnArityType, -1, 2, (List *)0, 0, assert_ast_get_3824};
Value *assert_ast_assoc_STAR__3826(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity assert_ast_assoc_STAR__3827 = {FnArityType, -1, 5, (List *)0, 0, assert_ast_assoc_STAR__3826};
Value *assert_ast_file_name_3828(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *assertion_2;
Value *tail_3;
Value **destArgs4[2] = {&assertion_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "223", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown file-name
// #line 231 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", assertion_2, "/Users/jim/toccata/ast.toc", 231);
return(rslt5);

};};
FnArity assert_ast_file_name_3829 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_file_name_3828};
Value *assert_ast_line_number_3830(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *assertion_2;
Value *tail_3;
Value **destArgs4[2] = {&assertion_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "223", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown line-number
// #line 232 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", assertion_2, "/Users/jim/toccata/ast.toc", 232);
return(rslt5);

};};
FnArity assert_ast_line_number_3831 = {FnArityType, -1, 1, (List *)0, 0, assert_ast_line_number_3830};
ReifiedVal reifiedStatic3832 = {109, -1, (Value *)0, 0, {}};
Value *reifiedPtr3833 = (Value *)&reifiedStatic3832;

// --------- assert-expr -------------
Value *assert_expr_3835;
Value *assert_expr_3836(List *closures, Value *assertion_0) {
 while (1) {

// call invoke
// #line 235 "/Users/jim/toccata/ast.toc"
Value *rslt1 = assert_ast_invoke_3806(empty_list, reifiedPtr3809, assertion_0);
return(rslt1);

};};
FnArity assert_expr_3837 = {FnArityType, -1, 1, (List *)0, 0, assert_expr_3836};
Function assert_expr_3838 = {FunctionType, -1, "assert-expr", 1, {&assert_expr_3837}};
Value *assert_expr_3835 = (Value *)&assert_expr_3838;

Value *type_val_3839_3840;
ProtoImpls protoImpls3844;
ProtoImpls protoImpls3846;
Value *dispatchFnPtr3841;
Value *protoImpl3843(List *closures, Value *arg);
Value *protoImpl3845(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str188 = {StringType, -1, 11, 0, "parser-rule"};
Value *strPtr188 = (Value *)&str188;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str189 = {StringType, -1, 13, 0, "name, grammar"};
Value *strPtr189 = (Value *)&str189;
Value *arityImpl3847(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr189, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr188, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3848 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3847};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str190 = {StringType, -1, 25, 0, "*parser-rule constructor*"};
Value *strPtr190 = (Value *)&str190;
Value *parser_rule_const_type_name_3849(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr190);

};};
FnArity parser_rule_const_type_name_3850 = {FnArityType, -1, 1, (List *)0, 0, parser_rule_const_type_name_3849};
Value *parser_rule_instance_QMARK__3851(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3839_3840, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity parser_rule_instance_QMARK__3852 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_instance_QMARK__3851};
Value *parser_rule_invoke_3853(List *closures, Value *arg0, Value *name_1, Value *grammar_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, name_1);
newVect3 = mutateVectConj(newVect3, grammar_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3839_3840, rslt4);
return(rslt5);

};};
FnArity parser_rule_invoke_3854 = {FnArityType, -1, 3, (List *)0, 0, parser_rule_invoke_3853};
ReifiedVal reifiedStatic3855 = {110, -1, (Value *)0, 0, {}};
Value *reifiedPtr3856 = (Value *)&reifiedStatic3855;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str191 = {StringType, -1, 12, 0, "<ParserRule "};
Value *strPtr191 = (Value *)&str191;
Value *parser_rule_string_list_3857(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *name_2;
Value *grammar_3;
Value *tail_4;
Value **destArgs5[3] = {&name_2, &grammar_3, &tail_4};
destructValue("/Users/jim/toccata/grammar.toc", "104", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 106 "/Users/jim/toccata/grammar.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)name_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 106 "/Users/jim/toccata/grammar.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr4, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr191, newList8);
Value *rslt9 = (Value *)newList8;

// type-unknown string-list
// #line 107 "/Users/jim/toccata/grammar.toc"
Value *rslt10 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", grammar_3, "/Users/jim/toccata/grammar.toc", 107);

// call-list
// #line 108 "/Users/jim/toccata/grammar.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr2, newList11);
Value *rslt12 = (Value *)newList11;

// call-list
// #line 106 "/Users/jim/toccata/grammar.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt10, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 106 "/Users/jim/toccata/grammar.toc"
Value *rslt15 = List_comp_STAR__825(empty_list, rslt9, rslt14);
return(rslt15);

};};
FnArity parser_rule_string_list_3858 = {FnArityType, -1, 1, (List *)0, 0, parser_rule_string_list_3857};
Value *parser_rule_EQ_STAR__3859(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_rule_EQ_STAR__3860 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_EQ_STAR__3859};
Value *parser_rule_type_name_3861(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr188);

};};
FnArity parser_rule_type_name_3862 = {FnArityType, -1, 1, (List *)0, 0, parser_rule_type_name_3861};
Value *parser_rule_has_field_3863(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2064, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3841, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity parser_rule_has_field_3864 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_has_field_3863};
Value *parser_rule_name_3865(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_rule_name_3866 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_name_3865};
Value *parser_rule_name_3867(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_rule_name_3868 = {FnArityType, -1, 1, (List *)0, 0, parser_rule_name_3867};
Value *parser_rule_grammar_3869(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity parser_rule_grammar_3870 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_grammar_3869};
Value *parser_rule_grammar_3871(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity parser_rule_grammar_3872 = {FnArityType, -1, 1, (List *)0, 0, parser_rule_grammar_3871};
Value *parser_rule_get_3873(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity parser_rule_get_3874 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_get_3873};
Value *parser_rule_map_3875(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *name_3;
Value *grammar_4;
Value *tail_5;
Value **destArgs6[3] = {&name_3, &grammar_4, &tail_5};
destructValue("/Users/jim/toccata/grammar.toc", "104", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);

// dynamic unknown type
// #line 112 "/Users/jim/toccata/grammar.toc"
Value *rslt10;
if((f_1)->type != FunctionType) {
rslt10 = invoke_368(empty_list, f_1, grammar_4);
} else {
FnArity *arity7 = findFnArity(f_1, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, grammar_4);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(grammar_4, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// call invoke
// #line 112 "/Users/jim/toccata/grammar.toc"
Value *rslt11 = parser_rule_invoke_3853(empty_list, reifiedPtr3856, name_3, rslt10);
return(rslt11);

};};
FnArity parser_rule_map_3876 = {FnArityType, -1, 2, (List *)0, 0, parser_rule_map_3875};
Value *parser_rule_assoc_STAR__3877(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity parser_rule_assoc_STAR__3878 = {FnArityType, -1, 5, (List *)0, 0, parser_rule_assoc_STAR__3877};
ReifiedVal reifiedStatic3879 = {111, -1, (Value *)0, 0, {}};
Value *reifiedPtr3880 = (Value *)&reifiedStatic3879;

// --------- recur-fn -------------
Value *recur_fn_3882;
Value *recur_fn_3883(List *closures, Value *f_0, Value *as_1, Value *s_2) {
 while (1) {

incRef(f_0, 1);

incRef(as_1, 1);

incRef(s_2, 1);

// dynamic unknown type
// #line 128 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6;
if((f_0)->type != FunctionType) {
rslt6 = invoke_368(empty_list, f_0, s_2);
} else {
FnArity *arity3 = findFnArity(f_0, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, s_2);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(s_2, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_0)->name);
  abort();
}
dec_and_free(f_0, 1);
}
Value *x_7 = rslt6;

incRef(x_7, 1);
Value *orRslt8;
Value *andRslt9;

// static-fixed
// #line 129 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = _EQ__557(empty_list, nothing_7, x_7);
andRslt9 = rslt10;
if (isNothing(andRslt9)) {
dec_and_free(as_1, 1);
dec_and_free(s_2, 1);
} else {
dec_and_free(andRslt9, 1);

// call-vector
// #line 130 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect11 = empty_vect;
newVect11 = mutateVectConj(newVect11, as_1);
newVect11 = mutateVectConj(newVect11, s_2);
Value *rslt12 = (Value *)newVect11;

// static-fixed
// #line 130 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = maybe_4(empty_list, rslt12);
andRslt9 = rslt13;
}
orRslt8 = andRslt9;
if (!isNothing(orRslt8)) {
dec_and_free(f_0, 1);
dec_and_free(as_1, 1);
dec_and_free(x_7, 1);
return(orRslt8);
} else {
dec_and_free(orRslt8, 1);

// type-unknown extract
// #line 131 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_7, "/Users/jim/toccata/state-maybe.toc", 131);
Value *v_15;
Value *ss_16;
Value *tail_17;
Value **destArgs18[3] = {&v_15, &ss_16, &tail_17};
destructValue("/Users/jim/toccata/state-maybe.toc", "131", (Value *)rslt14, 3, destArgs18);

dec_and_free(tail_17, 1);

// static-fixed
// #line 132 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = cons_275(empty_list, v_15, as_1);

// recursive-fixed
// #line 132 "/Users/jim/toccata/state-maybe.toc"
f_0 = f_0;
as_1 = rslt19;
s_2 = ss_16;
}

};};
FnArity recur_fn_3884 = {FnArityType, -1, 3, (List *)0, 0, recur_fn_3883};
Function recur_fn_3885 = {FunctionType, -1, "recur-fn", 1, {&recur_fn_3884}};
Value *recur_fn_3882 = (Value *)&recur_fn_3885;


// --------- rule -------------
Value *rule_3887;
Value *rule_3888(List *closures, Value *name_0, Value *grammar_1) {
 while (1) {

// type-unknown string-terminal
// #line 115 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", grammar_1, "/Users/jim/toccata/grammar.toc", 115);

// call invoke
// #line 115 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = parser_rule_invoke_3853(empty_list, reifiedPtr3856, name_0, rslt2);

// call invoke
// #line 115 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt3);
return(rslt4);

};};
FnArity rule_3889 = {FnArityType, -1, 2, (List *)0, 0, rule_3888};
Function rule_3890 = {FunctionType, -1, "rule", 1, {&rule_3889}};
Value *rule_3887 = (Value *)&rule_3890;

Value *type_val_3891_3892;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str192 = {StringType, -1, 21, 0, "recursive-parser-rule"};
Value *strPtr192 = (Value *)&str192;
Value *arityImpl3895(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr189, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr192, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3896 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3895};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[36];
} str193 = {StringType, -1, 35, 0, "*recursive-parser-rule constructor*"};
Value *strPtr193 = (Value *)&str193;
Value *recursive_parser_rule_const_type_name_3897(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr193);

};};
FnArity recursive_parser_rule_const_type_name_3898 = {FnArityType, -1, 1, (List *)0, 0, recursive_parser_rule_const_type_name_3897};
Value *recursive_parser_rule_instance_QMARK__3899(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3891_3892, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity recursive_parser_rule_instance_QMARK__3900 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_instance_QMARK__3899};
Value *recursive_parser_rule_invoke_3901(List *closures, Value *arg0, Value *name_1, Value *grammar_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, name_1);
newVect3 = mutateVectConj(newVect3, grammar_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3891_3892, rslt4);
return(rslt5);

};};
FnArity recursive_parser_rule_invoke_3902 = {FnArityType, -1, 3, (List *)0, 0, recursive_parser_rule_invoke_3901};
ReifiedVal reifiedStatic3903 = {112, -1, (Value *)0, 0, {}};
Value *reifiedPtr3904 = (Value *)&reifiedStatic3903;
Value *recursive_parser_rule_EQ_STAR__3905(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity recursive_parser_rule_EQ_STAR__3906 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_EQ_STAR__3905};
Value *recursive_parser_rule_type_name_3907(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr192);

};};
FnArity recursive_parser_rule_type_name_3908 = {FnArityType, -1, 1, (List *)0, 0, recursive_parser_rule_type_name_3907};
Value *recursive_parser_rule_has_field_3909(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2064, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3841, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity recursive_parser_rule_has_field_3910 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_has_field_3909};
Value *recursive_parser_rule_name_3911(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity recursive_parser_rule_name_3912 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_name_3911};
Value *recursive_parser_rule_name_3913(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity recursive_parser_rule_name_3914 = {FnArityType, -1, 1, (List *)0, 0, recursive_parser_rule_name_3913};
Value *recursive_parser_rule_grammar_3915(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity recursive_parser_rule_grammar_3916 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_grammar_3915};
Value *recursive_parser_rule_grammar_3917(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity recursive_parser_rule_grammar_3918 = {FnArityType, -1, 1, (List *)0, 0, recursive_parser_rule_grammar_3917};
Value *recursive_parser_rule_get_3919(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity recursive_parser_rule_get_3920 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_get_3919};
Value *recursive_parser_rule_map_3921(List *closures, Value *arg0, Value *f_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *name_3;
Value *grammar_4;
Value *tail_5;
Value **destArgs6[3] = {&name_3, &grammar_4, &tail_5};
destructValue("/Users/jim/toccata/grammar.toc", "117", (Value *)rslt2, 3, destArgs6);

dec_and_free(tail_5, 1);

// dynamic unknown type
// #line 120 "/Users/jim/toccata/grammar.toc"
Value *rslt10;
if((f_1)->type != FunctionType) {
rslt10 = invoke_368(empty_list, f_1, grammar_4);
} else {
FnArity *arity7 = findFnArity(f_1, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, grammar_4);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(grammar_4, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// call invoke
// #line 120 "/Users/jim/toccata/grammar.toc"
Value *rslt11 = recursive_parser_rule_invoke_3901(empty_list, reifiedPtr3904, name_3, rslt10);
return(rslt11);

};};
FnArity recursive_parser_rule_map_3922 = {FnArityType, -1, 2, (List *)0, 0, recursive_parser_rule_map_3921};
Value *recursive_parser_rule_assoc_STAR__3923(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity recursive_parser_rule_assoc_STAR__3924 = {FnArityType, -1, 5, (List *)0, 0, recursive_parser_rule_assoc_STAR__3923};
ReifiedVal reifiedStatic3925 = {113, -1, (Value *)0, 0, {}};
Value *reifiedPtr3926 = (Value *)&reifiedStatic3925;
Value *type_val_3927_3928;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str194 = {StringType, -1, 11, 0, "returns-ast"};
Value *strPtr194 = (Value *)&str194;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str195 = {StringType, -1, 14, 0, "sym, assertion"};
Value *strPtr195 = (Value *)&str195;
Value *arityImpl3931(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr195, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr194, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3932 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3931};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str196 = {StringType, -1, 25, 0, "*returns-ast constructor*"};
Value *strPtr196 = (Value *)&str196;
Value *returns_ast_const_type_name_3933(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr196);

};};
FnArity returns_ast_const_type_name_3934 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_const_type_name_3933};
Value *returns_ast_instance_QMARK__3935(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3927_3928, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity returns_ast_instance_QMARK__3936 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_instance_QMARK__3935};
Value *returns_ast_invoke_3937(List *closures, Value *arg0, Value *sym_1, Value *assertion_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, sym_1);
newVect3 = mutateVectConj(newVect3, assertion_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_3927_3928, rslt4);
return(rslt5);

};};
FnArity returns_ast_invoke_3938 = {FnArityType, -1, 3, (List *)0, 0, returns_ast_invoke_3937};
ReifiedVal reifiedStatic3939 = {114, -1, (Value *)0, 0, {}};
Value *reifiedPtr3940 = (Value *)&reifiedStatic3939;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str197 = {StringType, -1, 18, 0, "<ReturnsAssertion "};
Value *strPtr197 = (Value *)&str197;
Value *returns_ast_string_list_3941(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *assertion_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &assertion_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "238", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// static-variadic
// #line 240 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)sym_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-variadic
// #line 240 "/Users/jim/toccata/ast.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)assertion_3, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 240 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr4, newList10);
newList10 = listCons((Value *)rslt7, newList10);
newList10 = listCons((Value *)strPtr197, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity returns_ast_string_list_3942 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_string_list_3941};
Value *returns_ast_EQ_STAR__3943(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity returns_ast_EQ_STAR__3944 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_EQ_STAR__3943};
Value *returns_ast_not_assertion_QM__3945(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *assertion_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &assertion_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "238", (Value *)rslt1, 3, destArgs5);

dec_and_free(sym_2, 1);

dec_and_free(assertion_3, 1);

dec_and_free(tail_4, 1);
return(nothing_7);

};};
FnArity returns_ast_not_assertion_QM__3946 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_not_assertion_QM__3945};
Value *returns_ast_type_name_3947(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr194);

};};
FnArity returns_ast_type_name_3948 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_type_name_3947};
Value *returns_ast_has_field_3949(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2501, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3795, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity returns_ast_has_field_3950 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_has_field_3949};
Value *returns_ast_sym_3951(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity returns_ast_sym_3952 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_sym_3951};
Value *returns_ast_sym_3953(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity returns_ast_sym_3954 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_sym_3953};
Value *returns_ast_assertion_3955(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity returns_ast_assertion_3956 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_assertion_3955};
Value *returns_ast_assertion_3957(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity returns_ast_assertion_3958 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_assertion_3957};
Value *returns_ast_get_3959(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity returns_ast_get_3960 = {FnArityType, -1, 2, (List *)0, 0, returns_ast_get_3959};
Value *returns_ast_assoc_STAR__3961(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity returns_ast_assoc_STAR__3962 = {FnArityType, -1, 5, (List *)0, 0, returns_ast_assoc_STAR__3961};
Value *returns_ast_file_name_3963(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *assertion_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &assertion_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "238", (Value *)rslt1, 3, destArgs5);

dec_and_free(assertion_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 246 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", sym_2, "/Users/jim/toccata/ast.toc", 246);
return(rslt6);

};};
FnArity returns_ast_file_name_3964 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_file_name_3963};
Value *returns_ast_line_number_3965(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *assertion_3;
Value *tail_4;
Value **destArgs5[3] = {&sym_2, &assertion_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "238", (Value *)rslt1, 3, destArgs5);

dec_and_free(assertion_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 247 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", sym_2, "/Users/jim/toccata/ast.toc", 247);
return(rslt6);

};};
FnArity returns_ast_line_number_3966 = {FnArityType, -1, 1, (List *)0, 0, returns_ast_line_number_3965};
ReifiedVal reifiedStatic3967 = {115, -1, (Value *)0, 0, {}};
Value *reifiedPtr3968 = (Value *)&reifiedStatic3967;

// --------- returns-expr -------------
Value *returns_expr_3970;
Value *returns_expr_3971(List *closures, Value *sym_0, Value *assertion_1) {
 while (1) {

// call invoke
// #line 250 "/Users/jim/toccata/ast.toc"
Value *rslt2 = returns_ast_invoke_3937(empty_list, reifiedPtr3940, sym_0, assertion_1);
return(rslt2);

};};
FnArity returns_expr_3972 = {FnArityType, -1, 2, (List *)0, 0, returns_expr_3971};
Function returns_expr_3973 = {FunctionType, -1, "returns-expr", 1, {&returns_expr_3972}};
Value *returns_expr_3970 = (Value *)&returns_expr_3973;


// --------- recursive-rule -------------
Value *recursive_rule_3975;
Value *recursive_rule_3976(List *closures, Value *name_0, Value *grammar_1) {
 while (1) {

// type-unknown string-terminal
// #line 123 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", grammar_1, "/Users/jim/toccata/grammar.toc", 123);

// call invoke
// #line 123 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = recursive_parser_rule_invoke_3901(empty_list, reifiedPtr3904, name_0, rslt2);

// call invoke
// #line 123 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = free_monad_invoke_2275(empty_list, reifiedPtr2278, rslt3);
return(rslt4);

};};
FnArity recursive_rule_3977 = {FnArityType, -1, 2, (List *)0, 0, recursive_rule_3976};
Function recursive_rule_3978 = {FunctionType, -1, "recursive-rule", 1, {&recursive_rule_3977}};
Value *recursive_rule_3975 = (Value *)&recursive_rule_3978;

Value *type_val_3979_3980;
ProtoImpls protoImpls3983;
ProtoImpls protoImpls3985;
Value *dispatchFnPtr3981;
Value *protoImpl3982(List *closures, Value *arg);
Value *protoImpl3984(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str198 = {StringType, -1, 14, 0, "recursion-rule"};
Value *strPtr198 = (Value *)&str198;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str199 = {StringType, -1, 9, 0, "rule-name"};
Value *strPtr199 = (Value *)&str199;
Value *arityImpl3986(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr199, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr198, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity3987 = {FnArityType, -1, 1, (List *)0, 0, arityImpl3986};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str200 = {StringType, -1, 28, 0, "*recursion-rule constructor*"};
Value *strPtr200 = (Value *)&str200;
Value *recursion_rule_const_type_name_3988(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr200);

};};
FnArity recursion_rule_const_type_name_3989 = {FnArityType, -1, 1, (List *)0, 0, recursion_rule_const_type_name_3988};
Value *recursion_rule_instance_QMARK__3990(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_3979_3980, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity recursion_rule_instance_QMARK__3991 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_instance_QMARK__3990};
Value *recursion_rule_invoke_3992(List *closures, Value *arg0, Value *rule_name_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, rule_name_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_3979_3980, rslt3);
return(rslt4);

};};
FnArity recursion_rule_invoke_3993 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_invoke_3992};
ReifiedVal reifiedStatic3994 = {116, -1, (Value *)0, 0, {}};
Value *reifiedPtr3995 = (Value *)&reifiedStatic3994;
Value *recursion_rule_EQ_STAR__3996(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity recursion_rule_EQ_STAR__3997 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_EQ_STAR__3996};
Value *recursion_rule_type_name_3998(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr198);

};};
FnArity recursion_rule_type_name_3999 = {FnArityType, -1, 1, (List *)0, 0, recursion_rule_type_name_3998};
Value *recursion_rule_has_field_4000(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3981, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity recursion_rule_has_field_4001 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_has_field_4000};
Value *recursion_rule_rule_name_4002(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity recursion_rule_rule_name_4003 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_rule_name_4002};
Value *recursion_rule_rule_name_4004(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity recursion_rule_rule_name_4005 = {FnArityType, -1, 1, (List *)0, 0, recursion_rule_rule_name_4004};
Value *recursion_rule_get_4006(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity recursion_rule_get_4007 = {FnArityType, -1, 2, (List *)0, 0, recursion_rule_get_4006};
Value *recursion_rule_assoc_STAR__4008(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity recursion_rule_assoc_STAR__4009 = {FnArityType, -1, 5, (List *)0, 0, recursion_rule_assoc_STAR__4008};
ReifiedVal reifiedStatic4010 = {117, -1, (Value *)0, 0, {}};
Value *reifiedPtr4011 = (Value *)&reifiedStatic4010;

// --------- recur -------------
Value *recur_4013;
Value *arityImpl4016(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs28);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 136 "/Users/jim/toccata/state-maybe.toc"
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val1, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 137 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 137);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("/Users/jim/toccata/state-maybe.toc", "137", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .invoke-fn
// #line 138 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = proto1Arg(&protoImpls2772, "<nothing>/.invoke-fn", val1, "/Users/jim/toccata/state-maybe.toc", 138);

// call-list
// #line 138 "/Users/jim/toccata/state-maybe.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)v_9, newList14);
Value *rslt15 = (Value *)newList14;

// static-fixed
// #line 138 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = recur_fn_3883(empty_list, rslt13, rslt15, ss_10);
Value *y_17 = rslt16;

incRef(y_17, 1);
Value *andRslt18;
andRslt18 = y_17;
if (isNothing(andRslt18)) {
dec_and_free(y_17, 1);
return(nothing);
} else {
dec_and_free(andRslt18, 1);

// type-known for extract
// #line 139 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = Maybe_extract_757(empty_list, y_17);
Value *vs_20;
Value *s_21;
Value *tail_22;
Value **destArgs23[3] = {&vs_20, &s_21, &tail_22};
destructValue("/Users/jim/toccata/state-maybe.toc", "139", (Value *)rslt19, 3, destArgs23);

dec_and_free(tail_22, 1);

// type-unknown reverse
// #line 140 "/Users/jim/toccata/state-maybe.toc"
Value *rslt24 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", vs_20, "/Users/jim/toccata/state-maybe.toc", 140);

// call-vector
// #line 140 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, rslt24);
newVect25 = mutateVectConj(newVect25, s_21);
Value *rslt26 = (Value *)newVect25;

// static-fixed
// #line 140 "/Users/jim/toccata/state-maybe.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
return(rslt27);
andRslt18 = rslt27;
}
andRslt7 = andRslt18;
}

};};
Value *recur_4014(List *closures, Value *mv_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4016;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)mv_0, (List *)dynArity1->closures);
Function *anon_4017 = malloc_function(1);
anon_4017->name = "anon";
anon_4017->arityCount = 1;
anon_4017->arities[0] = dynArity1;
Value *fn4015 = (Value *)anon_4017;

// call invoke
// #line 135 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4015);
return(rslt2);

};};
FnArity recur_4018 = {FnArityType, -1, 1, (List *)0, 0, recur_4014};
Function recur_4019 = {FunctionType, -1, "recur", 1, {&recur_4018}};
Value *recur_4013 = (Value *)&recur_4019;


// --------- recurse -------------
Value *recurse_4021;
Value *recurse_4022(List *closures, Value *rule_name_0) {
 while (1) {

// call invoke
// #line 128 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = recursion_rule_invoke_3992(empty_list, reifiedPtr3995, rule_name_0);

// call invoke
// #line 128 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt1);
return(rslt2);

};};
FnArity recurse_4023 = {FnArityType, -1, 1, (List *)0, 0, recurse_4022};
Function recurse_4024 = {FunctionType, -1, "recurse", 1, {&recurse_4023}};
Value *recurse_4021 = (Value *)&recurse_4024;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str201 = {StringType, -1, 11, 0, "lower-alpha"};
Value *strPtr201 = (Value *)&str201;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str202 = {StringType, -1, 1, 0, "a"};
Value *strPtr202 = (Value *)&str202;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str203 = {StringType, -1, 1, 0, "z"};
Value *strPtr203 = (Value *)&str203;
Value *lower_alpha_4025;
Value *type_val_4026_4027;
ProtoImpls protoImpls4033;
ProtoImpls protoImpls4035;
Value *dispatchFnPtr4031;
Value *protoImpl4032(List *closures, Value *arg);
Value *protoImpl4034(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4037;
ProtoImpls protoImpls4039;
Value *dispatchFnPtr4028;
Value *protoImpl4036(List *closures, Value *arg);
Value *protoImpl4038(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str204 = {StringType, -1, 13, 0, "prototype-ast"};
Value *strPtr204 = (Value *)&str204;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str205 = {StringType, -1, 34, 0, "fn-name, params, doc, default-body"};
Value *strPtr205 = (Value *)&str205;
Value *arityImpl4040(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr205, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr204, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4041 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4040};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str206 = {StringType, -1, 27, 0, "*prototype-ast constructor*"};
Value *strPtr206 = (Value *)&str206;
Value *prototype_ast_const_type_name_4042(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr206);

};};
FnArity prototype_ast_const_type_name_4043 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_const_type_name_4042};
Value *prototype_ast_instance_QMARK__4044(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4026_4027, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity prototype_ast_instance_QMARK__4045 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_instance_QMARK__4044};
Value *prototype_ast_invoke_4046(List *closures, Value *arg0, Value *fn_name_1, Value *params_2, Value *doc_3, Value *default_body_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, fn_name_1);
newVect5 = mutateVectConj(newVect5, params_2);
newVect5 = mutateVectConj(newVect5, doc_3);
newVect5 = mutateVectConj(newVect5, default_body_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_4026_4027, rslt6);
return(rslt7);

};};
FnArity prototype_ast_invoke_4047 = {FnArityType, -1, 5, (List *)0, 0, prototype_ast_invoke_4046};
ReifiedVal reifiedStatic4048 = {118, -1, (Value *)0, 0, {}};
Value *reifiedPtr4049 = (Value *)&reifiedStatic4048;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str207 = {StringType, -1, 16, 0, "<PrototypeFnAST "};
Value *strPtr207 = (Value *)&str207;
Value *prototype_ast_string_list_4050(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_name_2;
Value *params_3;
Value *doc_4;
Value *default_body_5;
Value *tail_6;
Value **destArgs7[5] = {&fn_name_2, &params_3, &doc_4, &default_body_5, &tail_6};
destructValue("/Users/jim/toccata/ast.toc", "253", (Value *)rslt1, 5, destArgs7);

dec_and_free(params_3, 1);

dec_and_free(doc_4, 1);

dec_and_free(default_body_5, 1);

dec_and_free(tail_6, 1);

// static-variadic
// #line 255 "/Users/jim/toccata/ast.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)fn_name_2, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 255 "/Users/jim/toccata/ast.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr207, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity prototype_ast_string_list_4051 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_string_list_4050};
Value *prototype_ast_EQ_STAR__4052(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity prototype_ast_EQ_STAR__4053 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_EQ_STAR__4052};
Value *prototype_ast_type_name_4054(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr204);

};};
FnArity prototype_ast_type_name_4055 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_type_name_4054};
Value *prototype_ast_has_field_4056(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4031, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2418, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2696, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4028, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity prototype_ast_has_field_4057 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_has_field_4056};
Value *prototype_ast_fn_name_4058(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity prototype_ast_fn_name_4059 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_fn_name_4058};
Value *prototype_ast_fn_name_4060(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity prototype_ast_fn_name_4061 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_fn_name_4060};
Value *prototype_ast_params_4062(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity prototype_ast_params_4063 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_params_4062};
Value *prototype_ast_params_4064(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity prototype_ast_params_4065 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_params_4064};
Value *prototype_ast_doc_4066(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity prototype_ast_doc_4067 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_doc_4066};
Value *prototype_ast_doc_4068(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity prototype_ast_doc_4069 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_doc_4068};
Value *prototype_ast_default_body_4070(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity prototype_ast_default_body_4071 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_default_body_4070};
Value *prototype_ast_default_body_4072(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity prototype_ast_default_body_4073 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_default_body_4072};
Value *prototype_ast_get_4074(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity prototype_ast_get_4075 = {FnArityType, -1, 2, (List *)0, 0, prototype_ast_get_4074};
Value *prototype_ast_assoc_STAR__4076(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity prototype_ast_assoc_STAR__4077 = {FnArityType, -1, 5, (List *)0, 0, prototype_ast_assoc_STAR__4076};
Value *prototype_ast_file_name_4078(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_name_2;
Value *params_3;
Value *doc_4;
Value *default_body_5;
Value *tail_6;
Value **destArgs7[5] = {&fn_name_2, &params_3, &doc_4, &default_body_5, &tail_6};
destructValue("/Users/jim/toccata/ast.toc", "253", (Value *)rslt1, 5, destArgs7);

dec_and_free(params_3, 1);

dec_and_free(doc_4, 1);

dec_and_free(default_body_5, 1);

dec_and_free(tail_6, 1);

// type-unknown file-name
// #line 258 "/Users/jim/toccata/ast.toc"
Value *rslt8 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", fn_name_2, "/Users/jim/toccata/ast.toc", 258);
return(rslt8);

};};
FnArity prototype_ast_file_name_4079 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_file_name_4078};
Value *prototype_ast_line_number_4080(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_name_2;
Value *params_3;
Value *doc_4;
Value *default_body_5;
Value *tail_6;
Value **destArgs7[5] = {&fn_name_2, &params_3, &doc_4, &default_body_5, &tail_6};
destructValue("/Users/jim/toccata/ast.toc", "253", (Value *)rslt1, 5, destArgs7);

dec_and_free(params_3, 1);

dec_and_free(doc_4, 1);

dec_and_free(default_body_5, 1);

dec_and_free(tail_6, 1);

// type-unknown line-number
// #line 259 "/Users/jim/toccata/ast.toc"
Value *rslt8 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", fn_name_2, "/Users/jim/toccata/ast.toc", 259);
return(rslt8);

};};
FnArity prototype_ast_line_number_4081 = {FnArityType, -1, 1, (List *)0, 0, prototype_ast_line_number_4080};
ReifiedVal reifiedStatic4082 = {119, -1, (Value *)0, 0, {}};
Value *reifiedPtr4083 = (Value *)&reifiedStatic4082;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str208 = {StringType, -1, 11, 0, "upper-alpha"};
Value *strPtr208 = (Value *)&str208;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str209 = {StringType, -1, 1, 0, "A"};
Value *strPtr209 = (Value *)&str209;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str210 = {StringType, -1, 1, 0, "Z"};
Value *strPtr210 = (Value *)&str210;
Value *upper_alpha_4084;

// --------- when -------------
Value *when_4086;
Value *arityImpl4089(List *closures, Value *s_0) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *andRslt1;
andRslt1 = val2;
if (isNothing(andRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// type-unknown extract
// #line 144 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", val2, "/Users/jim/toccata/state-maybe.toc", 144);
Value *v_4 = rslt3;

// call-vector
// #line 145 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, v_4);
newVect5 = mutateVectConj(newVect5, s_0);
Value *rslt6 = (Value *)newVect5;

// static-fixed
// #line 145 "/Users/jim/toccata/state-maybe.toc"
Value *rslt7 = maybe_4(empty_list, rslt6);
return(rslt7);
andRslt1 = rslt7;
}

};};
Value *when_4087(List *closures, Value *val_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4089;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val_0, (List *)dynArity1->closures);
Function *anon_4090 = malloc_function(1);
anon_4090->name = "anon";
anon_4090->arityCount = 1;
anon_4090->arities[0] = dynArity1;
Value *fn4088 = (Value *)anon_4090;

// call invoke
// #line 143 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4088);
return(rslt2);

};};
FnArity when_4091 = {FnArityType, -1, 1, (List *)0, 0, when_4087};
Function when_4092 = {FunctionType, -1, "when", 1, {&when_4091}};
Value *when_4086 = (Value *)&when_4092;


// --------- prototype -------------
Value *prototype_4094;
Value *prototype_4095(List *closures, Value *fn_name_0, Value *args_1, Value *doc_2, Value *default_body_3) {
 while (1) {

// call invoke
// #line 262 "/Users/jim/toccata/ast.toc"
Value *rslt4 = prototype_ast_invoke_4046(empty_list, reifiedPtr4049, fn_name_0, args_1, doc_2, default_body_3);
return(rslt4);

};};
FnArity prototype_4096 = {FnArityType, -1, 4, (List *)0, 0, prototype_4095};
Function prototype_4097 = {FunctionType, -1, "prototype", 1, {&prototype_4096}};
Value *prototype_4094 = (Value *)&prototype_4097;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str211 = {StringType, -1, 5, 0, "alpha"};
Value *strPtr211 = (Value *)&str211;
Value *alpha_4098;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str212 = {StringType, -1, 5, 0, "digit"};
Value *strPtr212 = (Value *)&str212;
Value *digit_4099;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str213 = {StringType, -1, 8, 0, "alphanum"};
Value *strPtr213 = (Value *)&str213;
Value *alphanum_4100;

// --------- when-not -------------
Value *when_not_4102;
Value *arityImpl4105(List *closures, Value *s_0) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs7);

dec_and_free(closuresTail, 1);
Value *andRslt1;

// static-fixed
// #line 149 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = _EQ__557(empty_list, nothing_7, val2);
andRslt1 = rslt3;
if (isNothing(andRslt1)) {
dec_and_free(s_0, 1);
return(nothing);
} else {
dec_and_free(andRslt1, 1);

// call-vector
// #line 150 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, nothing_7);
newVect4 = mutateVectConj(newVect4, s_0);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 150 "/Users/jim/toccata/state-maybe.toc"
Value *rslt6 = maybe_4(empty_list, rslt5);
return(rslt6);
andRslt1 = rslt6;
}

};};
Value *when_not_4103(List *closures, Value *val_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4105;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val_0, (List *)dynArity1->closures);
Function *anon_4106 = malloc_function(1);
anon_4106->name = "anon";
anon_4106->arityCount = 1;
anon_4106->arities[0] = dynArity1;
Value *fn4104 = (Value *)anon_4106;

// call invoke
// #line 148 "/Users/jim/toccata/state-maybe.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4104);
return(rslt2);

};};
FnArity when_not_4107 = {FnArityType, -1, 1, (List *)0, 0, when_not_4103};
Function when_not_4108 = {FunctionType, -1, "when-not", 1, {&when_not_4107}};
Value *when_not_4102 = (Value *)&when_not_4108;

Value *type_val_4109_4110;
ProtoImpls protoImpls4114;
ProtoImpls protoImpls4116;
Value *dispatchFnPtr4112;
Value *protoImpl4113(List *closures, Value *arg);
Value *protoImpl4115(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4118;
ProtoImpls protoImpls4120;
Value *dispatchFnPtr4111;
Value *protoImpl4117(List *closures, Value *arg);
Value *protoImpl4119(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str214 = {StringType, -1, 12, 0, "protocol-ast"};
Value *strPtr214 = (Value *)&str214;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str215 = {StringType, -1, 24, 0, "protocol-sym, prototypes"};
Value *strPtr215 = (Value *)&str215;
Value *arityImpl4121(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr215, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr214, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4122 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4121};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str216 = {StringType, -1, 26, 0, "*protocol-ast constructor*"};
Value *strPtr216 = (Value *)&str216;
Value *protocol_ast_const_type_name_4123(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr216);

};};
FnArity protocol_ast_const_type_name_4124 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_const_type_name_4123};
Value *protocol_ast_instance_QMARK__4125(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4109_4110, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity protocol_ast_instance_QMARK__4126 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_instance_QMARK__4125};
Value *protocol_ast_invoke_4127(List *closures, Value *arg0, Value *protocol_sym_1, Value *prototypes_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, protocol_sym_1);
newVect3 = mutateVectConj(newVect3, prototypes_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_4109_4110, rslt4);
return(rslt5);

};};
FnArity protocol_ast_invoke_4128 = {FnArityType, -1, 3, (List *)0, 0, protocol_ast_invoke_4127};
ReifiedVal reifiedStatic4129 = {120, -1, (Value *)0, 0, {}};
Value *reifiedPtr4130 = (Value *)&reifiedStatic4129;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str217 = {StringType, -1, 13, 0, "<ProtocolAST "};
Value *strPtr217 = (Value *)&str217;
Value *protocol_ast_string_list_4131(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *protocol_sym_2;
Value *prototypes_3;
Value *tail_4;
Value **destArgs5[3] = {&protocol_sym_2, &prototypes_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "265", (Value *)rslt1, 3, destArgs5);

dec_and_free(prototypes_3, 1);

dec_and_free(tail_4, 1);

// static-variadic
// #line 267 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)protocol_sym_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 267 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr217, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity protocol_ast_string_list_4132 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_string_list_4131};
Value *protocol_ast_EQ_STAR__4133(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity protocol_ast_EQ_STAR__4134 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_EQ_STAR__4133};
Value *protocol_ast_type_name_4135(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr214);

};};
FnArity protocol_ast_type_name_4136 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_type_name_4135};
Value *protocol_ast_has_field_4137(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4112, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4111, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity protocol_ast_has_field_4138 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_has_field_4137};
Value *protocol_ast_protocol_sym_4139(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity protocol_ast_protocol_sym_4140 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_protocol_sym_4139};
Value *protocol_ast_protocol_sym_4141(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity protocol_ast_protocol_sym_4142 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_protocol_sym_4141};
Value *protocol_ast_prototypes_4143(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity protocol_ast_prototypes_4144 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_prototypes_4143};
Value *protocol_ast_prototypes_4145(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity protocol_ast_prototypes_4146 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_prototypes_4145};
Value *protocol_ast_get_4147(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity protocol_ast_get_4148 = {FnArityType, -1, 2, (List *)0, 0, protocol_ast_get_4147};
Value *protocol_ast_assoc_STAR__4149(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity protocol_ast_assoc_STAR__4150 = {FnArityType, -1, 5, (List *)0, 0, protocol_ast_assoc_STAR__4149};
Value *protocol_ast_file_name_4151(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *protocol_sym_2;
Value *prototypes_3;
Value *tail_4;
Value **destArgs5[3] = {&protocol_sym_2, &prototypes_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "265", (Value *)rslt1, 3, destArgs5);

dec_and_free(prototypes_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 270 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", protocol_sym_2, "/Users/jim/toccata/ast.toc", 270);
return(rslt6);

};};
FnArity protocol_ast_file_name_4152 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_file_name_4151};
Value *protocol_ast_line_number_4153(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *protocol_sym_2;
Value *prototypes_3;
Value *tail_4;
Value **destArgs5[3] = {&protocol_sym_2, &prototypes_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "265", (Value *)rslt1, 3, destArgs5);

dec_and_free(prototypes_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 271 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", protocol_sym_2, "/Users/jim/toccata/ast.toc", 271);
return(rslt6);

};};
FnArity protocol_ast_line_number_4154 = {FnArityType, -1, 1, (List *)0, 0, protocol_ast_line_number_4153};
ReifiedVal reifiedStatic4155 = {121, -1, (Value *)0, 0, {}};
Value *reifiedPtr4156 = (Value *)&reifiedStatic4155;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str218 = {StringType, -1, 3, 0, "hex"};
Value *strPtr218 = (Value *)&str218;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str219 = {StringType, -1, 1, 0, "F"};
Value *strPtr219 = (Value *)&str219;
Value *hex_4157;

// --------- protocol -------------
Value *protocol_4159;
Value *protocol_4160(List *closures, Value *sym_0, Value *prototypes_1) {
 while (1) {

// call invoke
// #line 274 "/Users/jim/toccata/ast.toc"
Value *rslt2 = protocol_ast_invoke_4127(empty_list, reifiedPtr4130, sym_0, prototypes_1);
return(rslt2);

};};
FnArity protocol_4161 = {FnArityType, -1, 2, (List *)0, 0, protocol_4160};
Function protocol_4162 = {FunctionType, -1, "protocol", 1, {&protocol_4161}};
Value *protocol_4159 = (Value *)&protocol_4162;


// --------- one-of -------------
Value *one_of_4164;
Value *one_of_4165(List *closures, Value *coll_0) {
 while (1) {
Value *f_1 = any_3692;

// type-unknown seq
// #line 140 "/Users/jim/toccata/grammar.toc"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", coll_0, "/Users/jim/toccata/grammar.toc", 140);

// call-list
// #line 140 "/Users/jim/toccata/grammar.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_1, rslt6);
return(rslt7);

};};
FnArity one_of_4166 = {FnArityType, -1, 1, (List *)0, 0, one_of_4165};
Function one_of_4167 = {FunctionType, -1, "one-of", 1, {&one_of_4166}};
Value *one_of_4164 = (Value *)&one_of_4167;


// --------- apply-fn -------------
Value *apply_fn_4169;
Value *apply_fn_4170(List *closures, Value *arg2) {
 while (1) {
Value *f_0;
Value *rules_1;
Value **destArgs3[2] = {&f_0, &rules_1};
destructValue("/Users/jim/toccata/grammar.toc", "142", (Value *)arg2, 2, destArgs3);

// call invoke
// #line 143 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = pure_invoke_2845(empty_list, reifiedPtr2848, f_0);
Value *f_5 = rslt4;

incRef(f_5, 1);
Value *l_6 = rules_1;

// static-fixed
// #line 1051 "core"
Value *rslt7 = list_map_73(empty_list, l_6, string_terminal_3307);
Value *args_8 = rslt7;
Value *rslt9 = reified_type_args_22(empty_list, f_5);
Value *v_10;
Value *tail_11;
Value **destArgs12[2] = {&v_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(v_10, 1);

dec_and_free(tail_11, 1);

// call invoke
// #line 110 "/Users/jim/toccata/free.toc"
Value *rslt13 = free_app_invoke_2632(empty_list, reifiedPtr2635, f_5, args_8);
return(rslt13);

};};
FnArity apply_fn_4171 = {FnArityType, -1, 1, (List *)0, 1, apply_fn_4170};
Function apply_fn_4172 = {FunctionType, -1, "apply-fn", 1, {&apply_fn_4171}};
Value *apply_fn_4169 = (Value *)&apply_fn_4172;

Value *type_val_4173_4174;
ProtoImpls protoImpls4178;
ProtoImpls protoImpls4180;
Value *dispatchFnPtr4176;
Value *protoImpl4177(List *closures, Value *arg);
Value *protoImpl4179(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4182;
ProtoImpls protoImpls4184;
Value *dispatchFnPtr4175;
Value *protoImpl4181(List *closures, Value *arg);
Value *protoImpl4183(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str220 = {StringType, -1, 10, 0, "extend-ast"};
Value *strPtr220 = (Value *)&str220;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str221 = {StringType, -1, 11, 0, "type, impls"};
Value *strPtr221 = (Value *)&str221;
Value *arityImpl4185(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr221, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr220, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4186 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4185};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str222 = {StringType, -1, 24, 0, "*extend-ast constructor*"};
Value *strPtr222 = (Value *)&str222;
Value *extend_ast_const_type_name_4187(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr222);

};};
FnArity extend_ast_const_type_name_4188 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_const_type_name_4187};
Value *extend_ast_instance_QMARK__4189(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4173_4174, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity extend_ast_instance_QMARK__4190 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_instance_QMARK__4189};
Value *extend_ast_invoke_4191(List *closures, Value *arg0, Value *type_1, Value *impls_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, type_1);
newVect3 = mutateVectConj(newVect3, impls_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_4173_4174, rslt4);
return(rslt5);

};};
FnArity extend_ast_invoke_4192 = {FnArityType, -1, 3, (List *)0, 0, extend_ast_invoke_4191};
ReifiedVal reifiedStatic4193 = {122, -1, (Value *)0, 0, {}};
Value *reifiedPtr4194 = (Value *)&reifiedStatic4193;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str223 = {StringType, -1, 11, 0, "<ExtendAST "};
Value *strPtr223 = (Value *)&str223;
Value *extend_ast_string_list_4195(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "277", (Value *)rslt1, 3, destArgs5);

dec_and_free(impls_3, 1);

dec_and_free(tail_4, 1);

// static-variadic
// #line 279 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)type_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 279 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr223, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity extend_ast_string_list_4196 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_string_list_4195};
Value *extend_ast_EQ_STAR__4197(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity extend_ast_EQ_STAR__4198 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_EQ_STAR__4197};
Value *extend_ast_type_name_4199(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr220);

};};
FnArity extend_ast_type_name_4200 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_type_name_4199};
Value *extend_ast_has_field_4201(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4176, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4175, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity extend_ast_has_field_4202 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_has_field_4201};
Value *extend_ast_type_4203(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity extend_ast_type_4204 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_type_4203};
Value *extend_ast_type_4205(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity extend_ast_type_4206 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_type_4205};
Value *extend_ast_impls_4207(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity extend_ast_impls_4208 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_impls_4207};
Value *extend_ast_impls_4209(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity extend_ast_impls_4210 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_impls_4209};
Value *extend_ast_get_4211(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity extend_ast_get_4212 = {FnArityType, -1, 2, (List *)0, 0, extend_ast_get_4211};
Value *extend_ast_assoc_STAR__4213(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity extend_ast_assoc_STAR__4214 = {FnArityType, -1, 5, (List *)0, 0, extend_ast_assoc_STAR__4213};
Value *extend_ast_file_name_4215(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "277", (Value *)rslt1, 3, destArgs5);

dec_and_free(impls_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 282 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", type_2, "/Users/jim/toccata/ast.toc", 282);
return(rslt6);

};};
FnArity extend_ast_file_name_4216 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_file_name_4215};
Value *extend_ast_line_number_4217(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "277", (Value *)rslt1, 3, destArgs5);

dec_and_free(impls_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 283 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", type_2, "/Users/jim/toccata/ast.toc", 283);
return(rslt6);

};};
FnArity extend_ast_line_number_4218 = {FnArityType, -1, 1, (List *)0, 0, extend_ast_line_number_4217};
ReifiedVal reifiedStatic4219 = {123, -1, (Value *)0, 0, {}};
Value *reifiedPtr4220 = (Value *)&reifiedStatic4219;

// --------- type-extension -------------
Value *type_extension_4222;
Value *type_extension_4223(List *closures, Value *type_0, Value *impls_1) {
 while (1) {

// call invoke
// #line 286 "/Users/jim/toccata/ast.toc"
Value *rslt2 = extend_ast_invoke_4191(empty_list, reifiedPtr4194, type_0, impls_1);
return(rslt2);

};};
FnArity type_extension_4224 = {FnArityType, -1, 2, (List *)0, 0, type_extension_4223};
Function type_extension_4225 = {FunctionType, -1, "type-extension", 1, {&type_extension_4224}};
Value *type_extension_4222 = (Value *)&type_extension_4225;


// --------- optional -------------
Value *optional_4227;
Value *optional_4228(List *closures, Value *rule_0) {
 while (1) {

// call invoke
// #line 146 "/Users/jim/toccata/grammar.toc"
Value *rslt1 = pure_invoke_2845(empty_list, reifiedPtr2848, maybe_3);
Value *f_2 = rslt1;

incRef(f_2, 1);

// type-unknown string-terminal
// #line 146 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = proto1Arg(&string_terminal_Implementations_3309, "<nothing>/string-terminal", rule_0, "/Users/jim/toccata/grammar.toc", 146);

// call-list
// #line 146 "/Users/jim/toccata/grammar.toc"
List *newList4 = empty_list;
newList4 = listCons((Value *)rslt3, newList4);
Value *rslt5 = (Value *)newList4;
Value *args_6 = rslt5;
Value *rslt7 = reified_type_args_22(empty_list, f_2);
Value *v_8;
Value *tail_9;
Value **destArgs10[2] = {&v_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(v_8, 1);

dec_and_free(tail_9, 1);

// call invoke
// #line 110 "/Users/jim/toccata/free.toc"
Value *rslt11 = free_app_invoke_2632(empty_list, reifiedPtr2635, f_2, args_6);

// static-fixed
// #line 147 "/Users/jim/toccata/grammar.toc"
Value *rslt12 = constantly_1504(empty_list, nothing_7);

// call invoke
// #line 147 "/Users/jim/toccata/grammar.toc"
Value *rslt13 = pure_invoke_2845(empty_list, reifiedPtr2848, rslt12);
Value *f_14 = rslt13;

incRef(f_14, 1);

// static-fixed
// #line 148 "/Users/jim/toccata/grammar.toc"
Value *rslt15 = term_3256(empty_list, strPtr0);

// call-list
// #line 148 "/Users/jim/toccata/grammar.toc"
List *newList16 = empty_list;
newList16 = listCons((Value *)rslt15, newList16);
Value *rslt17 = (Value *)newList16;
Value *args_18 = rslt17;
Value *rslt19 = reified_type_args_22(empty_list, f_14);
Value *v_20;
Value *tail_21;
Value **destArgs22[2] = {&v_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(v_20, 1);

dec_and_free(tail_21, 1);

// call invoke
// #line 110 "/Users/jim/toccata/free.toc"
Value *rslt23 = free_app_invoke_2632(empty_list, reifiedPtr2635, f_14, args_18);

// static-variadic
// #line 146 "/Users/jim/toccata/grammar.toc"
List *varArgs24 = empty_list;
varArgs24 = (List *)listCons((Value *)rslt23, varArgs24);
varArgs24 = (List *)listCons((Value *)rslt11, varArgs24);
Value *rslt25 = any_3693(empty_list, (Value *)varArgs24);
return(rslt25);

};};
FnArity optional_4229 = {FnArityType, -1, 1, (List *)0, 0, optional_4228};
Function optional_4230 = {FunctionType, -1, "optional", 1, {&optional_4229}};
Value *optional_4227 = (Value *)&optional_4230;

Value *type_val_4231_4232;
ProtoImpls protoImpls4235;
ProtoImpls protoImpls4237;
Value *dispatchFnPtr4233;
Value *protoImpl4234(List *closures, Value *arg);
Value *protoImpl4236(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str224 = {StringType, -1, 10, 0, "quoted-ast"};
Value *strPtr224 = (Value *)&str224;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str225 = {StringType, -1, 5, 0, "q-val"};
Value *strPtr225 = (Value *)&str225;
Value *arityImpl4238(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr225, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr224, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4239 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4238};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str226 = {StringType, -1, 24, 0, "*quoted-ast constructor*"};
Value *strPtr226 = (Value *)&str226;
Value *quoted_ast_const_type_name_4240(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr226);

};};
FnArity quoted_ast_const_type_name_4241 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_const_type_name_4240};
Value *quoted_ast_instance_QMARK__4242(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4231_4232, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity quoted_ast_instance_QMARK__4243 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_instance_QMARK__4242};
Value *quoted_ast_invoke_4244(List *closures, Value *arg0, Value *q_val_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, q_val_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_4231_4232, rslt3);
return(rslt4);

};};
FnArity quoted_ast_invoke_4245 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_invoke_4244};
ReifiedVal reifiedStatic4246 = {124, -1, (Value *)0, 0, {}};
Value *reifiedPtr4247 = (Value *)&reifiedStatic4246;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str227 = {StringType, -1, 8, 0, "<Quoted "};
Value *strPtr227 = (Value *)&str227;
Value *quoted_ast_string_list_4248(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *q_val_2;
Value *tail_3;
Value **destArgs4[2] = {&q_val_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "289", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// static-variadic
// #line 292 "/Users/jim/toccata/ast.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)q_val_2, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// call-list
// #line 292 "/Users/jim/toccata/ast.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr2, newList7);
newList7 = listCons((Value *)rslt6, newList7);
newList7 = listCons((Value *)strPtr227, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity quoted_ast_string_list_4249 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_string_list_4248};
Value *quoted_ast_EQ_STAR__4250(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity quoted_ast_EQ_STAR__4251 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_EQ_STAR__4250};
Value *quoted_ast_type_name_4252(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr224);

};};
FnArity quoted_ast_type_name_4253 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_type_name_4252};
Value *quoted_ast_has_field_4254(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4233, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity quoted_ast_has_field_4255 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_has_field_4254};
Value *quoted_ast_q_val_4256(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity quoted_ast_q_val_4257 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_q_val_4256};
Value *quoted_ast_q_val_4258(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity quoted_ast_q_val_4259 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_q_val_4258};
Value *quoted_ast_get_4260(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity quoted_ast_get_4261 = {FnArityType, -1, 2, (List *)0, 0, quoted_ast_get_4260};
Value *quoted_ast_assoc_STAR__4262(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity quoted_ast_assoc_STAR__4263 = {FnArityType, -1, 5, (List *)0, 0, quoted_ast_assoc_STAR__4262};
Value *quoted_ast_file_name_4264(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *q_val_2;
Value *tail_3;
Value **destArgs4[2] = {&q_val_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "289", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown file-name
// #line 295 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", q_val_2, "/Users/jim/toccata/ast.toc", 295);
return(rslt5);

};};
FnArity quoted_ast_file_name_4265 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_file_name_4264};
Value *quoted_ast_line_number_4266(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *q_val_2;
Value *tail_3;
Value **destArgs4[2] = {&q_val_2, &tail_3};
destructValue("/Users/jim/toccata/ast.toc", "289", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// type-unknown line-number
// #line 296 "/Users/jim/toccata/ast.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", q_val_2, "/Users/jim/toccata/ast.toc", 296);
return(rslt5);

};};
FnArity quoted_ast_line_number_4267 = {FnArityType, -1, 1, (List *)0, 0, quoted_ast_line_number_4266};
ReifiedVal reifiedStatic4268 = {125, -1, (Value *)0, 0, {}};
Value *reifiedPtr4269 = (Value *)&reifiedStatic4268;
Value *type_val_4270_4271;
ProtoImpls protoImpls4277;
ProtoImpls protoImpls4279;
Value *dispatchFnPtr4275;
Value *protoImpl4276(List *closures, Value *arg);
Value *protoImpl4278(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4281;
ProtoImpls protoImpls4283;
Value *dispatchFnPtr4274;
Value *protoImpl4280(List *closures, Value *arg);
Value *protoImpl4282(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4285;
ProtoImpls protoImpls4287;
Value *dispatchFnPtr4273;
Value *protoImpl4284(List *closures, Value *arg);
Value *protoImpl4286(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4289;
ProtoImpls protoImpls4291;
Value *dispatchFnPtr4272;
Value *protoImpl4288(List *closures, Value *arg);
Value *protoImpl4290(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str228 = {StringType, -1, 11, 0, "ParserState"};
Value *strPtr228 = (Value *)&str228;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[38];
} str229 = {StringType, -1, 37, 0, "curr-input, input, parser-fns, values"};
Value *strPtr229 = (Value *)&str229;
Value *arityImpl4292(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr229, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr228, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4293 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4292};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str230 = {StringType, -1, 25, 0, "*ParserState constructor*"};
Value *strPtr230 = (Value *)&str230;
Value *ParserState_const_type_name_4294(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr230);

};};
FnArity ParserState_const_type_name_4295 = {FnArityType, -1, 1, (List *)0, 0, ParserState_const_type_name_4294};
Value *ParserState_instance_QMARK__4296(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4270_4271, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ParserState_instance_QMARK__4297 = {FnArityType, -1, 2, (List *)0, 0, ParserState_instance_QMARK__4296};
Value *ParserState_invoke_4298(List *closures, Value *arg0, Value *curr_input_1, Value *input_2, Value *parser_fns_3, Value *values_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, curr_input_1);
newVect5 = mutateVectConj(newVect5, input_2);
newVect5 = mutateVectConj(newVect5, parser_fns_3);
newVect5 = mutateVectConj(newVect5, values_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_4270_4271, rslt6);
return(rslt7);

};};
FnArity ParserState_invoke_4299 = {FnArityType, -1, 5, (List *)0, 0, ParserState_invoke_4298};
ReifiedVal reifiedStatic4300 = {126, -1, (Value *)0, 0, {}};
Value *reifiedPtr4301 = (Value *)&reifiedStatic4300;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str231 = {StringType, -1, 13, 0, "<ParserState>"};
Value *strPtr231 = (Value *)&str231;
Value *ParserState_string_list_4302(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *curr_input_2;
Value *input_3;
Value *parser_fns_4;
Value *values_5;
Value *tail_6;
Value **destArgs7[5] = {&curr_input_2, &input_3, &parser_fns_4, &values_5, &tail_6};
destructValue("/Users/jim/toccata/recursive-descent.toc", "6", (Value *)rslt1, 5, destArgs7);

dec_and_free(curr_input_2, 1);

dec_and_free(input_3, 1);

dec_and_free(parser_fns_4, 1);

dec_and_free(values_5, 1);

dec_and_free(tail_6, 1);

// call-list
// #line 8 "/Users/jim/toccata/recursive-descent.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr231, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity ParserState_string_list_4303 = {FnArityType, -1, 1, (List *)0, 0, ParserState_string_list_4302};
Value *ParserState_EQ_STAR__4304(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ParserState_EQ_STAR__4305 = {FnArityType, -1, 2, (List *)0, 0, ParserState_EQ_STAR__4304};
Value *ParserState_type_name_4306(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr228);

};};
FnArity ParserState_type_name_4307 = {FnArityType, -1, 1, (List *)0, 0, ParserState_type_name_4306};
Value *ParserState_has_field_4308(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4275, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4274, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr4273, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4272, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity ParserState_has_field_4309 = {FnArityType, -1, 2, (List *)0, 0, ParserState_has_field_4308};
Value *ParserState_curr_input_4310(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParserState_curr_input_4311 = {FnArityType, -1, 2, (List *)0, 0, ParserState_curr_input_4310};
Value *ParserState_curr_input_4312(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParserState_curr_input_4313 = {FnArityType, -1, 1, (List *)0, 0, ParserState_curr_input_4312};
Value *ParserState_input_4314(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParserState_input_4315 = {FnArityType, -1, 2, (List *)0, 0, ParserState_input_4314};
Value *ParserState_input_4316(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParserState_input_4317 = {FnArityType, -1, 1, (List *)0, 0, ParserState_input_4316};
Value *ParserState_parser_fns_4318(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParserState_parser_fns_4319 = {FnArityType, -1, 2, (List *)0, 0, ParserState_parser_fns_4318};
Value *ParserState_parser_fns_4320(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParserState_parser_fns_4321 = {FnArityType, -1, 1, (List *)0, 0, ParserState_parser_fns_4320};
Value *ParserState_values_4322(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParserState_values_4323 = {FnArityType, -1, 2, (List *)0, 0, ParserState_values_4322};
Value *ParserState_values_4324(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParserState_values_4325 = {FnArityType, -1, 1, (List *)0, 0, ParserState_values_4324};
Value *ParserState_get_4326(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ParserState_get_4327 = {FnArityType, -1, 2, (List *)0, 0, ParserState_get_4326};
Value *ParserState_assoc_STAR__4328(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ParserState_assoc_STAR__4329 = {FnArityType, -1, 5, (List *)0, 0, ParserState_assoc_STAR__4328};
ReifiedVal reifiedStatic4330 = {127, -1, (Value *)0, 0, {}};
Value *reifiedPtr4331 = (Value *)&reifiedStatic4330;

// proto fn for RecursiveDescent/recursive-descent
Value *recursive_descent_4332;
ProtoImpls recursive_descent_Implementations_4334;
Value *recursive_descent_4333(List *closures, Value *arg0);

// --------- quoted -------------
Value *quoted_4336;
Value *quoted_4337(List *closures, Value *q_val_0) {
 while (1) {

// call invoke
// #line 299 "/Users/jim/toccata/ast.toc"
Value *rslt1 = quoted_ast_invoke_4244(empty_list, reifiedPtr4247, q_val_0);
return(rslt1);

};};
FnArity quoted_4338 = {FnArityType, -1, 1, (List *)0, 0, quoted_4337};
Function quoted_4339 = {FunctionType, -1, "quoted", 1, {&quoted_4338}};
Value *quoted_4336 = (Value *)&quoted_4339;


// proto fn for Ignored/ignore?
Value *ignore_QM__4340;
ProtoImpls ignore_QM__Implementations_4342;
Value *ignore_QM__4341(List *closures, Value *arg0);
Value *Default_ignore_QM__4343(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(nothing_7);

};};
FnArity Default_ignore_QM__4344 = {FnArityType, -1, 1, (List *)0, 0, Default_ignore_QM__4343};
Value *type_val_4345_4346;
ProtoImpls protoImpls4350;
ProtoImpls protoImpls4352;
Value *dispatchFnPtr4348;
Value *protoImpl4349(List *closures, Value *arg);
Value *protoImpl4351(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str232 = {StringType, -1, 9, 0, "reify-ast"};
Value *strPtr232 = (Value *)&str232;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str233 = {StringType, -1, 15, 0, "type-num, impls"};
Value *strPtr233 = (Value *)&str233;
Value *arityImpl4353(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr233, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr232, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4354 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4353};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str234 = {StringType, -1, 23, 0, "*reify-ast constructor*"};
Value *strPtr234 = (Value *)&str234;
Value *reify_ast_const_type_name_4355(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr234);

};};
FnArity reify_ast_const_type_name_4356 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_const_type_name_4355};
Value *reify_ast_instance_QMARK__4357(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4345_4346, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity reify_ast_instance_QMARK__4358 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_instance_QMARK__4357};
Value *reify_ast_invoke_4359(List *closures, Value *arg0, Value *type_num_1, Value *impls_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, type_num_1);
newVect3 = mutateVectConj(newVect3, impls_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_4345_4346, rslt4);
return(rslt5);

};};
FnArity reify_ast_invoke_4360 = {FnArityType, -1, 3, (List *)0, 0, reify_ast_invoke_4359};
ReifiedVal reifiedStatic4361 = {128, -1, (Value *)0, 0, {}};
Value *reifiedPtr4362 = (Value *)&reifiedStatic4361;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str235 = {StringType, -1, 7, 0, "<Reify>"};
Value *strPtr235 = (Value *)&str235;
Value *reify_ast_string_list_4363(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_num_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_num_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "302", (Value *)rslt1, 3, destArgs5);

dec_and_free(type_num_2, 1);

dec_and_free(impls_3, 1);

dec_and_free(tail_4, 1);

// call-list
// #line 304 "/Users/jim/toccata/ast.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr235, newList6);
Value *rslt7 = (Value *)newList6;
return(rslt7);

};};
FnArity reify_ast_string_list_4364 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_string_list_4363};
Value *reify_ast_EQ_STAR__4365(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity reify_ast_EQ_STAR__4366 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_EQ_STAR__4365};
Value *reify_ast_type_name_4367(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr232);

};};
FnArity reify_ast_type_name_4368 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_type_name_4367};
Value *reify_ast_has_field_4369(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4348, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4175, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity reify_ast_has_field_4370 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_has_field_4369};
Value *reify_ast_type_num_4371(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity reify_ast_type_num_4372 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_type_num_4371};
Value *reify_ast_type_num_4373(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity reify_ast_type_num_4374 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_type_num_4373};
Value *reify_ast_impls_4375(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity reify_ast_impls_4376 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_impls_4375};
Value *reify_ast_impls_4377(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity reify_ast_impls_4378 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_impls_4377};
Value *reify_ast_get_4379(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity reify_ast_get_4380 = {FnArityType, -1, 2, (List *)0, 0, reify_ast_get_4379};
Value *reify_ast_assoc_STAR__4381(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity reify_ast_assoc_STAR__4382 = {FnArityType, -1, 5, (List *)0, 0, reify_ast_assoc_STAR__4381};
Value *reify_ast_file_name_4383(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_num_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_num_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "302", (Value *)rslt1, 3, destArgs5);

dec_and_free(type_num_2, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 307 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", impls_3, "/Users/jim/toccata/ast.toc", 307);
return(rslt6);

};};
FnArity reify_ast_file_name_4384 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_file_name_4383};
Value *reify_ast_line_number_4385(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *type_num_2;
Value *impls_3;
Value *tail_4;
Value **destArgs5[3] = {&type_num_2, &impls_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "302", (Value *)rslt1, 3, destArgs5);

dec_and_free(type_num_2, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 308 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", impls_3, "/Users/jim/toccata/ast.toc", 308);
return(rslt6);

};};
FnArity reify_ast_line_number_4386 = {FnArityType, -1, 1, (List *)0, 0, reify_ast_line_number_4385};
ReifiedVal reifiedStatic4387 = {129, -1, (Value *)0, 0, {}};
Value *reifiedPtr4388 = (Value *)&reifiedStatic4387;

// --------- reified -------------
Value *reified_4390;
Value *reified_4391(List *closures, Value *type_num_0, Value *impls_1) {
 while (1) {

// call invoke
// #line 311 "/Users/jim/toccata/ast.toc"
Value *rslt2 = reify_ast_invoke_4359(empty_list, reifiedPtr4362, type_num_0, impls_1);
return(rslt2);

};};
FnArity reified_4392 = {FnArityType, -1, 2, (List *)0, 0, reified_4391};
Function reified_4393 = {FunctionType, -1, "reified", 1, {&reified_4392}};
Value *reified_4390 = (Value *)&reified_4393;

Value *arityImpl4399(List *closures, Value *value_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// call-vector
// #line 23 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, value_0);
newVect2 = mutateVectConj(newVect2, val1);
Value *rslt3 = (Value *)newVect2;
return(rslt3);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[44];
} str236 = {StringType, -1, 43, 0, "Could not get recursive descent state value"};
Value *strPtr236 = (Value *)&str236;
Value *arityImpl4396(List *closures, Value *parser_state_0) {
while (1) {

incRef(parser_state_0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-known for .key
// #line 21 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = get_state_value_key_2914(empty_list, val2);

// call-vector
// #line 21 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatchFnPtr4272);
newVect4 = mutateVectConj(newVect4, rslt3);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 21 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = get_in_1261(empty_list, parser_state_0, rslt5);
Value *mv_7 = rslt6;
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl4399;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)parser_state_0, (List *)dynArity8->closures);
Function *anon_4400 = malloc_function(1);
anon_4400->name = "anon";
anon_4400->arityCount = 1;
anon_4400->arities[0] = dynArity8;
Value *fn4398 = (Value *)anon_4400;

// static-fixed
// #line 975 "core"
Value *rslt9 = maybe_map_729(empty_list, mv_7, fn4398);
orRslt1 = rslt9;
if (!isNothing(orRslt1)) {
dec_and_free(val2, 1);
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// type-known for .key
// #line 25 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10 = get_state_value_key_2914(empty_list, val2);

// static-variadic
// #line 25 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)strPtr10, varArgs11);
varArgs11 = (List *)listCons((Value *)rslt10, varArgs11);
varArgs11 = (List *)listCons((Value *)strPtr10, varArgs11);
Value *rslt12 = str_526(empty_list, (Value *)varArgs11);

// static-variadic
// #line 24 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
varArgs13 = (List *)listCons((Value *)strPtr236, varArgs13);
Value *rslt14 = print_err_521(empty_list, (Value *)varArgs13);
Value *arg15 = rslt14;

dec_and_free(arg15, 1);

// static-fixed
// #line 26 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = abort_113(empty_list);
return(rslt16);
orRslt1 = rslt16;
}

};};
Value *recursive_descent_4394(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4396;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4401 = malloc_function(1);
anon_4401->name = "anon";
anon_4401->arityCount = 1;
anon_4401->arities[0] = dynArity1;
Value *fn4395 = (Value *)anon_4401;

// call invoke
// #line 20 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4395);

// call invoke
// #line 19 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4402 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4394};
Value *type_val_4403_4404;
ProtoImpls protoImpls4409;
ProtoImpls protoImpls4411;
Value *dispatchFnPtr4406;
Value *protoImpl4408(List *closures, Value *arg);
Value *protoImpl4410(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str237 = {StringType, -1, 8, 0, "type-ast"};
Value *strPtr237 = (Value *)&str237;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str238 = {StringType, -1, 18, 0, "sym, fields, impls"};
Value *strPtr238 = (Value *)&str238;
Value *arityImpl4412(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr238, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr237, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4413 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4412};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str239 = {StringType, -1, 22, 0, "*type-ast constructor*"};
Value *strPtr239 = (Value *)&str239;
Value *type_ast_const_type_name_4414(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr239);

};};
FnArity type_ast_const_type_name_4415 = {FnArityType, -1, 1, (List *)0, 0, type_ast_const_type_name_4414};
Value *type_ast_instance_QMARK__4416(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4403_4404, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity type_ast_instance_QMARK__4417 = {FnArityType, -1, 2, (List *)0, 0, type_ast_instance_QMARK__4416};
Value *type_ast_invoke_4418(List *closures, Value *arg0, Value *sym_1, Value *fields_2, Value *impls_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, sym_1);
newVect4 = mutateVectConj(newVect4, fields_2);
newVect4 = mutateVectConj(newVect4, impls_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_4403_4404, rslt5);
return(rslt6);

};};
FnArity type_ast_invoke_4419 = {FnArityType, -1, 4, (List *)0, 0, type_ast_invoke_4418};
ReifiedVal reifiedStatic4420 = {130, -1, (Value *)0, 0, {}};
Value *reifiedPtr4421 = (Value *)&reifiedStatic4420;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str240 = {StringType, -1, 9, 0, "<TypeAST "};
Value *strPtr240 = (Value *)&str240;
Value *type_ast_string_list_4422(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *fields_3;
Value *impls_4;
Value *tail_5;
Value **destArgs6[4] = {&sym_2, &fields_3, &impls_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "314", (Value *)rslt1, 4, destArgs6);

dec_and_free(fields_3, 1);

dec_and_free(impls_4, 1);

dec_and_free(tail_5, 1);

// static-variadic
// #line 316 "/Users/jim/toccata/ast.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)sym_2, varArgs7);
Value *rslt8 = str_526(empty_list, (Value *)varArgs7);

// call-list
// #line 316 "/Users/jim/toccata/ast.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr2, newList9);
newList9 = listCons((Value *)rslt8, newList9);
newList9 = listCons((Value *)strPtr240, newList9);
Value *rslt10 = (Value *)newList9;
return(rslt10);

};};
FnArity type_ast_string_list_4423 = {FnArityType, -1, 1, (List *)0, 0, type_ast_string_list_4422};
Value *type_ast_EQ_STAR__4424(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity type_ast_EQ_STAR__4425 = {FnArityType, -1, 2, (List *)0, 0, type_ast_EQ_STAR__4424};
Value *type_ast_type_name_4426(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr237);

};};
FnArity type_ast_type_name_4427 = {FnArityType, -1, 1, (List *)0, 0, type_ast_type_name_4426};
Value *type_ast_has_field_4428(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2501, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4406, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr4175, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity type_ast_has_field_4429 = {FnArityType, -1, 2, (List *)0, 0, type_ast_has_field_4428};
Value *type_ast_sym_4430(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity type_ast_sym_4431 = {FnArityType, -1, 2, (List *)0, 0, type_ast_sym_4430};
Value *type_ast_sym_4432(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity type_ast_sym_4433 = {FnArityType, -1, 1, (List *)0, 0, type_ast_sym_4432};
Value *type_ast_fields_4434(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity type_ast_fields_4435 = {FnArityType, -1, 2, (List *)0, 0, type_ast_fields_4434};
Value *type_ast_fields_4436(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity type_ast_fields_4437 = {FnArityType, -1, 1, (List *)0, 0, type_ast_fields_4436};
Value *type_ast_impls_4438(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity type_ast_impls_4439 = {FnArityType, -1, 2, (List *)0, 0, type_ast_impls_4438};
Value *type_ast_impls_4440(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity type_ast_impls_4441 = {FnArityType, -1, 1, (List *)0, 0, type_ast_impls_4440};
Value *type_ast_get_4442(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity type_ast_get_4443 = {FnArityType, -1, 2, (List *)0, 0, type_ast_get_4442};
Value *type_ast_assoc_STAR__4444(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity type_ast_assoc_STAR__4445 = {FnArityType, -1, 5, (List *)0, 0, type_ast_assoc_STAR__4444};
Value *type_ast_file_name_4446(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *fields_3;
Value *impls_4;
Value *tail_5;
Value **destArgs6[4] = {&sym_2, &fields_3, &impls_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "314", (Value *)rslt1, 4, destArgs6);

dec_and_free(fields_3, 1);

dec_and_free(impls_4, 1);

dec_and_free(tail_5, 1);

// type-unknown file-name
// #line 319 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", sym_2, "/Users/jim/toccata/ast.toc", 319);
return(rslt7);

};};
FnArity type_ast_file_name_4447 = {FnArityType, -1, 1, (List *)0, 0, type_ast_file_name_4446};
Value *type_ast_line_number_4448(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *sym_2;
Value *fields_3;
Value *impls_4;
Value *tail_5;
Value **destArgs6[4] = {&sym_2, &fields_3, &impls_4, &tail_5};
destructValue("/Users/jim/toccata/ast.toc", "314", (Value *)rslt1, 4, destArgs6);

dec_and_free(fields_3, 1);

dec_and_free(impls_4, 1);

dec_and_free(tail_5, 1);

// type-unknown line-number
// #line 320 "/Users/jim/toccata/ast.toc"
Value *rslt7 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", sym_2, "/Users/jim/toccata/ast.toc", 320);
return(rslt7);

};};
FnArity type_ast_line_number_4449 = {FnArityType, -1, 1, (List *)0, 0, type_ast_line_number_4448};
ReifiedVal reifiedStatic4450 = {131, -1, (Value *)0, 0, {}};
Value *reifiedPtr4451 = (Value *)&reifiedStatic4450;

// --------- type-expr -------------
Value *type_expr_4453;
Value *type_expr_4454(List *closures, Value *sym_0, Value *fields_1, Value *impls_2) {
 while (1) {

// call invoke
// #line 323 "/Users/jim/toccata/ast.toc"
Value *rslt3 = type_ast_invoke_4418(empty_list, reifiedPtr4421, sym_0, fields_1, impls_2);
return(rslt3);

};};
FnArity type_expr_4455 = {FnArityType, -1, 3, (List *)0, 0, type_expr_4454};
Function type_expr_4456 = {FunctionType, -1, "type-expr", 1, {&type_expr_4455}};
Value *type_expr_4453 = (Value *)&type_expr_4456;

Value *type_val_4457_4458;
ProtoImpls protoImpls4461;
ProtoImpls protoImpls4463;
Value *dispatchFnPtr4459;
Value *protoImpl4460(List *closures, Value *arg);
Value *protoImpl4462(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str241 = {StringType, -1, 10, 0, "module-ast"};
Value *strPtr241 = (Value *)&str241;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str242 = {StringType, -1, 9, 0, "file-path"};
Value *strPtr242 = (Value *)&str242;
Value *arityImpl4464(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr242, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr241, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4465 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4464};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str243 = {StringType, -1, 24, 0, "*module-ast constructor*"};
Value *strPtr243 = (Value *)&str243;
Value *module_ast_const_type_name_4466(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr243);

};};
FnArity module_ast_const_type_name_4467 = {FnArityType, -1, 1, (List *)0, 0, module_ast_const_type_name_4466};
Value *module_ast_instance_QMARK__4468(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4457_4458, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity module_ast_instance_QMARK__4469 = {FnArityType, -1, 2, (List *)0, 0, module_ast_instance_QMARK__4468};
Value *module_ast_invoke_4470(List *closures, Value *arg0, Value *file_path_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, file_path_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_4457_4458, rslt3);
return(rslt4);

};};
FnArity module_ast_invoke_4471 = {FnArityType, -1, 2, (List *)0, 0, module_ast_invoke_4470};
ReifiedVal reifiedStatic4472 = {132, -1, (Value *)0, 0, {}};
Value *reifiedPtr4473 = (Value *)&reifiedStatic4472;
Value *module_ast_EQ_STAR__4474(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity module_ast_EQ_STAR__4475 = {FnArityType, -1, 2, (List *)0, 0, module_ast_EQ_STAR__4474};
Value *module_ast_type_name_4476(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr241);

};};
FnArity module_ast_type_name_4477 = {FnArityType, -1, 1, (List *)0, 0, module_ast_type_name_4476};
Value *module_ast_has_field_4478(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4459, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity module_ast_has_field_4479 = {FnArityType, -1, 2, (List *)0, 0, module_ast_has_field_4478};
Value *module_ast_file_path_4480(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity module_ast_file_path_4481 = {FnArityType, -1, 2, (List *)0, 0, module_ast_file_path_4480};
Value *module_ast_file_path_4482(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity module_ast_file_path_4483 = {FnArityType, -1, 1, (List *)0, 0, module_ast_file_path_4482};
Value *module_ast_get_4484(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity module_ast_get_4485 = {FnArityType, -1, 2, (List *)0, 0, module_ast_get_4484};
Value *module_ast_assoc_STAR__4486(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity module_ast_assoc_STAR__4487 = {FnArityType, -1, 5, (List *)0, 0, module_ast_assoc_STAR__4486};
ReifiedVal reifiedStatic4488 = {133, -1, (Value *)0, 0, {}};
Value *reifiedPtr4489 = (Value *)&reifiedStatic4488;

// --------- module -------------
Value *module_4491;
Value *module_4492(List *closures, Value *file_path_0) {
 while (1) {

// call invoke
// #line 329 "/Users/jim/toccata/ast.toc"
Value *rslt1 = module_ast_invoke_4470(empty_list, reifiedPtr4473, file_path_0);
return(rslt1);

};};
FnArity module_4493 = {FnArityType, -1, 1, (List *)0, 0, module_4492};
Function module_4494 = {FunctionType, -1, "module", 1, {&module_4493}};
Value *module_4491 = (Value *)&module_4494;

Value *type_val_4495_4496;
ProtoImpls protoImpls4501;
ProtoImpls protoImpls4503;
Value *dispatchFnPtr4499;
Value *protoImpl4500(List *closures, Value *arg);
Value *protoImpl4502(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4505;
ProtoImpls protoImpls4507;
Value *dispatchFnPtr4498;
Value *protoImpl4504(List *closures, Value *arg);
Value *protoImpl4506(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str244 = {StringType, -1, 11, 0, "git-dep-ast"};
Value *strPtr244 = (Value *)&str244;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str245 = {StringType, -1, 16, 0, "repo, file, args"};
Value *strPtr245 = (Value *)&str245;
Value *arityImpl4508(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr245, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr244, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4509 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4508};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str246 = {StringType, -1, 25, 0, "*git-dep-ast constructor*"};
Value *strPtr246 = (Value *)&str246;
Value *git_dep_ast_const_type_name_4510(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr246);

};};
FnArity git_dep_ast_const_type_name_4511 = {FnArityType, -1, 1, (List *)0, 0, git_dep_ast_const_type_name_4510};
Value *git_dep_ast_instance_QMARK__4512(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4495_4496, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity git_dep_ast_instance_QMARK__4513 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_instance_QMARK__4512};
Value *git_dep_ast_invoke_4514(List *closures, Value *arg0, Value *repo_1, Value *file_2, Value *args_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, repo_1);
newVect4 = mutateVectConj(newVect4, file_2);
newVect4 = mutateVectConj(newVect4, args_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_4495_4496, rslt5);
return(rslt6);

};};
FnArity git_dep_ast_invoke_4515 = {FnArityType, -1, 4, (List *)0, 0, git_dep_ast_invoke_4514};
ReifiedVal reifiedStatic4516 = {134, -1, (Value *)0, 0, {}};
Value *reifiedPtr4517 = (Value *)&reifiedStatic4516;
Value *git_dep_ast_EQ_STAR__4518(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity git_dep_ast_EQ_STAR__4519 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_EQ_STAR__4518};
Value *git_dep_ast_type_name_4520(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr244);

};};
FnArity git_dep_ast_type_name_4521 = {FnArityType, -1, 1, (List *)0, 0, git_dep_ast_type_name_4520};
Value *git_dep_ast_has_field_4522(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4499, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4498, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2620, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity git_dep_ast_has_field_4523 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_has_field_4522};
Value *git_dep_ast_repo_4524(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity git_dep_ast_repo_4525 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_repo_4524};
Value *git_dep_ast_repo_4526(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity git_dep_ast_repo_4527 = {FnArityType, -1, 1, (List *)0, 0, git_dep_ast_repo_4526};
Value *git_dep_ast_file_4528(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity git_dep_ast_file_4529 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_file_4528};
Value *git_dep_ast_file_4530(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity git_dep_ast_file_4531 = {FnArityType, -1, 1, (List *)0, 0, git_dep_ast_file_4530};
Value *git_dep_ast_args_4532(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity git_dep_ast_args_4533 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_args_4532};
Value *git_dep_ast_args_4534(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity git_dep_ast_args_4535 = {FnArityType, -1, 1, (List *)0, 0, git_dep_ast_args_4534};
Value *git_dep_ast_get_4536(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity git_dep_ast_get_4537 = {FnArityType, -1, 2, (List *)0, 0, git_dep_ast_get_4536};
Value *git_dep_ast_assoc_STAR__4538(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity git_dep_ast_assoc_STAR__4539 = {FnArityType, -1, 5, (List *)0, 0, git_dep_ast_assoc_STAR__4538};
ReifiedVal reifiedStatic4540 = {135, -1, (Value *)0, 0, {}};
Value *reifiedPtr4541 = (Value *)&reifiedStatic4540;

// --------- git-dep -------------
Value *git_dep_4543;
Value *git_dep_4544(List *closures, Value *repo_0, Value *file_1, Value *args_2) {
 while (1) {

// call invoke
// #line 335 "/Users/jim/toccata/ast.toc"
Value *rslt3 = git_dep_ast_invoke_4514(empty_list, reifiedPtr4517, repo_0, file_1, args_2);
return(rslt3);

};};
FnArity git_dep_4545 = {FnArityType, -1, 3, (List *)0, 0, git_dep_4544};
Function git_dep_4546 = {FunctionType, -1, "git-dep", 1, {&git_dep_4545}};
Value *git_dep_4543 = (Value *)&git_dep_4546;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str247 = {StringType, -1, 46, 0, "Could not update recursive descent state value"};
Value *strPtr247 = (Value *)&str247;
Value *arityImpl4549(List *closures, Value *parser_state_0) {
while (1) {

incRef(parser_state_0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs33[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs33);

incRef(val2, 3);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-known for .key
// #line 33 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = update_state_value_key_2966(empty_list, val2);

// call-vector
// #line 33 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatchFnPtr4272);
newVect4 = mutateVectConj(newVect4, rslt3);
Value *rslt5 = (Value *)newVect4;

// type-known for .f
// #line 33 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = update_state_value_f_2970(empty_list, val2);

// static-fixed
// #line 33 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7 = update_in_1266(empty_list, parser_state_0, rslt5, rslt6);
Value *wrapper_8 = rslt7;

incRef(wrapper_8, 1);
Value *mv_9 = wrapper_8;

incRef(mv_9, 1);
Value *andRslt10;
andRslt10 = mv_9;
if (isNothing(andRslt10)) {
dec_and_free(wrapper_8, 1);
dec_and_free(val2, 1);
dec_and_free(parser_state_0, 1);
dec_and_free(mv_9, 1);
} else {
dec_and_free(andRslt10, 1);

// type-known for extract
// #line 984 "core"
Value *rslt11 = Maybe_extract_757(empty_list, mv_9);
Value *new_state_12 = rslt11;

// type-known for .key
// #line 34 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = update_state_value_key_2966(empty_list, val2);

// call-vector
// #line 34 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, dispatchFnPtr4272);
newVect14 = mutateVectConj(newVect14, rslt13);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 34 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = get_in_1261(empty_list, parser_state_0, rslt15);
Value *mv_17 = rslt16;

incRef(mv_17, 1);
Value *andRslt18;
andRslt18 = mv_17;
if (isNothing(andRslt18)) {
dec_and_free(wrapper_8, 1);
dec_and_free(new_state_12, 1);
dec_and_free(mv_17, 1);
} else {
dec_and_free(andRslt18, 1);

// type-known for extract
// #line 984 "core"
Value *rslt19 = Maybe_extract_757(empty_list, mv_17);
Value *old_value_20 = rslt19;
Value *__21 = wrapper_8;

dec_and_free(__21, 1);

// call-vector
// #line 35 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, old_value_20);
newVect22 = mutateVectConj(newVect22, new_state_12);
Value *rslt23 = (Value *)newVect22;
Value *mv_24 = rslt23;

// static-fixed
// #line 978 "core"
Value *rslt25 = maybe_4(empty_list, mv_24);
andRslt18 = rslt25;
}
andRslt10 = andRslt18;
}
orRslt1 = andRslt10;
if (!isNothing(orRslt1)) {
dec_and_free(val2, 1);
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// type-known for .key
// #line 37 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt26 = update_state_value_key_2966(empty_list, val2);

// static-variadic
// #line 37 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs27 = empty_list;
varArgs27 = (List *)listCons((Value *)strPtr10, varArgs27);
varArgs27 = (List *)listCons((Value *)rslt26, varArgs27);
varArgs27 = (List *)listCons((Value *)strPtr10, varArgs27);
Value *rslt28 = str_526(empty_list, (Value *)varArgs27);

// static-variadic
// #line 36 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs29 = empty_list;
varArgs29 = (List *)listCons((Value *)rslt28, varArgs29);
varArgs29 = (List *)listCons((Value *)strPtr247, varArgs29);
Value *rslt30 = print_err_521(empty_list, (Value *)varArgs29);
Value *arg31 = rslt30;

dec_and_free(arg31, 1);

// static-fixed
// #line 38 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt32 = abort_113(empty_list);
return(rslt32);
orRslt1 = rslt32;
}

};};
Value *recursive_descent_4547(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4549;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4552 = malloc_function(1);
anon_4552->name = "anon";
anon_4552->arityCount = 1;
anon_4552->arities[0] = dynArity1;
Value *fn4548 = (Value *)anon_4552;

// call invoke
// #line 32 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4548);

// call invoke
// #line 31 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4553 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4547};
Value *type_val_4554_4555;
ProtoImpls protoImpls4559;
ProtoImpls protoImpls4561;
Value *dispatchFnPtr4557;
Value *protoImpl4558(List *closures, Value *arg);
Value *protoImpl4560(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4563;
ProtoImpls protoImpls4565;
Value *dispatchFnPtr4556;
Value *protoImpl4562(List *closures, Value *arg);
Value *protoImpl4564(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str248 = {StringType, -1, 10, 0, "add-ns-ast"};
Value *strPtr248 = (Value *)&str248;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str249 = {StringType, -1, 11, 0, "ns-sym, mod"};
Value *strPtr249 = (Value *)&str249;
Value *arityImpl4566(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr249, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr248, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4567 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4566};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str250 = {StringType, -1, 24, 0, "*add-ns-ast constructor*"};
Value *strPtr250 = (Value *)&str250;
Value *add_ns_ast_const_type_name_4568(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr250);

};};
FnArity add_ns_ast_const_type_name_4569 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_const_type_name_4568};
Value *add_ns_ast_instance_QMARK__4570(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4554_4555, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity add_ns_ast_instance_QMARK__4571 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_instance_QMARK__4570};
Value *add_ns_ast_invoke_4572(List *closures, Value *arg0, Value *ns_sym_1, Value *mod_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, ns_sym_1);
newVect3 = mutateVectConj(newVect3, mod_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_4554_4555, rslt4);
return(rslt5);

};};
FnArity add_ns_ast_invoke_4573 = {FnArityType, -1, 3, (List *)0, 0, add_ns_ast_invoke_4572};
ReifiedVal reifiedStatic4574 = {136, -1, (Value *)0, 0, {}};
Value *reifiedPtr4575 = (Value *)&reifiedStatic4574;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str251 = {StringType, -1, 7, 0, "<AddNS "};
Value *strPtr251 = (Value *)&str251;
Value *add_ns_ast_string_list_4576(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_sym_2;
Value *mod_3;
Value *tail_4;
Value **destArgs5[3] = {&ns_sym_2, &mod_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "338", (Value *)rslt1, 3, destArgs5);

dec_and_free(mod_3, 1);

dec_and_free(tail_4, 1);

// static-variadic
// #line 340 "/Users/jim/toccata/ast.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)ns_sym_2, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// call-list
// #line 340 "/Users/jim/toccata/ast.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr251, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity add_ns_ast_string_list_4577 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_string_list_4576};
Value *add_ns_ast_EQ_STAR__4578(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity add_ns_ast_EQ_STAR__4579 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_EQ_STAR__4578};
Value *add_ns_ast_type_name_4580(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr248);

};};
FnArity add_ns_ast_type_name_4581 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_type_name_4580};
Value *add_ns_ast_has_field_4582(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4557, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4556, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity add_ns_ast_has_field_4583 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_has_field_4582};
Value *add_ns_ast_ns_sym_4584(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity add_ns_ast_ns_sym_4585 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_ns_sym_4584};
Value *add_ns_ast_ns_sym_4586(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity add_ns_ast_ns_sym_4587 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_ns_sym_4586};
Value *add_ns_ast_mod_4588(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity add_ns_ast_mod_4589 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_mod_4588};
Value *add_ns_ast_mod_4590(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity add_ns_ast_mod_4591 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_mod_4590};
Value *add_ns_ast_get_4592(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity add_ns_ast_get_4593 = {FnArityType, -1, 2, (List *)0, 0, add_ns_ast_get_4592};
Value *add_ns_ast_assoc_STAR__4594(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity add_ns_ast_assoc_STAR__4595 = {FnArityType, -1, 5, (List *)0, 0, add_ns_ast_assoc_STAR__4594};
Value *add_ns_ast_file_name_4596(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_sym_2;
Value *mod_3;
Value *tail_4;
Value **destArgs5[3] = {&ns_sym_2, &mod_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "338", (Value *)rslt1, 3, destArgs5);

dec_and_free(mod_3, 1);

dec_and_free(tail_4, 1);

// type-unknown file-name
// #line 343 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<nothing>/file-name", ns_sym_2, "/Users/jim/toccata/ast.toc", 343);
return(rslt6);

};};
FnArity add_ns_ast_file_name_4597 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_file_name_4596};
Value *add_ns_ast_line_number_4598(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_sym_2;
Value *mod_3;
Value *tail_4;
Value **destArgs5[3] = {&ns_sym_2, &mod_3, &tail_4};
destructValue("/Users/jim/toccata/ast.toc", "338", (Value *)rslt1, 3, destArgs5);

dec_and_free(mod_3, 1);

dec_and_free(tail_4, 1);

// type-unknown line-number
// #line 344 "/Users/jim/toccata/ast.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<nothing>/line-number", ns_sym_2, "/Users/jim/toccata/ast.toc", 344);
return(rslt6);

};};
FnArity add_ns_ast_line_number_4599 = {FnArityType, -1, 1, (List *)0, 0, add_ns_ast_line_number_4598};
ReifiedVal reifiedStatic4600 = {137, -1, (Value *)0, 0, {}};
Value *reifiedPtr4601 = (Value *)&reifiedStatic4600;

// --------- ns-add -------------
Value *ns_add_4603;
Value *ns_add_4604(List *closures, Value *ns_0, Value *mod_1) {
 while (1) {

// call invoke
// #line 347 "/Users/jim/toccata/ast.toc"
Value *rslt2 = add_ns_ast_invoke_4572(empty_list, reifiedPtr4575, ns_0, mod_1);
return(rslt2);

};};
FnArity ns_add_4605 = {FnArityType, -1, 2, (List *)0, 0, ns_add_4604};
Function ns_add_4606 = {FunctionType, -1, "ns-add", 1, {&ns_add_4605}};
Value *ns_add_4603 = (Value *)&ns_add_4606;


// --------- min -------------
Value *min_4608;
Value *min_4609(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(y_1, 1);

// static-fixed
// #line 13 "/Users/jim/toccata/reader.toc"
Value *rslt2 = _LT__531(empty_list, x_0, y_1);
if (!isNothing(rslt2)) {
dec_and_free(y_1, 1);
return(maybeExtract(rslt2));
} else {
dec_and_free(rslt2, 1);
return(y_1);
}

};};
FnArity min_4610 = {FnArityType, -1, 2, (List *)0, 0, min_4609};
Function min_4611 = {FunctionType, -1, "min", 1, {&min_4610}};
Value *min_4608 = (Value *)&min_4611;

Value *arityImpl4617(List *closures, Value *arg1) {
while (1) {
Value *parsed_values_0 = (Value *)arg1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *f_3 = val2;

// static-fixed
// #line 45 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt4 = remove_1488(empty_list, parsed_values_0, ignore_QM__4340);

// call-list
// #line 45 "/Users/jim/toccata/recursive-descent.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;
Value *args_7 = rslt6;

// static-fixed
// #line 737 "core"
Value *rslt8 = fn_apply_98(empty_list, list_STAR__478, args_7);

// static-fixed
// #line 737 "core"
Value *rslt9 = fn_apply_98(empty_list, f_3, rslt8);
return(rslt9);

};};
Value *arityImpl4620(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs44[3] = {&val2, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs44);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-known for empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = List_empty_QM__473(empty_list, val2);
Value *mv_4 = rslt3;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect5 = empty_vect;
Value *rslt6 = (Value *)newVect5;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, rslt6);
newVect7 = mutateVectConj(newVect7, s_0);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = constantly_1504(empty_list, rslt8);

// static-fixed
// #line 975 "core"
Value *rslt10 = maybe_map_729(empty_list, mv_4, rslt9);
orRslt1 = rslt10;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt11;
}
Value *x_12 = orRslt1;

incRef(x_12, 1);
Value *andRslt13;
andRslt13 = x_12;
if (isNothing(andRslt13)) {
dec_and_free(val19, 1);
dec_and_free(x_12, 1);
return(nothing);
} else {
dec_and_free(andRslt13, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = Maybe_extract_757(empty_list, x_12);
Value *results_15;
Value *s_16;
Value *tail_17;
Value **destArgs18[3] = {&results_15, &s_16, &tail_17};
destructValue("", "0", (Value *)rslt14, 3, destArgs18);

incRef(results_15, 1);

dec_and_free(tail_17, 1);
Value *rslt20 = new_sm_invoke_2810(empty_list, val19, s_16);
Value *y_21 = rslt20;

incRef(y_21, 1);
Value *andRslt22;
andRslt22 = y_21;
if (isNothing(andRslt22)) {
dec_and_free(results_15, 2);
dec_and_free(y_21, 1);
return(nothing);
} else {
dec_and_free(andRslt22, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_21, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_24;
Value *s_25;
Value *tail_26;
Value **destArgs27[3] = {&f_24, &s_25, &tail_26};
destructValue("", "0", (Value *)rslt23, 3, destArgs27);

incRef(f_24, 1);

incRef(s_25, 1);

dec_and_free(tail_26, 1);
Value *orRslt28;
Value *andRslt29;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_15, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt29 = rslt30;
if (isNothing(andRslt29)) {
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
} else {
dec_and_free(andRslt29, 1);
Value *rslt34;
if((f_24)->type != FunctionType) {
rslt34 = invoke_366(empty_list, f_24);
} else {
FnArity *arity31 = findFnArity(f_24, 0);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType0 *fn33 = (FnType0 *)arity31->fn;
rslt34 = fn33(arity31->closures);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_24)->name);
  abort();
}
dec_and_free(f_24, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect35 = empty_vect;
newVect35 = mutateVectConj(newVect35, rslt34);
newVect35 = mutateVectConj(newVect35, s_25);
Value *rslt36 = (Value *)newVect35;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = maybe_4(empty_list, rslt36);
andRslt29 = rslt37;
}
orRslt28 = andRslt29;
if (!isNothing(orRslt28)) {
dec_and_free(results_15, 1);
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
return(orRslt28);
} else {
dec_and_free(orRslt28, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList38 = empty_list;
newList38 = listCons((Value *)results_15, newList38);
Value *rslt39 = (Value *)newList38;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt40 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_24, rslt39, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, rslt40);
newVect41 = mutateVectConj(newVect41, s_25);
Value *rslt42 = (Value *)newVect41;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt43 = maybe_4(empty_list, rslt42);
return(rslt43);
orRslt28 = rslt43;
}
andRslt22 = orRslt28;
}
andRslt13 = andRslt22;
}

};};
Value *arityImpl4614(List *closures, Value *arg1) {
while (1) {
Value *rules_0 = (Value *)arg1;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs13);

dec_and_free(closuresTail, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 1;
dynArity2->fn = arityImpl4617;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)val3, (List *)dynArity2->closures);
Function *anon_4618 = malloc_function(1);
anon_4618->name = "anon";
anon_4618->arityCount = 1;
anon_4618->arities[0] = dynArity2;
Value *fn4616 = (Value *)anon_4618;

// call invoke
// #line 44 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt4 = arityImpl2933(empty_list, reifiedPtr2939, fn4616);
Value *fv_5 = rslt4;

incRef(fv_5, 1);
Value *args_6 = rules_0;
Value *rslt7 = reified_type_args_22(empty_list, fv_5);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(invoke_fn_8, 1);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl4620;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)fv_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)args_6, (List *)dynArity11->closures);
Function *anon_4621 = malloc_function(1);
anon_4621->name = "anon";
anon_4621->arityCount = 1;
anon_4621->arities[0] = dynArity11;
Value *fn4619 = (Value *)anon_4621;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4619);
return(rslt12);

};};
Value *Function_recursive_descent_4612(List *closures, Value *f_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 1;
dynArity1->fn = arityImpl4614;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)f_0, (List *)dynArity1->closures);
Function *anon_4622 = malloc_function(1);
anon_4622->name = "anon";
anon_4622->arityCount = 1;
anon_4622->arities[0] = dynArity1;
Value *fn4613 = (Value *)anon_4622;

// call invoke
// #line 43 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, fn4613);
return(rslt2);

};};
FnArity Function_recursive_descent_4623 = {FnArityType, -1, 1, (List *)0, 0, Function_recursive_descent_4612};

// --------- debug -------------
Value *debug_4625;
Integer num7 = {IntegerType, -1, 40};
Value *numPtr7 = (Value *)&num7;
Value *arityImpl4628(List *closures, Value *text_0) {
while (1) {

incRef(text_0, 2);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// type-unknown count
// #line 20 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", text_0, "/Users/jim/toccata/reader.toc", 20);

// type-unknown count
// #line 21 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", text_0, "/Users/jim/toccata/reader.toc", 21);

// static-fixed
// #line 21 "/Users/jim/toccata/reader.toc"
Value *rslt4 = min_4609(empty_list, numPtr7, rslt3);

// static-fixed
// #line 21 "/Users/jim/toccata/reader.toc"
Value *rslt5 = subs_215(empty_list, text_0, numPtr0, rslt4);

// static-variadic
// #line 21 "/Users/jim/toccata/reader.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)strPtr8, varArgs6);
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr8, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// static-variadic
// #line 20 "/Users/jim/toccata/reader.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)rslt7, varArgs8);
varArgs8 = (List *)listCons((Value *)rslt2, varArgs8);
varArgs8 = (List *)listCons((Value *)val1, varArgs8);
Value *rslt9 = print_err_521(empty_list, (Value *)varArgs8);

dec_and_free(rslt9, 1);
return(numPtr0);

};};
Value *debug_4626(List *closures, Value *tag_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4628;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)tag_0, (List *)dynArity1->closures);
Function *anon_4629 = malloc_function(1);
anon_4629->name = "anon";
anon_4629->arityCount = 1;
anon_4629->arities[0] = dynArity1;
Value *fn4627 = (Value *)anon_4629;

// static-fixed
// #line 19 "/Users/jim/toccata/reader.toc"
Value *rslt2 = term_fn_3216(empty_list, fn4627);

// static-fixed
// #line 19 "/Users/jim/toccata/reader.toc"
Value *rslt3 = optional_4228(empty_list, rslt2);

// static-fixed
// #line 18 "/Users/jim/toccata/reader.toc"
Value *rslt4 = ignore_3466(empty_list, rslt3);
return(rslt4);

};};
FnArity debug_4630 = {FnArityType, -1, 1, (List *)0, 0, debug_4626};
Function debug_4631 = {FunctionType, -1, "debug", 1, {&debug_4630}};
Value *debug_4625 = (Value *)&debug_4631;


// --------- next-input-buffer -------------
Value *next_input_buffer_4633;
Value *arityImpl4636(List *closures, Value *new_text_0) {
while (1) {

incRef(new_text_0, 1);
Value *val1;
Value *val2;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[4] = {&val1, &val2, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs14);

dec_and_free(closuresTail, 1);

// type-unknown .curr-input
// #line 51 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = proto2Arg(&protoImpls4279, "<nothing>/.curr-input", val2, new_text_0, "/Users/jim/toccata/recursive-descent.toc", 51);
Value *s_4 = rslt3;

// type-unknown rest
// #line 52 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val5, "/Users/jim/toccata/recursive-descent.toc", 52);

// type-unknown empty?
// #line 52 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", new_text_0, "/Users/jim/toccata/recursive-descent.toc", 52);

// dynamic unknown type
// #line 52 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt11;
if((rslt7)->type != FunctionType) {
rslt11 = invoke_370(empty_list, rslt7, empty_list_0, rslt6);
} else {
FnArity *arity8 = findFnArity(rslt7, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, empty_list_0, rslt6);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(rslt6, dynArgs9);
dynArgs9 = (List *)listCons(empty_list_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt7)->name);
  abort();
}
dec_and_free(rslt7, 1);
}

// type-unknown .input
// #line 52 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt12 = proto2Arg(&protoImpls4283, "<nothing>/.input", s_4, rslt11, "/Users/jim/toccata/recursive-descent.toc", 52);

// type-unknown wrap
// #line 50 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt12, "/Users/jim/toccata/recursive-descent.toc", 50);
return(rslt13);

};};
Value *next_input_buffer_4634(List *closures, Value *s_0) {
 while (1) {

incRef(s_0, 1);

// type-unknown .input
// #line 49 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = proto1Arg(&protoImpls4281, "<nothing>/.input", s_0, "/Users/jim/toccata/recursive-descent.toc", 49);
Value *input_2 = rslt1;

incRef(input_2, 1);

// type-unknown first
// #line 50 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = proto1Arg(&first_Implementations_320, "<nothing>/first", input_2, "/Users/jim/toccata/recursive-descent.toc", 50);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl4636;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)input_2, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)s_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
Function *anon_4637 = malloc_function(1);
anon_4637->name = "anon";
anon_4637->arityCount = 1;
anon_4637->arities[0] = dynArity5;
Value *fn4635 = (Value *)anon_4637;

// type-unknown flat-map
// #line 50 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn4635, "/Users/jim/toccata/recursive-descent.toc", 50);
return(rslt6);

};};
FnArity next_input_buffer_4638 = {FnArityType, -1, 1, (List *)0, 0, next_input_buffer_4634};
Function next_input_buffer_4639 = {FunctionType, -1, "next-input-buffer", 1, {&next_input_buffer_4638}};
Value *next_input_buffer_4633 = (Value *)&next_input_buffer_4639;


// --------- error -------------
Value *error_4641;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str252 = {StringType, -1, 2, 0, "at"};
Value *strPtr252 = (Value *)&str252;
Value *arityImpl4644(List *closures, Value *file_0, Value *line_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 26 "/Users/jim/toccata/reader.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)line_1, varArgs3);
varArgs3 = (List *)listCons((Value *)file_0, varArgs3);
varArgs3 = (List *)listCons((Value *)strPtr252, varArgs3);
varArgs3 = (List *)listCons((Value *)val2, varArgs3);
Value *rslt4 = print_err_521(empty_list, (Value *)varArgs3);

dec_and_free(rslt4, 1);

// static-fixed
// #line 27 "/Users/jim/toccata/reader.toc"
Value *rslt5 = abort_113(empty_list);
return(rslt5);

};};
SubString sym2 = {SymbolType, -1, 9, 0, 0, "file-name"};
Value *symPtr2 = (Value *)&sym2;
SubString sym3 = {SymbolType, -1, 11, 0, 0, "line-number"};
Value *symPtr3 = (Value *)&sym3;
Value *error_4642(List *closures, Value *msg_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 2;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4644;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)msg_0, (List *)dynArity1->closures);
Function *anon_4645 = malloc_function(1);
anon_4645->name = "anon";
anon_4645->arityCount = 1;
anon_4645->arities[0] = dynArity1;
Value *fn4643 = (Value *)anon_4645;

// static-fixed
// #line 28 "/Users/jim/toccata/reader.toc"
Value *rslt2 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 29 "/Users/jim/toccata/reader.toc"
Value *rslt3 = get_value_2924(empty_list, symPtr3);

// static-variadic
// #line 25 "/Users/jim/toccata/reader.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt2, varArgs4);
varArgs4 = (List *)listCons((Value *)fn4643, varArgs4);
Value *rslt5 = apply_fn_4170(empty_list, (Value *)varArgs4);
return(rslt5);

};};
FnArity error_4646 = {FnArityType, -1, 1, (List *)0, 0, error_4642};
Function error_4647 = {FunctionType, -1, "error", 1, {&error_4646}};
Value *error_4641 = (Value *)&error_4647;


// proto fn for Tagged/tag
Value *tag_4648;
ProtoImpls tag_Implementations_4650;
Value *tag_4649(List *closures, Value *arg0, Value *arg1, Value *arg2);
Value *Default_tag_4651(List *closures, Value *s_0, Value *file_1, Value *line_2) {
 while (1) {

dec_and_free(file_1, 1);

dec_and_free(line_2, 1);
return(s_0);

};};
FnArity Default_tag_4652 = {FnArityType, -1, 3, (List *)0, 0, Default_tag_4651};

// proto fn for Tagged/namespace
Value *namespace_4653;
ProtoImpls namespace_Implementations_4655;
Value *namespace_4654(List *closures, Value *arg0);

// proto fn for Tagged/untag
Value *untag_4656;
ProtoImpls untag_Implementations_4658;
Value *untag_4657(List *closures, Value *arg0);
Value *Default_untag_4659(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity Default_untag_4660 = {FnArityType, -1, 1, (List *)0, 0, Default_untag_4659};

// --------- reader -------------
Value *reader_4662;
Value *arityImpl4665(List *closures, Value *new_s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// call-vector
// #line 63 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, new_s_0);
Value *rslt3 = (Value *)newVect2;
return(rslt3);

};};
Value *arityImpl4670(List *closures, Value *arg3) {
while (1) {
Value *texts_0;
Value *final_s_1;
Value *tail_2;
Value **destArgs4[3] = {&texts_0, &final_s_1, &tail_2};
destructValue("/Users/jim/toccata/recursive-descent.toc", "67", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[3] = {&val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs13);

dec_and_free(closuresTail, 1);

// call-list
// #line 68 "/Users/jim/toccata/recursive-descent.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)texts_0, newList7);
Value *rslt8 = (Value *)newList7;

// type-unknown comp*
// #line 68 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt9 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val6, rslt8, "/Users/jim/toccata/recursive-descent.toc", 68);

// call-vector
// #line 68 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect10 = empty_vect;
newVect10 = mutateVectConj(newVect10, rslt9);
newVect10 = mutateVectConj(newVect10, final_s_1);
Value *rslt11 = (Value *)newVect10;

// type-unknown wrap
// #line 67 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt12 = proto2Arg(&wrap_Implementations_248, "wrap", val5, rslt11, "/Users/jim/toccata/recursive-descent.toc", 67);
return(rslt12);

};};
Value *arityImpl4668(List *closures, Value *new_s_0) {
while (1) {
Value *val1;
Value *val2;
Value *val5;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[6] = {&val1, &val2, &val5, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs14);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 67 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)val2, varArgs3);
varArgs3 = (List *)listCons((Value *)val1, varArgs3);
Value *rslt4 = _MINUS__573(empty_list, (Value *)varArgs3);
Value *rslt9;
FnArity *arity6 = findFnArity(val5, 2);
if(arity6 != (FnArity *)0 && !arity6->variadic) { FnType2 *fn8 = (FnType2 *)arity6->fn;


// dynamic fn type
// #line 67 "/Users/jim/toccata/recursive-descent.toc"
rslt9 = fn8(arity6->closures, rslt4, new_s_0);
} else if(arity6 != (FnArity *)0 && arity6->variadic) { FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(new_s_0, dynArgs7);
dynArgs7 = (List *)listCons(rslt4, dynArgs7);

// dynamic fn type
// #line 67 "/Users/jim/toccata/recursive-descent.toc"
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val5)->name, "/Users/jim/toccata/recursive-descent.toc", 67);
  abort();
}
dec_and_free(val5, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl4670;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)val11, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)val12, (List *)dynArity10->closures);
Function *anon_4671 = malloc_function(1);
anon_4671->name = "anon";
anon_4671->arityCount = 1;
anon_4671->arities[0] = dynArity10;
Value *fn4669 = (Value *)anon_4671;

// type-unknown flat-map
// #line 67 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt9, fn4669, "/Users/jim/toccata/recursive-descent.toc", 67);
return(rslt13);

};};
Value *reader_4663(List *closures, Value *n_0, Value *s_1) {
 while (1) {

incRef(n_0, 4);

incRef(s_1, 4);

// type-unknown .curr-input
// #line 55 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto1Arg(&protoImpls4277, "<nothing>/.curr-input", s_1, "/Users/jim/toccata/recursive-descent.toc", 55);
Value *text_3 = rslt2;

incRef(text_3, 5);

// type-unknown count
// #line 56 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", text_3, "/Users/jim/toccata/recursive-descent.toc", 56);
Value *text_length_5 = rslt4;

incRef(text_length_5, 2);
Value *orRslt6;
Value *andRslt7;

// static-fixed
// #line 57 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt8 = _LT__531(empty_list, n_0, text_length_5);
andRslt7 = rslt8;
if (isNothing(andRslt7)) {
dec_and_free(s_1, 1);
dec_and_free(text_3, 2);
dec_and_free(n_0, 2);
} else {
dec_and_free(andRslt7, 1);

// static-fixed
// #line 58 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt9 = subs_215(empty_list, text_3, numPtr0, n_0);

// static-fixed
// #line 59 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10 = subs_213(empty_list, text_3, n_0);

// type-unknown .curr-input
// #line 59 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt11 = proto2Arg(&protoImpls4279, "<nothing>/.curr-input", s_1, rslt10, "/Users/jim/toccata/recursive-descent.toc", 59);

// call-vector
// #line 58 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, rslt9);
newVect12 = mutateVectConj(newVect12, rslt11);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 58 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt14 = maybe_4(empty_list, rslt13);
andRslt7 = rslt14;
}
orRslt6 = andRslt7;
if (!isNothing(orRslt6)) {
dec_and_free(s_1, 3);
dec_and_free(text_3, 3);
dec_and_free(n_0, 2);
dec_and_free(reader_4662, 1);
dec_and_free(text_length_5, 2);
return(orRslt6);
} else {
dec_and_free(orRslt6, 1);
Value *andRslt15;

// static-fixed
// #line 60 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = _EQ__557(empty_list, n_0, text_length_5);
andRslt15 = rslt16;
if (isNothing(andRslt15)) {
dec_and_free(s_1, 2);
dec_and_free(text_3, 2);
} else {
dec_and_free(andRslt15, 1);
Value *orRslt17;

// static-fixed
// #line 61 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt18 = next_input_buffer_4634(empty_list, s_1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl4665;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)text_3, (List *)dynArity19->closures);
Function *anon_4666 = malloc_function(1);
anon_4666->name = "anon";
anon_4666->arityCount = 1;
anon_4666->arities[0] = dynArity19;
Value *fn4664 = (Value *)anon_4666;

// type-unknown map
// #line 61 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt20 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt18, fn4664, "/Users/jim/toccata/recursive-descent.toc", 61);
orRslt17 = rslt20;
if (!isNothing(orRslt17)) {
dec_and_free(s_1, 1);
dec_and_free(text_3, 1);

} else {
dec_and_free(orRslt17, 1);

// type-unknown .curr-input
// #line 64 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt21 = proto2Arg(&protoImpls4279, "<nothing>/.curr-input", s_1, strPtr0, "/Users/jim/toccata/recursive-descent.toc", 64);

// call-vector
// #line 64 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, text_3);
newVect22 = mutateVectConj(newVect22, rslt21);
Value *rslt23 = (Value *)newVect22;

// static-fixed
// #line 64 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt24 = maybe_4(empty_list, rslt23);
orRslt17 = rslt24;
}
andRslt15 = orRslt17;
}
orRslt6 = andRslt15;
if (!isNothing(orRslt6)) {
dec_and_free(s_1, 1);
dec_and_free(text_3, 1);
dec_and_free(n_0, 1);
dec_and_free(reader_4662, 1);
dec_and_free(text_length_5, 1);
return(orRslt6);
} else {
dec_and_free(orRslt6, 1);

// static-fixed
// #line 66 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt25 = next_input_buffer_4634(empty_list, s_1);
Value *wrapper_26 = rslt25;

incRef(wrapper_26, 1);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl4668;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)wrapper_26, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)text_3, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)reader_4662, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)text_length_5, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)n_0, (List *)dynArity27->closures);
Function *anon_4672 = malloc_function(1);
anon_4672->name = "anon";
anon_4672->arityCount = 1;
anon_4672->arities[0] = dynArity27;
Value *fn4667 = (Value *)anon_4672;

// type-unknown flat-map
// #line 66 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt28 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_26, fn4667, "/Users/jim/toccata/recursive-descent.toc", 66);
return(rslt28);
orRslt6 = rslt28;
}
}

};};
FnArity reader_4673 = {FnArityType, -1, 2, (List *)0, 0, reader_4663};
Function reader_4674 = {FunctionType, -1, "reader", 1, {&reader_4673}};
Value *reader_4662 = (Value *)&reader_4674;

Value *type_val_4675_4676;
ProtoImpls protoImpls4683;
ProtoImpls protoImpls4685;
Value *dispatchFnPtr4681;
Value *protoImpl4682(List *closures, Value *arg);
Value *protoImpl4684(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4687;
ProtoImpls protoImpls4689;
Value *dispatchFnPtr4680;
Value *protoImpl4686(List *closures, Value *arg);
Value *protoImpl4688(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls4691;
ProtoImpls protoImpls4693;
Value *dispatchFnPtr4678;
Value *protoImpl4690(List *closures, Value *arg);
Value *protoImpl4692(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str253 = {StringType, -1, 13, 0, "tagged-symbol"};
Value *strPtr253 = (Value *)&str253;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str254 = {StringType, -1, 34, 0, "ns, base, sym, file-name, line-num"};
Value *strPtr254 = (Value *)&str254;
Value *arityImpl4694(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr254, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr253, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4695 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4694};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str255 = {StringType, -1, 27, 0, "*tagged-symbol constructor*"};
Value *strPtr255 = (Value *)&str255;
Value *tagged_symbol_const_type_name_4696(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr255);

};};
FnArity tagged_symbol_const_type_name_4697 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_const_type_name_4696};
Value *tagged_symbol_instance_QMARK__4698(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_4675_4676, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity tagged_symbol_instance_QMARK__4699 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_instance_QMARK__4698};
Value *tagged_symbol_invoke_4700(List *closures, Value *arg0, Value *ns_1, Value *base_2, Value *sym_3, Value *file_name_4, Value *line_num_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, ns_1);
newVect6 = mutateVectConj(newVect6, base_2);
newVect6 = mutateVectConj(newVect6, sym_3);
newVect6 = mutateVectConj(newVect6, file_name_4);
newVect6 = mutateVectConj(newVect6, line_num_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_4675_4676, rslt7);
return(rslt8);

};};
FnArity tagged_symbol_invoke_4701 = {FnArityType, -1, 6, (List *)0, 0, tagged_symbol_invoke_4700};
ReifiedVal reifiedStatic4702 = {138, -1, (Value *)0, 0, {}};
Value *reifiedPtr4703 = (Value *)&reifiedStatic4702;
Value *arityImpl4706(List *closures, Value *ns_str_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 51 "/Users/jim/toccata/reader.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr94, varArgs2);
varArgs2 = (List *)listCons((Value *)ns_str_0, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);
return(rslt3);

};};
Value *tagged_symbol_string_list_4704(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

incRef(base_3, 1);

dec_and_free(sym_4, 1);

dec_and_free(file_name_5, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl4706;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)base_3, (List *)dynArity10->closures);
Function *anon_4707 = malloc_function(1);
anon_4707->name = "anon";
anon_4707->arityCount = 1;
anon_4707->arities[0] = dynArity10;
Value *fn4705 = (Value *)anon_4707;

// type-unknown map
// #line 51 "/Users/jim/toccata/reader.toc"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", ns_2, fn4705, "/Users/jim/toccata/reader.toc", 51);
Value *eitherRslt9;
if (!isNothing(rslt11)) {
dec_and_free(base_3, 1);
eitherRslt9 = maybeExtract(rslt11);
} else {
dec_and_free(rslt11, 1);

// static-variadic
// #line 52 "/Users/jim/toccata/reader.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)base_3, varArgs12);
Value *rslt13 = str_526(empty_list, (Value *)varArgs12);
eitherRslt9 = rslt13;
}

// call-list
// #line 51 "/Users/jim/toccata/reader.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)eitherRslt9, newList14);
Value *rslt15 = (Value *)newList14;
return(rslt15);

};};
FnArity tagged_symbol_string_list_4708 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_string_list_4704};
Value *tagged_symbol_EQ_STAR__4709(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity tagged_symbol_EQ_STAR__4710 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_EQ_STAR__4709};
Value *tagged_symbol__EQ__STAR__4711(List *closures, Value *arg0, Value *x_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *ns_3;
Value *base_4;
Value *sym_5;
Value *file_name_6;
Value *line_num_7;
Value *tail_8;
Value **destArgs9[6] = {&ns_3, &base_4, &sym_5, &file_name_6, &line_num_7, &tail_8};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt2, 6, destArgs9);

dec_and_free(ns_3, 1);

dec_and_free(sym_5, 1);

dec_and_free(file_name_6, 1);

dec_and_free(line_num_7, 1);

dec_and_free(tail_8, 1);

// type-unknown =*
// #line 58 "/Users/jim/toccata/reader.toc"
Value *rslt10 = proto2Arg(&_EQ__STAR__Implementations_386, "<nothing>/=*", x_1, base_4, "/Users/jim/toccata/reader.toc", 58);
return(rslt10);

};};
FnArity tagged_symbol__EQ__STAR__4712 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol__EQ__STAR__4711};
Value *tagged_symbol_type_name_4713(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr253);

};};
FnArity tagged_symbol_type_name_4714 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_type_name_4713};
Value *tagged_symbol_has_field_4715(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr4681, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4680, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr2501, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4678, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr1957, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity tagged_symbol_has_field_4716 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_has_field_4715};
Value *tagged_symbol_ns_4717(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity tagged_symbol_ns_4718 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_ns_4717};
Value *tagged_symbol_ns_4719(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity tagged_symbol_ns_4720 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_ns_4719};
Value *tagged_symbol_base_4721(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity tagged_symbol_base_4722 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_base_4721};
Value *tagged_symbol_base_4723(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity tagged_symbol_base_4724 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_base_4723};
Value *tagged_symbol_sym_4725(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity tagged_symbol_sym_4726 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_sym_4725};
Value *tagged_symbol_sym_4727(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity tagged_symbol_sym_4728 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_sym_4727};
Value *tagged_symbol_file_name_4729(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity tagged_symbol_file_name_4730 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_file_name_4729};
Value *tagged_symbol_file_name_4731(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity tagged_symbol_file_name_4732 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_file_name_4731};
Value *tagged_symbol_line_num_4733(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity tagged_symbol_line_num_4734 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_line_num_4733};
Value *tagged_symbol_line_num_4735(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity tagged_symbol_line_num_4736 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_line_num_4735};
Value *tagged_symbol_get_4737(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity tagged_symbol_get_4738 = {FnArityType, -1, 2, (List *)0, 0, tagged_symbol_get_4737};
Value *tagged_symbol_sha1_4739(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

dec_and_free(ns_2, 1);

dec_and_free(sym_4, 1);

dec_and_free(file_name_5, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);

// type-unknown sha1
// #line 55 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto1Arg(&sha1_Implementations_392, "<nothing>/sha1", base_3, "/Users/jim/toccata/reader.toc", 55);
return(rslt9);

};};
FnArity tagged_symbol_sha1_4740 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_sha1_4739};
Value *tagged_symbol_assoc_STAR__4741(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity tagged_symbol_assoc_STAR__4742 = {FnArityType, -1, 5, (List *)0, 0, tagged_symbol_assoc_STAR__4741};
Value *tagged_symbol_namespace_4743(List *closures, Value *s_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, s_0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

dec_and_free(base_3, 1);

dec_and_free(sym_4, 1);

dec_and_free(file_name_5, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);
return(ns_2);

};};
FnArity tagged_symbol_namespace_4744 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_namespace_4743};
Value *tagged_symbol_tag_4745(List *closures, Value *s_0, Value *file_1, Value *line_2) {
 while (1) {
Value *rslt3 = reified_type_args_22(empty_list, s_0);
Value *ns_4;
Value *base_5;
Value *sym_6;
Value *file_name_7;
Value *line_num_8;
Value *tail_9;
Value **destArgs10[6] = {&ns_4, &base_5, &sym_6, &file_name_7, &line_num_8, &tail_9};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt3, 6, destArgs10);

dec_and_free(file_name_7, 1);

dec_and_free(line_num_8, 1);

dec_and_free(tail_9, 1);

// call invoke
// #line 46 "/Users/jim/toccata/reader.toc"
Value *rslt11 = tagged_symbol_invoke_4700(empty_list, reifiedPtr4703, ns_4, base_5, sym_6, file_1, line_2);
return(rslt11);

};};
FnArity tagged_symbol_tag_4746 = {FnArityType, -1, 3, (List *)0, 0, tagged_symbol_tag_4745};
Value *tagged_symbol_untag_4747(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

dec_and_free(ns_2, 1);

dec_and_free(sym_4, 1);

dec_and_free(file_name_5, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);
return(base_3);

};};
FnArity tagged_symbol_untag_4748 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_untag_4747};
Value *tagged_symbol_ast4749(List *closures, Value *s_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, s_0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

dec_and_free(ns_2, 1);

dec_and_free(base_3, 1);

dec_and_free(sym_4, 1);

dec_and_free(line_num_6, 1);

dec_and_free(tail_7, 1);
return(file_name_5);

};};
FnArity tagged_symbol_ast4750 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_ast4749};
Value *tagged_symbol_ast4751(List *closures, Value *s_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, s_0);
Value *ns_2;
Value *base_3;
Value *sym_4;
Value *file_name_5;
Value *line_num_6;
Value *tail_7;
Value **destArgs8[6] = {&ns_2, &base_3, &sym_4, &file_name_5, &line_num_6, &tail_7};
destructValue("/Users/jim/toccata/reader.toc", "38", (Value *)rslt1, 6, destArgs8);

dec_and_free(ns_2, 1);

dec_and_free(base_3, 1);

dec_and_free(sym_4, 1);

dec_and_free(file_name_5, 1);

dec_and_free(tail_7, 1);
return(line_num_6);

};};
FnArity tagged_symbol_ast4752 = {FnArityType, -1, 1, (List *)0, 0, tagged_symbol_ast4751};
ReifiedVal reifiedStatic4753 = {139, -1, (Value *)0, 0, {}};
Value *reifiedPtr4754 = (Value *)&reifiedStatic4753;
Value *Symbol__EQ__STAR__4755(List *closures, Value *s_0, Value *x_1) {
 while (1) {

// type-unknown untag
// #line 69 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto1Arg(&untag_Implementations_4658, "<nothing>/untag", x_1, "/Users/jim/toccata/reader.toc", 69);

// type-known for =*
// #line 69 "/Users/jim/toccata/reader.toc"
Value *rslt3 = Symbol__EQ__STAR__712(empty_list, s_0, rslt2);
return(rslt3);

};};
FnArity Symbol__EQ__STAR__4756 = {FnArityType, -1, 2, (List *)0, 0, Symbol__EQ__STAR__4755};
Value *Symbol_namespace_4757(List *closures, Value *s_0) {
 while (1) {

dec_and_free(s_0, 1);
return(nothing_7);

};};
FnArity Symbol_namespace_4758 = {FnArityType, -1, 1, (List *)0, 0, Symbol_namespace_4757};
Value *Symbol_tag_4759(List *closures, Value *s_0, Value *file_1, Value *line_2) {
 while (1) {

incRef(s_0, 1);

// call invoke
// #line 64 "/Users/jim/toccata/reader.toc"
Value *rslt3 = tagged_symbol_invoke_4700(empty_list, reifiedPtr4703, nothing_7, s_0, s_0, file_1, line_2);
return(rslt3);

};};
FnArity Symbol_tag_4760 = {FnArityType, -1, 3, (List *)0, 0, Symbol_tag_4759};
Value *Symbol_untag_4761(List *closures, Value *s_0) {
 while (1) {
return(s_0);

};};
FnArity Symbol_untag_4762 = {FnArityType, -1, 1, (List *)0, 0, Symbol_untag_4761};
Value *arityImpl4766(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// type-unknown tag
// #line 76 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto3Arg(&tag_Implementations_4650, "<nothing>/tag", x_0, val1, val2, "/Users/jim/toccata/reader.toc", 76);
return(rslt3);

};};
Value *List_tag_4763(List *closures, Value *l_0, Value *file_1, Value *line_2) {
 while (1) {
Value *l_3 = l_0;
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl4766;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)line_2, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)file_1, (List *)dynArity4->closures);
Function *anon_4767 = malloc_function(1);
anon_4767->name = "anon";
anon_4767->arityCount = 1;
anon_4767->arities[0] = dynArity4;
Value *fn4765 = (Value *)anon_4767;

// static-fixed
// #line 1051 "core"
Value *rslt5 = list_map_73(empty_list, l_3, fn4765);
return(rslt5);

};};
FnArity List_tag_4768 = {FnArityType, -1, 3, (List *)0, 0, List_tag_4763};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str256 = {StringType, -1, 12, 0, "symbol-start"};
Value *strPtr256 = (Value *)&str256;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str257 = {StringType, -1, 9, 0, "._<>=+-*/"};
Value *strPtr257 = (Value *)&str257;
Value *symbol_start_4769;

// --------- fn-reader -------------
Value *fn_reader_4771;
Value *arityImpl4776(List *closures, Value *arg3) {
while (1) {
Value *tail_0;
Value *final_s_1;
Value *tail_2;
Value **destArgs4[3] = {&tail_0, &final_s_1, &tail_2};
destructValue("/Users/jim/toccata/recursive-descent.toc", "77", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[3] = {&val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs11);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 78 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7 = cons_275(empty_list, val6, tail_0);

// call-vector
// #line 78 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, rslt7);
newVect8 = mutateVectConj(newVect8, final_s_1);
Value *rslt9 = (Value *)newVect8;

// type-unknown wrap
// #line 77 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10 = proto2Arg(&wrap_Implementations_248, "wrap", val5, rslt9, "/Users/jim/toccata/recursive-descent.toc", 77);
return(rslt10);

};};
Value *arityImpl4774(List *closures, Value *new_s_0) {
while (1) {
Value *val1;
Value *val2;
Value *val8;
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[5] = {&val1, &val2, &val8, &val9, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs11);

dec_and_free(closuresTail, 1);
Value *rslt6;
FnArity *arity3 = findFnArity(val2, 2);
if(arity3 != (FnArity *)0 && !arity3->variadic) { FnType2 *fn5 = (FnType2 *)arity3->fn;


// dynamic fn type
// #line 77 "/Users/jim/toccata/recursive-descent.toc"
rslt6 = fn5(arity3->closures, val1, new_s_0);
} else if(arity3 != (FnArity *)0 && arity3->variadic) { FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(new_s_0, dynArgs4);
dynArgs4 = (List *)listCons(val1, dynArgs4);

// dynamic fn type
// #line 77 "/Users/jim/toccata/recursive-descent.toc"
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val2)->name, "/Users/jim/toccata/recursive-descent.toc", 77);
  abort();
}
dec_and_free(val2, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl4776;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val9, (List *)dynArity7->closures);
Function *anon_4777 = malloc_function(1);
anon_4777->name = "anon";
anon_4777->arityCount = 1;
anon_4777->arities[0] = dynArity7;
Value *fn4775 = (Value *)anon_4777;

// type-unknown flat-map
// #line 77 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt6, fn4775, "/Users/jim/toccata/recursive-descent.toc", 77);
return(rslt10);

};};
Value *fn_reader_4772(List *closures, Value *f_0, Value *s_1) {
 while (1) {

incRef(f_0, 1);

incRef(s_1, 2);

// type-unknown .curr-input
// #line 71 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto1Arg(&protoImpls4277, "<nothing>/.curr-input", s_1, "/Users/jim/toccata/recursive-descent.toc", 71);
Value *text_3 = rslt2;

incRef(text_3, 4);

// dynamic unknown type
// #line 72 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7;
if((f_0)->type != FunctionType) {
rslt7 = invoke_368(empty_list, f_0, text_3);
} else {
FnArity *arity4 = findFnArity(f_0, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, text_3);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(text_3, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_0)->name);
  abort();
}
dec_and_free(f_0, 1);
}
Value *length_8 = rslt7;

incRef(length_8, 3);
Value *orRslt9;
Value *andRslt10;

// type-unknown count
// #line 75 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt11 = proto1Arg(&count_Implementations_300, "<nothing>/count", text_3, "/Users/jim/toccata/recursive-descent.toc", 75);

// static-fixed
// #line 75 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt12 = _EQ__557(empty_list, length_8, rslt11);
andRslt10 = rslt12;
if (isNothing(andRslt10)) {
dec_and_free(s_1, 1);
dec_and_free(f_0, 1);
dec_and_free(fn_reader_4771, 1);
dec_and_free(text_3, 1);
} else {
dec_and_free(andRslt10, 1);

// static-fixed
// #line 76 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = next_input_buffer_4634(empty_list, s_1);
Value *wrapper_14 = rslt13;

incRef(wrapper_14, 1);
FnArity *dynArity15 = malloc_fnArity();
dynArity15->count = 1;
dynArity15->variadic = 0;
dynArity15->fn = arityImpl4774;
dynArity15->closures = empty_list;
dynArity15->closures = listCons((Value *)wrapper_14, (List *)dynArity15->closures);
dynArity15->closures = listCons((Value *)text_3, (List *)dynArity15->closures);
dynArity15->closures = listCons((Value *)fn_reader_4771, (List *)dynArity15->closures);
dynArity15->closures = listCons((Value *)f_0, (List *)dynArity15->closures);
Function *anon_4778 = malloc_function(1);
anon_4778->name = "anon";
anon_4778->arityCount = 1;
anon_4778->arities[0] = dynArity15;
Value *fn4773 = (Value *)anon_4778;

// type-unknown flat-map
// #line 76 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_14, fn4773, "/Users/jim/toccata/recursive-descent.toc", 76);
andRslt10 = rslt16;
}
orRslt9 = andRslt10;
if (!isNothing(orRslt9)) {
dec_and_free(s_1, 1);
dec_and_free(text_3, 2);
dec_and_free(length_8, 2);

} else {
dec_and_free(orRslt9, 1);

// static-fixed
// #line 79 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt17 = subs_215(empty_list, text_3, numPtr0, length_8);

// call-list
// #line 79 "/Users/jim/toccata/recursive-descent.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// static-fixed
// #line 80 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt20 = subs_213(empty_list, text_3, length_8);

// type-unknown .curr-input
// #line 80 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt21 = proto2Arg(&protoImpls4279, "<nothing>/.curr-input", s_1, rslt20, "/Users/jim/toccata/recursive-descent.toc", 80);

// call-vector
// #line 79 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, rslt19);
newVect22 = mutateVectConj(newVect22, rslt21);
Value *rslt23 = (Value *)newVect22;

// static-fixed
// #line 79 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt24 = maybe_4(empty_list, rslt23);
orRslt9 = rslt24;
}

// static-fixed
// #line 73 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt25 = _EQ__557(empty_list, numPtr0, length_8);

// dynamic unknown type
// #line 73 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt29;
if((rslt25)->type != FunctionType) {
rslt29 = invoke_370(empty_list, rslt25, nothing_7, orRslt9);
} else {
FnArity *arity26 = findFnArity(rslt25, 2);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType2 *fn28 = (FnType2 *)arity26->fn;
rslt29 = fn28(arity26->closures, nothing_7, orRslt9);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(orRslt9, dynArgs27);
dynArgs27 = (List *)listCons(nothing_7, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt25)->name);
  abort();
}
dec_and_free(rslt25, 1);
}
return(rslt29);

};};
FnArity fn_reader_4779 = {FnArityType, -1, 2, (List *)0, 0, fn_reader_4772};
Function fn_reader_4780 = {FunctionType, -1, "fn-reader", 1, {&fn_reader_4779}};
Value *fn_reader_4771 = (Value *)&fn_reader_4780;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str258 = {StringType, -1, 12, 0, "symbol-punct"};
Value *strPtr258 = (Value *)&str258;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str259 = {StringType, -1, 11, 0, "._<>=+-*/!?"};
Value *strPtr259 = (Value *)&str259;
Value *symbol_punct_4781;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str260 = {StringType, -1, 11, 0, "symbol-char"};
Value *strPtr260 = (Value *)&str260;
Value *symbol_char_4782;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str261 = {StringType, -1, 14, 0, "rest-of-symbol"};
Value *strPtr261 = (Value *)&str261;
Value *rest_of_symbol_4783;
Value *arityImpl4789(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

dec_and_free(__2, 1);
Value *mv_3 = x_0;

// static-fixed
// #line 978 "core"
Value *rslt4 = maybe_4(empty_list, mv_3);
return(rslt4);

};};
Value *arityImpl4786(List *closures, Value *parser_state_0) {
while (1) {
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[2] = {&val12, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs26);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 87 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = reader_4663(empty_list, numPtr1, parser_state_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 3);
Value *mv_3 = wrapper_2;

incRef(mv_3, 1);
Value *andRslt4;
andRslt4 = mv_3;
if (isNothing(andRslt4)) {
dec_and_free(val12, 1);
dec_and_free(mv_3, 1);
dec_and_free(wrapper_2, 3);
} else {
dec_and_free(andRslt4, 1);

// type-known for extract
// #line 984 "core"
Value *rslt5 = Maybe_extract_757(empty_list, mv_3);
Value *c_6;
Value *new_parser_state_7;
Value *tail_8;
Value **destArgs9[3] = {&c_6, &new_parser_state_7, &tail_8};
destructValue("/Users/jim/toccata/recursive-descent.toc", "87", (Value *)rslt5, 3, destArgs9);

incRef(c_6, 1);

dec_and_free(tail_8, 1);
Value *orRslt10;
Value *andRslt11;

// type-known for .test-c
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = parser_not_char_test_c_3057(empty_list, val12);

// static-fixed
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt14 = _EQ__557(empty_list, rslt13, c_6);
andRslt11 = rslt14;
if (isNothing(andRslt11)) {
dec_and_free(wrapper_2, 1);
} else {
dec_and_free(andRslt11, 1);

// type-known for zero
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt15 = Maybe_zero_426(empty_list, wrapper_2);

// static-fixed
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
andRslt11 = rslt16;
}
orRslt10 = andRslt11;
if (!isNothing(orRslt10)) {
dec_and_free(c_6, 1);
dec_and_free(new_parser_state_7, 1);
dec_and_free(wrapper_2, 1);

} else {
dec_and_free(orRslt10, 1);
Value *__17 = wrapper_2;

dec_and_free(__17, 1);

// call-vector
// #line 89 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, c_6);
newVect18 = mutateVectConj(newVect18, new_parser_state_7);
Value *rslt19 = (Value *)newVect18;
Value *mv_20 = rslt19;

// static-fixed
// #line 978 "core"
Value *rslt21 = maybe_4(empty_list, mv_20);

// static-fixed
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt22 = maybe_4(empty_list, rslt21);
orRslt10 = rslt22;
}

// type-known for extract
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt23 = Maybe_extract_757(empty_list, orRslt10);
FnArity *dynArity24 = malloc_fnArity();
dynArity24->count = 1;
dynArity24->variadic = 0;
dynArity24->fn = arityImpl4789;
dynArity24->closures = empty_list;
dynArity24->closures = listCons((Value *)wrapper_2, (List *)dynArity24->closures);
Function *anon_4790 = malloc_function(1);
anon_4790->name = "anon";
anon_4790->arityCount = 1;
anon_4790->arities[0] = dynArity24;
Value *fn4788 = (Value *)anon_4790;

// type-unknown flat-map
// #line 88 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt25 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt23, fn4788, "/Users/jim/toccata/recursive-descent.toc", 88);
andRslt4 = rslt25;
}
return(andRslt4);

};};
Value *recursive_descent_4784(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4786;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4791 = malloc_function(1);
anon_4791->name = "anon";
anon_4791->arityCount = 1;
anon_4791->arities[0] = dynArity1;
Value *fn4785 = (Value *)anon_4791;

// call invoke
// #line 86 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4785);

// call invoke
// #line 85 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4792 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4784};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str262 = {StringType, -1, 15, 0, "namespace-punct"};
Value *strPtr262 = (Value *)&str262;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str263 = {StringType, -1, 10, 0, "._<>=*+!-?"};
Value *strPtr263 = (Value *)&str263;
Value *namespace_punct_4793;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str264 = {StringType, -1, 17, 0, "rest-of-namespace"};
Value *strPtr264 = (Value *)&str264;
Value *rest_of_namespace_4794;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str265 = {StringType, -1, 9, 0, "namespace"};
Value *strPtr265 = (Value *)&str265;

// --------- anon -------------
Value *fn4795;
Value *arityImpl4796(List *closures, Value *start_0, Value *the_rest_1) {
 while (1) {

// static-fixed
// #line 108 "/Users/jim/toccata/reader.toc"
Value *rslt2 = cons_275(empty_list, start_0, the_rest_1);

// type-known for to-str
// #line 108 "/Users/jim/toccata/reader.toc"
Value *rslt3 = List_to_str_464(empty_list, rslt2);

// static-fixed
// #line 108 "/Users/jim/toccata/reader.toc"
Value *rslt4 = symbol_220(empty_list, rslt3);
return(rslt4);

};};
FnArity staticArity4797 = {FnArityType, -1, 2, (List *)0, 0, arityImpl4796};
Function anon_4798 = {FunctionType, -1, "anon", 1, {&staticArity4797}};
Value *fn4795 = (Value *)&anon_4798;

Value *read_namespace_4799;
Value *arityImpl4805(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

dec_and_free(__2, 1);
Value *mv_3 = x_0;

// static-fixed
// #line 978 "core"
Value *rslt4 = maybe_4(empty_list, mv_3);
return(rslt4);

};};
Value *arityImpl4802(List *closures, Value *parser_state_0) {
while (1) {
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs34[2] = {&val12, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs34);

incRef(val12, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 96 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = reader_4663(empty_list, numPtr1, parser_state_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 3);
Value *mv_3 = wrapper_2;

incRef(mv_3, 1);
Value *andRslt4;
andRslt4 = mv_3;
if (isNothing(andRslt4)) {
dec_and_free(val12, 2);
dec_and_free(mv_3, 1);
dec_and_free(wrapper_2, 3);
} else {
dec_and_free(andRslt4, 1);

// type-known for extract
// #line 984 "core"
Value *rslt5 = Maybe_extract_757(empty_list, mv_3);
Value *c_6;
Value *new_parser_state_7;
Value *tail_8;
Value **destArgs9[3] = {&c_6, &new_parser_state_7, &tail_8};
destructValue("/Users/jim/toccata/recursive-descent.toc", "96", (Value *)rslt5, 3, destArgs9);

incRef(c_6, 1);

dec_and_free(tail_8, 1);
Value *orRslt10;
Value *andRslt11;

// type-known for .lower
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt13 = parser_char_range_lower_3111(empty_list, val12);

// static-fixed
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt14 = char_code_208(empty_list, rslt13);

// static-fixed
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt15 = dec_578(empty_list, rslt14);

// static-fixed
// #line 98 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt16 = char_code_208(empty_list, c_6);

// type-known for .higher
// #line 99 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt17 = parser_char_range_higher_3115(empty_list, val12);

// static-fixed
// #line 99 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt18 = char_code_208(empty_list, rslt17);

// static-fixed
// #line 99 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt19 = inc_564(empty_list, rslt18);

// static-variadic
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs20 = empty_list;
varArgs20 = (List *)listCons((Value *)rslt19, varArgs20);
varArgs20 = (List *)listCons((Value *)rslt16, varArgs20);
varArgs20 = (List *)listCons((Value *)rslt15, varArgs20);
Value *rslt21 = _LT__533(empty_list, (Value *)varArgs20);
andRslt11 = rslt21;
if (isNothing(andRslt11)) {
dec_and_free(c_6, 1);
dec_and_free(new_parser_state_7, 1);
dec_and_free(wrapper_2, 1);
} else {
dec_and_free(andRslt11, 1);
Value *__22 = wrapper_2;

dec_and_free(__22, 1);

// call-vector
// #line 100 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, c_6);
newVect23 = mutateVectConj(newVect23, new_parser_state_7);
Value *rslt24 = (Value *)newVect23;
Value *mv_25 = rslt24;

// static-fixed
// #line 978 "core"
Value *rslt26 = maybe_4(empty_list, mv_25);

// static-fixed
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
andRslt11 = rslt27;
}
orRslt10 = andRslt11;
if (!isNothing(orRslt10)) {
dec_and_free(wrapper_2, 1);

} else {
dec_and_free(orRslt10, 1);

// type-known for zero
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt28 = Maybe_zero_426(empty_list, wrapper_2);

// type-known for zero
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt29 = Maybe_zero_426(empty_list, rslt28);

// static-fixed
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt30 = maybe_4(empty_list, rslt29);
orRslt10 = rslt30;
}

// type-known for extract
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt31 = Maybe_extract_757(empty_list, orRslt10);
FnArity *dynArity32 = malloc_fnArity();
dynArity32->count = 1;
dynArity32->variadic = 0;
dynArity32->fn = arityImpl4805;
dynArity32->closures = empty_list;
dynArity32->closures = listCons((Value *)wrapper_2, (List *)dynArity32->closures);
Function *anon_4806 = malloc_function(1);
anon_4806->name = "anon";
anon_4806->arityCount = 1;
anon_4806->arities[0] = dynArity32;
Value *fn4804 = (Value *)anon_4806;

// type-unknown flat-map
// #line 97 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt33 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt31, fn4804, "/Users/jim/toccata/recursive-descent.toc", 97);
andRslt4 = rslt33;
}
return(andRslt4);

};};
Value *recursive_descent_4800(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4802;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4807 = malloc_function(1);
anon_4807->name = "anon";
anon_4807->arityCount = 1;
anon_4807->arities[0] = dynArity1;
Value *fn4801 = (Value *)anon_4807;

// call invoke
// #line 95 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4801);

// call invoke
// #line 94 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4808 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4800};
Value *arityImpl4814(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

dec_and_free(__2, 1);
Value *mv_3 = x_0;

// static-fixed
// #line 978 "core"
Value *rslt4 = maybe_4(empty_list, mv_3);
return(rslt4);

};};
Value *arityImpl4811(List *closures, Value *parser_state_0) {
while (1) {
Value *val1;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[3] = {&val1, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs27);

incRef(val13, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 108 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = reader_4663(empty_list, val1, parser_state_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 3);
Value *mv_4 = wrapper_3;

incRef(mv_4, 1);
Value *andRslt5;
andRslt5 = mv_4;
if (isNothing(andRslt5)) {
dec_and_free(val13, 2);
dec_and_free(mv_4, 1);
dec_and_free(wrapper_3, 3);
} else {
dec_and_free(andRslt5, 1);

// type-known for extract
// #line 984 "core"
Value *rslt6 = Maybe_extract_757(empty_list, mv_4);
Value *text_7;
Value *new_parser_state_8;
Value *tail_9;
Value **destArgs10[3] = {&text_7, &new_parser_state_8, &tail_9};
destructValue("/Users/jim/toccata/recursive-descent.toc", "108", (Value *)rslt6, 3, destArgs10);

dec_and_free(tail_9, 1);
Value *orRslt11;
Value *andRslt12;

// static-fixed
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt14 = _EQ__557(empty_list, text_7, val13);
andRslt12 = rslt14;
if (isNothing(andRslt12)) {
dec_and_free(val13, 1);
dec_and_free(wrapper_3, 1);
dec_and_free(new_parser_state_8, 1);
} else {
dec_and_free(andRslt12, 1);
Value *__15 = wrapper_3;

dec_and_free(__15, 1);

// call-vector
// #line 110 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, val13);
newVect16 = mutateVectConj(newVect16, new_parser_state_8);
Value *rslt17 = (Value *)newVect16;
Value *mv_18 = rslt17;

// static-fixed
// #line 978 "core"
Value *rslt19 = maybe_4(empty_list, mv_18);

// static-fixed
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt20 = maybe_4(empty_list, rslt19);
andRslt12 = rslt20;
}
orRslt11 = andRslt12;
if (!isNothing(orRslt11)) {
dec_and_free(wrapper_3, 1);

} else {
dec_and_free(orRslt11, 1);

// type-known for zero
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt21 = Maybe_zero_426(empty_list, wrapper_3);

// type-known for zero
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt22 = Maybe_zero_426(empty_list, rslt21);

// static-fixed
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt23 = maybe_4(empty_list, rslt22);
orRslt11 = rslt23;
}

// type-known for extract
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt24 = Maybe_extract_757(empty_list, orRslt11);
FnArity *dynArity25 = malloc_fnArity();
dynArity25->count = 1;
dynArity25->variadic = 0;
dynArity25->fn = arityImpl4814;
dynArity25->closures = empty_list;
dynArity25->closures = listCons((Value *)wrapper_3, (List *)dynArity25->closures);
Function *anon_4815 = malloc_function(1);
anon_4815->name = "anon";
anon_4815->arityCount = 1;
anon_4815->arities[0] = dynArity25;
Value *fn4813 = (Value *)anon_4815;

// type-unknown flat-map
// #line 109 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt26 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt24, fn4813, "/Users/jim/toccata/recursive-descent.toc", 109);
andRslt5 = rslt26;
}
return(andRslt5);

};};
Value *recursive_descent_4809(List *closures, Value *p_0) {
 while (1) {

// type-known for .term-str
// #line 105 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = parser_terminal_term_str_3246(empty_list, p_0);
Value *term_str_2 = rslt1;

incRef(term_str_2, 1);

// type-unknown count
// #line 106 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", term_str_2, "/Users/jim/toccata/recursive-descent.toc", 106);
Value *term_count_4 = rslt3;
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl4811;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)term_str_2, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)term_count_4, (List *)dynArity5->closures);
Function *anon_4816 = malloc_function(1);
anon_4816->name = "anon";
anon_4816->arityCount = 1;
anon_4816->arities[0] = dynArity5;
Value *fn4810 = (Value *)anon_4816;

// call invoke
// #line 107 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4810);

// call invoke
// #line 107 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7 = arityImpl2933(empty_list, reifiedPtr2939, rslt6);
return(rslt7);

};};
FnArity recursive_descent_4817 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4809};

// --------- anon -------------
Value *fn4818;
Value *arityImpl4819(List *closures, Value *file_name_0, Value *line_number_1, Value *ns_2, Value *start_3, Value *the_rest_4) {
 while (1) {

incRef(ns_2, 3);

incRef(start_3, 1);

incRef(the_rest_4, 1);

// static-variadic
// #line 116 "/Users/jim/toccata/reader.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)strPtr94, varArgs5);
varArgs5 = (List *)listCons((Value *)ns_2, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// static-fixed
// #line 116 "/Users/jim/toccata/reader.toc"
Value *rslt7 = _EQ__557(empty_list, strPtr0, ns_2);

// dynamic unknown type
// #line 116 "/Users/jim/toccata/reader.toc"
Value *rslt11;
if((rslt7)->type != FunctionType) {
rslt11 = invoke_370(empty_list, rslt7, ns_2, rslt6);
} else {
FnArity *arity8 = findFnArity(rslt7, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, ns_2, rslt6);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(rslt6, dynArgs9);
dynArgs9 = (List *)listCons(ns_2, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt7)->name);
  abort();
}
dec_and_free(rslt7, 1);
}
Value *ns_prefix_12 = rslt11;

// static-fixed
// #line 117 "/Users/jim/toccata/reader.toc"
Value *rslt13 = cons_275(empty_list, start_3, the_rest_4);

// type-known for to-str
// #line 117 "/Users/jim/toccata/reader.toc"
Value *rslt14 = List_to_str_464(empty_list, rslt13);

// static-fixed
// #line 117 "/Users/jim/toccata/reader.toc"
Value *rslt15 = symbol_220(empty_list, rslt14);

// call-list
// #line 118 "/Users/jim/toccata/reader.toc"
List *newList16 = empty_list;
newList16 = listCons((Value *)start_3, newList16);
newList16 = listCons((Value *)ns_prefix_12, newList16);
Value *rslt17 = (Value *)newList16;

// call-list
// #line 118 "/Users/jim/toccata/reader.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)the_rest_4, newList18);
Value *rslt19 = (Value *)newList18;

// type-known for comp*
// #line 118 "/Users/jim/toccata/reader.toc"
Value *rslt20 = List_comp_STAR__825(empty_list, rslt17, rslt19);

// type-known for to-str
// #line 118 "/Users/jim/toccata/reader.toc"
Value *rslt21 = List_to_str_464(empty_list, rslt20);

// static-fixed
// #line 118 "/Users/jim/toccata/reader.toc"
Value *rslt22 = symbol_220(empty_list, rslt21);

// call invoke
// #line 117 "/Users/jim/toccata/reader.toc"
Value *rslt23 = tagged_symbol_invoke_4700(empty_list, reifiedPtr4703, ns_2, rslt15, rslt22, file_name_0, line_number_1);
return(rslt23);

};};
FnArity staticArity4820 = {FnArityType, -1, 5, (List *)0, 0, arityImpl4819};
Function anon_4821 = {FunctionType, -1, "anon", 1, {&staticArity4820}};
Value *fn4818 = (Value *)&anon_4821;

Value *read_symbol_4822;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str266 = {StringType, -1, 7, 0, "newline"};
Value *strPtr266 = (Value *)&str266;

// --------- anon -------------
Value *fn4823;
Value *arityImpl4824(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr5);

};};
FnArity staticArity4825 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4824};
Function anon_4826 = {FunctionType, -1, "anon", 1, {&staticArity4825}};
Value *fn4823 = (Value *)&anon_4826;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str267 = {StringType, -1, 1, 0, "\\"};
Value *strPtr267 = (Value *)&str267;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str268 = {StringType, -1, 1, 0, "n"};
Value *strPtr268 = (Value *)&str268;
Value *read_string_newline_4827;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str269 = {StringType, -1, 3, 0, "tab"};
Value *strPtr269 = (Value *)&str269;

// --------- anon -------------
Value *fn4828;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str270 = {StringType, -1, 1, 0, "\t"};
Value *strPtr270 = (Value *)&str270;
Value *arityImpl4829(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr270);

};};
FnArity staticArity4830 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4829};
Function anon_4831 = {FunctionType, -1, "anon", 1, {&staticArity4830}};
Value *fn4828 = (Value *)&anon_4831;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str271 = {StringType, -1, 1, 0, "t"};
Value *strPtr271 = (Value *)&str271;
Value *read_string_tab_4832;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str272 = {StringType, -1, 9, 0, "backspace"};
Value *strPtr272 = (Value *)&str272;

// --------- anon -------------
Value *fn4833;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str273 = {StringType, -1, 1, 0, "\b"};
Value *strPtr273 = (Value *)&str273;
Value *arityImpl4834(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr273);

};};
FnArity staticArity4835 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4834};
Function anon_4836 = {FunctionType, -1, "anon", 1, {&staticArity4835}};
Value *fn4833 = (Value *)&anon_4836;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str274 = {StringType, -1, 1, 0, "b"};
Value *strPtr274 = (Value *)&str274;
Value *read_string_backspace_4837;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str275 = {StringType, -1, 6, 0, "return"};
Value *strPtr275 = (Value *)&str275;

// --------- anon -------------
Value *fn4838;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str276 = {StringType, -1, 1, 0, "\r"};
Value *strPtr276 = (Value *)&str276;
Value *arityImpl4839(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr276);

};};
FnArity staticArity4840 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4839};
Function anon_4841 = {FunctionType, -1, "anon", 1, {&staticArity4840}};
Value *fn4838 = (Value *)&anon_4841;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str277 = {StringType, -1, 1, 0, "r"};
Value *strPtr277 = (Value *)&str277;
Value *read_string_return_4842;

// --------- anon -------------
Value *fn4848;

// --------- anon -------------
Value *fn4850;
Value *arityImpl4851(List *closures, Value *line_count_0, Value *c_1) {
 while (1) {

// static-fixed
// #line 122 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = _EQ__557(empty_list, c_1, strPtr5);

// dynamic unknown type
// #line 122 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6;
if((rslt2)->type != FunctionType) {
rslt6 = invoke_370(empty_list, rslt2, numPtr1, numPtr0);
} else {
FnArity *arity3 = findFnArity(rslt2, 2);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType2 *fn5 = (FnType2 *)arity3->fn;
rslt6 = fn5(arity3->closures, numPtr1, numPtr0);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(numPtr0, dynArgs4);
dynArgs4 = (List *)listCons(numPtr1, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt2)->name);
  abort();
}
dec_and_free(rslt2, 1);
}

// static-fixed
// #line 122 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7 = _PLUS__457(empty_list, line_count_0, rslt6);
return(rslt7);

};};
FnArity staticArity4852 = {FnArityType, -1, 2, (List *)0, 0, arityImpl4851};
Function anon_4853 = {FunctionType, -1, "anon", 1, {&staticArity4852}};
Value *fn4850 = (Value *)&anon_4853;

Value *arityImpl4849(List *closures, Value *line_count_0, Value *s_1) {
 while (1) {

// type-unknown reduce
// #line 120 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", s_1, line_count_0, fn4850, "/Users/jim/toccata/recursive-descent.toc", 120);
return(rslt2);

};};
FnArity staticArity4854 = {FnArityType, -1, 2, (List *)0, 0, arityImpl4849};
Function anon_4855 = {FunctionType, -1, "anon", 1, {&staticArity4854}};
Value *fn4848 = (Value *)&anon_4855;

Value *arityImpl4858(List *closures, Value *lc_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 124 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = _PLUS__457(empty_list, lc_0, val1);
return(rslt2);

};};
Value *arityImpl4847(List *closures, Value *arg3) {
while (1) {
Value *str_list_0;
Value *new_s_1;
Value *tail_2;
Value **destArgs4[3] = {&str_list_0, &new_s_1, &tail_2};
destructValue("/Users/jim/toccata/recursive-descent.toc", "117", (Value *)arg3, 3, destArgs4);

incRef(str_list_0, 1);

incRef(new_s_1, 1);

dec_and_free(tail_2, 1);
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs24[2] = {&val19, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs24);

dec_and_free(closuresTail, 1);

// type-unknown reduce
// #line 118 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", str_list_0, numPtr0, fn4848, "/Users/jim/toccata/recursive-descent.toc", 118);
Value *line_count_6 = rslt5;

incRef(line_count_6, 1);
Value *orRslt7;

// call-vector
// #line 123 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, dispatchFnPtr4272);
newVect8 = mutateVectConj(newVect8, symPtr3);
Value *rslt9 = (Value *)newVect8;
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl4858;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)line_count_6, (List *)dynArity10->closures);
Function *anon_4859 = malloc_function(1);
anon_4859->name = "anon";
anon_4859->arityCount = 1;
anon_4859->arities[0] = dynArity10;
Value *fn4857 = (Value *)anon_4859;

// static-fixed
// #line 123 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt11 = update_in_1266(empty_list, new_s_1, rslt9, fn4857);
orRslt7 = rslt11;
if (!isNothing(orRslt7)) {
dec_and_free(new_s_1, 1);
dec_and_free(line_count_6, 1);

} else {
dec_and_free(orRslt7, 1);

// call-vector
// #line 125 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, dispatchFnPtr4272);
newVect12 = mutateVectConj(newVect12, symPtr3);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 125 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt14 = assoc_in_1312(empty_list, new_s_1, rslt13, line_count_6);
orRslt7 = rslt14;
}
Value *mv_15 = orRslt7;

incRef(mv_15, 1);
Value *andRslt16;
andRslt16 = mv_15;
if (isNothing(andRslt16)) {
dec_and_free(mv_15, 1);
dec_and_free(val19, 1);
dec_and_free(str_list_0, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for extract
// #line 984 "core"
Value *rslt17 = Maybe_extract_757(empty_list, mv_15);
Value *new_s_18 = rslt17;

// type-unknown to-str
// #line 126 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt20 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", str_list_0, "/Users/jim/toccata/recursive-descent.toc", 126);

// call-vector
// #line 126 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect21 = empty_vect;
newVect21 = mutateVectConj(newVect21, rslt20);
newVect21 = mutateVectConj(newVect21, new_s_18);
Value *rslt22 = (Value *)newVect21;

// type-unknown wrap
// #line 123 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt23 = proto2Arg(&wrap_Implementations_248, "wrap", val19, rslt22, "/Users/jim/toccata/recursive-descent.toc", 123);
andRslt16 = rslt23;
}
return(andRslt16);

};};
Value *arityImpl4845(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs7);

dec_and_free(closuresTail, 1);

// type-known for .f
// #line 117 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = parser_term_fn_f_3157(empty_list, val1);

// static-fixed
// #line 117 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = fn_reader_4772(empty_list, rslt2, s_0);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl4847;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
Function *anon_4860 = malloc_function(1);
anon_4860->name = "anon";
anon_4860->arityCount = 1;
anon_4860->arities[0] = dynArity5;
Value *fn4846 = (Value *)anon_4860;

// type-unknown flat-map
// #line 117 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn4846, "/Users/jim/toccata/recursive-descent.toc", 117);
return(rslt6);

};};
Value *recursive_descent_4843(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4845;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4861 = malloc_function(1);
anon_4861->name = "anon";
anon_4861->arityCount = 1;
anon_4861->arities[0] = dynArity1;
Value *fn4844 = (Value *)anon_4861;

// call invoke
// #line 116 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4844);

// call invoke
// #line 115 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4862 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4843};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str278 = {StringType, -1, 8, 0, "formfeed"};
Value *strPtr278 = (Value *)&str278;

// --------- anon -------------
Value *fn4863;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str279 = {StringType, -1, 1, 0, "\f"};
Value *strPtr279 = (Value *)&str279;
Value *arityImpl4864(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr279);

};};
FnArity staticArity4865 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4864};
Function anon_4866 = {FunctionType, -1, "anon", 1, {&staticArity4865}};
Value *fn4863 = (Value *)&anon_4866;

Value *read_string_formfeed_4867;
Value *recursive_descent_4868(List *closures, Value *p_0) {
 while (1) {

// type-known for .rule
// #line 131 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = repeat_rule_rule_3361(empty_list, p_0);

// type-unknown map
// #line 131 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, recur_4013, "/Users/jim/toccata/recursive-descent.toc", 131);
return(rslt2);

};};
FnArity recursive_descent_4869 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4868};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str280 = {StringType, -1, 11, 0, "doublequote"};
Value *strPtr280 = (Value *)&str280;

// --------- anon -------------
Value *fn4870;
Value *arityImpl4871(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr8);

};};
FnArity staticArity4872 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4871};
Function anon_4873 = {FunctionType, -1, "anon", 1, {&staticArity4872}};
Value *fn4870 = (Value *)&anon_4873;

Value *read_string_doublequote_4874;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str281 = {StringType, -1, 9, 0, "backslash"};
Value *strPtr281 = (Value *)&str281;

// --------- anon -------------
Value *fn4875;
Value *arityImpl4876(List *closures, Value *arg1) {
 while (1) {
Value *arg0 = (Value *)arg1;

dec_and_free(arg0, 1);
return(strPtr267);

};};
FnArity staticArity4877 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4876};
Function anon_4878 = {FunctionType, -1, "anon", 1, {&staticArity4877}};
Value *fn4875 = (Value *)&anon_4878;

Value *read_string_backslash_4879;

// --------- anon -------------
Value *fn4881;
Value *arityImpl4882(List *closures, Value *rule_0) {
 while (1) {

// static-fixed
// #line 137 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = recur_4014(empty_list, rule_0);

// call invoke
// #line 138 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, empty_list_0);

// call-list
// #line 137 "/Users/jim/toccata/recursive-descent.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;

// type-known for comp*
// #line 137 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = new_sm_comp_STAR__2805(empty_list, rslt1, rslt4);
return(rslt5);

};};
FnArity staticArity4883 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4882};
Function anon_4884 = {FunctionType, -1, "anon", 1, {&staticArity4883}};
Value *fn4881 = (Value *)&anon_4884;

Value *recursive_descent_4880(List *closures, Value *p_0) {
 while (1) {

// type-known for .rule
// #line 136 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = none_or_more_rule_rule_3765(empty_list, p_0);

// type-unknown map
// #line 136 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn4881, "/Users/jim/toccata/recursive-descent.toc", 136);
return(rslt2);

};};
FnArity recursive_descent_4885 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4880};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str282 = {StringType, -1, 7, 0, "not-eol"};
Value *strPtr282 = (Value *)&str282;
Value *not_eol_4886;

// --------- string-frag-len -------------
Value *string_frag_len_4888;
Value *string_frag_len_4889(List *closures, Value *s_0) {
 while (1) {

    char *str = NULL;
    int64_t strLen;
    if (s_0->type == StringType) {
      str = ((String *)s_0)->buffer;
      strLen = ((String *)s_0)->len;
    } else if (s_0->type == SubStringType) {
      str = ((SubString *)s_0)->buffer;
      strLen = ((SubString *)s_0)->len;
    }
    int64_t len;
    for (len = 0; len < strLen && str[len] != 34 && str[len] != 92;)
       len++;
    dec_and_free(s_0, 1);
    return(integerValue(len));

};};
FnArity string_frag_len_4890 = {FnArityType, -1, 1, (List *)0, 0, string_frag_len_4889};
Function string_frag_len_4891 = {FunctionType, -1, "string-frag-len", 1, {&string_frag_len_4890}};
Value *string_frag_len_4888 = (Value *)&string_frag_len_4891;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str283 = {StringType, -1, 20, 0, "read-string-fragment"};
Value *strPtr283 = (Value *)&str283;

// --------- anon -------------
Value *fn4892;
Value *arityImpl4893(List *closures, Value *text_0) {
 while (1) {

// static-fixed
// #line 187 "/Users/jim/toccata/reader.toc"
Value *rslt1 = string_frag_len_4889(empty_list, text_0);
return(rslt1);

};};
FnArity staticArity4894 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4893};
Function anon_4895 = {FunctionType, -1, "anon", 1, {&staticArity4894}};
Value *fn4892 = (Value *)&anon_4895;

Value *read_string_fragment_4896;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str284 = {StringType, -1, 7, 0, "ignored"};
Value *strPtr284 = (Value *)&str284;
Value *string_list_4897(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// call-list
// #line 142 "/Users/jim/toccata/recursive-descent.toc"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr284, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity string_list_4898 = {FnArityType, -1, 1, (List *)0, 0, string_list_4897};

// --------- anon -------------
Value *fn4900;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str285 = {StringType, -1, 9, 0, "<Ignored>"};
Value *strPtr285 = (Value *)&str285;
Value *arityImpl4908(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// call-list
// #line 148 "/Users/jim/toccata/recursive-descent.toc"
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr285, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity4909 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4908};
SubString sym4 = {SymbolType, -1, 6, 0, 0, "ignore"};
Value *symPtr4 = (Value *)&sym4;
Value *arityImpl4910(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// static-fixed
// #line 151 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = maybe_4(empty_list, symPtr4);
return(rslt1);

};};
FnArity staticArity4911 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4910};
ReifiedVal reifiedStatic4912 = {69, -1, (Value *)0, 0, {}};
Value *reifiedPtr4913 = (Value *)&reifiedStatic4912;
Value *arityImpl4901(List *closures, Value *rule_0) {
 while (1) {

incRef(rule_0, 1);

// static-fixed
// #line 146 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = constantly_1504(empty_list, reifiedPtr4913);

// type-unknown wrap
// #line 146 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", rule_0, rslt1, "/Users/jim/toccata/recursive-descent.toc", 146);

// call-list
// #line 146 "/Users/jim/toccata/recursive-descent.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rule_0, newList3);
Value *rslt4 = (Value *)newList3;

// type-unknown apply*
// #line 146 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = proto2Arg(&apply_STAR__Implementations_266, "apply*", rslt2, rslt4, "/Users/jim/toccata/recursive-descent.toc", 146);
return(rslt5);

};};
FnArity staticArity4914 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4901};
Function anon_4915 = {FunctionType, -1, "anon", 1, {&staticArity4914}};
Value *fn4900 = (Value *)&anon_4915;

Value *recursive_descent_4899(List *closures, Value *p_0) {
 while (1) {

// type-known for .rule
// #line 145 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = ignore_rule_rule_3454(empty_list, p_0);

// type-unknown map
// #line 145 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, fn4900, "/Users/jim/toccata/recursive-descent.toc", 145);
return(rslt2);

};};
FnArity recursive_descent_4916 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4899};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str286 = {StringType, -1, 6, 0, "string"};
Value *strPtr286 = (Value *)&str286;
Value *read_string_4917;
Value *recursive_descent_4918(List *closures, Value *p_0) {
 while (1) {

// type-known for .v
// #line 157 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = parser_always_v_3490(empty_list, p_0);

// call invoke
// #line 157 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, rslt1);

// call invoke
// #line 157 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4919 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4918};
Value *recursive_descent_4920(List *closures, Value *p_0) {
 while (1) {

// type-known for .grammar
// #line 162 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = parser_rule_grammar_3871(empty_list, p_0);
return(rslt1);

};};
FnArity recursive_descent_4921 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4920};
Value *arityImpl4927(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs22[4] = {&val1, &val15, &val16, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs22);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg4928_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// type-unknown wrap
// #line 168 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt17 = proto2Arg(&wrap_Implementations_248, "wrap", val15, val16, "/Users/jim/toccata/recursive-descent.toc", 168);

// dynamic unknown type
// #line 168 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt21;
if((rslt17)->type != FunctionType) {
rslt21 = invoke_368(empty_list, rslt17, arg4928_13);
} else {
FnArity *arity18 = findFnArity(rslt17, 1);
if(arity18 != (FnArity *)0 && !arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
rslt21 = fn20(arity18->closures, arg4928_13);
} else if(arity18 != (FnArity *)0 && arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
List *dynArgs19 = empty_list;
dynArgs19 = (List *)listCons(arg4928_13, dynArgs19);
rslt21 = fn20(arity18->closures, (Value *)dynArgs19);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt17)->name);
  abort();
}
dec_and_free(rslt17, 1);
}
return(rslt21);
andRslt7 = rslt21;
}

};};
Value *arityImpl4924(List *closures, Value *parser_0) {
while (1) {

incRef(parser_0, 1);
Value *val1;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[3] = {&val1, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs12);

dec_and_free(closuresTail, 1);

// type-known for .name
// #line 168 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = recursive_parser_rule_name_3913(empty_list, val1);

// static-fixed
// #line 168 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = set_val_3417(empty_list, rslt2, parser_0);
Value *ev_4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl4927;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)parser_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)val10, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_4929 = malloc_function(1);
anon_4929->name = "anon";
anon_4929->arityCount = 1;
anon_4929->arities[0] = dynArity9;
Value *fn4926 = (Value *)anon_4929;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4926);
return(rslt11);

};};
Value *recursive_descent_4922(List *closures, Value *p_0) {
 while (1) {

incRef(p_0, 1);

// type-known for .grammar
// #line 167 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = recursive_parser_rule_grammar_3917(empty_list, p_0);

// type-unknown map
// #line 167 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt1, reifiedPtr2784, "/Users/jim/toccata/recursive-descent.toc", 167);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl4924;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)wrapper_3, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)p_0, (List *)dynArity4->closures);
Function *anon_4930 = malloc_function(1);
anon_4930->name = "anon";
anon_4930->arityCount = 1;
anon_4930->arities[0] = dynArity4;
Value *fn4923 = (Value *)anon_4930;

// type-unknown flat-map
// #line 167 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_3, fn4923, "/Users/jim/toccata/recursive-descent.toc", 167);
return(rslt5);

};};
FnArity recursive_descent_4931 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4922};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str287 = {StringType, -1, 6, 0, "number"};
Value *strPtr287 = (Value *)&str287;

// --------- anon -------------
Value *fn4932;
Integer num8 = {IntegerType, -1, -1};
Value *numPtr8 = (Value *)&num8;
Value *arityImpl4933(List *closures, Value *digits_0) {
 while (1) {

// static-fixed
// #line 209 "/Users/jim/toccata/reader.toc"
Value *rslt1 = str_to_int_1523(empty_list, digits_0);

// static-fixed
// #line 209 "/Users/jim/toccata/reader.toc"
Value *rslt2 = _STAR__585(empty_list, numPtr8, rslt1);
return(rslt2);

};};
FnArity staticArity4934 = {FnArityType, -1, 1, (List *)0, 0, arityImpl4933};
Function anon_4935 = {FunctionType, -1, "anon", 1, {&staticArity4934}};
Value *fn4932 = (Value *)&anon_4935;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str288 = {StringType, -1, 1, 0, "-"};
Value *strPtr288 = (Value *)&str288;
Value *read_integer_4936;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str289 = {StringType, -1, 4, 0, "expr"};
Value *strPtr289 = (Value *)&str289;
Value *read_sub_expr_4937;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str290 = {StringType, -1, 17, 0, "linear-whitespace"};
Value *strPtr290 = (Value *)&str290;
Value *linear_whitespace_4938;
Value *ignore_linear_whitespace_4939;
Value *newline_4940;
Value *arityImpl4946(List *closures, Value *p_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 177 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5;
if((p_0)->type != FunctionType) {
rslt5 = invoke_368(empty_list, p_0, val1);
} else {
FnArity *arity2 = findFnArity(p_0, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, val1);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(val1, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)p_0)->name);
  abort();
}
dec_and_free(p_0, 1);
}
return(rslt5);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str291 = {StringType, -1, 27, 0, "No parser rule defined for "};
Value *strPtr291 = (Value *)&str291;
Value *arityImpl4943(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs16);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-known for .rule-name
// #line 176 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = recursion_rule_rule_name_4004(empty_list, val1);

// call-vector
// #line 176 "/Users/jim/toccata/recursive-descent.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr4273);
newVect3 = mutateVectConj(newVect3, rslt2);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 176 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = get_in_1261(empty_list, s_0, rslt4);
Value *mv_6 = rslt5;
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl4946;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)s_0, (List *)dynArity7->closures);
Function *anon_4947 = malloc_function(1);
anon_4947->name = "anon";
anon_4947->arityCount = 1;
anon_4947->arities[0] = dynArity7;
Value *fn4945 = (Value *)anon_4947;

// static-fixed
// #line 975 "core"
Value *rslt8 = maybe_map_729(empty_list, mv_6, fn4945);
if (!isNothing(rslt8)) {
dec_and_free(val1, 1);
return(maybeExtract(rslt8));
} else {
dec_and_free(rslt8, 1);

// type-known for .rule-name
// #line 179 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt9 = recursion_rule_rule_name_4004(empty_list, val1);

// static-variadic
// #line 179 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)strPtr10, varArgs10);
varArgs10 = (List *)listCons((Value *)rslt9, varArgs10);
varArgs10 = (List *)listCons((Value *)strPtr10, varArgs10);
Value *rslt11 = str_526(empty_list, (Value *)varArgs10);

// static-variadic
// #line 178 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)rslt11, varArgs12);
varArgs12 = (List *)listCons((Value *)strPtr291, varArgs12);
Value *rslt13 = print_err_521(empty_list, (Value *)varArgs12);
Value *arg14 = rslt13;

dec_and_free(arg14, 1);

// static-fixed
// #line 180 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt15 = abort_113(empty_list);
return(rslt15);
}

};};
Value *recursive_descent_4941(List *closures, Value *p_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl4943;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)p_0, (List *)dynArity1->closures);
Function *anon_4948 = malloc_function(1);
anon_4948->name = "anon";
anon_4948->arityCount = 1;
anon_4948->arities[0] = dynArity1;
Value *fn4942 = (Value *)anon_4948;

// call invoke
// #line 175 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4942);

// call invoke
// #line 174 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity recursive_descent_4949 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4941};
Value *ignore_newlines_4950;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str292 = {StringType, -1, 10, 0, "whitespace"};
Value *strPtr292 = (Value *)&str292;
Value *whitespace_4951;
Value *ignore_whitespace_4952;

// --------- anon -------------
Value *fn4955;
Value *arityImpl4956(List *closures, Value *arg1) {
 while (1) {
Value *rules_0 = (Value *)arg1;
Value *f_2 = comp_240;

// call-list
// #line 186 "/Users/jim/toccata/recursive-descent.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rules_0, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity staticArity4957 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4956};
Function anon_4958 = {FunctionType, -1, "anon", 1, {&staticArity4957}};
Value *fn4955 = (Value *)&anon_4958;

Value *arityImpl4960(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs43[3] = {&val2, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs43);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-unknown empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", val2, "/Users/jim/toccata/state-maybe.toc", 38);

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
Value *rslt5 = (Value *)newVect4;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, rslt5);
newVect6 = mutateVectConj(newVect6, s_0);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = constantly_1504(empty_list, rslt7);

// type-unknown map
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, rslt8, "/Users/jim/toccata/state-maybe.toc", 38);
orRslt1 = rslt9;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt10;
}
Value *x_11 = orRslt1;

incRef(x_11, 1);
Value *andRslt12;
andRslt12 = x_11;
if (isNothing(andRslt12)) {
dec_and_free(val18, 1);
dec_and_free(x_11, 1);
return(nothing);
} else {
dec_and_free(andRslt12, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = Maybe_extract_757(empty_list, x_11);
Value *results_14;
Value *s_15;
Value *tail_16;
Value **destArgs17[3] = {&results_14, &s_15, &tail_16};
destructValue("", "0", (Value *)rslt13, 3, destArgs17);

incRef(results_14, 1);

dec_and_free(tail_16, 1);
Value *rslt19 = new_sm_invoke_2810(empty_list, val18, s_15);
Value *y_20 = rslt19;

incRef(y_20, 1);
Value *andRslt21;
andRslt21 = y_20;
if (isNothing(andRslt21)) {
dec_and_free(results_14, 2);
dec_and_free(y_20, 1);
return(nothing);
} else {
dec_and_free(andRslt21, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_20, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_23;
Value *s_24;
Value *tail_25;
Value **destArgs26[3] = {&f_23, &s_24, &tail_25};
destructValue("", "0", (Value *)rslt22, 3, destArgs26);

incRef(f_23, 1);

incRef(s_24, 1);

dec_and_free(tail_25, 1);
Value *orRslt27;
Value *andRslt28;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_14, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt28 = rslt29;
if (isNothing(andRslt28)) {
dec_and_free(f_23, 1);
dec_and_free(s_24, 1);
} else {
dec_and_free(andRslt28, 1);
Value *rslt33;
if((f_23)->type != FunctionType) {
rslt33 = invoke_366(empty_list, f_23);
} else {
FnArity *arity30 = findFnArity(f_23, 0);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType0 *fn32 = (FnType0 *)arity30->fn;
rslt33 = fn32(arity30->closures);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_23)->name);
  abort();
}
dec_and_free(f_23, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect34 = empty_vect;
newVect34 = mutateVectConj(newVect34, rslt33);
newVect34 = mutateVectConj(newVect34, s_24);
Value *rslt35 = (Value *)newVect34;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = maybe_4(empty_list, rslt35);
andRslt28 = rslt36;
}
orRslt27 = andRslt28;
if (!isNothing(orRslt27)) {
dec_and_free(results_14, 1);
dec_and_free(f_23, 1);
dec_and_free(s_24, 1);
return(orRslt27);
} else {
dec_and_free(orRslt27, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList37 = empty_list;
newList37 = listCons((Value *)results_14, newList37);
Value *rslt38 = (Value *)newList37;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_23, rslt38, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, rslt39);
newVect40 = mutateVectConj(newVect40, s_24);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = maybe_4(empty_list, rslt41);
return(rslt42);
orRslt27 = rslt42;
}
andRslt21 = orRslt27;
}
andRslt12 = andRslt21;
}

};};
Value *recursive_descent_4953(List *closures, Value *u_0) {
 while (1) {

// call invoke
// #line 185 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = arityImpl2933(empty_list, reifiedPtr2939, fn4955);
Value *fv_2 = rslt1;

incRef(fv_2, 1);

// type-known for .rules
// #line 187 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = Union_rules_3673(empty_list, u_0);
Value *args_4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, fv_2);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(invoke_fn_6, 1);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl4960;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)fv_2, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)args_4, (List *)dynArity9->closures);
Function *anon_4961 = malloc_function(1);
anon_4961->name = "anon";
anon_4961->arityCount = 1;
anon_4961->arities[0] = dynArity9;
Value *fn4959 = (Value *)anon_4961;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4959);
return(rslt10);

};};
FnArity recursive_descent_4962 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4953};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str293 = {StringType, -1, 3, 0, "arg"};
Value *strPtr293 = (Value *)&str293;
Value *read_arg_4963;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str294 = {StringType, -1, 7, 0, "var-arg"};
Value *strPtr294 = (Value *)&str294;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str295 = {StringType, -1, 1, 0, "&"};
Value *strPtr295 = (Value *)&str295;
Value *read_var_arg_4964;

// --------- anon -------------
Value *fn4967;

// --------- anon -------------
Value *fn4970;
Value *arityImpl4971(List *closures, Value *arg1) {
 while (1) {
Value *parsed_values_0 = (Value *)arg1;

// static-fixed
// #line 194 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = remove_1488(empty_list, parsed_values_0, ignore_QM__4340);
return(rslt2);

};};
FnArity staticArity4972 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4971};
Function anon_4973 = {FunctionType, -1, "anon", 1, {&staticArity4972}};
Value *fn4970 = (Value *)&anon_4973;

Value *arityImpl4975(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs44[3] = {&val2, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs44);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-known for empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = List_empty_QM__473(empty_list, val2);
Value *mv_4 = rslt3;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect5 = empty_vect;
Value *rslt6 = (Value *)newVect5;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, rslt6);
newVect7 = mutateVectConj(newVect7, s_0);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = constantly_1504(empty_list, rslt8);

// static-fixed
// #line 975 "core"
Value *rslt10 = maybe_map_729(empty_list, mv_4, rslt9);
orRslt1 = rslt10;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt11;
}
Value *x_12 = orRslt1;

incRef(x_12, 1);
Value *andRslt13;
andRslt13 = x_12;
if (isNothing(andRslt13)) {
dec_and_free(val19, 1);
dec_and_free(x_12, 1);
return(nothing);
} else {
dec_and_free(andRslt13, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = Maybe_extract_757(empty_list, x_12);
Value *results_15;
Value *s_16;
Value *tail_17;
Value **destArgs18[3] = {&results_15, &s_16, &tail_17};
destructValue("", "0", (Value *)rslt14, 3, destArgs18);

incRef(results_15, 1);

dec_and_free(tail_17, 1);
Value *rslt20 = new_sm_invoke_2810(empty_list, val19, s_16);
Value *y_21 = rslt20;

incRef(y_21, 1);
Value *andRslt22;
andRslt22 = y_21;
if (isNothing(andRslt22)) {
dec_and_free(results_15, 2);
dec_and_free(y_21, 1);
return(nothing);
} else {
dec_and_free(andRslt22, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_21, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_24;
Value *s_25;
Value *tail_26;
Value **destArgs27[3] = {&f_24, &s_25, &tail_26};
destructValue("", "0", (Value *)rslt23, 3, destArgs27);

incRef(f_24, 1);

incRef(s_25, 1);

dec_and_free(tail_26, 1);
Value *orRslt28;
Value *andRslt29;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_15, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt29 = rslt30;
if (isNothing(andRslt29)) {
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
} else {
dec_and_free(andRslt29, 1);
Value *rslt34;
if((f_24)->type != FunctionType) {
rslt34 = invoke_366(empty_list, f_24);
} else {
FnArity *arity31 = findFnArity(f_24, 0);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType0 *fn33 = (FnType0 *)arity31->fn;
rslt34 = fn33(arity31->closures);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_24)->name);
  abort();
}
dec_and_free(f_24, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect35 = empty_vect;
newVect35 = mutateVectConj(newVect35, rslt34);
newVect35 = mutateVectConj(newVect35, s_25);
Value *rslt36 = (Value *)newVect35;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = maybe_4(empty_list, rslt36);
andRslt29 = rslt37;
}
orRslt28 = andRslt29;
if (!isNothing(orRslt28)) {
dec_and_free(results_15, 1);
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
return(orRslt28);
} else {
dec_and_free(orRslt28, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList38 = empty_list;
newList38 = listCons((Value *)results_15, newList38);
Value *rslt39 = (Value *)newList38;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt40 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_24, rslt39, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, rslt40);
newVect41 = mutateVectConj(newVect41, s_25);
Value *rslt42 = (Value *)newVect41;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt43 = maybe_4(empty_list, rslt42);
return(rslt43);
orRslt28 = rslt43;
}
andRslt22 = orRslt28;
}
andRslt13 = andRslt22;
}

};};
Value *arityImpl4968(List *closures, Value *arg1) {
 while (1) {
Value *rules_0 = (Value *)arg1;

// call invoke
// #line 193 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, fn4970);
Value *fv_3 = rslt2;

incRef(fv_3, 1);
Value *args_4 = rules_0;
Value *rslt5 = reified_type_args_22(empty_list, fv_3);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(invoke_fn_6, 1);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl4975;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)fv_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)args_4, (List *)dynArity9->closures);
Function *anon_4976 = malloc_function(1);
anon_4976->name = "anon";
anon_4976->arityCount = 1;
anon_4976->arities[0] = dynArity9;
Value *fn4974 = (Value *)anon_4976;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4974);
return(rslt10);

};};
FnArity staticArity4977 = {FnArityType, -1, 1, (List *)0, 1, arityImpl4968};
Function anon_4978 = {FunctionType, -1, "anon", 1, {&staticArity4977}};
Value *fn4967 = (Value *)&anon_4978;

Value *arityImpl4980(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs43[3] = {&val2, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs43);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-unknown empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", val2, "/Users/jim/toccata/state-maybe.toc", 38);

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect4 = empty_vect;
Value *rslt5 = (Value *)newVect4;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, rslt5);
newVect6 = mutateVectConj(newVect6, s_0);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = constantly_1504(empty_list, rslt7);

// type-unknown map
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, rslt8, "/Users/jim/toccata/state-maybe.toc", 38);
orRslt1 = rslt9;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt10;
}
Value *x_11 = orRslt1;

incRef(x_11, 1);
Value *andRslt12;
andRslt12 = x_11;
if (isNothing(andRslt12)) {
dec_and_free(val18, 1);
dec_and_free(x_11, 1);
return(nothing);
} else {
dec_and_free(andRslt12, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = Maybe_extract_757(empty_list, x_11);
Value *results_14;
Value *s_15;
Value *tail_16;
Value **destArgs17[3] = {&results_14, &s_15, &tail_16};
destructValue("", "0", (Value *)rslt13, 3, destArgs17);

incRef(results_14, 1);

dec_and_free(tail_16, 1);
Value *rslt19 = new_sm_invoke_2810(empty_list, val18, s_15);
Value *y_20 = rslt19;

incRef(y_20, 1);
Value *andRslt21;
andRslt21 = y_20;
if (isNothing(andRslt21)) {
dec_and_free(results_14, 2);
dec_and_free(y_20, 1);
return(nothing);
} else {
dec_and_free(andRslt21, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_20, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_23;
Value *s_24;
Value *tail_25;
Value **destArgs26[3] = {&f_23, &s_24, &tail_25};
destructValue("", "0", (Value *)rslt22, 3, destArgs26);

incRef(f_23, 1);

incRef(s_24, 1);

dec_and_free(tail_25, 1);
Value *orRslt27;
Value *andRslt28;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_14, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt28 = rslt29;
if (isNothing(andRslt28)) {
dec_and_free(f_23, 1);
dec_and_free(s_24, 1);
} else {
dec_and_free(andRslt28, 1);
Value *rslt33;
if((f_23)->type != FunctionType) {
rslt33 = invoke_366(empty_list, f_23);
} else {
FnArity *arity30 = findFnArity(f_23, 0);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType0 *fn32 = (FnType0 *)arity30->fn;
rslt33 = fn32(arity30->closures);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_23)->name);
  abort();
}
dec_and_free(f_23, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect34 = empty_vect;
newVect34 = mutateVectConj(newVect34, rslt33);
newVect34 = mutateVectConj(newVect34, s_24);
Value *rslt35 = (Value *)newVect34;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = maybe_4(empty_list, rslt35);
andRslt28 = rslt36;
}
orRslt27 = andRslt28;
if (!isNothing(orRslt27)) {
dec_and_free(results_14, 1);
dec_and_free(f_23, 1);
dec_and_free(s_24, 1);
return(orRslt27);
} else {
dec_and_free(orRslt27, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList37 = empty_list;
newList37 = listCons((Value *)results_14, newList37);
Value *rslt38 = (Value *)newList37;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_23, rslt38, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, rslt39);
newVect40 = mutateVectConj(newVect40, s_24);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = maybe_4(empty_list, rslt41);
return(rslt42);
orRslt27 = rslt42;
}
andRslt21 = orRslt27;
}
andRslt12 = andRslt21;
}

};};
Value *recursive_descent_4965(List *closures, Value *u_0) {
 while (1) {

// call invoke
// #line 192 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = arityImpl2933(empty_list, reifiedPtr2939, fn4967);
Value *fv_2 = rslt1;

incRef(fv_2, 1);

// type-known for .rules
// #line 196 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = Cat_rules_3587(empty_list, u_0);
Value *args_4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, fv_2);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(invoke_fn_6, 1);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl4980;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)fv_2, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)args_4, (List *)dynArity9->closures);
Function *anon_4981 = malloc_function(1);
anon_4981->name = "anon";
anon_4981->arityCount = 1;
anon_4981->arities[0] = dynArity9;
Value *fn4979 = (Value *)anon_4981;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn4979);
return(rslt10);

};};
FnArity recursive_descent_4982 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4965};

// proto fn for WrapInput/wrap-input
Value *wrap_input_4983;
ProtoImpls wrap_input_Implementations_4985;
Value *wrap_input_4984(List *closures, Value *arg0);
Value *wrap_input_4986(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity wrap_input_4987 = {FnArityType, -1, 1, (List *)0, 0, wrap_input_4986};
Value *List_wrap_input_4988(List *closures, Value *x_0) {
 while (1) {
return(x_0);

};};
FnArity List_wrap_input_4989 = {FnArityType, -1, 1, (List *)0, 0, List_wrap_input_4988};
Value *String_wrap_input_4990(List *closures, Value *x_0) {
 while (1) {

// call-list
// #line 211 "/Users/jim/toccata/recursive-descent.toc"
List *newList1 = empty_list;
newList1 = listCons((Value *)x_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity String_wrap_input_4991 = {FnArityType, -1, 1, (List *)0, 0, String_wrap_input_4990};
Value *SubString_wrap_input_4992(List *closures, Value *x_0) {
 while (1) {

// call-list
// #line 211 "/Users/jim/toccata/recursive-descent.toc"
List *newList1 = empty_list;
newList1 = listCons((Value *)x_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity SubString_wrap_input_4993 = {FnArityType, -1, 1, (List *)0, 0, SubString_wrap_input_4992};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str296 = {StringType, -1, 6, 0, "params"};
Value *strPtr296 = (Value *)&str296;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str297 = {StringType, -1, 11, 0, "Missing ']'"};
Value *strPtr297 = (Value *)&str297;
Value *read_params_4994;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str298 = {StringType, -1, 10, 0, "open-paren"};
Value *strPtr298 = (Value *)&str298;
Value *read_open_paren_4995;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str299 = {StringType, -1, 11, 0, "close-paren"};
Value *strPtr299 = (Value *)&str299;
Value *read_close_paren_4996;

// --------- parser -------------
Value *parser_4998;
Value *arityImpl5001(List *closures, Value *input_0) {
while (1) {
Value *val2;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[3] = {&val2, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs12);

dec_and_free(closuresTail, 1);

// type-unknown wrap-input
// #line 218 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt1 = proto1Arg(&wrap_input_Implementations_4985, "<nothing>/wrap-input", input_0, "/Users/jim/toccata/recursive-descent.toc", 218);

// static-variadic
// #line 218 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs3 = empty_list;
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);

// call invoke
// #line 218 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt5 = ParserState_invoke_4298(empty_list, reifiedPtr4301, strPtr0, rslt1, val2, rslt4);

// dynamic unknown type
// #line 218 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, rslt5);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, rslt5);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(rslt5, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}

// type-unknown flat-map
// #line 218 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt10, first_318, "/Users/jim/toccata/recursive-descent.toc", 218);
return(rslt11);

};};
Value *arityImpl5002(List *closures, Value *values_0, Value *input_1) {
while (1) {
Value *val3;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[3] = {&val3, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs11);

dec_and_free(closuresTail, 1);

// type-unknown wrap-input
// #line 221 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt2 = proto1Arg(&wrap_input_Implementations_4985, "<nothing>/wrap-input", input_1, "/Users/jim/toccata/recursive-descent.toc", 221);

// call invoke
// #line 221 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt4 = ParserState_invoke_4298(empty_list, reifiedPtr4301, strPtr0, rslt2, val3, values_0);

// dynamic unknown type
// #line 221 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt9;
if((val5)->type != FunctionType) {
rslt9 = invoke_368(empty_list, val5, rslt4);
} else {
FnArity *arity6 = findFnArity(val5, 1);
if(arity6 != (FnArity *)0 && !arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
rslt9 = fn8(arity6->closures, rslt4);
} else if(arity6 != (FnArity *)0 && arity6->variadic) {
FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(rslt4, dynArgs7);
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val5)->name);
  abort();
}
dec_and_free(val5, 1);
}

// type-unknown flat-map
// #line 221 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt9, first_318, "/Users/jim/toccata/recursive-descent.toc", 221);
return(rslt10);

};};
Value *parser_4999(List *closures, Value *grammar_0) {
 while (1) {

// static-variadic
// #line 215 "/Users/jim/toccata/recursive-descent.toc"
List *varArgs1 = empty_list;
Value *rslt2 = hash_map_1208(empty_list, (Value *)varArgs1);

// type-unknown fr/evaluate
// #line 215 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt3 = proto2Arg(&evaluate_Implementations_1866, "<maybe fr>/evaluate", grammar_0, recursive_descent_4332, "/Users/jim/toccata/recursive-descent.toc", 215);

// dynamic unknown type
// #line 215 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt7;
if((rslt3)->type != FunctionType) {
rslt7 = invoke_368(empty_list, rslt3, rslt2);
} else {
FnArity *arity4 = findFnArity(rslt3, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, rslt2);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(rslt2, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt3)->name);
  abort();
}
dec_and_free(rslt3, 1);
}

// type-unknown extract
// #line 215 "/Users/jim/toccata/recursive-descent.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt7, "/Users/jim/toccata/recursive-descent.toc", 215);
Value *grammar_parser_9;
Value *recursive_rules_10;
Value *tail_11;
Value **destArgs12[3] = {&grammar_parser_9, &recursive_rules_10, &tail_11};
destructValue("/Users/jim/toccata/recursive-descent.toc", "215", (Value *)rslt8, 3, destArgs12);

incRef(grammar_parser_9, 1);

incRef(recursive_rules_10, 1);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl5001;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)grammar_parser_9, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)recursive_rules_10, (List *)dynArity13->closures);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 2;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl5002;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)grammar_parser_9, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)recursive_rules_10, (List *)dynArity14->closures);
Function *anon_5003 = malloc_function(2);
anon_5003->name = "anon";
anon_5003->arityCount = 2;
anon_5003->arities[0] = dynArity13;
anon_5003->arities[1] = dynArity14;
Value *fn5000 = (Value *)anon_5003;
return(fn5000);

};};
FnArity parser_5004 = {FnArityType, -1, 1, (List *)0, 0, parser_4999};
Function parser_5005 = {FunctionType, -1, "parser", 1, {&parser_5004}};
Value *parser_4998 = (Value *)&parser_5005;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str300 = {StringType, -1, 11, 0, "read-inline"};
Value *strPtr300 = (Value *)&str300;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str301 = {StringType, -1, 6, 0, "inline"};
Value *strPtr301 = (Value *)&str301;

// --------- anon -------------
Value *fn5006;
Value *arityImpl5007(List *closures, Value *file_name_0, Value *line_number_1, Value *lang_2, Value *return_type_3, Value *body_4) {
 while (1) {

dec_and_free(file_name_0, 1);

dec_and_free(line_number_1, 1);

// static-fixed
// #line 279 "/Users/jim/toccata/reader.toc"
Value *rslt5 = inline_2204(empty_list, lang_2, return_type_3, body_4, strPtr0, numPtr0);
return(rslt5);

};};
FnArity staticArity5008 = {FnArityType, -1, 5, (List *)0, 0, arityImpl5007};
Function anon_5009 = {FunctionType, -1, "anon", 1, {&staticArity5008}};
Value *fn5006 = (Value *)&anon_5009;

Value *read_inline_5010;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str302 = {StringType, -1, 13, 0, "block-comment"};
Value *strPtr302 = (Value *)&str302;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str303 = {StringType, -1, 1, 0, ";"};
Value *strPtr303 = (Value *)&str303;
Value *read_block_comment_5011;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str304 = {StringType, -1, 4, 0, "call"};
Value *strPtr304 = (Value *)&str304;
Value *read_call_5012;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str305 = {StringType, -1, 11, 0, "destructure"};
Value *strPtr305 = (Value *)&str305;
Value *read_sub_dest_5013;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str306 = {StringType, -1, 16, 0, "list-destructure"};
Value *strPtr306 = (Value *)&str306;
Value *read_list_destructure_5014;
Value *read_destructure_5015;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str307 = {StringType, -1, 11, 0, "let-binding"};
Value *strPtr307 = (Value *)&str307;
Value *read_let_binding_5016;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str308 = {StringType, -1, 3, 0, "let"};
Value *strPtr308 = (Value *)&str308;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str309 = {StringType, -1, 24, 0, "Invalid 'let' expression"};
Value *strPtr309 = (Value *)&str309;
Value *read_let_5017;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str310 = {StringType, -1, 2, 0, "do"};
Value *strPtr310 = (Value *)&str310;
Value *read_do_5018;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str311 = {StringType, -1, 2, 0, "or"};
Value *strPtr311 = (Value *)&str311;
Value *read_or_5019;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str312 = {StringType, -1, 3, 0, "and"};
Value *strPtr312 = (Value *)&str312;
Value *read_and_5020;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str313 = {StringType, -1, 6, 0, "either"};
Value *strPtr313 = (Value *)&str313;
Value *read_either_5021;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str314 = {StringType, -1, 6, 0, "assert"};
Value *strPtr314 = (Value *)&str314;
Value *read_assert_5022;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str315 = {StringType, -1, 7, 0, "returns"};
Value *strPtr315 = (Value *)&str315;
Value *read_returns_5023;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str316 = {StringType, -1, 4, 0, "comp"};
Value *strPtr316 = (Value *)&str316;

// --------- anon -------------
Value *fn5024;
SubString sym5 = {SymbolType, -1, 5, 0, 0, "comp*"};
Value *symPtr5 = (Value *)&sym5;
SubString sym6 = {SymbolType, -1, 4, 0, 0, "list"};
Value *symPtr6 = (Value *)&sym6;
Value *arityImpl5025(List *closures, Value *arg_0, Value *args_1) {
 while (1) {

incRef(arg_0, 2);

// type-unknown ast/file-name
// #line 418 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", arg_0, "/Users/jim/toccata/reader.toc", 418);
Value *file_name_3 = rslt2;

incRef(file_name_3, 1);

// type-unknown ast/line-number
// #line 419 "/Users/jim/toccata/reader.toc"
Value *rslt4 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", arg_0, "/Users/jim/toccata/reader.toc", 419);
Value *line_number_5 = rslt4;

incRef(line_number_5, 1);

// type-known for tag
// #line 420 "/Users/jim/toccata/reader.toc"
Value *rslt6 = Symbol_tag_4759(empty_list, symPtr5, file_name_3, line_number_5);
Value *comp_STAR__STAR__7 = rslt6;

// type-known for tag
// #line 421 "/Users/jim/toccata/reader.toc"
Value *rslt8 = Symbol_tag_4759(empty_list, symPtr6, file_name_3, line_number_5);
Value *list_STAR__9 = rslt8;

// static-fixed
// #line 423 "/Users/jim/toccata/reader.toc"
Value *rslt10 = cons_275(empty_list, list_STAR__9, args_1);

// static-fixed
// #line 423 "/Users/jim/toccata/reader.toc"
Value *rslt11 = call_expr_3211(empty_list, rslt10);

// call-vector
// #line 422 "/Users/jim/toccata/reader.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, comp_STAR__STAR__7);
newVect12 = mutateVectConj(newVect12, arg_0);
newVect12 = mutateVectConj(newVect12, rslt11);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 422 "/Users/jim/toccata/reader.toc"
Value *rslt14 = call_expr_3211(empty_list, rslt13);
return(rslt14);

};};
FnArity staticArity5026 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5025};
Function anon_5027 = {FunctionType, -1, "anon", 1, {&staticArity5026}};
Value *fn5024 = (Value *)&anon_5027;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[20];
} str317 = {StringType, -1, 19, 0, "Invalid 'comp' form"};
Value *strPtr317 = (Value *)&str317;
Value *read_comp_5028;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str318 = {StringType, -1, 5, 0, "apply"};
Value *strPtr318 = (Value *)&str318;

// --------- anon -------------
Value *fn5029;
SubString sym7 = {SymbolType, -1, 6, 0, 0, "apply*"};
Value *symPtr7 = (Value *)&sym7;
Value *arityImpl5030(List *closures, Value *f_0, Value *args_1) {
 while (1) {

incRef(f_0, 2);

// type-unknown ast/file-name
// #line 439 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", f_0, "/Users/jim/toccata/reader.toc", 439);
Value *file_name_3 = rslt2;

incRef(file_name_3, 1);

// type-unknown ast/line-number
// #line 440 "/Users/jim/toccata/reader.toc"
Value *rslt4 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", f_0, "/Users/jim/toccata/reader.toc", 440);
Value *line_number_5 = rslt4;

incRef(line_number_5, 1);

// type-known for tag
// #line 441 "/Users/jim/toccata/reader.toc"
Value *rslt6 = Symbol_tag_4759(empty_list, symPtr7, file_name_3, line_number_5);
Value *apply_STAR__STAR__7 = rslt6;

// type-known for tag
// #line 442 "/Users/jim/toccata/reader.toc"
Value *rslt8 = Symbol_tag_4759(empty_list, symPtr6, file_name_3, line_number_5);
Value *list_9 = rslt8;

// static-fixed
// #line 444 "/Users/jim/toccata/reader.toc"
Value *rslt10 = cons_275(empty_list, list_9, args_1);

// static-fixed
// #line 444 "/Users/jim/toccata/reader.toc"
Value *rslt11 = call_expr_3211(empty_list, rslt10);

// call-vector
// #line 443 "/Users/jim/toccata/reader.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, apply_STAR__STAR__7);
newVect12 = mutateVectConj(newVect12, f_0);
newVect12 = mutateVectConj(newVect12, rslt11);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 443 "/Users/jim/toccata/reader.toc"
Value *rslt14 = call_expr_3211(empty_list, rslt13);
return(rslt14);

};};
FnArity staticArity5031 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5030};
Function anon_5032 = {FunctionType, -1, "anon", 1, {&staticArity5031}};
Value *fn5029 = (Value *)&anon_5032;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str319 = {StringType, -1, 20, 0, "Invalid 'apply' form"};
Value *strPtr319 = (Value *)&str319;
Value *read_apply_5033;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str320 = {StringType, -1, 8, 0, "apply-to"};
Value *strPtr320 = (Value *)&str320;

// --------- anon -------------
Value *fn5034;
SubString sym8 = {SymbolType, -1, 4, 0, 0, "wrap"};
Value *symPtr8 = (Value *)&sym8;
Value *arityImpl5035(List *closures, Value *f_0, Value *arg_1, Value *args_2) {
 while (1) {

incRef(f_0, 2);

incRef(arg_1, 1);

// type-unknown ast/file-name
// #line 460 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", f_0, "/Users/jim/toccata/reader.toc", 460);
Value *file_name_4 = rslt3;

incRef(file_name_4, 2);

// type-unknown ast/line-number
// #line 461 "/Users/jim/toccata/reader.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", f_0, "/Users/jim/toccata/reader.toc", 461);
Value *line_number_6 = rslt5;

incRef(line_number_6, 2);

// type-known for tag
// #line 462 "/Users/jim/toccata/reader.toc"
Value *rslt7 = Symbol_tag_4759(empty_list, symPtr7, file_name_4, line_number_6);
Value *apply_STAR__STAR__8 = rslt7;

// type-known for tag
// #line 463 "/Users/jim/toccata/reader.toc"
Value *rslt9 = Symbol_tag_4759(empty_list, symPtr8, file_name_4, line_number_6);
Value *wrap_STAR__10 = rslt9;

// type-known for tag
// #line 464 "/Users/jim/toccata/reader.toc"
Value *rslt11 = Symbol_tag_4759(empty_list, symPtr6, file_name_4, line_number_6);
Value *list_12 = rslt11;

// call-vector
// #line 466 "/Users/jim/toccata/reader.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, wrap_STAR__10);
newVect13 = mutateVectConj(newVect13, arg_1);
newVect13 = mutateVectConj(newVect13, f_0);
Value *rslt14 = (Value *)newVect13;

// static-fixed
// #line 466 "/Users/jim/toccata/reader.toc"
Value *rslt15 = call_expr_3211(empty_list, rslt14);

// static-variadic
// #line 467 "/Users/jim/toccata/reader.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)args_2, varArgs16);
varArgs16 = (List *)listCons((Value *)arg_1, varArgs16);
varArgs16 = (List *)listCons((Value *)list_12, varArgs16);
Value *rslt17 = list_STAR__483(empty_list, (Value *)varArgs16);

// static-fixed
// #line 467 "/Users/jim/toccata/reader.toc"
Value *rslt18 = call_expr_3211(empty_list, rslt17);

// call-vector
// #line 465 "/Users/jim/toccata/reader.toc"
Vector *newVect19 = empty_vect;
newVect19 = mutateVectConj(newVect19, apply_STAR__STAR__8);
newVect19 = mutateVectConj(newVect19, rslt15);
newVect19 = mutateVectConj(newVect19, rslt18);
Value *rslt20 = (Value *)newVect19;

// static-fixed
// #line 465 "/Users/jim/toccata/reader.toc"
Value *rslt21 = call_expr_3211(empty_list, rslt20);
return(rslt21);

};};
FnArity staticArity5036 = {FnArityType, -1, 3, (List *)0, 0, arityImpl5035};
Function anon_5037 = {FunctionType, -1, "anon", 1, {&staticArity5036}};
Value *fn5034 = (Value *)&anon_5037;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str321 = {StringType, -1, 23, 0, "Invalid 'apply-to' form"};
Value *strPtr321 = (Value *)&str321;
Value *read_apply_to_5038;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str322 = {StringType, -1, 16, 0, "read-inline-body"};
Value *strPtr322 = (Value *)&str322;
Value *read_inline_body_5039;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str323 = {StringType, -1, 6, 0, "fn-doc"};
Value *strPtr323 = (Value *)&str323;

// --------- anon -------------
Value *fn5040;
Value *arityImpl5041(List *closures, Value *fn_0, Value *ln_1) {
 while (1) {

// call-list
// #line 489 "/Users/jim/toccata/reader.toc"
List *newList2 = empty_list;
newList2 = listCons((Value *)strPtr0, newList2);
Value *rslt3 = (Value *)newList2;

// static-fixed
// #line 489 "/Users/jim/toccata/reader.toc"
Value *rslt4 = block_comment_2056(empty_list, fn_0, ln_1, rslt3);
return(rslt4);

};};
FnArity staticArity5042 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5041};
Function anon_5043 = {FunctionType, -1, "anon", 1, {&staticArity5042}};
Value *fn5040 = (Value *)&anon_5043;

Value *read_fn_doc_5044;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str324 = {StringType, -1, 12, 0, "single-arity"};
Value *strPtr324 = (Value *)&str324;

// --------- anon -------------
Value *fn5045;
Value *arityImpl5046(List *closures, Value *params_0, Value *doc_1, Value *body_2) {
 while (1) {

// static-fixed
// #line 496 "/Users/jim/toccata/reader.toc"
Value *rslt3 = fn_arity_2881(empty_list, params_0, doc_1, body_2);
return(rslt3);

};};
FnArity staticArity5047 = {FnArityType, -1, 3, (List *)0, 0, arityImpl5046};
Function anon_5048 = {FunctionType, -1, "anon", 1, {&staticArity5047}};
Value *fn5045 = (Value *)&anon_5048;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str325 = {StringType, -1, 25, 0, "Body of function is wrong"};
Value *strPtr325 = (Value *)&str325;
Value *read_single_arity_5049;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str326 = {StringType, -1, 7, 0, "arities"};
Value *strPtr326 = (Value *)&str326;

// --------- anon -------------
Value *fn5050;
Value *arityImpl5053(List *closures, Value *arity_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 509 "/Users/jim/toccata/reader.toc"
Value *rslt2 = assoc_1033(empty_list, arity_0, dispatchFnPtr2696, val1);
return(rslt2);

};};
Value *arityImpl5051(List *closures, Value *doc_0, Value *arities_1) {
 while (1) {
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl5053;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)doc_0, (List *)dynArity2->closures);
Function *anon_5054 = malloc_function(1);
anon_5054->name = "anon";
anon_5054->arityCount = 1;
anon_5054->arities[0] = dynArity2;
Value *fn5052 = (Value *)anon_5054;

// type-unknown map
// #line 508 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", arities_1, fn5052, "/Users/jim/toccata/reader.toc", 508);
return(rslt3);

};};
FnArity staticArity5055 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5051};
Function anon_5056 = {FunctionType, -1, "anon", 1, {&staticArity5055}};
Value *fn5050 = (Value *)&anon_5056;

Value *read_arities_5057;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str327 = {StringType, -1, 2, 0, "fn"};
Value *strPtr327 = (Value *)&str327;

// --------- anon -------------
Value *fn5058;
Value *arityImpl5059(List *closures, Value *name_0, Value *arities_1) {
 while (1) {

// static-fixed
// #line 523 "/Users/jim/toccata/reader.toc"
Value *rslt2 = fn_expr_3029(empty_list, name_0, arities_1);
return(rslt2);

};};
FnArity staticArity5060 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5059};
Function anon_5061 = {FunctionType, -1, "anon", 1, {&staticArity5060}};
Value *fn5058 = (Value *)&anon_5061;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str328 = {StringType, -1, 23, 0, "Invalid 'fn' expression"};
Value *strPtr328 = (Value *)&str328;
Value *read_fn_5062;
Value *TypeCount_5063 = (Value *)&(Integer){IntegerType, -1, TypeCount};;
Value *type_counter_5064;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str329 = {StringType, -1, 23, 0, "protocol-implementation"};
Value *strPtr329 = (Value *)&str329;
Value *read_implementation_5065;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str330 = {StringType, -1, 24, 0, "protocol-implementations"};
Value *strPtr330 = (Value *)&str330;

// --------- anon -------------
Value *fn5066;
Value *arityImpl5067(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// static-variadic
// #line 547 "/Users/jim/toccata/reader.toc"
List *varArgs1 = empty_list;
Value *rslt2 = hash_map_1208(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity5068 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5067};
Function anon_5069 = {FunctionType, -1, "anon", 1, {&staticArity5068}};
Value *fn5066 = (Value *)&anon_5069;

Value *read_proto_impls_5070;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str331 = {StringType, -1, 5, 0, "reify"};
Value *strPtr331 = (Value *)&str331;

// --------- anon -------------
Value *fn5071;
Value *arityImpl5072(List *closures, Value *impls_0) {
 while (1) {

// type-known for extract
// #line 553 "/Users/jim/toccata/reader.toc"
Value *rslt1 = IntGenerator_extract_1659(empty_list, type_counter_5064);

// static-fixed
// #line 553 "/Users/jim/toccata/reader.toc"
Value *rslt2 = reified_4391(empty_list, rslt1, impls_0);
return(rslt2);

};};
FnArity staticArity5073 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5072};
Function anon_5074 = {FunctionType, -1, "anon", 1, {&staticArity5073}};
Value *fn5071 = (Value *)&anon_5074;

Value *read_reify_5075;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str332 = {StringType, -1, 6, 0, "_FILE_"};
Value *strPtr332 = (Value *)&str332;
Value *curr_file_name_5076;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str333 = {StringType, -1, 6, 0, "_LINE_"};
Value *strPtr333 = (Value *)&str333;
Value *curr_line_5077;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str334 = {StringType, -1, 6, 0, "vector"};
Value *strPtr334 = (Value *)&str334;

// --------- anon -------------
Value *fn5078;
SubString sym9 = {SymbolType, -1, 6, 0, 0, "vector"};
Value *symPtr9 = (Value *)&sym9;
Value *arityImpl5079(List *closures, Value *fn_0, Value *ln_1, Value *elems_2) {
 while (1) {

// type-known for tag
// #line 581 "/Users/jim/toccata/reader.toc"
Value *rslt3 = Symbol_tag_4759(empty_list, symPtr9, fn_0, ln_1);

// static-fixed
// #line 581 "/Users/jim/toccata/reader.toc"
Value *rslt4 = cons_275(empty_list, rslt3, elems_2);

// static-fixed
// #line 581 "/Users/jim/toccata/reader.toc"
Value *rslt5 = call_expr_3211(empty_list, rslt4);
return(rslt5);

};};
FnArity staticArity5080 = {FnArityType, -1, 3, (List *)0, 0, arityImpl5079};
Function anon_5081 = {FunctionType, -1, "anon", 1, {&staticArity5080}};
Value *fn5078 = (Value *)&anon_5081;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str335 = {StringType, -1, 11, 0, "Missing \"]\""};
Value *strPtr335 = (Value *)&str335;
Value *read_vector_5082;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str336 = {StringType, -1, 8, 0, "hash-map"};
Value *strPtr336 = (Value *)&str336;

// --------- anon -------------
Value *fn5083;
SubString sym10 = {SymbolType, -1, 8, 0, 0, "hash-map"};
Value *symPtr10 = (Value *)&sym10;
Value *arityImpl5084(List *closures, Value *fn_0, Value *ln_1, Value *elems_2) {
 while (1) {

// type-known for tag
// #line 593 "/Users/jim/toccata/reader.toc"
Value *rslt3 = Symbol_tag_4759(empty_list, symPtr10, fn_0, ln_1);

// type-known for comp*
// #line 594 "/Users/jim/toccata/reader.toc"
Value *rslt4 = List_comp_STAR__825(empty_list, empty_list_0, elems_2);

// static-fixed
// #line 593 "/Users/jim/toccata/reader.toc"
Value *rslt5 = cons_275(empty_list, rslt3, rslt4);

// static-fixed
// #line 593 "/Users/jim/toccata/reader.toc"
Value *rslt6 = call_expr_3211(empty_list, rslt5);
return(rslt6);

};};
FnArity staticArity5085 = {FnArityType, -1, 3, (List *)0, 0, arityImpl5084};
Function anon_5086 = {FunctionType, -1, "anon", 1, {&staticArity5085}};
Value *fn5083 = (Value *)&anon_5086;

Value *read_hash_map_5087;

// proto fn for QuoteLiteral/quote-literal
Value *quote_literal_5088;
ProtoImpls quote_literal_Implementations_5090;
Value *quote_literal_5089(List *closures, Value *arg0);
Value *Default_quote_literal_5091(List *closures, Value *quoted_0) {
 while (1) {

// static-fixed
// #line 604 "/Users/jim/toccata/reader.toc"
Value *rslt1 = quoted_4337(empty_list, quoted_0);
return(rslt1);

};};
FnArity Default_quote_literal_5092 = {FnArityType, -1, 1, (List *)0, 0, Default_quote_literal_5091};
Value *String_quote_literal_5093(List *closures, Value *n_0) {
 while (1) {
return(n_0);

};};
FnArity String_quote_literal_5094 = {FnArityType, -1, 1, (List *)0, 0, String_quote_literal_5093};
Value *SubString_quote_literal_5095(List *closures, Value *n_0) {
 while (1) {
return(n_0);

};};
FnArity SubString_quote_literal_5096 = {FnArityType, -1, 1, (List *)0, 0, SubString_quote_literal_5095};
Value *Integer_quote_literal_5097(List *closures, Value *n_0) {
 while (1) {
return(n_0);

};};
FnArity Integer_quote_literal_5098 = {FnArityType, -1, 1, (List *)0, 0, Integer_quote_literal_5097};
SubString sym11 = {SymbolType, -1, 6, 0, 0, "quoted"};
Value *symPtr11 = (Value *)&sym11;
Value *arityImpl5103(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 619 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, ast_0, "/Users/jim/toccata/reader.toc", 619);
return(rslt2);

};};
Value *arityImpl5101(List *closures, Value *head_0) {
while (1) {
Value *val4;
Value *val8;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[3] = {&val4, &val8, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs15);

incRef(val8, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;
Value *andRslt2;

// static-fixed
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt3 = _EQ__557(empty_list, head_0, symPtr11);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(val8, 1);
dec_and_free(val4, 1);
} else {
dec_and_free(andRslt2, 1);

// type-known for rest
// #line 619 "/Users/jim/toccata/reader.toc"
Value *rslt5 = List_rest_432(empty_list, val4);

// type-unknown quote-literal
// #line 619 "/Users/jim/toccata/reader.toc"
Value *rslt6 = proto1Arg(&quote_literal_Implementations_5090, "<nothing>/quote-literal", rslt5, "/Users/jim/toccata/reader.toc", 619);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl5103;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
Function *anon_5104 = malloc_function(1);
anon_5104->name = "anon";
anon_5104->arityCount = 1;
anon_5104->arities[0] = dynArity7;
Value *fn5102 = (Value *)anon_5104;

// type-unknown flat-map
// #line 619 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt6, fn5102, "/Users/jim/toccata/reader.toc", 619);

// static-fixed
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt10 = maybe_4(empty_list, rslt9);
andRslt2 = rslt10;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(val8, 1);

} else {
dec_and_free(orRslt1, 1);

// type-unknown zero
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt11 = proto1Arg(&zero_Implementations_235, "zero", val8, "/Users/jim/toccata/reader.toc", 618);

// type-unknown zero
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt12 = proto1Arg(&zero_Implementations_235, "zero", rslt11, "/Users/jim/toccata/reader.toc", 618);

// static-fixed
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt13 = maybe_4(empty_list, rslt12);
orRslt1 = rslt13;
}

// type-known for extract
// #line 618 "/Users/jim/toccata/reader.toc"
Value *rslt14 = Maybe_extract_757(empty_list, orRslt1);
return(rslt14);

};};
Value *arityImpl5107(List *closures, Value *coll_builder_0) {
while (1) {

incRef(coll_builder_0, 1);
Value *val6;
Value *val17;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[3] = {&val6, &val17, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs28);

incRef(val6, 2);

incRef(val17, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;
Value *andRslt2;
Value *orRslt3;

// static-fixed
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt4 = _EQ__557(empty_list, coll_builder_0, symPtr10);
orRslt3 = rslt4;
if (!isNothing(orRslt3)) {
dec_and_free(coll_builder_0, 1);

} else {
dec_and_free(orRslt3, 1);

// static-fixed
// #line 623 "/Users/jim/toccata/reader.toc"
Value *rslt5 = _EQ__557(empty_list, coll_builder_0, symPtr9);
orRslt3 = rslt5;
}
andRslt2 = orRslt3;
if (isNothing(andRslt2)) {
dec_and_free(val17, 1);
dec_and_free(val6, 3);
} else {
dec_and_free(andRslt2, 1);

// type-known for rest
// #line 624 "/Users/jim/toccata/reader.toc"
Value *rslt7 = List_rest_432(empty_list, val6);
Value *frms_8 = rslt7;

incRef(frms_8, 1);
Value *orRslt9;

// type-unknown empty?
// #line 625 "/Users/jim/toccata/reader.toc"
Value *rslt10 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", frms_8, "/Users/jim/toccata/reader.toc", 625);
orRslt9 = rslt10;
if (!isNothing(orRslt9)) {
dec_and_free(frms_8, 1);

} else {
dec_and_free(orRslt9, 1);

// type-unknown map
// #line 626 "/Users/jim/toccata/reader.toc"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", frms_8, quote_literal_5088, "/Users/jim/toccata/reader.toc", 626);

// static-fixed
// #line 626 "/Users/jim/toccata/reader.toc"
Value *rslt12 = maybe_4(empty_list, rslt11);
orRslt9 = rslt12;
}
Value *mv_13 = orRslt9;

incRef(mv_13, 1);
Value *andRslt14;
andRslt14 = mv_13;
if (isNothing(andRslt14)) {
dec_and_free(val17, 1);
dec_and_free(val6, 2);
dec_and_free(mv_13, 1);
} else {
dec_and_free(andRslt14, 1);

// type-known for extract
// #line 984 "core"
Value *rslt15 = Maybe_extract_757(empty_list, mv_13);
Value *contents_16 = rslt15;

// type-known for ast/file-name
// #line 627 "/Users/jim/toccata/reader.toc"
Value *rslt18 = List_file_name_1883(empty_list, val6);

// type-known for ast/line-number
// #line 627 "/Users/jim/toccata/reader.toc"
Value *rslt19 = List_line_number_1885(empty_list, val6);

// type-known for tag
// #line 627 "/Users/jim/toccata/reader.toc"
Value *rslt20 = Symbol_tag_4759(empty_list, symPtr9, rslt18, rslt19);

// call invoke
// #line 627 "/Users/jim/toccata/reader.toc"
Value *rslt21 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt20, contents_16);

// type-unknown wrap
// #line 625 "/Users/jim/toccata/reader.toc"
Value *rslt22 = proto2Arg(&wrap_Implementations_248, "wrap", val17, rslt21, "/Users/jim/toccata/reader.toc", 625);
andRslt14 = rslt22;
}

// static-fixed
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt23 = maybe_4(empty_list, andRslt14);
andRslt2 = rslt23;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(val17, 1);

} else {
dec_and_free(orRslt1, 1);

// type-unknown zero
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt24 = proto1Arg(&zero_Implementations_235, "zero", val17, "/Users/jim/toccata/reader.toc", 622);

// type-unknown zero
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt25 = proto1Arg(&zero_Implementations_235, "zero", rslt24, "/Users/jim/toccata/reader.toc", 622);

// static-fixed
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt26 = maybe_4(empty_list, rslt25);
orRslt1 = rslt26;
}

// type-known for extract
// #line 622 "/Users/jim/toccata/reader.toc"
Value *rslt27 = Maybe_extract_757(empty_list, orRslt1);
return(rslt27);

};};
Value *List_quote_literal_5099(List *closures, Value *quoted_list_0) {
 while (1) {

incRef(quoted_list_0, 6);
Value *orRslt1;

// type-known for first
// #line 617 "/Users/jim/toccata/reader.toc"
Value *rslt2 = List_first_430(empty_list, quoted_list_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl5101;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)wrapper_3, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)quoted_list_0, (List *)dynArity4->closures);
Function *anon_5105 = malloc_function(1);
anon_5105->name = "anon";
anon_5105->arityCount = 1;
anon_5105->arities[0] = dynArity4;
Value *fn5100 = (Value *)anon_5105;

// type-unknown flat-map
// #line 617 "/Users/jim/toccata/reader.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_3, fn5100, "/Users/jim/toccata/reader.toc", 617);
orRslt1 = rslt5;
if (!isNothing(orRslt1)) {
dec_and_free(quoted_list_0, 2);

} else {
dec_and_free(orRslt1, 1);

// type-known for first
// #line 621 "/Users/jim/toccata/reader.toc"
Value *rslt6 = List_first_430(empty_list, quoted_list_0);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl5107;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_7, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)quoted_list_0, (List *)dynArity8->closures);
Function *anon_5109 = malloc_function(1);
anon_5109->name = "anon";
anon_5109->arityCount = 1;
anon_5109->arities[0] = dynArity8;
Value *fn5106 = (Value *)anon_5109;

// type-unknown flat-map
// #line 621 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_7, fn5106, "/Users/jim/toccata/reader.toc", 621);
orRslt1 = rslt9;
}
if (!isNothing(orRslt1)) {
dec_and_free(quoted_list_0, 3);
return(maybeExtract(orRslt1));
} else {
dec_and_free(orRslt1, 1);

// type-known for ast/file-name
// #line 629 "/Users/jim/toccata/reader.toc"
Value *rslt10 = List_file_name_1883(empty_list, quoted_list_0);

// type-known for ast/line-number
// #line 629 "/Users/jim/toccata/reader.toc"
Value *rslt11 = List_line_number_1885(empty_list, quoted_list_0);

// type-known for tag
// #line 629 "/Users/jim/toccata/reader.toc"
Value *rslt12 = Symbol_tag_4759(empty_list, symPtr6, rslt10, rslt11);
Value *l_13 = quoted_list_0;

// static-fixed
// #line 1051 "core"
Value *rslt14 = list_map_73(empty_list, l_13, quote_literal_5088);

// call invoke
// #line 629 "/Users/jim/toccata/reader.toc"
Value *rslt15 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt12, rslt14);
return(rslt15);
}

};};
FnArity List_quote_literal_5110 = {FnArityType, -1, 1, (List *)0, 0, List_quote_literal_5099};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str337 = {StringType, -1, 12, 0, "quoted-value"};
Value *strPtr337 = (Value *)&str337;
Value *read_quoted_value_5111;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str338 = {StringType, -1, 6, 0, "quoted"};
Value *strPtr338 = (Value *)&str338;
Value *read_quoted_5112;

// proto fn for ForBinding/nest-when
Value *nest_when_5113;
ProtoImpls nest_when_Implementations_5115;
Value *nest_when_5114(List *closures, Value *arg0, Value *arg1, Value *arg2);
SubString sym12 = {SymbolType, -1, 7, 0, 0, "extract"};
Value *symPtr12 = (Value *)&sym12;
SubString sym13 = {SymbolType, -1, 5, 0, 0, "maybe"};
Value *symPtr13 = (Value *)&sym13;
SubString sym14 = {SymbolType, -1, 4, 0, 0, "zero"};
Value *symPtr14 = (Value *)&sym14;
Value *Default_nest_when_5116(List *closures, Value *body_0, Value *clause_1, Value *wrapper_2) {
 while (1) {

incRef(clause_1, 2);

// type-unknown ast/file-name
// #line 662 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", clause_1, "/Users/jim/toccata/reader.toc", 662);
Value *fn_4 = rslt3;

incRef(fn_4, 4);

// type-unknown ast/line-number
// #line 663 "/Users/jim/toccata/reader.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", clause_1, "/Users/jim/toccata/reader.toc", 663);
Value *ln_6 = rslt5;

incRef(ln_6, 4);

// type-known for tag
// #line 665 "/Users/jim/toccata/reader.toc"
Value *rslt7 = Symbol_tag_4759(empty_list, symPtr12, fn_4, ln_6);

// type-known for tag
// #line 668 "/Users/jim/toccata/reader.toc"
Value *rslt8 = Symbol_tag_4759(empty_list, symPtr13, fn_4, ln_6);

// call-list
// #line 668 "/Users/jim/toccata/reader.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)body_0, newList9);
Value *rslt10 = (Value *)newList9;

// call invoke
// #line 668 "/Users/jim/toccata/reader.toc"
Value *rslt11 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt8, rslt10);

// call-list
// #line 667 "/Users/jim/toccata/reader.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)clause_1, newList12);
Value *rslt13 = (Value *)newList12;

// static-fixed
// #line 667 "/Users/jim/toccata/reader.toc"
Value *rslt14 = and_expr_3544(empty_list, rslt13);

// type-known for tag
// #line 670 "/Users/jim/toccata/reader.toc"
Value *rslt15 = Symbol_tag_4759(empty_list, symPtr13, fn_4, ln_6);

// type-known for tag
// #line 671 "/Users/jim/toccata/reader.toc"
Value *rslt16 = Symbol_tag_4759(empty_list, symPtr14, fn_4, ln_6);

// type-known for tag
// #line 672 "/Users/jim/toccata/reader.toc"
Value *rslt17 = Symbol_tag_4759(empty_list, symPtr14, fn_4, ln_6);

// call-list
// #line 673 "/Users/jim/toccata/reader.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)wrapper_2, newList18);
Value *rslt19 = (Value *)newList18;

// call invoke
// #line 672 "/Users/jim/toccata/reader.toc"
Value *rslt20 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt17, rslt19);

// call-list
// #line 672 "/Users/jim/toccata/reader.toc"
List *newList21 = empty_list;
newList21 = listCons((Value *)rslt20, newList21);
Value *rslt22 = (Value *)newList21;

// call invoke
// #line 671 "/Users/jim/toccata/reader.toc"
Value *rslt23 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt16, rslt22);

// call-list
// #line 671 "/Users/jim/toccata/reader.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)rslt23, newList24);
Value *rslt25 = (Value *)newList24;

// call invoke
// #line 669 "/Users/jim/toccata/reader.toc"
Value *rslt26 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt15, rslt25);

// call-list
// #line 667 "/Users/jim/toccata/reader.toc"
List *newList27 = empty_list;
newList27 = listCons((Value *)rslt26, newList27);
newList27 = listCons((Value *)rslt14, newList27);
Value *rslt28 = (Value *)newList27;

// static-fixed
// #line 666 "/Users/jim/toccata/reader.toc"
Value *rslt29 = or_expr_3647(empty_list, rslt28);

// call-list
// #line 666 "/Users/jim/toccata/reader.toc"
List *newList30 = empty_list;
newList30 = listCons((Value *)rslt29, newList30);
Value *rslt31 = (Value *)newList30;

// call invoke
// #line 664 "/Users/jim/toccata/reader.toc"
Value *rslt32 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt7, rslt31);
return(rslt32);

};};
FnArity Default_nest_when_5117 = {FnArityType, -1, 3, (List *)0, 0, Default_nest_when_5116};

// proto fn for ForBinding/nest-when-not
Value *nest_when_not_5118;
ProtoImpls nest_when_not_Implementations_5120;
Value *nest_when_not_5119(List *closures, Value *arg0, Value *arg1, Value *arg2);
Value *Default_nest_when_not_5121(List *closures, Value *body_0, Value *clause_1, Value *wrapper_2) {
 while (1) {

incRef(clause_1, 2);

// type-unknown ast/file-name
// #line 676 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", clause_1, "/Users/jim/toccata/reader.toc", 676);
Value *fn_4 = rslt3;

incRef(fn_4, 4);

// type-unknown ast/line-number
// #line 677 "/Users/jim/toccata/reader.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", clause_1, "/Users/jim/toccata/reader.toc", 677);
Value *ln_6 = rslt5;

incRef(ln_6, 4);

// type-known for tag
// #line 679 "/Users/jim/toccata/reader.toc"
Value *rslt7 = Symbol_tag_4759(empty_list, symPtr12, fn_4, ln_6);

// type-known for tag
// #line 683 "/Users/jim/toccata/reader.toc"
Value *rslt8 = Symbol_tag_4759(empty_list, symPtr13, fn_4, ln_6);

// type-known for tag
// #line 684 "/Users/jim/toccata/reader.toc"
Value *rslt9 = Symbol_tag_4759(empty_list, symPtr14, fn_4, ln_6);

// type-known for tag
// #line 685 "/Users/jim/toccata/reader.toc"
Value *rslt10 = Symbol_tag_4759(empty_list, symPtr14, fn_4, ln_6);

// call-list
// #line 686 "/Users/jim/toccata/reader.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)wrapper_2, newList11);
Value *rslt12 = (Value *)newList11;

// call invoke
// #line 685 "/Users/jim/toccata/reader.toc"
Value *rslt13 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt10, rslt12);

// call-list
// #line 685 "/Users/jim/toccata/reader.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
Value *rslt15 = (Value *)newList14;

// call invoke
// #line 684 "/Users/jim/toccata/reader.toc"
Value *rslt16 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt9, rslt15);

// call-list
// #line 684 "/Users/jim/toccata/reader.toc"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
Value *rslt18 = (Value *)newList17;

// call invoke
// #line 682 "/Users/jim/toccata/reader.toc"
Value *rslt19 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt8, rslt18);

// call-list
// #line 682 "/Users/jim/toccata/reader.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)rslt19, newList20);
newList20 = listCons((Value *)clause_1, newList20);
Value *rslt21 = (Value *)newList20;

// static-fixed
// #line 681 "/Users/jim/toccata/reader.toc"
Value *rslt22 = and_expr_3544(empty_list, rslt21);

// type-known for tag
// #line 688 "/Users/jim/toccata/reader.toc"
Value *rslt23 = Symbol_tag_4759(empty_list, symPtr13, fn_4, ln_6);

// call-list
// #line 689 "/Users/jim/toccata/reader.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)body_0, newList24);
Value *rslt25 = (Value *)newList24;

// call invoke
// #line 687 "/Users/jim/toccata/reader.toc"
Value *rslt26 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt23, rslt25);

// call-list
// #line 681 "/Users/jim/toccata/reader.toc"
List *newList27 = empty_list;
newList27 = listCons((Value *)rslt26, newList27);
newList27 = listCons((Value *)rslt22, newList27);
Value *rslt28 = (Value *)newList27;

// static-fixed
// #line 680 "/Users/jim/toccata/reader.toc"
Value *rslt29 = or_expr_3647(empty_list, rslt28);

// call-list
// #line 680 "/Users/jim/toccata/reader.toc"
List *newList30 = empty_list;
newList30 = listCons((Value *)rslt29, newList30);
Value *rslt31 = (Value *)newList30;

// call invoke
// #line 678 "/Users/jim/toccata/reader.toc"
Value *rslt32 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt7, rslt31);
return(rslt32);

};};
FnArity Default_nest_when_not_5122 = {FnArityType, -1, 3, (List *)0, 0, Default_nest_when_not_5121};

// proto fn for ForBinding/nest-binding
Value *nest_binding_5123;
ProtoImpls nest_binding_Implementations_5125;
Value *nest_binding_5124(List *closures, Value *arg0, Value *arg1, Value *arg2);
SubString sym15 = {SymbolType, -1, 8, 0, 0, "flat-map"};
Value *symPtr15 = (Value *)&sym15;
Value *Default_nest_binding_5126(List *closures, Value *body_0, Value *binding_1, Value *wrapper_2) {
 while (1) {

incRef(binding_1, 3);

dec_and_free(wrapper_2, 1);

// type-unknown ast/file-name
// #line 692 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", binding_1, "/Users/jim/toccata/reader.toc", 692);

// type-unknown ast/line-number
// #line 692 "/Users/jim/toccata/reader.toc"
Value *rslt4 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", binding_1, "/Users/jim/toccata/reader.toc", 692);

// type-known for tag
// #line 692 "/Users/jim/toccata/reader.toc"
Value *rslt5 = Symbol_tag_4759(empty_list, symPtr15, rslt3, rslt4);

// type-unknown .val
// #line 693 "/Users/jim/toccata/reader.toc"
Value *rslt6 = proto1Arg(&protoImpls3268, "<nothing>/.val", binding_1, "/Users/jim/toccata/reader.toc", 693);

// type-unknown .binding
// #line 695 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&protoImpls3264, "<nothing>/.binding", binding_1, "/Users/jim/toccata/reader.toc", 695);

// call-vector
// #line 695 "/Users/jim/toccata/reader.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, rslt7);
Value *rslt9 = (Value *)newVect8;

// static-fixed
// #line 695 "/Users/jim/toccata/reader.toc"
Value *rslt10 = params_2408(empty_list, rslt9);

// call-list
// #line 697 "/Users/jim/toccata/reader.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)body_0, newList11);
Value *rslt12 = (Value *)newList11;

// static-fixed
// #line 695 "/Users/jim/toccata/reader.toc"
Value *rslt13 = fn_arity_2881(empty_list, rslt10, strPtr0, rslt12);

// call-list
// #line 695 "/Users/jim/toccata/reader.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
Value *rslt15 = (Value *)newList14;

// static-fixed
// #line 694 "/Users/jim/toccata/reader.toc"
Value *rslt16 = fn_expr_3029(empty_list, nothing_7, rslt15);

// call-list
// #line 693 "/Users/jim/toccata/reader.toc"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
newList17 = listCons((Value *)rslt6, newList17);
Value *rslt18 = (Value *)newList17;

// call invoke
// #line 692 "/Users/jim/toccata/reader.toc"
Value *rslt19 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt5, rslt18);
return(rslt19);

};};
FnArity Default_nest_binding_5127 = {FnArityType, -1, 3, (List *)0, 0, Default_nest_binding_5126};

// proto fn for ForBinding/nest-let
Value *nest_let_5128;
ProtoImpls nest_let_Implementations_5130;
Value *nest_let_5129(List *closures, Value *arg0, Value *arg1);
Value *Default_nest_let_5131(List *closures, Value *body_0, Value *bindings_1) {
 while (1) {

// call-list
// #line 659 "/Users/jim/toccata/reader.toc"
List *newList2 = empty_list;
newList2 = listCons((Value *)body_0, newList2);
Value *rslt3 = (Value *)newList2;

// static-fixed
// #line 659 "/Users/jim/toccata/reader.toc"
Value *rslt4 = let_expr_3425(empty_list, bindings_1, rslt3);
return(rslt4);

};};
FnArity Default_nest_let_5132 = {FnArityType, -1, 2, (List *)0, 0, Default_nest_let_5131};
Value *nest_binding_5133(List *closures, Value *b_0, Value *body_1, Value *wrapper_2) {
 while (1) {

// type-unknown nest-binding
// #line 702 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto3Arg(&nest_binding_Implementations_5125, "<nothing>/nest-binding", body_1, b_0, wrapper_2, "/Users/jim/toccata/reader.toc", 702);
return(rslt3);

};};
FnArity nest_binding_5134 = {FnArityType, -1, 3, (List *)0, 0, nest_binding_5133};
Value *type_val_5135_5136;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str339 = {StringType, -1, 10, 0, "ForLetExpr"};
Value *strPtr339 = (Value *)&str339;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str340 = {StringType, -1, 8, 0, "bindings"};
Value *strPtr340 = (Value *)&str340;
Value *arityImpl5138(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr340, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr339, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5139 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5138};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str341 = {StringType, -1, 24, 0, "*ForLetExpr constructor*"};
Value *strPtr341 = (Value *)&str341;
Value *ForLetExpr_const_type_name_5140(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr341);

};};
FnArity ForLetExpr_const_type_name_5141 = {FnArityType, -1, 1, (List *)0, 0, ForLetExpr_const_type_name_5140};
Value *ForLetExpr_instance_QMARK__5142(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5135_5136, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ForLetExpr_instance_QMARK__5143 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_instance_QMARK__5142};
Value *ForLetExpr_invoke_5144(List *closures, Value *arg0, Value *bindings_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, bindings_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_5135_5136, rslt3);
return(rslt4);

};};
FnArity ForLetExpr_invoke_5145 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_invoke_5144};
ReifiedVal reifiedStatic5146 = {140, -1, (Value *)0, 0, {}};
Value *reifiedPtr5147 = (Value *)&reifiedStatic5146;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str342 = {StringType, -1, 7, 0, "<ForLet"};
Value *strPtr342 = (Value *)&str342;
Value *ForLetExpr_string_list_5148(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *bindings_2;
Value *tail_3;
Value **destArgs4[2] = {&bindings_2, &tail_3};
destructValue("/Users/jim/toccata/reader.toc", "704", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 706 "/Users/jim/toccata/reader.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr342, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 707 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", bindings_2, "/Users/jim/toccata/reader.toc", 707);

// call-list
// #line 708 "/Users/jim/toccata/reader.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 706 "/Users/jim/toccata/reader.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 706 "/Users/jim/toccata/reader.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity ForLetExpr_string_list_5149 = {FnArityType, -1, 1, (List *)0, 0, ForLetExpr_string_list_5148};
Value *ForLetExpr_EQ_STAR__5150(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForLetExpr_EQ_STAR__5151 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_EQ_STAR__5150};
Value *ForLetExpr_type_name_5152(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr339);

};};
FnArity ForLetExpr_type_name_5153 = {FnArityType, -1, 1, (List *)0, 0, ForLetExpr_type_name_5152};
Value *ForLetExpr_has_field_5154(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3374, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity ForLetExpr_has_field_5155 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_has_field_5154};
Value *ForLetExpr_bindings_5156(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ForLetExpr_bindings_5157 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_bindings_5156};
Value *ForLetExpr_bindings_5158(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ForLetExpr_bindings_5159 = {FnArityType, -1, 1, (List *)0, 0, ForLetExpr_bindings_5158};
Value *ForLetExpr_get_5160(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForLetExpr_get_5161 = {FnArityType, -1, 2, (List *)0, 0, ForLetExpr_get_5160};
Value *ForLetExpr_assoc_STAR__5162(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ForLetExpr_assoc_STAR__5163 = {FnArityType, -1, 5, (List *)0, 0, ForLetExpr_assoc_STAR__5162};
Value *ForLetExpr_nest_binding_5164(List *closures, Value *arg0, Value *body_1, Value *wrapper_2) {
 while (1) {

dec_and_free(wrapper_2, 1);
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *bindings_4;
Value *tail_5;
Value **destArgs6[2] = {&bindings_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "704", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown nest-let
// #line 712 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto2Arg(&nest_let_Implementations_5130, "<nothing>/nest-let", body_1, bindings_4, "/Users/jim/toccata/reader.toc", 712);
return(rslt7);

};};
FnArity ForLetExpr_nest_binding_5165 = {FnArityType, -1, 3, (List *)0, 0, ForLetExpr_nest_binding_5164};
ReifiedVal reifiedStatic5166 = {141, -1, (Value *)0, 0, {}};
Value *reifiedPtr5167 = (Value *)&reifiedStatic5166;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str343 = {StringType, -1, 7, 0, "for-let"};
Value *strPtr343 = (Value *)&str343;

// --------- anon -------------
Value *fn5168;
Value *arityImpl5169(List *closures, Value *bindings_0) {
 while (1) {

// call invoke
// #line 717 "/Users/jim/toccata/reader.toc"
Value *rslt1 = ForLetExpr_invoke_5144(empty_list, reifiedPtr5147, bindings_0);
return(rslt1);

};};
FnArity staticArity5170 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5169};
Function anon_5171 = {FunctionType, -1, "anon", 1, {&staticArity5170}};
Value *fn5168 = (Value *)&anon_5171;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str344 = {StringType, -1, 4, 0, ":let"};
Value *strPtr344 = (Value *)&str344;
Value *read_for_let_5172;
Value *type_val_5173_5174;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str345 = {StringType, -1, 11, 0, "ForWhenExpr"};
Value *strPtr345 = (Value *)&str345;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str346 = {StringType, -1, 5, 0, "value"};
Value *strPtr346 = (Value *)&str346;
Value *arityImpl5176(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr346, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr345, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5177 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5176};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str347 = {StringType, -1, 25, 0, "*ForWhenExpr constructor*"};
Value *strPtr347 = (Value *)&str347;
Value *ForWhenExpr_const_type_name_5178(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr347);

};};
FnArity ForWhenExpr_const_type_name_5179 = {FnArityType, -1, 1, (List *)0, 0, ForWhenExpr_const_type_name_5178};
Value *ForWhenExpr_instance_QMARK__5180(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5173_5174, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ForWhenExpr_instance_QMARK__5181 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_instance_QMARK__5180};
Value *ForWhenExpr_invoke_5182(List *closures, Value *arg0, Value *value_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, value_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_5173_5174, rslt3);
return(rslt4);

};};
FnArity ForWhenExpr_invoke_5183 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_invoke_5182};
ReifiedVal reifiedStatic5184 = {142, -1, (Value *)0, 0, {}};
Value *reifiedPtr5185 = (Value *)&reifiedStatic5184;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str348 = {StringType, -1, 8, 0, "<ForWhen"};
Value *strPtr348 = (Value *)&str348;
Value *ForWhenExpr_string_list_5186(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *value_2;
Value *tail_3;
Value **destArgs4[2] = {&value_2, &tail_3};
destructValue("/Users/jim/toccata/reader.toc", "727", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 729 "/Users/jim/toccata/reader.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr348, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 730 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", value_2, "/Users/jim/toccata/reader.toc", 730);

// call-list
// #line 731 "/Users/jim/toccata/reader.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 729 "/Users/jim/toccata/reader.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 729 "/Users/jim/toccata/reader.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity ForWhenExpr_string_list_5187 = {FnArityType, -1, 1, (List *)0, 0, ForWhenExpr_string_list_5186};
Value *ForWhenExpr_EQ_STAR__5188(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForWhenExpr_EQ_STAR__5189 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_EQ_STAR__5188};
Value *ForWhenExpr_type_name_5190(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr345);

};};
FnArity ForWhenExpr_type_name_5191 = {FnArityType, -1, 1, (List *)0, 0, ForWhenExpr_type_name_5190};
Value *ForWhenExpr_has_field_5192(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity ForWhenExpr_has_field_5193 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_has_field_5192};
Value *ForWhenExpr_value_5194(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ForWhenExpr_value_5195 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_value_5194};
Value *ForWhenExpr_value_5196(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ForWhenExpr_value_5197 = {FnArityType, -1, 1, (List *)0, 0, ForWhenExpr_value_5196};
Value *ForWhenExpr_get_5198(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForWhenExpr_get_5199 = {FnArityType, -1, 2, (List *)0, 0, ForWhenExpr_get_5198};
Value *ForWhenExpr_assoc_STAR__5200(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ForWhenExpr_assoc_STAR__5201 = {FnArityType, -1, 5, (List *)0, 0, ForWhenExpr_assoc_STAR__5200};
Value *ForWhenExpr_nest_binding_5202(List *closures, Value *arg0, Value *body_1, Value *wrapper_2) {
 while (1) {
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *value_4;
Value *tail_5;
Value **destArgs6[2] = {&value_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "727", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown nest-when
// #line 735 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto3Arg(&nest_when_Implementations_5115, "<nothing>/nest-when", body_1, value_4, wrapper_2, "/Users/jim/toccata/reader.toc", 735);
return(rslt7);

};};
FnArity ForWhenExpr_nest_binding_5203 = {FnArityType, -1, 3, (List *)0, 0, ForWhenExpr_nest_binding_5202};
ReifiedVal reifiedStatic5204 = {143, -1, (Value *)0, 0, {}};
Value *reifiedPtr5205 = (Value *)&reifiedStatic5204;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str349 = {StringType, -1, 8, 0, "for-when"};
Value *strPtr349 = (Value *)&str349;

// --------- anon -------------
Value *fn5206;
Value *arityImpl5207(List *closures, Value *clause_0) {
 while (1) {

// call invoke
// #line 740 "/Users/jim/toccata/reader.toc"
Value *rslt1 = ForWhenExpr_invoke_5182(empty_list, reifiedPtr5185, clause_0);
return(rslt1);

};};
FnArity staticArity5208 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5207};
Function anon_5209 = {FunctionType, -1, "anon", 1, {&staticArity5208}};
Value *fn5206 = (Value *)&anon_5209;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str350 = {StringType, -1, 5, 0, ":when"};
Value *strPtr350 = (Value *)&str350;
Value *read_for_when_5210;
Value *type_val_5211_5212;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str351 = {StringType, -1, 14, 0, "ForWhenNotExpr"};
Value *strPtr351 = (Value *)&str351;
Value *arityImpl5214(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr346, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr351, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5215 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5214};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str352 = {StringType, -1, 28, 0, "*ForWhenNotExpr constructor*"};
Value *strPtr352 = (Value *)&str352;
Value *ForWhenNotExpr_const_type_name_5216(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr352);

};};
FnArity ForWhenNotExpr_const_type_name_5217 = {FnArityType, -1, 1, (List *)0, 0, ForWhenNotExpr_const_type_name_5216};
Value *ForWhenNotExpr_instance_QMARK__5218(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5211_5212, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ForWhenNotExpr_instance_QMARK__5219 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_instance_QMARK__5218};
Value *ForWhenNotExpr_invoke_5220(List *closures, Value *arg0, Value *value_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, value_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_5211_5212, rslt3);
return(rslt4);

};};
FnArity ForWhenNotExpr_invoke_5221 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_invoke_5220};
ReifiedVal reifiedStatic5222 = {144, -1, (Value *)0, 0, {}};
Value *reifiedPtr5223 = (Value *)&reifiedStatic5222;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str353 = {StringType, -1, 11, 0, "<ForWhenNot"};
Value *strPtr353 = (Value *)&str353;
Value *ForWhenNotExpr_string_list_5224(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *value_2;
Value *tail_3;
Value **destArgs4[2] = {&value_2, &tail_3};
destructValue("/Users/jim/toccata/reader.toc", "747", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 749 "/Users/jim/toccata/reader.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr353, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 750 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", value_2, "/Users/jim/toccata/reader.toc", 750);

// call-list
// #line 751 "/Users/jim/toccata/reader.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 749 "/Users/jim/toccata/reader.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 749 "/Users/jim/toccata/reader.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity ForWhenNotExpr_string_list_5225 = {FnArityType, -1, 1, (List *)0, 0, ForWhenNotExpr_string_list_5224};
Value *ForWhenNotExpr_EQ_STAR__5226(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForWhenNotExpr_EQ_STAR__5227 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_EQ_STAR__5226};
Value *ForWhenNotExpr_type_name_5228(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr351);

};};
FnArity ForWhenNotExpr_type_name_5229 = {FnArityType, -1, 1, (List *)0, 0, ForWhenNotExpr_type_name_5228};
Value *ForWhenNotExpr_has_field_5230(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity ForWhenNotExpr_has_field_5231 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_has_field_5230};
Value *ForWhenNotExpr_value_5232(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ForWhenNotExpr_value_5233 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_value_5232};
Value *ForWhenNotExpr_value_5234(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ForWhenNotExpr_value_5235 = {FnArityType, -1, 1, (List *)0, 0, ForWhenNotExpr_value_5234};
Value *ForWhenNotExpr_get_5236(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForWhenNotExpr_get_5237 = {FnArityType, -1, 2, (List *)0, 0, ForWhenNotExpr_get_5236};
Value *ForWhenNotExpr_assoc_STAR__5238(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ForWhenNotExpr_assoc_STAR__5239 = {FnArityType, -1, 5, (List *)0, 0, ForWhenNotExpr_assoc_STAR__5238};
Value *ForWhenNotExpr_nest_binding_5240(List *closures, Value *arg0, Value *body_1, Value *wrapper_2) {
 while (1) {
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *value_4;
Value *tail_5;
Value **destArgs6[2] = {&value_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "747", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown nest-when-not
// #line 755 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto3Arg(&nest_when_not_Implementations_5120, "<nothing>/nest-when-not", body_1, value_4, wrapper_2, "/Users/jim/toccata/reader.toc", 755);
return(rslt7);

};};
FnArity ForWhenNotExpr_nest_binding_5241 = {FnArityType, -1, 3, (List *)0, 0, ForWhenNotExpr_nest_binding_5240};
ReifiedVal reifiedStatic5242 = {145, -1, (Value *)0, 0, {}};
Value *reifiedPtr5243 = (Value *)&reifiedStatic5242;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str354 = {StringType, -1, 12, 0, "for-when-not"};
Value *strPtr354 = (Value *)&str354;

// --------- anon -------------
Value *fn5244;
Value *arityImpl5245(List *closures, Value *clause_0) {
 while (1) {

// call invoke
// #line 760 "/Users/jim/toccata/reader.toc"
Value *rslt1 = ForWhenNotExpr_invoke_5220(empty_list, reifiedPtr5223, clause_0);
return(rslt1);

};};
FnArity staticArity5246 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5245};
Function anon_5247 = {FunctionType, -1, "anon", 1, {&staticArity5246}};
Value *fn5244 = (Value *)&anon_5247;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str355 = {StringType, -1, 9, 0, ":when-not"};
Value *strPtr355 = (Value *)&str355;
Value *read_for_when_not_5248;
Value *type_val_5249_5250;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str356 = {StringType, -1, 13, 0, "ForResultExpr"};
Value *strPtr356 = (Value *)&str356;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str357 = {StringType, -1, 4, 0, "body"};
Value *strPtr357 = (Value *)&str357;
Value *arityImpl5252(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr357, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr356, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5253 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5252};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str358 = {StringType, -1, 27, 0, "*ForResultExpr constructor*"};
Value *strPtr358 = (Value *)&str358;
Value *ForResultExpr_const_type_name_5254(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr358);

};};
FnArity ForResultExpr_const_type_name_5255 = {FnArityType, -1, 1, (List *)0, 0, ForResultExpr_const_type_name_5254};
Value *ForResultExpr_instance_QMARK__5256(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5249_5250, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ForResultExpr_instance_QMARK__5257 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_instance_QMARK__5256};
Value *ForResultExpr_invoke_5258(List *closures, Value *arg0, Value *body_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, body_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_5249_5250, rslt3);
return(rslt4);

};};
FnArity ForResultExpr_invoke_5259 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_invoke_5258};
ReifiedVal reifiedStatic5260 = {146, -1, (Value *)0, 0, {}};
Value *reifiedPtr5261 = (Value *)&reifiedStatic5260;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str359 = {StringType, -1, 11, 0, "<ForResult "};
Value *strPtr359 = (Value *)&str359;
Value *ForResultExpr_string_list_5262(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *body_2;
Value *tail_3;
Value **destArgs4[2] = {&body_2, &tail_3};
destructValue("/Users/jim/toccata/reader.toc", "767", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 833 "/Users/jim/toccata/reader.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr359, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown string-list
// #line 834 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", body_2, "/Users/jim/toccata/reader.toc", 834);

// call-list
// #line 835 "/Users/jim/toccata/reader.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 833 "/Users/jim/toccata/reader.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 833 "/Users/jim/toccata/reader.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity ForResultExpr_string_list_5263 = {FnArityType, -1, 1, (List *)0, 0, ForResultExpr_string_list_5262};
Value *ForResultExpr_EQ_STAR__5264(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForResultExpr_EQ_STAR__5265 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_EQ_STAR__5264};
Value *ForResultExpr_type_name_5266(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr356);

};};
FnArity ForResultExpr_type_name_5267 = {FnArityType, -1, 1, (List *)0, 0, ForResultExpr_type_name_5266};
Value *ForResultExpr_has_field_5268(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2417, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity ForResultExpr_has_field_5269 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_has_field_5268};
Value *ForResultExpr_body_5270(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ForResultExpr_body_5271 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_body_5270};
Value *ForResultExpr_body_5272(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ForResultExpr_body_5273 = {FnArityType, -1, 1, (List *)0, 0, ForResultExpr_body_5272};
Value *ForResultExpr_get_5274(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ForResultExpr_get_5275 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_get_5274};
Value *ForResultExpr_assoc_STAR__5276(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ForResultExpr_assoc_STAR__5277 = {FnArityType, -1, 5, (List *)0, 0, ForResultExpr_assoc_STAR__5276};
Value *ForResultExpr_nest_let_5278(List *closures, Value *arg0, Value *bindings_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *body_3;
Value *tail_4;
Value **destArgs5[2] = {&body_3, &tail_4};
destructValue("/Users/jim/toccata/reader.toc", "767", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown nest-let
// #line 770 "/Users/jim/toccata/reader.toc"
Value *rslt6 = proto2Arg(&nest_let_Implementations_5130, "<nothing>/nest-let", body_3, bindings_1, "/Users/jim/toccata/reader.toc", 770);

// call invoke
// #line 770 "/Users/jim/toccata/reader.toc"
Value *rslt7 = ForResultExpr_invoke_5258(empty_list, reifiedPtr5261, rslt6);
return(rslt7);

};};
FnArity ForResultExpr_nest_let_5279 = {FnArityType, -1, 2, (List *)0, 0, ForResultExpr_nest_let_5278};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str360 = {StringType, -1, 2, 0, "#x"};
Value *strPtr360 = (Value *)&str360;
Value *ForResultExpr_nest_when_5280(List *closures, Value *arg0, Value *clause_1, Value *wrapper_2) {
 while (1) {

incRef(clause_1, 2);

incRef(wrapper_2, 2);
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *body_4;
Value *tail_5;
Value **destArgs6[2] = {&body_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "767", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown ast/file-name
// #line 773 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", clause_1, "/Users/jim/toccata/reader.toc", 773);
Value *fn_8 = rslt7;

incRef(fn_8, 7);

// type-unknown ast/line-number
// #line 774 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", clause_1, "/Users/jim/toccata/reader.toc", 774);
Value *ln_10 = rslt9;

incRef(ln_10, 7);

// type-known for tag
// #line 776 "/Users/jim/toccata/reader.toc"
Value *rslt11 = Symbol_tag_4759(empty_list, symPtr15, fn_8, ln_10);

// type-known for tag
// #line 778 "/Users/jim/toccata/reader.toc"
Value *rslt12 = Symbol_tag_4759(empty_list, symPtr12, fn_8, ln_10);

// type-known for tag
// #line 782 "/Users/jim/toccata/reader.toc"
Value *rslt13 = Symbol_tag_4759(empty_list, symPtr13, fn_8, ln_10);

// type-known for tag
// #line 783 "/Users/jim/toccata/reader.toc"
Value *rslt14 = Symbol_tag_4759(empty_list, symPtr8, fn_8, ln_10);

// call-list
// #line 784 "/Users/jim/toccata/reader.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)body_4, newList15);
newList15 = listCons((Value *)wrapper_2, newList15);
Value *rslt16 = (Value *)newList15;

// call invoke
// #line 783 "/Users/jim/toccata/reader.toc"
Value *rslt17 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt14, rslt16);

// call-list
// #line 783 "/Users/jim/toccata/reader.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// call invoke
// #line 781 "/Users/jim/toccata/reader.toc"
Value *rslt20 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt13, rslt19);

// call-list
// #line 780 "/Users/jim/toccata/reader.toc"
List *newList21 = empty_list;
newList21 = listCons((Value *)rslt20, newList21);
newList21 = listCons((Value *)clause_1, newList21);
Value *rslt22 = (Value *)newList21;

// static-fixed
// #line 780 "/Users/jim/toccata/reader.toc"
Value *rslt23 = and_expr_3544(empty_list, rslt22);

// type-known for tag
// #line 786 "/Users/jim/toccata/reader.toc"
Value *rslt24 = Symbol_tag_4759(empty_list, symPtr13, fn_8, ln_10);

// type-known for tag
// #line 787 "/Users/jim/toccata/reader.toc"
Value *rslt25 = Symbol_tag_4759(empty_list, symPtr14, fn_8, ln_10);

// type-known for tag
// #line 788 "/Users/jim/toccata/reader.toc"
Value *rslt26 = Symbol_tag_4759(empty_list, symPtr14, fn_8, ln_10);

// call-list
// #line 789 "/Users/jim/toccata/reader.toc"
List *newList27 = empty_list;
newList27 = listCons((Value *)wrapper_2, newList27);
Value *rslt28 = (Value *)newList27;

// call invoke
// #line 788 "/Users/jim/toccata/reader.toc"
Value *rslt29 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt26, rslt28);

// call-list
// #line 788 "/Users/jim/toccata/reader.toc"
List *newList30 = empty_list;
newList30 = listCons((Value *)rslt29, newList30);
Value *rslt31 = (Value *)newList30;

// call invoke
// #line 787 "/Users/jim/toccata/reader.toc"
Value *rslt32 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt25, rslt31);

// call-list
// #line 787 "/Users/jim/toccata/reader.toc"
List *newList33 = empty_list;
newList33 = listCons((Value *)rslt32, newList33);
Value *rslt34 = (Value *)newList33;

// call invoke
// #line 785 "/Users/jim/toccata/reader.toc"
Value *rslt35 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt24, rslt34);

// call-list
// #line 780 "/Users/jim/toccata/reader.toc"
List *newList36 = empty_list;
newList36 = listCons((Value *)rslt35, newList36);
newList36 = listCons((Value *)rslt23, newList36);
Value *rslt37 = (Value *)newList36;

// static-fixed
// #line 779 "/Users/jim/toccata/reader.toc"
Value *rslt38 = or_expr_3647(empty_list, rslt37);

// call-list
// #line 779 "/Users/jim/toccata/reader.toc"
List *newList39 = empty_list;
newList39 = listCons((Value *)rslt38, newList39);
Value *rslt40 = (Value *)newList39;

// call invoke
// #line 777 "/Users/jim/toccata/reader.toc"
Value *rslt41 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt12, rslt40);

// static-fixed
// #line 792 "/Users/jim/toccata/reader.toc"
Value *rslt42 = symbol_220(empty_list, strPtr360);

// call-vector
// #line 792 "/Users/jim/toccata/reader.toc"
Vector *newVect43 = empty_vect;
newVect43 = mutateVectConj(newVect43, rslt42);
Value *rslt44 = (Value *)newVect43;

// static-fixed
// #line 792 "/Users/jim/toccata/reader.toc"
Value *rslt45 = params_2408(empty_list, rslt44);

// type-known for tag
// #line 794 "/Users/jim/toccata/reader.toc"
Value *rslt46 = Symbol_tag_4759(empty_list, symPtr8, fn_8, ln_10);

// static-fixed
// #line 795 "/Users/jim/toccata/reader.toc"
Value *rslt47 = symbol_220(empty_list, strPtr360);

// call-list
// #line 795 "/Users/jim/toccata/reader.toc"
List *newList48 = empty_list;
newList48 = listCons((Value *)rslt47, newList48);
newList48 = listCons((Value *)wrapper_2, newList48);
Value *rslt49 = (Value *)newList48;

// call invoke
// #line 794 "/Users/jim/toccata/reader.toc"
Value *rslt50 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt46, rslt49);

// call-list
// #line 794 "/Users/jim/toccata/reader.toc"
List *newList51 = empty_list;
newList51 = listCons((Value *)rslt50, newList51);
Value *rslt52 = (Value *)newList51;

// static-fixed
// #line 791 "/Users/jim/toccata/reader.toc"
Value *rslt53 = fn_arity_2881(empty_list, rslt45, strPtr0, rslt52);

// call-list
// #line 791 "/Users/jim/toccata/reader.toc"
List *newList54 = empty_list;
newList54 = listCons((Value *)rslt53, newList54);
Value *rslt55 = (Value *)newList54;

// static-fixed
// #line 790 "/Users/jim/toccata/reader.toc"
Value *rslt56 = fn_expr_3029(empty_list, nothing_7, rslt55);

// call-list
// #line 777 "/Users/jim/toccata/reader.toc"
List *newList57 = empty_list;
newList57 = listCons((Value *)rslt56, newList57);
newList57 = listCons((Value *)rslt41, newList57);
Value *rslt58 = (Value *)newList57;

// call invoke
// #line 775 "/Users/jim/toccata/reader.toc"
Value *rslt59 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt11, rslt58);
return(rslt59);

};};
FnArity ForResultExpr_nest_when_5281 = {FnArityType, -1, 3, (List *)0, 0, ForResultExpr_nest_when_5280};
Value *ForResultExpr_nest_when_not_5282(List *closures, Value *arg0, Value *clause_1, Value *wrapper_2) {
 while (1) {

incRef(clause_1, 2);

incRef(wrapper_2, 2);
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *body_4;
Value *tail_5;
Value **destArgs6[2] = {&body_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "767", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown ast/file-name
// #line 798 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", clause_1, "/Users/jim/toccata/reader.toc", 798);
Value *fn_8 = rslt7;

incRef(fn_8, 6);

// type-unknown ast/line-number
// #line 799 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", clause_1, "/Users/jim/toccata/reader.toc", 799);
Value *ln_10 = rslt9;

incRef(ln_10, 6);

// type-known for tag
// #line 801 "/Users/jim/toccata/reader.toc"
Value *rslt11 = Symbol_tag_4759(empty_list, symPtr15, fn_8, ln_10);

// type-known for tag
// #line 803 "/Users/jim/toccata/reader.toc"
Value *rslt12 = Symbol_tag_4759(empty_list, symPtr12, fn_8, ln_10);

// type-known for tag
// #line 808 "/Users/jim/toccata/reader.toc"
Value *rslt13 = Symbol_tag_4759(empty_list, symPtr13, fn_8, ln_10);

// type-known for tag
// #line 809 "/Users/jim/toccata/reader.toc"
Value *rslt14 = Symbol_tag_4759(empty_list, symPtr14, fn_8, ln_10);

// call-list
// #line 809 "/Users/jim/toccata/reader.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)wrapper_2, newList15);
Value *rslt16 = (Value *)newList15;

// call invoke
// #line 809 "/Users/jim/toccata/reader.toc"
Value *rslt17 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt14, rslt16);

// call-list
// #line 809 "/Users/jim/toccata/reader.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// call invoke
// #line 807 "/Users/jim/toccata/reader.toc"
Value *rslt20 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt13, rslt19);

// call-list
// #line 806 "/Users/jim/toccata/reader.toc"
List *newList21 = empty_list;
newList21 = listCons((Value *)rslt20, newList21);
newList21 = listCons((Value *)clause_1, newList21);
Value *rslt22 = (Value *)newList21;

// static-fixed
// #line 805 "/Users/jim/toccata/reader.toc"
Value *rslt23 = and_expr_3544(empty_list, rslt22);

// type-known for tag
// #line 811 "/Users/jim/toccata/reader.toc"
Value *rslt24 = Symbol_tag_4759(empty_list, symPtr13, fn_8, ln_10);

// type-known for tag
// #line 812 "/Users/jim/toccata/reader.toc"
Value *rslt25 = Symbol_tag_4759(empty_list, symPtr8, fn_8, ln_10);

// call-list
// #line 812 "/Users/jim/toccata/reader.toc"
List *newList26 = empty_list;
newList26 = listCons((Value *)body_4, newList26);
newList26 = listCons((Value *)wrapper_2, newList26);
Value *rslt27 = (Value *)newList26;

// call invoke
// #line 812 "/Users/jim/toccata/reader.toc"
Value *rslt28 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt25, rslt27);

// call-list
// #line 812 "/Users/jim/toccata/reader.toc"
List *newList29 = empty_list;
newList29 = listCons((Value *)rslt28, newList29);
Value *rslt30 = (Value *)newList29;

// call invoke
// #line 810 "/Users/jim/toccata/reader.toc"
Value *rslt31 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt24, rslt30);

// call-list
// #line 805 "/Users/jim/toccata/reader.toc"
List *newList32 = empty_list;
newList32 = listCons((Value *)rslt31, newList32);
newList32 = listCons((Value *)rslt23, newList32);
Value *rslt33 = (Value *)newList32;

// static-fixed
// #line 804 "/Users/jim/toccata/reader.toc"
Value *rslt34 = or_expr_3647(empty_list, rslt33);

// call-list
// #line 804 "/Users/jim/toccata/reader.toc"
List *newList35 = empty_list;
newList35 = listCons((Value *)rslt34, newList35);
Value *rslt36 = (Value *)newList35;

// call invoke
// #line 802 "/Users/jim/toccata/reader.toc"
Value *rslt37 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt12, rslt36);

// static-fixed
// #line 815 "/Users/jim/toccata/reader.toc"
Value *rslt38 = symbol_220(empty_list, strPtr360);

// call-vector
// #line 815 "/Users/jim/toccata/reader.toc"
Vector *newVect39 = empty_vect;
newVect39 = mutateVectConj(newVect39, rslt38);
Value *rslt40 = (Value *)newVect39;

// static-fixed
// #line 815 "/Users/jim/toccata/reader.toc"
Value *rslt41 = params_2408(empty_list, rslt40);

// type-known for tag
// #line 817 "/Users/jim/toccata/reader.toc"
Value *rslt42 = Symbol_tag_4759(empty_list, symPtr8, fn_8, ln_10);

// static-fixed
// #line 818 "/Users/jim/toccata/reader.toc"
Value *rslt43 = symbol_220(empty_list, strPtr360);

// call-list
// #line 818 "/Users/jim/toccata/reader.toc"
List *newList44 = empty_list;
newList44 = listCons((Value *)rslt43, newList44);
newList44 = listCons((Value *)wrapper_2, newList44);
Value *rslt45 = (Value *)newList44;

// call invoke
// #line 817 "/Users/jim/toccata/reader.toc"
Value *rslt46 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt42, rslt45);

// call-list
// #line 817 "/Users/jim/toccata/reader.toc"
List *newList47 = empty_list;
newList47 = listCons((Value *)rslt46, newList47);
Value *rslt48 = (Value *)newList47;

// static-fixed
// #line 814 "/Users/jim/toccata/reader.toc"
Value *rslt49 = fn_arity_2881(empty_list, rslt41, strPtr0, rslt48);

// call-list
// #line 814 "/Users/jim/toccata/reader.toc"
List *newList50 = empty_list;
newList50 = listCons((Value *)rslt49, newList50);
Value *rslt51 = (Value *)newList50;

// static-fixed
// #line 813 "/Users/jim/toccata/reader.toc"
Value *rslt52 = fn_expr_3029(empty_list, nothing_7, rslt51);

// call-list
// #line 802 "/Users/jim/toccata/reader.toc"
List *newList53 = empty_list;
newList53 = listCons((Value *)rslt52, newList53);
newList53 = listCons((Value *)rslt37, newList53);
Value *rslt54 = (Value *)newList53;

// call invoke
// #line 800 "/Users/jim/toccata/reader.toc"
Value *rslt55 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt11, rslt54);
return(rslt55);

};};
FnArity ForResultExpr_nest_when_not_5283 = {FnArityType, -1, 3, (List *)0, 0, ForResultExpr_nest_when_not_5282};
Value *ForResultExpr_nest_binding_5284(List *closures, Value *arg0, Value *binding_1, Value *wrapper_2) {
 while (1) {

incRef(binding_1, 3);
Value *rslt3 = reified_type_args_22(empty_list, arg0);
Value *body_4;
Value *tail_5;
Value **destArgs6[2] = {&body_4, &tail_5};
destructValue("/Users/jim/toccata/reader.toc", "767", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// type-unknown ast/file-name
// #line 821 "/Users/jim/toccata/reader.toc"
Value *rslt7 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", binding_1, "/Users/jim/toccata/reader.toc", 821);
Value *fn_8 = rslt7;

incRef(fn_8, 1);

// type-unknown ast/line-number
// #line 822 "/Users/jim/toccata/reader.toc"
Value *rslt9 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", binding_1, "/Users/jim/toccata/reader.toc", 822);
Value *ln_10 = rslt9;

incRef(ln_10, 1);

// type-known for tag
// #line 823 "/Users/jim/toccata/reader.toc"
Value *rslt11 = Symbol_tag_4759(empty_list, symPtr15, fn_8, ln_10);

// type-unknown .val
// #line 824 "/Users/jim/toccata/reader.toc"
Value *rslt12 = proto1Arg(&protoImpls3268, "<nothing>/.val", binding_1, "/Users/jim/toccata/reader.toc", 824);

// type-unknown .binding
// #line 827 "/Users/jim/toccata/reader.toc"
Value *rslt13 = proto1Arg(&protoImpls3264, "<nothing>/.binding", binding_1, "/Users/jim/toccata/reader.toc", 827);

// call-vector
// #line 827 "/Users/jim/toccata/reader.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 827 "/Users/jim/toccata/reader.toc"
Value *rslt16 = params_2408(empty_list, rslt15);

// type-known for tag
// #line 829 "/Users/jim/toccata/reader.toc"
Value *rslt17 = Symbol_tag_4759(empty_list, symPtr8, fn_8, ln_10);

// call-list
// #line 830 "/Users/jim/toccata/reader.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)body_4, newList18);
newList18 = listCons((Value *)wrapper_2, newList18);
Value *rslt19 = (Value *)newList18;

// call invoke
// #line 829 "/Users/jim/toccata/reader.toc"
Value *rslt20 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt17, rslt19);

// call-list
// #line 829 "/Users/jim/toccata/reader.toc"
List *newList21 = empty_list;
newList21 = listCons((Value *)rslt20, newList21);
Value *rslt22 = (Value *)newList21;

// static-fixed
// #line 826 "/Users/jim/toccata/reader.toc"
Value *rslt23 = fn_arity_2881(empty_list, rslt16, strPtr0, rslt22);

// call-list
// #line 826 "/Users/jim/toccata/reader.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)rslt23, newList24);
Value *rslt25 = (Value *)newList24;

// static-fixed
// #line 825 "/Users/jim/toccata/reader.toc"
Value *rslt26 = fn_expr_3029(empty_list, nothing_7, rslt25);

// call-list
// #line 824 "/Users/jim/toccata/reader.toc"
List *newList27 = empty_list;
newList27 = listCons((Value *)rslt26, newList27);
newList27 = listCons((Value *)rslt12, newList27);
Value *rslt28 = (Value *)newList27;

// call invoke
// #line 823 "/Users/jim/toccata/reader.toc"
Value *rslt29 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt11, rslt28);
return(rslt29);

};};
FnArity ForResultExpr_nest_binding_5285 = {FnArityType, -1, 3, (List *)0, 0, ForResultExpr_nest_binding_5284};
ReifiedVal reifiedStatic5286 = {147, -1, (Value *)0, 0, {}};
Value *reifiedPtr5287 = (Value *)&reifiedStatic5286;

// --------- nest-for-exprs -------------
Value *nest_for_exprs_5289;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str361 = {StringType, -1, 8, 0, "#wrapper"};
Value *strPtr361 = (Value *)&str361;

// --------- anon -------------
Value *fn5291;
Value *arityImpl5292(List *closures, Value *bogus_0) {
 while (1) {

// type-known for instance?
// #line 842 "/Users/jim/toccata/reader.toc"
Value *rslt1 = block_comment_ast_instance_QMARK__1976(empty_list, reifiedPtr1981, bogus_0);
return(rslt1);

};};
FnArity staticArity5293 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5292};
Function anon_5294 = {FunctionType, -1, "anon", 1, {&staticArity5293}};
Value *fn5291 = (Value *)&anon_5294;

Value *arityImpl5296(List *closures, Value *body_0, Value *expr_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// type-unknown nest-binding
// #line 848 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto3Arg(&nest_binding_Implementations_5125, "<nothing>/nest-binding", expr_1, body_0, val2, "/Users/jim/toccata/reader.toc", 848);
return(rslt3);

};};
Value *nest_for_exprs_5290(List *closures, Value *bogus_0, Value *bindings_1, Value *body_2) {
 while (1) {

incRef(bogus_0, 1);

// static-fixed
// #line 839 "/Users/jim/toccata/reader.toc"
Value *rslt3 = symbol_220(empty_list, strPtr361);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 2);

// type-unknown .val
// #line 840 "/Users/jim/toccata/reader.toc"
Value *rslt5 = proto1Arg(&protoImpls3268, "<nothing>/.val", bogus_0, "/Users/jim/toccata/reader.toc", 840);

// static-fixed
// #line 840 "/Users/jim/toccata/reader.toc"
Value *rslt6 = binding_3314(empty_list, wrapper_4, rslt5);

// call-vector
// #line 840 "/Users/jim/toccata/reader.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, rslt6);
Value *rslt8 = (Value *)newVect7;

// call invoke
// #line 840 "/Users/jim/toccata/reader.toc"
Value *rslt9 = ForLetExpr_invoke_5144(empty_list, reifiedPtr5147, rslt8);
Value *wrapper_binding_10 = rslt9;

// static-fixed
// #line 841 "/Users/jim/toccata/reader.toc"
Value *rslt11 = remove_1488(empty_list, bindings_1, fn5291);
Value *bindings_12 = rslt11;

// type-unknown .binding
// #line 844 "/Users/jim/toccata/reader.toc"
Value *rslt13 = proto1Arg(&protoImpls3264, "<nothing>/.binding", bogus_0, "/Users/jim/toccata/reader.toc", 844);

// static-fixed
// #line 844 "/Users/jim/toccata/reader.toc"
Value *rslt14 = binding_3314(empty_list, rslt13, wrapper_4);

// call-list
// #line 843 "/Users/jim/toccata/reader.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)rslt14, newList15);
newList15 = listCons((Value *)wrapper_binding_10, newList15);
Value *rslt16 = (Value *)newList15;

// call-list
// #line 843 "/Users/jim/toccata/reader.toc"
List *newList17 = empty_list;
newList17 = listCons((Value *)bindings_12, newList17);
Value *rslt18 = (Value *)newList17;

// type-known for comp*
// #line 843 "/Users/jim/toccata/reader.toc"
Value *rslt19 = List_comp_STAR__825(empty_list, rslt16, rslt18);

// type-known for reverse
// #line 843 "/Users/jim/toccata/reader.toc"
Value *rslt20 = List_reverse_813(empty_list, rslt19);
Value *bindings_21 = rslt20;

// call invoke
// #line 846 "/Users/jim/toccata/reader.toc"
Value *rslt22 = ForResultExpr_invoke_5258(empty_list, reifiedPtr5261, body_2);
FnArity *dynArity23 = malloc_fnArity();
dynArity23->count = 2;
dynArity23->variadic = 0;
dynArity23->fn = arityImpl5296;
dynArity23->closures = empty_list;
dynArity23->closures = listCons((Value *)wrapper_4, (List *)dynArity23->closures);
Function *anon_5297 = malloc_function(1);
anon_5297->name = "anon";
anon_5297->arityCount = 1;
anon_5297->arities[0] = dynArity23;
Value *fn5295 = (Value *)anon_5297;

// type-known for reduce
// #line 846 "/Users/jim/toccata/reader.toc"
Value *rslt24 = List_reduce_449(empty_list, bindings_21, rslt22, fn5295);
return(rslt24);

};};
FnArity nest_for_exprs_5298 = {FnArityType, -1, 3, (List *)0, 0, nest_for_exprs_5290};
Function nest_for_exprs_5299 = {FunctionType, -1, "nest-for-exprs", 1, {&nest_for_exprs_5298}};
Value *nest_for_exprs_5289 = (Value *)&nest_for_exprs_5299;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str362 = {StringType, -1, 11, 0, "for-binding"};
Value *strPtr362 = (Value *)&str362;
Value *read_for_binding_5300;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str363 = {StringType, -1, 3, 0, "for"};
Value *strPtr363 = (Value *)&str363;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str364 = {StringType, -1, 30, 0, "Invalid initial 'for' bindings"};
Value *strPtr364 = (Value *)&str364;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str365 = {StringType, -1, 22, 0, "Invalid 'for' bindings"};
Value *strPtr365 = (Value *)&str365;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str366 = {StringType, -1, 18, 0, "Invalid 'for' body"};
Value *strPtr366 = (Value *)&str366;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str367 = {StringType, -1, 24, 0, "Invalid 'for' expression"};
Value *strPtr367 = (Value *)&str367;
Value *read_for_5301;

// --------- nest-thread-exprs -------------
Value *nest_thread_exprs_5303;

// --------- anon -------------
Value *fn5305;
Value *arityImpl5306(List *closures, Value *threaded_0, Value *expr_1) {
 while (1) {

incRef(expr_1, 1);

// type-unknown .call-target
// #line 880 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", expr_1, "/Users/jim/toccata/reader.toc", 880);

// type-unknown .args
// #line 881 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto1Arg(&protoImpls2623, "<nothing>/.args", expr_1, "/Users/jim/toccata/reader.toc", 881);

// static-fixed
// #line 881 "/Users/jim/toccata/reader.toc"
Value *rslt4 = cons_275(empty_list, threaded_0, rslt3);

// call invoke
// #line 880 "/Users/jim/toccata/reader.toc"
Value *rslt5 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt2, rslt4);
return(rslt5);

};};
FnArity staticArity5307 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5306};
Function anon_5308 = {FunctionType, -1, "anon", 1, {&staticArity5307}};
Value *fn5305 = (Value *)&anon_5308;

Value *nest_thread_exprs_5304(List *closures, Value *first_expr_0, Value *exprs_1) {
 while (1) {

// type-unknown reduce
// #line 879 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", exprs_1, first_expr_0, fn5305, "/Users/jim/toccata/reader.toc", 879);
return(rslt2);

};};
FnArity nest_thread_exprs_5309 = {FnArityType, -1, 2, (List *)0, 0, nest_thread_exprs_5304};
Function nest_thread_exprs_5310 = {FunctionType, -1, "nest-thread-exprs", 1, {&nest_thread_exprs_5309}};
Value *nest_thread_exprs_5303 = (Value *)&nest_thread_exprs_5310;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str368 = {StringType, -1, 5, 0, "->exp"};
Value *strPtr368 = (Value *)&str368;
Value *read_thread_expr_5311;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str369 = {StringType, -1, 2, 0, "->"};
Value *strPtr369 = (Value *)&str369;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str370 = {StringType, -1, 23, 0, "Invalid '->' expression"};
Value *strPtr370 = (Value *)&str370;
Value *read_threading_5312;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[38];
} str371 = {StringType, -1, 37, 0, "'inline' expressions not allowed here"};
Value *strPtr371 = (Value *)&str371;
Value *read_expr_5313;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str372 = {StringType, -1, 4, 0, "main"};
Value *strPtr372 = (Value *)&str372;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str373 = {StringType, -1, 26, 0, "Body of 'main' fn is wrong"};
Value *strPtr373 = (Value *)&str373;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str374 = {StringType, -1, 29, 0, "'main' fn expression is wrong"};
Value *strPtr374 = (Value *)&str374;
Value *read_main_5314;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str375 = {StringType, -1, 3, 0, "def"};
Value *strPtr375 = (Value *)&str375;

// --------- anon -------------
Value *fn5315;
Value *arityImpl5316(List *closures, Value *sym_0, Value *pre_comment_1, Value *value_2, Value *post_comment_3) {
 while (1) {

// call-list
// #line 955 "/Users/jim/toccata/reader.toc"
List *newList4 = empty_list;
newList4 = listCons((Value *)value_2, newList4);
Value *rslt5 = (Value *)newList4;

// call-list
// #line 954 "/Users/jim/toccata/reader.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)post_comment_3, newList6);
newList6 = listCons((Value *)rslt5, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown comp*
// #line 954 "/Users/jim/toccata/reader.toc"
Value *rslt8 = proto2Arg(&comp_STAR__Implementations_238, "comp*", pre_comment_1, rslt7, "/Users/jim/toccata/reader.toc", 954);

// static-fixed
// #line 954 "/Users/jim/toccata/reader.toc"
Value *rslt9 = definition_2553(empty_list, sym_0, rslt8);
return(rslt9);

};};
FnArity staticArity5317 = {FnArityType, -1, 4, (List *)0, 0, arityImpl5316};
Function anon_5318 = {FunctionType, -1, "anon", 1, {&staticArity5317}};
Value *fn5315 = (Value *)&anon_5318;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str376 = {StringType, -1, 24, 0, "Invalid 'def' expression"};
Value *strPtr376 = (Value *)&str376;
Value *read_def_5319;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str377 = {StringType, -1, 9, 0, "prototype"};
Value *strPtr377 = (Value *)&str377;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str378 = {StringType, -1, 26, 0, "Invalid prototype function"};
Value *strPtr378 = (Value *)&str378;
Value *read_prototype_5320;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str379 = {StringType, -1, 11, 0, "defprotocol"};
Value *strPtr379 = (Value *)&str379;

// --------- anon -------------
Value *fn5321;
Value *arityImpl5322(List *closures, Value *sym_0, Value *prototypes_1) {
 while (1) {

// type-unknown filter
// #line 993 "/Users/jim/toccata/reader.toc"
Value *rslt2 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", prototypes_1, not_assertion_QM__1844, "/Users/jim/toccata/reader.toc", 993);

// static-fixed
// #line 992 "/Users/jim/toccata/reader.toc"
Value *rslt3 = protocol_4160(empty_list, sym_0, rslt2);
return(rslt3);

};};
FnArity staticArity5323 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5322};
Function anon_5324 = {FunctionType, -1, "anon", 1, {&staticArity5323}};
Value *fn5321 = (Value *)&anon_5324;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str380 = {StringType, -1, 32, 0, "Invalid 'defprotocol' expression"};
Value *strPtr380 = (Value *)&str380;
Value *read_defprotocol_5325;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str381 = {StringType, -1, 4, 0, "defn"};
Value *strPtr381 = (Value *)&str381;

// --------- anon -------------
Value *fn5326;
Value *arityImpl5327(List *closures, Value *name_0, Value *arities_1) {
 while (1) {

incRef(name_0, 1);

// static-fixed
// #line 1009 "/Users/jim/toccata/reader.toc"
Value *rslt2 = maybe_4(empty_list, name_0);

// static-fixed
// #line 1009 "/Users/jim/toccata/reader.toc"
Value *rslt3 = fn_expr_3029(empty_list, rslt2, arities_1);

// call-list
// #line 1009 "/Users/jim/toccata/reader.toc"
List *newList4 = empty_list;
newList4 = listCons((Value *)rslt3, newList4);
Value *rslt5 = (Value *)newList4;

// static-fixed
// #line 1008 "/Users/jim/toccata/reader.toc"
Value *rslt6 = definition_2553(empty_list, name_0, rslt5);
return(rslt6);

};};
FnArity staticArity5328 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5327};
Function anon_5329 = {FunctionType, -1, "anon", 1, {&staticArity5328}};
Value *fn5326 = (Value *)&anon_5329;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str382 = {StringType, -1, 25, 0, "Invalid 'defn' expression"};
Value *strPtr382 = (Value *)&str382;
Value *read_defn_5330;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str383 = {StringType, -1, 11, 0, "extend-type"};
Value *strPtr383 = (Value *)&str383;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str384 = {StringType, -1, 32, 0, "Invalid 'extend-type' expression"};
Value *strPtr384 = (Value *)&str384;
Value *read_extend_type_5331;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str385 = {StringType, -1, 7, 0, "deftype"};
Value *strPtr385 = (Value *)&str385;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str386 = {StringType, -1, 28, 0, "Invalid 'deftype' expression"};
Value *strPtr386 = (Value *)&str386;
Value *read_deftype_5332;

// --------- kw-string-arg -------------
Value *kw_string_arg_5334;

// --------- anon -------------
Value *fn5336;
Value *arityImpl5337(List *closures, Value *kw_sym_0, Value *value_1) {
 while (1) {

// static-fixed
// #line 1051 "/Users/jim/toccata/reader.toc"
Value *rslt2 = symbol_220(empty_list, kw_sym_0);

// call-vector
// #line 1051 "/Users/jim/toccata/reader.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, rslt2);
newVect3 = mutateVectConj(newVect3, value_1);
Value *rslt4 = (Value *)newVect3;
return(rslt4);

};};
FnArity staticArity5338 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5337};
Function anon_5339 = {FunctionType, -1, "anon", 1, {&staticArity5338}};
Value *fn5336 = (Value *)&anon_5339;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str387 = {StringType, -1, 1, 0, ":"};
Value *strPtr387 = (Value *)&str387;
Value *kw_string_arg_5335(List *closures, Value *kw_sym_0) {
 while (1) {

// static-fixed
// #line 1053 "/Users/jim/toccata/reader.toc"
Value *rslt1 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1052 "/Users/jim/toccata/reader.toc"
Value *rslt2 = ignore_3466(empty_list, rslt1);

// static-fixed
// #line 1054 "/Users/jim/toccata/reader.toc"
Value *rslt3 = ignore_3466(empty_list, strPtr387);

// static-fixed
// #line 1057 "/Users/jim/toccata/reader.toc"
Value *rslt4 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1056 "/Users/jim/toccata/reader.toc"
Value *rslt5 = ignore_3466(empty_list, rslt4);

// static-variadic
// #line 1050 "/Users/jim/toccata/reader.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)read_string_4917, varArgs6);
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)kw_sym_0, varArgs6);
varArgs6 = (List *)listCons((Value *)rslt3, varArgs6);
varArgs6 = (List *)listCons((Value *)rslt2, varArgs6);
varArgs6 = (List *)listCons((Value *)fn5336, varArgs6);
Value *rslt7 = apply_fn_4170(empty_list, (Value *)varArgs6);
return(rslt7);

};};
FnArity kw_string_arg_5340 = {FnArityType, -1, 1, (List *)0, 0, kw_string_arg_5335};
Function kw_string_arg_5341 = {FunctionType, -1, "kw-string-arg", 1, {&kw_string_arg_5340}};
Value *kw_string_arg_5334 = (Value *)&kw_string_arg_5341;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str388 = {StringType, -1, 10, 0, "git-kwargs"};
Value *strPtr388 = (Value *)&str388;

// --------- anon -------------
Value *fn5342;

// --------- anon -------------
Value *fn5344;
Value *arityImpl5345(List *closures, Value *m_0, Value *arg4) {
 while (1) {
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("/Users/jim/toccata/reader.toc", "1063", (Value *)arg4, 3, destArgs5);

dec_and_free(tail_3, 1);

// static-fixed
// #line 1064 "/Users/jim/toccata/reader.toc"
Value *rslt6 = assoc_1033(empty_list, m_0, k_1, v_2);
return(rslt6);

};};
FnArity staticArity5346 = {FnArityType, -1, 2, (List *)0, 0, arityImpl5345};
Function anon_5347 = {FunctionType, -1, "anon", 1, {&staticArity5346}};
Value *fn5344 = (Value *)&anon_5347;

Value *arityImpl5343(List *closures, Value *kv_pairs_0) {
 while (1) {

// static-variadic
// #line 1063 "/Users/jim/toccata/reader.toc"
List *varArgs1 = empty_list;
Value *rslt2 = hash_map_1208(empty_list, (Value *)varArgs1);

// type-unknown reduce
// #line 1063 "/Users/jim/toccata/reader.toc"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", kv_pairs_0, rslt2, fn5344, "/Users/jim/toccata/reader.toc", 1063);
return(rslt3);

};};
FnArity staticArity5348 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5343};
Function anon_5349 = {FunctionType, -1, "anon", 1, {&staticArity5348}};
Value *fn5342 = (Value *)&anon_5349;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str389 = {StringType, -1, 3, 0, "tag"};
Value *strPtr389 = (Value *)&str389;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str390 = {StringType, -1, 3, 0, "sha"};
Value *strPtr390 = (Value *)&str390;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str391 = {StringType, -1, 6, 0, "branch"};
Value *strPtr391 = (Value *)&str391;
Value *read_git_kwargs_5350;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str392 = {StringType, -1, 7, 0, "git-dep"};
Value *strPtr392 = (Value *)&str392;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str393 = {StringType, -1, 14, 0, "git-dependency"};
Value *strPtr393 = (Value *)&str393;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[36];
} str394 = {StringType, -1, 35, 0, "Invalid 'git-dependency' expression"};
Value *strPtr394 = (Value *)&str394;
Value *read_git_dep_spec_5351;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str395 = {StringType, -1, 6, 0, "module"};
Value *strPtr395 = (Value *)&str395;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str396 = {StringType, -1, 27, 0, "Invalid 'module' expression"};
Value *strPtr396 = (Value *)&str396;
Value *read_module_spec_5352;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str397 = {StringType, -1, 6, 0, "add-ns"};
Value *strPtr397 = (Value *)&str397;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str398 = {StringType, -1, 27, 0, "Invalid 'add-ns' expression"};
Value *strPtr398 = (Value *)&str398;
Value *read_add_ns_5353;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str399 = {StringType, -1, 8, 0, "bad-expr"};
Value *strPtr399 = (Value *)&str399;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str400 = {StringType, -1, 18, 0, "Invalid expression"};
Value *strPtr400 = (Value *)&str400;
Value *bad_expr_5354;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str401 = {StringType, -1, 9, 0, "top-level"};
Value *strPtr401 = (Value *)&str401;
Value *top_level_5355;

// --------- line-macro -------------
Value *line_macro_5357;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str402 = {StringType, -1, 10, 0, "\n// #line "};
Value *strPtr402 = (Value *)&str402;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str403 = {StringType, -1, 2, 0, "\"\n"};
Value *strPtr403 = (Value *)&str403;
Value *line_macro_5358(List *closures, Value *ast_0, Value *marker_1) {
 while (1) {

incRef(ast_0, 2);
Value *orRslt2;

// type-unknown ast/file-name
// #line 13 "toccata.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", ast_0, "toccata.toc", 13);

// static-fixed
// #line 13 "toccata.toc"
Value *rslt4 = _EQ__557(empty_list, strPtr0, rslt3);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(marker_1, 1);
dec_and_free(ast_0, 2);

} else {
dec_and_free(orRslt2, 1);

// type-unknown ast/line-number
// #line 15 "toccata.toc"
Value *rslt5 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", ast_0, "toccata.toc", 15);

// static-variadic
// #line 15 "toccata.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);

// type-unknown ast/file-name
// #line 16 "toccata.toc"
Value *rslt8 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", ast_0, "toccata.toc", 16);

// call-vector
// #line 14 "toccata.toc"
Vector *newVect9 = empty_vect;
newVect9 = mutateVectConj(newVect9, strPtr5);
newVect9 = mutateVectConj(newVect9, marker_1);
newVect9 = mutateVectConj(newVect9, strPtr402);
newVect9 = mutateVectConj(newVect9, rslt7);
newVect9 = mutateVectConj(newVect9, strPtr4);
newVect9 = mutateVectConj(newVect9, strPtr8);
newVect9 = mutateVectConj(newVect9, rslt8);
newVect9 = mutateVectConj(newVect9, strPtr403);
Value *rslt10 = (Value *)newVect9;

// static-fixed
// #line 14 "toccata.toc"
Value *rslt11 = maybe_4(empty_list, rslt10);
orRslt2 = rslt11;
}

// static-fixed
// #line 13 "toccata.toc"
Value *rslt12 = when_4087(empty_list, orRslt2);
return(rslt12);

};};
FnArity line_macro_5359 = {FnArityType, -1, 2, (List *)0, 0, line_macro_5358};
Function line_macro_5360 = {FunctionType, -1, "line-macro", 1, {&line_macro_5359}};
Value *line_macro_5357 = (Value *)&line_macro_5360;

Value *UnknownType_5361 = (Value *)&(Integer){IntegerType, -1, UnknownType};;
Value *IntegerType_5362 = (Value *)&(Integer){IntegerType, -1, IntegerType};;
Value *StringType_5363 = (Value *)&(Integer){IntegerType, -1, StringType};;
Value *SubStringType_5364 = (Value *)&(Integer){IntegerType, -1, SubStringType};;
Value *FnArityType_5365 = (Value *)&(Integer){IntegerType, -1, FnArityType};;
Value *FunctionType_5366 = (Value *)&(Integer){IntegerType, -1, FunctionType};;
Value *ListType_5367 = (Value *)&(Integer){IntegerType, -1, ListType};;
Value *MaybeType_5368 = (Value *)&(Integer){IntegerType, -1, MaybeType};;
Value *VectorType_5369 = (Value *)&(Integer){IntegerType, -1, VectorType};;
Value *VectorNodeType_5370 = (Value *)&(Integer){IntegerType, -1, VectorNodeType};;
Value *SymbolType_5371 = (Value *)&(Integer){IntegerType, -1, SymbolType};;
Value *BitmapIndexedType_5372 = (Value *)&(Integer){IntegerType, -1, BitmapIndexedType};;
Value *ArrayNodeType_5373 = (Value *)&(Integer){IntegerType, -1, ArrayNodeType};;
Value *HashCollisionNodeType_5374 = (Value *)&(Integer){IntegerType, -1, HashCollisionNodeType};;
Value *HashMapType_5375 = (Value *)&(Integer){IntegerType, -1, HashMapType};;
Value *PromiseType_5376 = (Value *)&(Integer){IntegerType, -1, PromiseType};;
Value *FutureType_5377 = (Value *)&(Integer){IntegerType, -1, FutureType};;
Value *AgentType_5378 = (Value *)&(Integer){IntegerType, -1, AgentType};;
Value *OpaqueType_5379 = (Value *)&(Integer){IntegerType, -1, OpaqueType};;
Value *TypeCount_5380 = (Value *)&(Integer){IntegerType, -1, TypeCount};;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str404 = {StringType, -1, 7, 0, "FnArity"};
Value *strPtr404 = (Value *)&str404;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str405 = {StringType, -1, 9, 0, "SubString"};
Value *strPtr405 = (Value *)&str405;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str406 = {StringType, -1, 10, 0, "VectorNode"};
Value *strPtr406 = (Value *)&str406;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str407 = {StringType, -1, 15, 0, "BitmapIndexNode"};
Value *strPtr407 = (Value *)&str407;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str408 = {StringType, -1, 6, 0, "Opaque"};
Value *strPtr408 = (Value *)&str408;
Value *type_names_5381;

// --------- target-type-name -------------
Value *target_type_name_5383;
Value *target_type_name_5384(List *closures, Value *n_0) {
 while (1) {

incRef(n_0, 1);

// type-unknown get
// #line 61 "toccata.toc"
Value *rslt1 = proto2Arg(&get_Implementations_362, "<nothing>/get", type_names_5381, n_0, "toccata.toc", 61);
if (!isNothing(rslt1)) {
dec_and_free(n_0, 1);
return(maybeExtract(rslt1));
} else {
dec_and_free(rslt1, 1);

// static-variadic
// #line 62 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)n_0, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);
return(rslt3);
}

};};
FnArity target_type_name_5385 = {FnArityType, -1, 1, (List *)0, 0, target_type_name_5384};
Function target_type_name_5386 = {FunctionType, -1, "target-type-name", 1, {&target_type_name_5385}};
Value *target_type_name_5383 = (Value *)&target_type_name_5386;

SubString sym16 = {SymbolType, -1, 7, 0, 0, "Integer"};
Value *symPtr16 = (Value *)&sym16;
SubString sym17 = {SymbolType, -1, 6, 0, 0, "String"};
Value *symPtr17 = (Value *)&sym17;
SubString sym18 = {SymbolType, -1, 9, 0, 0, "SubString"};
Value *symPtr18 = (Value *)&sym18;
SubString sym19 = {SymbolType, -1, 7, 0, 0, "FnArity"};
Value *symPtr19 = (Value *)&sym19;
SubString sym20 = {SymbolType, -1, 8, 0, 0, "Function"};
Value *symPtr20 = (Value *)&sym20;
SubString sym21 = {SymbolType, -1, 4, 0, 0, "List"};
Value *symPtr21 = (Value *)&sym21;
SubString sym22 = {SymbolType, -1, 5, 0, 0, "Maybe"};
Value *symPtr22 = (Value *)&sym22;
SubString sym23 = {SymbolType, -1, 6, 0, 0, "Vector"};
Value *symPtr23 = (Value *)&sym23;
SubString sym24 = {SymbolType, -1, 6, 0, 0, "Symbol"};
Value *symPtr24 = (Value *)&sym24;
SubString sym25 = {SymbolType, -1, 17, 0, 0, "BitmapIndexedNode"};
Value *symPtr25 = (Value *)&sym25;
SubString sym26 = {SymbolType, -1, 9, 0, 0, "ArrayNode"};
Value *symPtr26 = (Value *)&sym26;
SubString sym27 = {SymbolType, -1, 17, 0, 0, "HashCollisionNode"};
Value *symPtr27 = (Value *)&sym27;
SubString sym28 = {SymbolType, -1, 7, 0, 0, "HashMap"};
Value *symPtr28 = (Value *)&sym28;
SubString sym29 = {SymbolType, -1, 7, 0, 0, "Promise"};
Value *symPtr29 = (Value *)&sym29;
SubString sym30 = {SymbolType, -1, 6, 0, 0, "Future"};
Value *symPtr30 = (Value *)&sym30;
SubString sym31 = {SymbolType, -1, 5, 0, 0, "Agent"};
Value *symPtr31 = (Value *)&sym31;
SubString sym32 = {SymbolType, -1, 6, 0, 0, "Opaque"};
Value *symPtr32 = (Value *)&sym32;
SubString sym33 = {SymbolType, -1, 9, 0, 0, "TypeCount"};
Value *symPtr33 = (Value *)&sym33;
Value *core_types_5387;
Value *sm_space_5388;

// --------- debug -------------
Value *debug_5390;
Value *arityImpl5394(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs24[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs24);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg13 = v_9;

dec_and_free(arg13, 1);
Value *f_14 = print_err_520;

// call-list
// #line 87 "toccata.toc"
List *newList16 = empty_list;
newList16 = listCons((Value *)val15, newList16);
Value *rslt17 = (Value *)newList16;
Value *args_18 = rslt17;

// static-fixed
// #line 737 "core"
Value *rslt19 = fn_apply_98(empty_list, list_STAR__478, args_18);

// static-fixed
// #line 737 "core"
Value *rslt20 = fn_apply_98(empty_list, f_14, rslt19);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect21 = empty_vect;
newVect21 = mutateVectConj(newVect21, rslt20);
newVect21 = mutateVectConj(newVect21, new_s_10);
Value *rslt22 = (Value *)newVect21;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = maybe_4(empty_list, rslt22);
return(rslt23);
andRslt7 = rslt23;
}

};};
Value *debug_5391(List *closures, Value *arg1) {
 while (1) {
Value *args_0 = (Value *)arg1;
Value *__2 = sm_space_5388;
Value *rslt3 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_4;
Value *tail_5;
Value **destArgs6[2] = {&invoke_fn_4, &tail_5};
destructValue("", "0", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl5394;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)args_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)invoke_fn_4, (List *)dynArity7->closures);
Function *anon_5395 = malloc_function(1);
anon_5395->name = "anon";
anon_5395->arityCount = 1;
anon_5395->arities[0] = dynArity7;
Value *fn5393 = (Value *)anon_5395;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn5393);
return(rslt8);

};};
FnArity debug_5396 = {FnArityType, -1, 1, (List *)0, 1, debug_5391};
Function debug_5397 = {FunctionType, -1, "debug", 1, {&debug_5396}};
Value *debug_5390 = (Value *)&debug_5397;


// --------- compilation-error -------------
Value *compilation_error_5399;
Value *arityImpl5402(List *closures, Value *s_0) {
while (1) {

dec_and_free(s_0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);
Value *f_1 = print_err_520;

// call-list
// #line 92 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)val2, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_1, rslt6);

dec_and_free(rslt7, 1);

// static-fixed
// #line 93 "toccata.toc"
Value *rslt8 = abort_113(empty_list);
return(rslt8);

};};
Value *compilation_error_5400(List *closures, Value *arg1) {
 while (1) {
Value *msg_0 = (Value *)arg1;
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl5402;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)msg_0, (List *)dynArity2->closures);
Function *anon_5403 = malloc_function(1);
anon_5403->name = "anon";
anon_5403->arityCount = 1;
anon_5403->arities[0] = dynArity2;
Value *fn5401 = (Value *)anon_5403;

// call invoke
// #line 91 "toccata.toc"
Value *rslt3 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn5401);
return(rslt3);

};};
FnArity compilation_error_5404 = {FnArityType, -1, 1, (List *)0, 1, compilation_error_5400};
Function compilation_error_5405 = {FunctionType, -1, "compilation-error", 1, {&compilation_error_5404}};
Value *compilation_error_5399 = (Value *)&compilation_error_5405;

Value *type_val_5406_5407;
ProtoImpls protoImpls5413;
ProtoImpls protoImpls5415;
Value *dispatchFnPtr5411;
Value *protoImpl5412(List *closures, Value *arg);
Value *protoImpl5414(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5417;
ProtoImpls protoImpls5419;
Value *dispatchFnPtr5410;
Value *protoImpl5416(List *closures, Value *arg);
Value *protoImpl5418(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5421;
ProtoImpls protoImpls5423;
Value *dispatchFnPtr5409;
Value *protoImpl5420(List *closures, Value *arg);
Value *protoImpl5422(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5425;
ProtoImpls protoImpls5427;
Value *dispatchFnPtr5408;
Value *protoImpl5424(List *closures, Value *arg);
Value *protoImpl5426(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str409 = {StringType, -1, 14, 0, "ConstantValues"};
Value *strPtr409 = (Value *)&str409;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[38];
} str410 = {StringType, -1, 37, 0, "numbers, strings, symbols, type-names"};
Value *strPtr410 = (Value *)&str410;
Value *arityImpl5428(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr410, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr409, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5429 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5428};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[29];
} str411 = {StringType, -1, 28, 0, "*ConstantValues constructor*"};
Value *strPtr411 = (Value *)&str411;
Value *ConstantValues_const_type_name_5430(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr411);

};};
FnArity ConstantValues_const_type_name_5431 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_const_type_name_5430};
Value *ConstantValues_instance_QMARK__5432(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5406_5407, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ConstantValues_instance_QMARK__5433 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_instance_QMARK__5432};
Value *ConstantValues_invoke_5434(List *closures, Value *arg0, Value *numbers_1, Value *strings_2, Value *symbols_3, Value *type_names_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, numbers_1);
newVect5 = mutateVectConj(newVect5, strings_2);
newVect5 = mutateVectConj(newVect5, symbols_3);
newVect5 = mutateVectConj(newVect5, type_names_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_5406_5407, rslt6);
return(rslt7);

};};
FnArity ConstantValues_invoke_5435 = {FnArityType, -1, 5, (List *)0, 0, ConstantValues_invoke_5434};
ReifiedVal reifiedStatic5436 = {148, -1, (Value *)0, 0, {}};
Value *reifiedPtr5437 = (Value *)&reifiedStatic5436;
Value *ConstantValues_EQ_STAR__5438(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ConstantValues_EQ_STAR__5439 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_EQ_STAR__5438};
Value *ConstantValues_type_name_5440(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr409);

};};
FnArity ConstantValues_type_name_5441 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_type_name_5440};
Value *ConstantValues_has_field_5442(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5411, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5410, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5409, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr5408, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity ConstantValues_has_field_5443 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_has_field_5442};
Value *ConstantValues_numbers_5444(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ConstantValues_numbers_5445 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_numbers_5444};
Value *ConstantValues_numbers_5446(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ConstantValues_numbers_5447 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_numbers_5446};
Value *ConstantValues_strings_5448(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ConstantValues_strings_5449 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_strings_5448};
Value *ConstantValues_strings_5450(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ConstantValues_strings_5451 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_strings_5450};
Value *ConstantValues_symbols_5452(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ConstantValues_symbols_5453 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_symbols_5452};
Value *ConstantValues_symbols_5454(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ConstantValues_symbols_5455 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_symbols_5454};
Value *ConstantValues_type_names_5456(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ConstantValues_type_names_5457 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_type_names_5456};
Value *ConstantValues_type_names_5458(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ConstantValues_type_names_5459 = {FnArityType, -1, 1, (List *)0, 0, ConstantValues_type_names_5458};
Value *ConstantValues_get_5460(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ConstantValues_get_5461 = {FnArityType, -1, 2, (List *)0, 0, ConstantValues_get_5460};
Value *ConstantValues_assoc_STAR__5462(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ConstantValues_assoc_STAR__5463 = {FnArityType, -1, 5, (List *)0, 0, ConstantValues_assoc_STAR__5462};
ReifiedVal reifiedStatic5464 = {149, -1, (Value *)0, 0, {}};
Value *reifiedPtr5465 = (Value *)&reifiedStatic5464;
Value *type_val_5466_5467;
ProtoImpls protoImpls5471;
ProtoImpls protoImpls5473;
Value *dispatchFnPtr5469;
Value *protoImpl5470(List *closures, Value *arg);
Value *protoImpl5472(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5475;
ProtoImpls protoImpls5477;
Value *dispatchFnPtr5468;
Value *protoImpl5474(List *closures, Value *arg);
Value *protoImpl5476(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str412 = {StringType, -1, 11, 0, "RuntimeInit"};
Value *strPtr412 = (Value *)&str412;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str413 = {StringType, -1, 17, 0, "fn-context, exprs"};
Value *strPtr413 = (Value *)&str413;
Value *arityImpl5478(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr413, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr412, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5479 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5478};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str414 = {StringType, -1, 25, 0, "*RuntimeInit constructor*"};
Value *strPtr414 = (Value *)&str414;
Value *RuntimeInit_const_type_name_5480(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr414);

};};
FnArity RuntimeInit_const_type_name_5481 = {FnArityType, -1, 1, (List *)0, 0, RuntimeInit_const_type_name_5480};
Value *RuntimeInit_instance_QMARK__5482(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5466_5467, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity RuntimeInit_instance_QMARK__5483 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_instance_QMARK__5482};
Value *RuntimeInit_invoke_5484(List *closures, Value *arg0, Value *fn_context_1, Value *exprs_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, fn_context_1);
newVect3 = mutateVectConj(newVect3, exprs_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_5466_5467, rslt4);
return(rslt5);

};};
FnArity RuntimeInit_invoke_5485 = {FnArityType, -1, 3, (List *)0, 0, RuntimeInit_invoke_5484};
ReifiedVal reifiedStatic5486 = {150, -1, (Value *)0, 0, {}};
Value *reifiedPtr5487 = (Value *)&reifiedStatic5486;
Value *RuntimeInit_EQ_STAR__5488(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity RuntimeInit_EQ_STAR__5489 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_EQ_STAR__5488};
Value *RuntimeInit_type_name_5490(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr412);

};};
FnArity RuntimeInit_type_name_5491 = {FnArityType, -1, 1, (List *)0, 0, RuntimeInit_type_name_5490};
Value *RuntimeInit_has_field_5492(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5469, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5468, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity RuntimeInit_has_field_5493 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_has_field_5492};
Value *RuntimeInit_fn_context_5494(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity RuntimeInit_fn_context_5495 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_fn_context_5494};
Value *RuntimeInit_fn_context_5496(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity RuntimeInit_fn_context_5497 = {FnArityType, -1, 1, (List *)0, 0, RuntimeInit_fn_context_5496};
Value *RuntimeInit_exprs_5498(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity RuntimeInit_exprs_5499 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_exprs_5498};
Value *RuntimeInit_exprs_5500(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity RuntimeInit_exprs_5501 = {FnArityType, -1, 1, (List *)0, 0, RuntimeInit_exprs_5500};
Value *RuntimeInit_get_5502(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity RuntimeInit_get_5503 = {FnArityType, -1, 2, (List *)0, 0, RuntimeInit_get_5502};
Value *RuntimeInit_assoc_STAR__5504(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity RuntimeInit_assoc_STAR__5505 = {FnArityType, -1, 5, (List *)0, 0, RuntimeInit_assoc_STAR__5504};
ReifiedVal reifiedStatic5506 = {151, -1, (Value *)0, 0, {}};
Value *reifiedPtr5507 = (Value *)&reifiedStatic5506;
Value *type_val_5508_5509;
ProtoImpls protoImpls5517;
ProtoImpls protoImpls5519;
Value *dispatchFnPtr5513;
Value *protoImpl5516(List *closures, Value *arg);
Value *protoImpl5518(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5521;
ProtoImpls protoImpls5523;
Value *dispatchFnPtr5512;
Value *protoImpl5520(List *closures, Value *arg);
Value *protoImpl5522(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5525;
ProtoImpls protoImpls5527;
Value *dispatchFnPtr5511;
Value *protoImpl5524(List *closures, Value *arg);
Value *protoImpl5526(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5529;
ProtoImpls protoImpls5531;
Value *dispatchFnPtr5510;
Value *protoImpl5528(List *closures, Value *arg);
Value *protoImpl5530(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str415 = {StringType, -1, 6, 0, "Module"};
Value *strPtr415 = (Value *)&str415;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[56];
} str416 = {StringType, -1, 55, 0, "path, values, protocols, proto-fns, types, declarations"};
Value *strPtr416 = (Value *)&str416;
Value *arityImpl5532(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr416, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr415, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5533 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5532};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str417 = {StringType, -1, 20, 0, "*Module constructor*"};
Value *strPtr417 = (Value *)&str417;
Value *Module_const_type_name_5534(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr417);

};};
FnArity Module_const_type_name_5535 = {FnArityType, -1, 1, (List *)0, 0, Module_const_type_name_5534};
Value *Module_instance_QMARK__5536(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5508_5509, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity Module_instance_QMARK__5537 = {FnArityType, -1, 2, (List *)0, 0, Module_instance_QMARK__5536};
Value *Module_invoke_5538(List *closures, Value *arg0, Value *path_1, Value *values_2, Value *protocols_3, Value *proto_fns_4, Value *types_5, Value *declarations_6) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, path_1);
newVect7 = mutateVectConj(newVect7, values_2);
newVect7 = mutateVectConj(newVect7, protocols_3);
newVect7 = mutateVectConj(newVect7, proto_fns_4);
newVect7 = mutateVectConj(newVect7, types_5);
newVect7 = mutateVectConj(newVect7, declarations_6);
Value *rslt8 = (Value *)newVect7;
Value *rslt9 = new_type_value_53(empty_list, type_val_5508_5509, rslt8);
return(rslt9);

};};
FnArity Module_invoke_5539 = {FnArityType, -1, 7, (List *)0, 0, Module_invoke_5538};
ReifiedVal reifiedStatic5540 = {152, -1, (Value *)0, 0, {}};
Value *reifiedPtr5541 = (Value *)&reifiedStatic5540;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str418 = {StringType, -1, 9, 0, "<Module '"};
Value *strPtr418 = (Value *)&str418;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str419 = {StringType, -1, 2, 0, "'>"};
Value *strPtr419 = (Value *)&str419;
Value *Module_string_list_5542(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *path_2;
Value *values_3;
Value *protocols_4;
Value *proto_fns_5;
Value *types_6;
Value *declarations_7;
Value *tail_8;
Value **destArgs9[7] = {&path_2, &values_3, &protocols_4, &proto_fns_5, &types_6, &declarations_7, &tail_8};
destructValue("toccata.toc", "108", (Value *)rslt1, 7, destArgs9);

dec_and_free(values_3, 1);

dec_and_free(protocols_4, 1);

dec_and_free(proto_fns_5, 1);

dec_and_free(types_6, 1);

dec_and_free(declarations_7, 1);

dec_and_free(tail_8, 1);

// static-variadic
// #line 116 "toccata.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)path_2, varArgs10);
Value *rslt11 = str_526(empty_list, (Value *)varArgs10);

// call-list
// #line 116 "toccata.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr419, newList12);
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)strPtr418, newList12);
Value *rslt13 = (Value *)newList12;
return(rslt13);

};};
FnArity Module_string_list_5543 = {FnArityType, -1, 1, (List *)0, 0, Module_string_list_5542};
Value *Module_EQ_STAR__5544(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Module_EQ_STAR__5545 = {FnArityType, -1, 2, (List *)0, 0, Module_EQ_STAR__5544};
Value *Module_type_name_5546(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr415);

};};
FnArity Module_type_name_5547 = {FnArityType, -1, 1, (List *)0, 0, Module_type_name_5546};
Value *Module_has_field_5548(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 5);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr1907, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 5);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr4272, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5513, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr5512, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5511, field_1);
orRslt2 = rslt7;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt8 = identical_421(empty_list, dispatchFnPtr5510, field_1);
return(rslt8);
orRslt2 = rslt8;
}
}
}
}
}

};};
FnArity Module_has_field_5549 = {FnArityType, -1, 2, (List *)0, 0, Module_has_field_5548};
Value *Module_path_5550(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_path_5551 = {FnArityType, -1, 2, (List *)0, 0, Module_path_5550};
Value *Module_path_5552(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_path_5553 = {FnArityType, -1, 1, (List *)0, 0, Module_path_5552};
Value *Module_values_5554(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_values_5555 = {FnArityType, -1, 2, (List *)0, 0, Module_values_5554};
Value *Module_values_5556(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_values_5557 = {FnArityType, -1, 1, (List *)0, 0, Module_values_5556};
Value *Module_protocols_5558(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_protocols_5559 = {FnArityType, -1, 2, (List *)0, 0, Module_protocols_5558};
Value *Module_protocols_5560(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_protocols_5561 = {FnArityType, -1, 1, (List *)0, 0, Module_protocols_5560};
Value *Module_proto_fns_5562(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_proto_fns_5563 = {FnArityType, -1, 2, (List *)0, 0, Module_proto_fns_5562};
Value *Module_proto_fns_5564(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_proto_fns_5565 = {FnArityType, -1, 1, (List *)0, 0, Module_proto_fns_5564};
Value *Module_types_5566(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_types_5567 = {FnArityType, -1, 2, (List *)0, 0, Module_types_5566};
Value *Module_types_5568(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_types_5569 = {FnArityType, -1, 1, (List *)0, 0, Module_types_5568};
Value *Module_declarations_5570(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr6, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Module_declarations_5571 = {FnArityType, -1, 2, (List *)0, 0, Module_declarations_5570};
Value *Module_declarations_5572(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr6);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Module_declarations_5573 = {FnArityType, -1, 1, (List *)0, 0, Module_declarations_5572};
Value *Module_get_5574(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Module_get_5575 = {FnArityType, -1, 2, (List *)0, 0, Module_get_5574};
Value *Module_assoc_STAR__5576(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity Module_assoc_STAR__5577 = {FnArityType, -1, 5, (List *)0, 0, Module_assoc_STAR__5576};
ReifiedVal reifiedStatic5578 = {153, -1, (Value *)0, 0, {}};
Value *reifiedPtr5579 = (Value *)&reifiedStatic5578;
Value *type_val_5580_5581;
ProtoImpls protoImpls5591;
ProtoImpls protoImpls5593;
Value *dispatchFnPtr5589;
Value *protoImpl5590(List *closures, Value *arg);
Value *protoImpl5592(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5595;
ProtoImpls protoImpls5597;
Value *dispatchFnPtr5587;
Value *protoImpl5594(List *closures, Value *arg);
Value *protoImpl5596(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5599;
ProtoImpls protoImpls5601;
Value *dispatchFnPtr5586;
Value *protoImpl5598(List *closures, Value *arg);
Value *protoImpl5600(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5603;
ProtoImpls protoImpls5605;
Value *dispatchFnPtr5585;
Value *protoImpl5602(List *closures, Value *arg);
Value *protoImpl5604(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5607;
ProtoImpls protoImpls5609;
Value *dispatchFnPtr5584;
Value *protoImpl5606(List *closures, Value *arg);
Value *protoImpl5608(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5611;
ProtoImpls protoImpls5613;
Value *dispatchFnPtr5583;
Value *protoImpl5610(List *closures, Value *arg);
Value *protoImpl5612(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5615;
ProtoImpls protoImpls5617;
Value *dispatchFnPtr5582;
Value *protoImpl5614(List *closures, Value *arg);
Value *protoImpl5616(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str420 = {StringType, -1, 13, 0, "GlobalContext"};
Value *strPtr420 = (Value *)&str420;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[83];
} str421 = {StringType, -1, 82, 0, "target-lang, fn-context, init, modules, fns, namespaces, constants, reify-fn-index"};
Value *strPtr421 = (Value *)&str421;
Value *arityImpl5618(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr421, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr420, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5619 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5618};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str422 = {StringType, -1, 27, 0, "*GlobalContext constructor*"};
Value *strPtr422 = (Value *)&str422;
Value *GlobalContext_const_type_name_5620(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr422);

};};
FnArity GlobalContext_const_type_name_5621 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_const_type_name_5620};
Value *GlobalContext_instance_QMARK__5622(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5580_5581, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity GlobalContext_instance_QMARK__5623 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_instance_QMARK__5622};
Value *GlobalContext_invoke_5624(List *closures, Value *arg0, Value *target_lang_1, Value *fn_context_2, Value *init_3, Value *modules_4, Value *fns_5, Value *namespaces_6, Value *constants_7, Value *reify_fn_index_8) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect9 = empty_vect;
newVect9 = mutateVectConj(newVect9, target_lang_1);
newVect9 = mutateVectConj(newVect9, fn_context_2);
newVect9 = mutateVectConj(newVect9, init_3);
newVect9 = mutateVectConj(newVect9, modules_4);
newVect9 = mutateVectConj(newVect9, fns_5);
newVect9 = mutateVectConj(newVect9, namespaces_6);
newVect9 = mutateVectConj(newVect9, constants_7);
newVect9 = mutateVectConj(newVect9, reify_fn_index_8);
Value *rslt10 = (Value *)newVect9;
Value *rslt11 = new_type_value_53(empty_list, type_val_5580_5581, rslt10);
return(rslt11);

};};
FnArity GlobalContext_invoke_5625 = {FnArityType, -1, 9, (List *)0, 0, GlobalContext_invoke_5624};
ReifiedVal reifiedStatic5626 = {154, -1, (Value *)0, 0, {}};
Value *reifiedPtr5627 = (Value *)&reifiedStatic5626;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str423 = {StringType, -1, 15, 0, "<GlobalContext>"};
Value *strPtr423 = (Value *)&str423;
Value *GlobalContext_string_list_5628(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *target_lang_2;
Value *fn_context_3;
Value *init_4;
Value *modules_5;
Value *fns_6;
Value *namespaces_7;
Value *constants_8;
Value *reify_fn_index_9;
Value *tail_10;
Value **destArgs11[9] = {&target_lang_2, &fn_context_3, &init_4, &modules_5, &fns_6, &namespaces_7, &constants_8, &reify_fn_index_9, &tail_10};
destructValue("toccata.toc", "119", (Value *)rslt1, 9, destArgs11);

dec_and_free(target_lang_2, 1);

dec_and_free(fn_context_3, 1);

dec_and_free(init_4, 1);

dec_and_free(modules_5, 1);

dec_and_free(fns_6, 1);

dec_and_free(namespaces_7, 1);

dec_and_free(constants_8, 1);

dec_and_free(reify_fn_index_9, 1);

dec_and_free(tail_10, 1);

// call-list
// #line 129 "toccata.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr423, newList12);
Value *rslt13 = (Value *)newList12;
return(rslt13);

};};
FnArity GlobalContext_string_list_5629 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_string_list_5628};
Value *GlobalContext_EQ_STAR__5630(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity GlobalContext_EQ_STAR__5631 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_EQ_STAR__5630};
Value *GlobalContext_type_name_5632(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr420);

};};
FnArity GlobalContext_type_name_5633 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_type_name_5632};
Value *GlobalContext_has_field_5634(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 7);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5589, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 7);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5469, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 6);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5587, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 5);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr5586, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5585, field_1);
orRslt2 = rslt7;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt8 = identical_421(empty_list, dispatchFnPtr5584, field_1);
orRslt2 = rslt8;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt9 = identical_421(empty_list, dispatchFnPtr5583, field_1);
orRslt2 = rslt9;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt10 = identical_421(empty_list, dispatchFnPtr5582, field_1);
return(rslt10);
orRslt2 = rslt10;
}
}
}
}
}
}
}

};};
FnArity GlobalContext_has_field_5635 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_has_field_5634};
Value *GlobalContext_target_lang_5636(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_target_lang_5637 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_target_lang_5636};
Value *GlobalContext_target_lang_5638(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_target_lang_5639 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_target_lang_5638};
Value *GlobalContext_fn_context_5640(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_fn_context_5641 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_fn_context_5640};
Value *GlobalContext_fn_context_5642(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_fn_context_5643 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_fn_context_5642};
Value *GlobalContext_init_5644(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_init_5645 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_init_5644};
Value *GlobalContext_init_5646(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_init_5647 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_init_5646};
Value *GlobalContext_modules_5648(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_modules_5649 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_modules_5648};
Value *GlobalContext_modules_5650(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_modules_5651 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_modules_5650};
Value *GlobalContext_fns_5652(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_fns_5653 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_fns_5652};
Value *GlobalContext_fns_5654(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_fns_5655 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_fns_5654};
Value *GlobalContext_namespaces_5656(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr6, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_namespaces_5657 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_namespaces_5656};
Value *GlobalContext_namespaces_5658(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr6);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_namespaces_5659 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_namespaces_5658};
Integer num9 = {IntegerType, -1, 6};
Value *numPtr9 = (Value *)&num9;
Value *GlobalContext_constants_5660(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr9, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_constants_5661 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_constants_5660};
Value *GlobalContext_constants_5662(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr9);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_constants_5663 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_constants_5662};
Integer num10 = {IntegerType, -1, 7};
Value *numPtr10 = (Value *)&num10;
Value *GlobalContext_reify_fn_index_5664(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr10, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity GlobalContext_reify_fn_index_5665 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_reify_fn_index_5664};
Value *GlobalContext_reify_fn_index_5666(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr10);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity GlobalContext_reify_fn_index_5667 = {FnArityType, -1, 1, (List *)0, 0, GlobalContext_reify_fn_index_5666};
Value *GlobalContext_get_5668(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity GlobalContext_get_5669 = {FnArityType, -1, 2, (List *)0, 0, GlobalContext_get_5668};
Value *GlobalContext_assoc_STAR__5670(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity GlobalContext_assoc_STAR__5671 = {FnArityType, -1, 5, (List *)0, 0, GlobalContext_assoc_STAR__5670};
ReifiedVal reifiedStatic5672 = {155, -1, (Value *)0, 0, {}};
Value *reifiedPtr5673 = (Value *)&reifiedStatic5672;
Value *type_val_5674_5675;
ProtoImpls protoImpls5679;
ProtoImpls protoImpls5681;
Value *dispatchFnPtr5677;
Value *protoImpl5678(List *closures, Value *arg);
Value *protoImpl5680(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5683;
ProtoImpls protoImpls5685;
Value *dispatchFnPtr5676;
Value *protoImpl5682(List *closures, Value *arg);
Value *protoImpl5684(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str424 = {StringType, -1, 8, 0, "Closures"};
Value *strPtr424 = (Value *)&str424;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str425 = {StringType, -1, 18, 0, "closures, refs-map"};
Value *strPtr425 = (Value *)&str425;
Value *arityImpl5686(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr425, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr424, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5687 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5686};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str426 = {StringType, -1, 22, 0, "*Closures constructor*"};
Value *strPtr426 = (Value *)&str426;
Value *Closures_const_type_name_5688(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr426);

};};
FnArity Closures_const_type_name_5689 = {FnArityType, -1, 1, (List *)0, 0, Closures_const_type_name_5688};
Value *Closures_instance_QMARK__5690(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5674_5675, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity Closures_instance_QMARK__5691 = {FnArityType, -1, 2, (List *)0, 0, Closures_instance_QMARK__5690};
Value *Closures_invoke_5692(List *closures, Value *arg0, Value *closures_1, Value *refs_map_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, closures_1);
newVect3 = mutateVectConj(newVect3, refs_map_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_5674_5675, rslt4);
return(rslt5);

};};
FnArity Closures_invoke_5693 = {FnArityType, -1, 3, (List *)0, 0, Closures_invoke_5692};
ReifiedVal reifiedStatic5694 = {156, -1, (Value *)0, 0, {}};
Value *reifiedPtr5695 = (Value *)&reifiedStatic5694;
Value *Closures_EQ_STAR__5696(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Closures_EQ_STAR__5697 = {FnArityType, -1, 2, (List *)0, 0, Closures_EQ_STAR__5696};
Value *Closures_type_name_5698(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr424);

};};
FnArity Closures_type_name_5699 = {FnArityType, -1, 1, (List *)0, 0, Closures_type_name_5698};
Value *Closures_has_field_5700(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5677, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5676, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity Closures_has_field_5701 = {FnArityType, -1, 2, (List *)0, 0, Closures_has_field_5700};
Value *Closures_closures_5702(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Closures_closures_5703 = {FnArityType, -1, 2, (List *)0, 0, Closures_closures_5702};
Value *Closures_closures_5704(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Closures_closures_5705 = {FnArityType, -1, 1, (List *)0, 0, Closures_closures_5704};
Value *Closures_refs_map_5706(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity Closures_refs_map_5707 = {FnArityType, -1, 2, (List *)0, 0, Closures_refs_map_5706};
Value *Closures_refs_map_5708(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity Closures_refs_map_5709 = {FnArityType, -1, 1, (List *)0, 0, Closures_refs_map_5708};
Value *Closures_get_5710(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity Closures_get_5711 = {FnArityType, -1, 2, (List *)0, 0, Closures_get_5710};
Value *Closures_assoc_STAR__5712(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity Closures_assoc_STAR__5713 = {FnArityType, -1, 5, (List *)0, 0, Closures_assoc_STAR__5712};
ReifiedVal reifiedStatic5714 = {157, -1, (Value *)0, 0, {}};
Value *reifiedPtr5715 = (Value *)&reifiedStatic5714;
Value *empty_closures_5716;
Value *type_val_5717_5718;
ProtoImpls protoImpls5725;
ProtoImpls protoImpls5727;
Value *dispatchFnPtr5723;
Value *protoImpl5724(List *closures, Value *arg);
Value *protoImpl5726(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5729;
ProtoImpls protoImpls5731;
Value *dispatchFnPtr5722;
Value *protoImpl5728(List *closures, Value *arg);
Value *protoImpl5730(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5733;
ProtoImpls protoImpls5735;
Value *dispatchFnPtr5721;
Value *protoImpl5732(List *closures, Value *arg);
Value *protoImpl5734(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5737;
ProtoImpls protoImpls5739;
Value *dispatchFnPtr5720;
Value *protoImpl5736(List *closures, Value *arg);
Value *protoImpl5738(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5741;
ProtoImpls protoImpls5743;
Value *dispatchFnPtr5719;
Value *protoImpl5740(List *closures, Value *arg);
Value *protoImpl5742(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str427 = {StringType, -1, 20, 0, "FunctionArityContext"};
Value *strPtr427 = (Value *)&str427;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str428 = {StringType, -1, 46, 0, "recurse, sym-count, syms, context, closed-over"};
Value *strPtr428 = (Value *)&str428;
Value *arityImpl5744(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr428, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr427, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5745 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5744};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str429 = {StringType, -1, 34, 0, "*FunctionArityContext constructor*"};
Value *strPtr429 = (Value *)&str429;
Value *FunctionArityContext_const_type_name_5746(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr429);

};};
FnArity FunctionArityContext_const_type_name_5747 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_const_type_name_5746};
Value *FunctionArityContext_instance_QMARK__5748(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5717_5718, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity FunctionArityContext_instance_QMARK__5749 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_instance_QMARK__5748};
Value *FunctionArityContext_invoke_5750(List *closures, Value *arg0, Value *recurse_1, Value *sym_count_2, Value *syms_3, Value *context_4, Value *closed_over_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, recurse_1);
newVect6 = mutateVectConj(newVect6, sym_count_2);
newVect6 = mutateVectConj(newVect6, syms_3);
newVect6 = mutateVectConj(newVect6, context_4);
newVect6 = mutateVectConj(newVect6, closed_over_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_5717_5718, rslt7);
return(rslt8);

};};
FnArity FunctionArityContext_invoke_5751 = {FnArityType, -1, 6, (List *)0, 0, FunctionArityContext_invoke_5750};
ReifiedVal reifiedStatic5752 = {158, -1, (Value *)0, 0, {}};
Value *reifiedPtr5753 = (Value *)&reifiedStatic5752;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str430 = {StringType, -1, 22, 0, "<FunctionArityContext "};
Value *strPtr430 = (Value *)&str430;
Value *FunctionArityContext_string_list_5754(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *recurse_2;
Value *sym_count_3;
Value *syms_4;
Value *context_5;
Value *closed_over_6;
Value *tail_7;
Value **destArgs8[6] = {&recurse_2, &sym_count_3, &syms_4, &context_5, &closed_over_6, &tail_7};
destructValue("toccata.toc", "136", (Value *)rslt1, 6, destArgs8);

dec_and_free(recurse_2, 1);

dec_and_free(sym_count_3, 1);

dec_and_free(context_5, 1);

dec_and_free(closed_over_6, 1);

dec_and_free(tail_7, 1);

// type-unknown count
// #line 144 "toccata.toc"
Value *rslt9 = proto1Arg(&count_Implementations_300, "<nothing>/count", syms_4, "toccata.toc", 144);

// static-variadic
// #line 144 "toccata.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)rslt9, varArgs10);
Value *rslt11 = str_526(empty_list, (Value *)varArgs10);

// call-list
// #line 144 "toccata.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
newList12 = listCons((Value *)rslt11, newList12);
newList12 = listCons((Value *)strPtr430, newList12);
Value *rslt13 = (Value *)newList12;
return(rslt13);

};};
FnArity FunctionArityContext_string_list_5755 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_string_list_5754};
Value *FunctionArityContext_EQ_STAR__5756(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity FunctionArityContext_EQ_STAR__5757 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_EQ_STAR__5756};
Value *FunctionArityContext_type_name_5758(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr427);

};};
FnArity FunctionArityContext_type_name_5759 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_type_name_5758};
Value *FunctionArityContext_has_field_5760(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5723, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5722, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5721, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr5720, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5719, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity FunctionArityContext_has_field_5761 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_has_field_5760};
Value *FunctionArityContext_recurse_5762(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FunctionArityContext_recurse_5763 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_recurse_5762};
Value *FunctionArityContext_recurse_5764(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FunctionArityContext_recurse_5765 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_recurse_5764};
Value *FunctionArityContext_sym_count_5766(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FunctionArityContext_sym_count_5767 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_sym_count_5766};
Value *FunctionArityContext_sym_count_5768(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FunctionArityContext_sym_count_5769 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_sym_count_5768};
Value *FunctionArityContext_syms_5770(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FunctionArityContext_syms_5771 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_syms_5770};
Value *FunctionArityContext_syms_5772(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FunctionArityContext_syms_5773 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_syms_5772};
Value *FunctionArityContext_context_5774(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FunctionArityContext_context_5775 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_context_5774};
Value *FunctionArityContext_context_5776(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FunctionArityContext_context_5777 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_context_5776};
Value *FunctionArityContext_closed_over_5778(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity FunctionArityContext_closed_over_5779 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_closed_over_5778};
Value *FunctionArityContext_closed_over_5780(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity FunctionArityContext_closed_over_5781 = {FnArityType, -1, 1, (List *)0, 0, FunctionArityContext_closed_over_5780};
Value *FunctionArityContext_get_5782(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity FunctionArityContext_get_5783 = {FnArityType, -1, 2, (List *)0, 0, FunctionArityContext_get_5782};
Value *FunctionArityContext_assoc_STAR__5784(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity FunctionArityContext_assoc_STAR__5785 = {FnArityType, -1, 5, (List *)0, 0, FunctionArityContext_assoc_STAR__5784};
ReifiedVal reifiedStatic5786 = {159, -1, (Value *)0, 0, {}};
Value *reifiedPtr5787 = (Value *)&reifiedStatic5786;

// --------- reset-fn-context -------------
Value *reset_fn_context_5789;
Value *arityImpl5793(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val49;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[3] = {&val1, &val49, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val49, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg5794_13 = ss_10;
Value *curr_fn_context_14 = v_9;

incRef(curr_fn_context_14, 2);
Value *arg5795_15 = arg5794_13;

// type-unknown .context
// #line 149 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5737, "<nothing>/.context", curr_fn_context_14, "toccata.toc", 149);

// type-unknown .syms
// #line 149 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls5733, "<nothing>/.syms", curr_fn_context_14, "toccata.toc", 149);

// call-list
// #line 149 "toccata.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// type-unknown comp*
// #line 149 "toccata.toc"
Value *rslt20 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt16, rslt19, "toccata.toc", 149);
Value *new_context_21 = rslt20;
Value *arg5796_28 = arg5795_15;

// static-variadic
// #line 150 "toccata.toc"
List *varArgs22 = empty_list;
Value *rslt23 = hash_map_1208(empty_list, (Value *)varArgs22);

// static-variadic
// #line 150 "toccata.toc"
List *varArgs24 = empty_list;
Value *rslt25 = hash_map_1208(empty_list, (Value *)varArgs24);

// call invoke
// #line 150 "toccata.toc"
Value *rslt26 = FunctionArityContext_invoke_5750(empty_list, reifiedPtr5753, rslt23, numPtr0, rslt25, new_context_21, empty_closures_5716);

// static-fixed
// #line 150 "toccata.toc"
Value *rslt27 = set_val_3417(empty_list, dispatchFnPtr5469, rslt26);
Value *ev_29 = rslt27;
Value *arg5797_30 = arg5796_28;
Value *rslt31 = reified_type_args_22(empty_list, ev_29);
Value *invoke_fn_32;
Value *tail_33;
Value **destArgs34[2] = {&invoke_fn_32, &tail_33};
destructValue("", "0", (Value *)rslt31, 2, destArgs34);

dec_and_free(tail_33, 1);
Value *s_35 = arg5797_30;
Value *rslt39;
if((invoke_fn_32)->type != FunctionType) {
rslt39 = invoke_368(empty_list, invoke_fn_32, s_35);
} else {
FnArity *arity36 = findFnArity(invoke_fn_32, 1);
if(arity36 != (FnArity *)0 && !arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
rslt39 = fn38(arity36->closures, s_35);
} else if(arity36 != (FnArity *)0 && arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
List *dynArgs37 = empty_list;
dynArgs37 = (List *)listCons(s_35, dynArgs37);
rslt39 = fn38(arity36->closures, (Value *)dynArgs37);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_32)->name);
  abort();
}
dec_and_free(invoke_fn_32, 1);
}
Value *x_40 = rslt39;

incRef(x_40, 1);
Value *andRslt41;
andRslt41 = x_40;
if (isNothing(andRslt41)) {
dec_and_free(val49, 1);
dec_and_free(x_40, 1);
dec_and_free(curr_fn_context_14, 1);
} else {
dec_and_free(andRslt41, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_40, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_43;
Value *ss_44;
Value *tail_45;
Value **destArgs46[3] = {&v_43, &ss_44, &tail_45};
destructValue("", "0", (Value *)rslt42, 3, destArgs46);

dec_and_free(tail_45, 1);
Value *arg5798_47 = ss_44;
Value *arg48 = v_43;

dec_and_free(arg48, 1);
Value *arg5799_50 = arg5798_47;
Value *__51 = val49;
Value *v_52 = curr_fn_context_14;
Value *arg5800_53 = arg5799_50;
Value *rslt54 = reified_type_args_22(empty_list, __51);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg5800_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt41 = rslt61;
}
return(andRslt41);
andRslt7 = andRslt41;
}

};};
Value *reset_fn_context_5790(List *closures) {
 while (1) {

// static-fixed
// #line 148 "toccata.toc"
Value *rslt0 = get_val_3323(empty_list, dispatchFnPtr5469);
Value *wrapper_1 = rslt0;

incRef(wrapper_1, 1);
Value *ev_2 = wrapper_1;
Value *rslt3 = reified_type_args_22(empty_list, ev_2);
Value *invoke_fn_4;
Value *tail_5;
Value **destArgs6[2] = {&invoke_fn_4, &tail_5};
destructValue("", "0", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl5793;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)wrapper_1, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)invoke_fn_4, (List *)dynArity7->closures);
Function *anon_5801 = malloc_function(1);
anon_5801->name = "anon";
anon_5801->arityCount = 1;
anon_5801->arities[0] = dynArity7;
Value *fn5792 = (Value *)anon_5801;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn5792);
return(rslt8);

};};
FnArity reset_fn_context_5802 = {FnArityType, -1, 0, (List *)0, 0, reset_fn_context_5790};
Value *arityImpl5806(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val38;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs51[4] = {&val1, &val15, &val38, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs51);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg5807_13 = ss_10;
Value *curr_fn_context_14 = v_9;
Value *arg5808_17 = arg5807_13;

// static-fixed
// #line 154 "toccata.toc"
Value *rslt16 = set_val_3417(empty_list, dispatchFnPtr5469, val15);
Value *ev_18 = rslt16;
Value *arg5809_19 = arg5808_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg5809_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val38, 1);
dec_and_free(x_29, 1);
dec_and_free(curr_fn_context_14, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg5810_36 = ss_33;
Value *arg37 = v_32;

dec_and_free(arg37, 1);
Value *arg5811_39 = arg5810_36;
Value *__40 = val38;
Value *v_41 = curr_fn_context_14;
Value *arg5812_42 = arg5811_39;
Value *rslt43 = reified_type_args_22(empty_list, __40);
Value *invoke_fn_44;
Value *tail_45;
Value **destArgs46[2] = {&invoke_fn_44, &tail_45};
destructValue("", "0", (Value *)rslt43, 2, destArgs46);

dec_and_free(invoke_fn_44, 1);

dec_and_free(tail_45, 1);
Value *s_47 = arg5812_42;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect48 = empty_vect;
newVect48 = mutateVectConj(newVect48, v_41);
newVect48 = mutateVectConj(newVect48, s_47);
Value *rslt49 = (Value *)newVect48;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt50 = maybe_4(empty_list, rslt49);
andRslt30 = rslt50;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *reset_fn_context_5803(List *closures, Value *new_fn_context_0) {
 while (1) {

// static-fixed
// #line 153 "toccata.toc"
Value *rslt1 = get_val_3323(empty_list, dispatchFnPtr5469);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl5806;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)new_fn_context_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_5813 = malloc_function(1);
anon_5813->name = "anon";
anon_5813->arityCount = 1;
anon_5813->arities[0] = dynArity8;
Value *fn5805 = (Value *)anon_5813;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn5805);
return(rslt9);

};};
FnArity reset_fn_context_5814 = {FnArityType, -1, 1, (List *)0, 0, reset_fn_context_5803};
Function reset_fn_context_5815 = {FunctionType, -1, "reset-fn-context", 2, {&reset_fn_context_5802, &reset_fn_context_5814}};
Value *reset_fn_context_5789 = (Value *)&reset_fn_context_5815;


// proto fn for Emitter/bind
Value *bind_5816;
ProtoImpls bind_Implementations_5818;
Value *bind_5817(List *closures, Value *arg0);
ProtoImpls bind_Implementations_5820;
Value *bind_5819(List *closures, Value *arg0, Value *arg1);

// proto fn for Emitter/emit-defined-value
Value *emit_defined_value_5821;
ProtoImpls emit_defined_value_Implementations_5823;
Value *emit_defined_value_5822(List *closures, Value *arg0, Value *arg1);

// proto fn for Emitter/replace-syms
Value *replace_syms_5824;
ProtoImpls replace_syms_Implementations_5826;
Value *replace_syms_5825(List *closures, Value *arg0, Value *arg1);

// proto fn for Emitter/replace-bound-vars
Value *replace_bound_vars_5827;
ProtoImpls replace_bound_vars_Implementations_5829;
Value *replace_bound_vars_5828(List *closures, Value *arg0, Value *arg1);
Value *Default_replace_bound_vars_5830(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

dec_and_free(subs_1, 1);
return(ast_0);

};};
FnArity Default_replace_bound_vars_5831 = {FnArityType, -1, 2, (List *)0, 0, Default_replace_bound_vars_5830};

// proto fn for Emitter/emit-definition
Value *emit_definition_5832;
ProtoImpls emit_definition_Implementations_5834;
Value *emit_definition_5833(List *closures, Value *arg0);

// proto fn for Emitter/emit-call-expr
Value *emit_call_expr_5835;
ProtoImpls emit_call_expr_Implementations_5837;
Value *emit_call_expr_5836(List *closures, Value *arg0, Value *arg1);
Value *Default_emit_call_expr_5838(List *closures, Value *target_ast_0, Value *args_1) {
 while (1) {

dec_and_free(target_ast_0, 1);

dec_and_free(args_1, 1);

// type-known for zero
// #line 175 "toccata.toc"
Value *rslt2 = arityImpl2927(empty_list, reifiedPtr2939);
return(rslt2);

};};
FnArity Default_emit_call_expr_5839 = {FnArityType, -1, 2, (List *)0, 0, Default_emit_call_expr_5838};

// proto fn for Emitter/emit
Value *emit_5840;
ProtoImpls emit_Implementations_5842;
Value *emit_5841(List *closures, Value *arg0);

// proto fn for Emitter/produces-code?
Value *produces_code_QM__5843;
ProtoImpls produces_code_QM__Implementations_5845;
Value *produces_code_QM__5844(List *closures, Value *arg0);
Value *Default_produces_code_QM__5846(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 171 "toccata.toc"
Value *rslt1 = maybe_4(empty_list, ast_0);
return(rslt1);

};};
FnArity Default_produces_code_QM__5847 = {FnArityType, -1, 1, (List *)0, 0, Default_produces_code_QM__5846};

// proto fn for Emitter/tail-call
Value *tail_call_5848;
ProtoImpls tail_call_Implementations_5850;
Value *tail_call_5849(List *closures, Value *arg0, Value *arg1);

// proto fn for Emitter/inline-expr
Value *inline_expr_5851;
ProtoImpls inline_expr_Implementations_5853;
Value *inline_expr_5852(List *closures, Value *arg0, Value *arg1);
Value *Default_inline_expr_5854(List *closures, Value *target_ast_0, Value *arg_asts_1) {
 while (1) {

dec_and_free(target_ast_0, 1);

dec_and_free(arg_asts_1, 1);

// type-known for zero
// #line 186 "toccata.toc"
Value *rslt2 = arityImpl2927(empty_list, reifiedPtr2939);
return(rslt2);

};};
FnArity Default_inline_expr_5855 = {FnArityType, -1, 2, (List *)0, 0, Default_inline_expr_5854};

// proto fn for CollapseExprs/collapse-expressions*
Value *collapse_expressions_STAR__5856;
ProtoImpls collapse_expressions_STAR__Implementations_5858;
Value *collapse_expressions_STAR__5857(List *closures, Value *arg0, Value *arg1);
Value *type_val_5859_5860;
ProtoImpls protoImpls5867;
ProtoImpls protoImpls5869;
Value *dispatchFnPtr5865;
Value *protoImpl5866(List *closures, Value *arg);
Value *protoImpl5868(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls5871;
ProtoImpls protoImpls5873;
Value *dispatchFnPtr5863;
Value *protoImpl5870(List *closures, Value *arg);
Value *protoImpl5872(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str431 = {StringType, -1, 10, 0, "empty-code"};
Value *strPtr431 = (Value *)&str431;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[38];
} str432 = {StringType, -1, 37, 0, "c-var, init, decl, type-num, refs-map"};
Value *strPtr432 = (Value *)&str432;
Value *arityImpl5874(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr432, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr431, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5875 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5874};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str433 = {StringType, -1, 24, 0, "*empty-code constructor*"};
Value *strPtr433 = (Value *)&str433;
Value *empty_code_const_type_name_5876(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr433);

};};
FnArity empty_code_const_type_name_5877 = {FnArityType, -1, 1, (List *)0, 0, empty_code_const_type_name_5876};
Value *empty_code_instance_QMARK__5878(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5859_5860, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity empty_code_instance_QMARK__5879 = {FnArityType, -1, 2, (List *)0, 0, empty_code_instance_QMARK__5878};
Value *empty_code_invoke_5880(List *closures, Value *arg0, Value *c_var_1, Value *init_2, Value *decl_3, Value *type_num_4, Value *refs_map_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, c_var_1);
newVect6 = mutateVectConj(newVect6, init_2);
newVect6 = mutateVectConj(newVect6, decl_3);
newVect6 = mutateVectConj(newVect6, type_num_4);
newVect6 = mutateVectConj(newVect6, refs_map_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_5859_5860, rslt7);
return(rslt8);

};};
FnArity empty_code_invoke_5881 = {FnArityType, -1, 6, (List *)0, 0, empty_code_invoke_5880};
ReifiedVal reifiedStatic5882 = {160, -1, (Value *)0, 0, {}};
Value *reifiedPtr5883 = (Value *)&reifiedStatic5882;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str434 = {StringType, -1, 14, 0, "<Empty-C-Code>"};
Value *strPtr434 = (Value *)&str434;
Value *empty_code_string_list_5884(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "205", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);

// call-list
// #line 208 "toccata.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr434, newList9);
Value *rslt10 = (Value *)newList9;
return(rslt10);

};};
FnArity empty_code_string_list_5885 = {FnArityType, -1, 1, (List *)0, 0, empty_code_string_list_5884};
Value *empty_code_EQ_STAR__5886(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity empty_code_EQ_STAR__5887 = {FnArityType, -1, 2, (List *)0, 0, empty_code_EQ_STAR__5886};
Value *empty_code_type_name_5888(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr431);

};};
FnArity empty_code_type_name_5889 = {FnArityType, -1, 1, (List *)0, 0, empty_code_type_name_5888};
Value *empty_code_has_field_5890(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5865, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5587, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5863, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4348, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5676, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity empty_code_has_field_5891 = {FnArityType, -1, 2, (List *)0, 0, empty_code_has_field_5890};
Value *empty_code_c_var_5892(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity empty_code_c_var_5893 = {FnArityType, -1, 2, (List *)0, 0, empty_code_c_var_5892};
Value *empty_code_c_var_5894(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity empty_code_c_var_5895 = {FnArityType, -1, 1, (List *)0, 0, empty_code_c_var_5894};
Value *empty_code_init_5896(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity empty_code_init_5897 = {FnArityType, -1, 2, (List *)0, 0, empty_code_init_5896};
Value *empty_code_init_5898(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity empty_code_init_5899 = {FnArityType, -1, 1, (List *)0, 0, empty_code_init_5898};
Value *empty_code_decl_5900(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity empty_code_decl_5901 = {FnArityType, -1, 2, (List *)0, 0, empty_code_decl_5900};
Value *empty_code_decl_5902(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity empty_code_decl_5903 = {FnArityType, -1, 1, (List *)0, 0, empty_code_decl_5902};
Value *empty_code_type_num_5904(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity empty_code_type_num_5905 = {FnArityType, -1, 2, (List *)0, 0, empty_code_type_num_5904};
Value *empty_code_type_num_5906(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity empty_code_type_num_5907 = {FnArityType, -1, 1, (List *)0, 0, empty_code_type_num_5906};
Value *empty_code_refs_map_5908(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity empty_code_refs_map_5909 = {FnArityType, -1, 2, (List *)0, 0, empty_code_refs_map_5908};
Value *empty_code_refs_map_5910(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity empty_code_refs_map_5911 = {FnArityType, -1, 1, (List *)0, 0, empty_code_refs_map_5910};
Value *empty_code_get_5912(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity empty_code_get_5913 = {FnArityType, -1, 2, (List *)0, 0, empty_code_get_5912};
Value *empty_code_zero_5914(List *closures, Value *c_0) {
 while (1) {

incRef(c_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "205", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);
return(c_0);

};};
FnArity empty_code_zero_5915 = {FnArityType, -1, 1, (List *)0, 0, empty_code_zero_5914};
Value *empty_code_comp_STAR__5916(List *closures, Value *arg0, Value *cs_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, arg0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "205", (Value *)rslt2, 6, destArgs9);

dec_and_free(c_var_3, 1);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);
Value *f_10 = comp_240;

// call-list
// #line 217 "toccata.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)cs_1, newList11);
Value *rslt12 = (Value *)newList11;
Value *args_13 = rslt12;

// static-fixed
// #line 737 "core"
Value *rslt14 = fn_apply_98(empty_list, list_STAR__478, args_13);

// static-fixed
// #line 737 "core"
Value *rslt15 = fn_apply_98(empty_list, f_10, rslt14);
return(rslt15);

};};
FnArity empty_code_comp_STAR__5917 = {FnArityType, -1, 2, (List *)0, 0, empty_code_comp_STAR__5916};
Value *empty_code_empty_QM__5918(List *closures, Value *c_0) {
 while (1) {

incRef(c_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "205", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);

// static-fixed
// #line 212 "toccata.toc"
Value *rslt9 = maybe_4(empty_list, c_0);
return(rslt9);

};};
FnArity empty_code_empty_QM__5919 = {FnArityType, -1, 1, (List *)0, 0, empty_code_empty_QM__5918};
Value *empty_code_emit_5920(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "205", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);

// call invoke
// #line 224 "toccata.toc"
Value *rslt9 = arityImpl2933(empty_list, reifiedPtr2939, x_0);
return(rslt9);

};};
FnArity empty_code_emit_5921 = {FnArityType, -1, 1, (List *)0, 0, empty_code_emit_5920};
Value *empty_code_assoc_STAR__5922(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity empty_code_assoc_STAR__5923 = {FnArityType, -1, 5, (List *)0, 0, empty_code_assoc_STAR__5922};
Value *empty_code_collapse_expressions_STAR__5924(List *closures, Value *x_0, Value *y_1) {
 while (1) {
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "205", (Value *)rslt2, 6, destArgs9);

dec_and_free(c_var_3, 1);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);
return(y_1);

};};
FnArity empty_code_collapse_expressions_STAR__5925 = {FnArityType, -1, 2, (List *)0, 0, empty_code_collapse_expressions_STAR__5924};
ReifiedVal reifiedStatic5926 = {161, -1, (Value *)0, 0, {}};
Value *reifiedPtr5927 = (Value *)&reifiedStatic5926;
Value *empty_c_code_5928;
Value *type_val_5929_5930;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str435 = {StringType, -1, 6, 0, "c-code"};
Value *strPtr435 = (Value *)&str435;
Value *arityImpl5936(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr432, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr435, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5937 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5936};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str436 = {StringType, -1, 20, 0, "*c-code constructor*"};
Value *strPtr436 = (Value *)&str436;
Value *c_code_const_type_name_5938(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr436);

};};
FnArity c_code_const_type_name_5939 = {FnArityType, -1, 1, (List *)0, 0, c_code_const_type_name_5938};
Value *c_code_instance_QMARK__5940(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5929_5930, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity c_code_instance_QMARK__5941 = {FnArityType, -1, 2, (List *)0, 0, c_code_instance_QMARK__5940};
Value *c_code_invoke_5942(List *closures, Value *arg0, Value *c_var_1, Value *init_2, Value *decl_3, Value *type_num_4, Value *refs_map_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, c_var_1);
newVect6 = mutateVectConj(newVect6, init_2);
newVect6 = mutateVectConj(newVect6, decl_3);
newVect6 = mutateVectConj(newVect6, type_num_4);
newVect6 = mutateVectConj(newVect6, refs_map_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_5929_5930, rslt7);
return(rslt8);

};};
FnArity c_code_invoke_5943 = {FnArityType, -1, 6, (List *)0, 0, c_code_invoke_5942};
ReifiedVal reifiedStatic5944 = {162, -1, (Value *)0, 0, {}};
Value *reifiedPtr5945 = (Value *)&reifiedStatic5944;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str437 = {StringType, -1, 8, 0, "<C-Code "};
Value *strPtr437 = (Value *)&str437;
Value *c_code_string_list_5946(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "228", (Value *)rslt1, 6, destArgs8);

dec_and_free(tail_7, 1);

// static-variadic
// #line 231 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)c_var_2, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// static-fixed
// #line 231 "toccata.toc"
Value *rslt11 = target_type_name_5384(empty_list, type_num_5);

// type-unknown count
// #line 232 "toccata.toc"
Value *rslt12 = proto1Arg(&count_Implementations_300, "<nothing>/count", init_3, "toccata.toc", 232);

// static-variadic
// #line 232 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
Value *rslt14 = str_526(empty_list, (Value *)varArgs13);

// type-unknown count
// #line 232 "toccata.toc"
Value *rslt15 = proto1Arg(&count_Implementations_300, "<nothing>/count", decl_4, "toccata.toc", 232);

// static-variadic
// #line 232 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)rslt15, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// static-variadic
// #line 232 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)refs_map_6, varArgs18);
Value *rslt19 = str_526(empty_list, (Value *)varArgs18);

// call-list
// #line 231 "toccata.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)strPtr2, newList20);
newList20 = listCons((Value *)rslt19, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt17, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt14, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt11, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt10, newList20);
newList20 = listCons((Value *)strPtr437, newList20);
Value *rslt21 = (Value *)newList20;
return(rslt21);

};};
FnArity c_code_string_list_5947 = {FnArityType, -1, 1, (List *)0, 0, c_code_string_list_5946};
Value *c_code_EQ_STAR__5948(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity c_code_EQ_STAR__5949 = {FnArityType, -1, 2, (List *)0, 0, c_code_EQ_STAR__5948};
Value *c_code_type_name_5950(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr435);

};};
FnArity c_code_type_name_5951 = {FnArityType, -1, 1, (List *)0, 0, c_code_type_name_5950};
Value *c_code_has_field_5952(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5865, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5587, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5863, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4348, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5676, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity c_code_has_field_5953 = {FnArityType, -1, 2, (List *)0, 0, c_code_has_field_5952};
Value *c_code_c_var_5954(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_code_c_var_5955 = {FnArityType, -1, 2, (List *)0, 0, c_code_c_var_5954};
Value *c_code_c_var_5956(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_code_c_var_5957 = {FnArityType, -1, 1, (List *)0, 0, c_code_c_var_5956};
Value *c_code_init_5958(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_code_init_5959 = {FnArityType, -1, 2, (List *)0, 0, c_code_init_5958};
Value *c_code_init_5960(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_code_init_5961 = {FnArityType, -1, 1, (List *)0, 0, c_code_init_5960};
Value *c_code_decl_5962(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_code_decl_5963 = {FnArityType, -1, 2, (List *)0, 0, c_code_decl_5962};
Value *c_code_decl_5964(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_code_decl_5965 = {FnArityType, -1, 1, (List *)0, 0, c_code_decl_5964};
Value *c_code_type_num_5966(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_code_type_num_5967 = {FnArityType, -1, 2, (List *)0, 0, c_code_type_num_5966};
Value *c_code_type_num_5968(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_code_type_num_5969 = {FnArityType, -1, 1, (List *)0, 0, c_code_type_num_5968};
Value *c_code_refs_map_5970(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_code_refs_map_5971 = {FnArityType, -1, 2, (List *)0, 0, c_code_refs_map_5970};
Value *c_code_refs_map_5972(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_code_refs_map_5973 = {FnArityType, -1, 1, (List *)0, 0, c_code_refs_map_5972};
Value *c_code_get_5974(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity c_code_get_5975 = {FnArityType, -1, 2, (List *)0, 0, c_code_get_5974};
Value *c_code_zero_5976(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "228", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);
return(empty_c_code_5928);

};};
FnArity c_code_zero_5977 = {FnArityType, -1, 1, (List *)0, 0, c_code_zero_5976};
Value *c_code_comp_STAR__5978(List *closures, Value *c_0, Value *cs_1) {
 while (1) {

incRef(c_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, c_0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "228", (Value *)rslt2, 6, destArgs9);

dec_and_free(c_var_3, 1);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);

// type-unknown reduce
// #line 237 "toccata.toc"
Value *rslt10 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", cs_1, c_0, collapse_expressions_STAR__5856, "toccata.toc", 237);
return(rslt10);

};};
FnArity c_code_comp_STAR__5979 = {FnArityType, -1, 2, (List *)0, 0, c_code_comp_STAR__5978};
Value *c_code_empty_QM__5980(List *closures, Value *c_0) {
 while (1) {

incRef(c_0, 2);
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "228", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);
Value *andRslt9;

// type-unknown .init
// #line 241 "toccata.toc"
Value *rslt10 = proto1Arg(&protoImpls5595, "<nothing>/.init", c_0, "toccata.toc", 241);

// type-unknown empty?
// #line 241 "toccata.toc"
Value *rslt11 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt10, "toccata.toc", 241);
andRslt9 = rslt11;
if (isNothing(andRslt9)) {
dec_and_free(c_0, 1);
return(nothing);
} else {
dec_and_free(andRslt9, 1);

// type-unknown .decl
// #line 242 "toccata.toc"
Value *rslt12 = proto1Arg(&protoImpls5871, "<nothing>/.decl", c_0, "toccata.toc", 242);

// type-unknown empty?
// #line 242 "toccata.toc"
Value *rslt13 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt12, "toccata.toc", 242);
return(rslt13);
andRslt9 = rslt13;
}

};};
FnArity c_code_empty_QM__5981 = {FnArityType, -1, 1, (List *)0, 0, c_code_empty_QM__5980};
Value *c_code_emit_5982(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "228", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);

// call invoke
// #line 254 "toccata.toc"
Value *rslt9 = arityImpl2933(empty_list, reifiedPtr2939, x_0);
return(rslt9);

};};
FnArity c_code_emit_5983 = {FnArityType, -1, 1, (List *)0, 0, c_code_emit_5982};
Value *c_code_assoc_STAR__5984(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity c_code_assoc_STAR__5985 = {FnArityType, -1, 5, (List *)0, 0, c_code_assoc_STAR__5984};
Value *c_code_collapse_expressions_STAR__5986(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 3);

incRef(y_1, 4);
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "228", (Value *)rslt2, 6, destArgs9);

dec_and_free(c_var_3, 1);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);

// type-unknown .c-var
// #line 246 "toccata.toc"
Value *rslt10 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", y_1, "toccata.toc", 246);

// type-unknown .init
// #line 247 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls5595, "<nothing>/.init", x_0, "toccata.toc", 247);

// type-unknown .init
// #line 247 "toccata.toc"
Value *rslt12 = proto1Arg(&protoImpls5595, "<nothing>/.init", y_1, "toccata.toc", 247);

// call-vector
// #line 247 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, rslt11);
newVect13 = mutateVectConj(newVect13, rslt12);
Value *rslt14 = (Value *)newVect13;

// type-unknown .decl
// #line 248 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5871, "<nothing>/.decl", x_0, "toccata.toc", 248);

// type-unknown .decl
// #line 248 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5871, "<nothing>/.decl", y_1, "toccata.toc", 248);

// call-vector
// #line 248 "toccata.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, rslt15);
newVect17 = mutateVectConj(newVect17, rslt16);
Value *rslt18 = (Value *)newVect17;

// type-unknown .type-num
// #line 249 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", y_1, "toccata.toc", 249);

// type-unknown .refs-map
// #line 250 "toccata.toc"
Value *rslt20 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", x_0, "toccata.toc", 250);

// type-unknown .refs-map
// #line 250 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", y_1, "toccata.toc", 250);

// static-variadic
// #line 250 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)rslt21, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt20, varArgs22);
varArgs22 = (List *)listCons((Value *)_PLUS__454, varArgs22);
Value *rslt23 = merge_with_1317(empty_list, (Value *)varArgs22);

// call invoke
// #line 246 "toccata.toc"
Value *rslt24 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt10, rslt14, rslt18, rslt19, rslt23);
return(rslt24);

};};
FnArity c_code_collapse_expressions_STAR__5987 = {FnArityType, -1, 2, (List *)0, 0, c_code_collapse_expressions_STAR__5986};
ReifiedVal reifiedStatic5988 = {163, -1, (Value *)0, 0, {}};
Value *reifiedPtr5989 = (Value *)&reifiedStatic5988;
Value *type_val_5990_5991;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str438 = {StringType, -1, 6, 0, "c-init"};
Value *strPtr438 = (Value *)&str438;
Value *arityImpl5997(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr432, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr438, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity5998 = {FnArityType, -1, 1, (List *)0, 0, arityImpl5997};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str439 = {StringType, -1, 20, 0, "*c-init constructor*"};
Value *strPtr439 = (Value *)&str439;
Value *c_init_const_type_name_5999(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr439);

};};
FnArity c_init_const_type_name_6000 = {FnArityType, -1, 1, (List *)0, 0, c_init_const_type_name_5999};
Value *c_init_instance_QMARK__6001(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_5990_5991, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity c_init_instance_QMARK__6002 = {FnArityType, -1, 2, (List *)0, 0, c_init_instance_QMARK__6001};
Value *c_init_invoke_6003(List *closures, Value *arg0, Value *c_var_1, Value *init_2, Value *decl_3, Value *type_num_4, Value *refs_map_5) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, c_var_1);
newVect6 = mutateVectConj(newVect6, init_2);
newVect6 = mutateVectConj(newVect6, decl_3);
newVect6 = mutateVectConj(newVect6, type_num_4);
newVect6 = mutateVectConj(newVect6, refs_map_5);
Value *rslt7 = (Value *)newVect6;
Value *rslt8 = new_type_value_53(empty_list, type_val_5990_5991, rslt7);
return(rslt8);

};};
FnArity c_init_invoke_6004 = {FnArityType, -1, 6, (List *)0, 0, c_init_invoke_6003};
ReifiedVal reifiedStatic6005 = {164, -1, (Value *)0, 0, {}};
Value *reifiedPtr6006 = (Value *)&reifiedStatic6005;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str440 = {StringType, -1, 8, 0, "<C-Init "};
Value *strPtr440 = (Value *)&str440;
Value *c_init_string_list_6007(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "257", (Value *)rslt1, 6, destArgs8);

dec_and_free(tail_7, 1);

// static-variadic
// #line 260 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)c_var_2, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// static-fixed
// #line 260 "toccata.toc"
Value *rslt11 = target_type_name_5384(empty_list, type_num_5);

// type-unknown count
// #line 261 "toccata.toc"
Value *rslt12 = proto1Arg(&count_Implementations_300, "<nothing>/count", init_3, "toccata.toc", 261);

// static-variadic
// #line 261 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
Value *rslt14 = str_526(empty_list, (Value *)varArgs13);

// type-unknown count
// #line 261 "toccata.toc"
Value *rslt15 = proto1Arg(&count_Implementations_300, "<nothing>/count", decl_4, "toccata.toc", 261);

// static-variadic
// #line 261 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)rslt15, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// static-variadic
// #line 261 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)refs_map_6, varArgs18);
Value *rslt19 = str_526(empty_list, (Value *)varArgs18);

// call-list
// #line 260 "toccata.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)strPtr2, newList20);
newList20 = listCons((Value *)rslt19, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt17, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt14, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt11, newList20);
newList20 = listCons((Value *)strPtr17, newList20);
newList20 = listCons((Value *)rslt10, newList20);
newList20 = listCons((Value *)strPtr440, newList20);
Value *rslt21 = (Value *)newList20;
return(rslt21);

};};
FnArity c_init_string_list_6008 = {FnArityType, -1, 1, (List *)0, 0, c_init_string_list_6007};
Value *c_init_EQ_STAR__6009(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity c_init_EQ_STAR__6010 = {FnArityType, -1, 2, (List *)0, 0, c_init_EQ_STAR__6009};
Value *c_init_type_name_6011(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr438);

};};
FnArity c_init_type_name_6012 = {FnArityType, -1, 1, (List *)0, 0, c_init_type_name_6011};
Value *c_init_has_field_6013(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 4);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr5865, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 4);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5587, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr5863, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr4348, field_1);
orRslt2 = rslt6;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt7 = identical_421(empty_list, dispatchFnPtr5676, field_1);
return(rslt7);
orRslt2 = rslt7;
}
}
}
}

};};
FnArity c_init_has_field_6014 = {FnArityType, -1, 2, (List *)0, 0, c_init_has_field_6013};
Value *c_init_c_var_6015(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_init_c_var_6016 = {FnArityType, -1, 2, (List *)0, 0, c_init_c_var_6015};
Value *c_init_c_var_6017(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_init_c_var_6018 = {FnArityType, -1, 1, (List *)0, 0, c_init_c_var_6017};
Value *c_init_init_6019(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_init_init_6020 = {FnArityType, -1, 2, (List *)0, 0, c_init_init_6019};
Value *c_init_init_6021(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_init_init_6022 = {FnArityType, -1, 1, (List *)0, 0, c_init_init_6021};
Value *c_init_decl_6023(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_init_decl_6024 = {FnArityType, -1, 2, (List *)0, 0, c_init_decl_6023};
Value *c_init_decl_6025(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_init_decl_6026 = {FnArityType, -1, 1, (List *)0, 0, c_init_decl_6025};
Value *c_init_type_num_6027(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_init_type_num_6028 = {FnArityType, -1, 2, (List *)0, 0, c_init_type_num_6027};
Value *c_init_type_num_6029(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_init_type_num_6030 = {FnArityType, -1, 1, (List *)0, 0, c_init_type_num_6029};
Value *c_init_refs_map_6031(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr5, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity c_init_refs_map_6032 = {FnArityType, -1, 2, (List *)0, 0, c_init_refs_map_6031};
Value *c_init_refs_map_6033(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr5);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity c_init_refs_map_6034 = {FnArityType, -1, 1, (List *)0, 0, c_init_refs_map_6033};
Value *c_init_get_6035(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity c_init_get_6036 = {FnArityType, -1, 2, (List *)0, 0, c_init_get_6035};
Value *c_init_zero_6037(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "257", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);
return(empty_c_code_5928);

};};
FnArity c_init_zero_6038 = {FnArityType, -1, 1, (List *)0, 0, c_init_zero_6037};

// --------- anon -------------
Value *fn6040;
Value *arityImpl6041(List *closures, Value *result_0, Value *c_1) {
 while (1) {

incRef(result_0, 2);

incRef(c_1, 4);

// type-unknown .c-var
// #line 270 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", c_1, "toccata.toc", 270);

// type-unknown .init
// #line 271 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5595, "<nothing>/.init", result_0, "toccata.toc", 271);

// type-unknown .init
// #line 271 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls5595, "<nothing>/.init", c_1, "toccata.toc", 271);

// call-vector
// #line 271 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, rslt3);
newVect5 = mutateVectConj(newVect5, rslt4);
Value *rslt6 = (Value *)newVect5;

// type-unknown .decl
// #line 272 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls5871, "<nothing>/.decl", result_0, "toccata.toc", 272);

// type-unknown .decl
// #line 272 "toccata.toc"
Value *rslt8 = proto1Arg(&protoImpls5871, "<nothing>/.decl", c_1, "toccata.toc", 272);

// call-vector
// #line 272 "toccata.toc"
Vector *newVect9 = empty_vect;
newVect9 = mutateVectConj(newVect9, rslt7);
newVect9 = mutateVectConj(newVect9, rslt8);
Value *rslt10 = (Value *)newVect9;

// type-unknown .type-num
// #line 273 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", c_1, "toccata.toc", 273);

// type-unknown .refs-map
// #line 274 "toccata.toc"
Value *rslt12 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", result_0, "toccata.toc", 274);

// type-unknown .refs-map
// #line 274 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", c_1, "toccata.toc", 274);

// static-variadic
// #line 274 "toccata.toc"
List *varArgs14 = empty_list;
varArgs14 = (List *)listCons((Value *)rslt13, varArgs14);
varArgs14 = (List *)listCons((Value *)rslt12, varArgs14);
varArgs14 = (List *)listCons((Value *)_PLUS__454, varArgs14);
Value *rslt15 = merge_with_1317(empty_list, (Value *)varArgs14);

// call invoke
// #line 270 "toccata.toc"
Value *rslt16 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt2, rslt6, rslt10, rslt11, rslt15);
return(rslt16);

};};
FnArity staticArity6042 = {FnArityType, -1, 2, (List *)0, 0, arityImpl6041};
Function anon_6043 = {FunctionType, -1, "anon", 1, {&staticArity6042}};
Value *fn6040 = (Value *)&anon_6043;

Value *c_init_comp_STAR__6039(List *closures, Value *c_0, Value *cs_1) {
 while (1) {

incRef(c_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, c_0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "257", (Value *)rslt2, 6, destArgs9);

dec_and_free(c_var_3, 1);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);

// type-unknown reduce
// #line 269 "toccata.toc"
Value *rslt10 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", cs_1, c_0, fn6040, "toccata.toc", 269);
return(rslt10);

};};
FnArity c_init_comp_STAR__6044 = {FnArityType, -1, 2, (List *)0, 0, c_init_comp_STAR__6039};
Value *c_init_empty_QM__6045(List *closures, Value *c_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, c_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "257", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);
return(nothing_7);

};};
FnArity c_init_empty_QM__6046 = {FnArityType, -1, 1, (List *)0, 0, c_init_empty_QM__6045};
Value *c_init_emit_6047(List *closures, Value *x_0) {
 while (1) {

incRef(x_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, x_0);
Value *c_var_2;
Value *init_3;
Value *decl_4;
Value *type_num_5;
Value *refs_map_6;
Value *tail_7;
Value **destArgs8[6] = {&c_var_2, &init_3, &decl_4, &type_num_5, &refs_map_6, &tail_7};
destructValue("toccata.toc", "257", (Value *)rslt1, 6, destArgs8);

dec_and_free(c_var_2, 1);

dec_and_free(init_3, 1);

dec_and_free(decl_4, 1);

dec_and_free(type_num_5, 1);

dec_and_free(refs_map_6, 1);

dec_and_free(tail_7, 1);

// call invoke
// #line 297 "toccata.toc"
Value *rslt9 = arityImpl2933(empty_list, reifiedPtr2939, x_0);
return(rslt9);

};};
FnArity c_init_emit_6048 = {FnArityType, -1, 1, (List *)0, 0, c_init_emit_6047};
Value *c_init_assoc_STAR__6049(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity c_init_assoc_STAR__6050 = {FnArityType, -1, 5, (List *)0, 0, c_init_assoc_STAR__6049};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str441 = {StringType, -1, 7, 0, "incRef("};
Value *strPtr441 = (Value *)&str441;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str442 = {StringType, -1, 2, 0, ");"};
Value *strPtr442 = (Value *)&str442;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str443 = {StringType, -1, 13, 0, "dec_and_free("};
Value *strPtr443 = (Value *)&str443;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str444 = {StringType, -1, 5, 0, ", 1);"};
Value *strPtr444 = (Value *)&str444;
Value *c_init_collapse_expressions_STAR__6051(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 5);

incRef(y_1, 7);
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *c_var_3;
Value *init_4;
Value *decl_5;
Value *type_num_6;
Value *refs_map_7;
Value *tail_8;
Value **destArgs9[6] = {&c_var_3, &init_4, &decl_5, &type_num_6, &refs_map_7, &tail_8};
destructValue("toccata.toc", "257", (Value *)rslt2, 6, destArgs9);

incRef(c_var_3, 4);

dec_and_free(init_4, 1);

dec_and_free(decl_5, 1);

dec_and_free(type_num_6, 1);

dec_and_free(refs_map_7, 1);

dec_and_free(tail_8, 1);
Value *orRslt11;

// call-vector
// #line 278 "toccata.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, dispatchFnPtr5676);
newVect12 = mutateVectConj(newVect12, c_var_3);
Value *rslt13 = (Value *)newVect12;

// static-fixed
// #line 278 "toccata.toc"
Value *rslt14 = get_in_1261(empty_list, y_1, rslt13);
Value *wrapper_15 = rslt14;

incRef(wrapper_15, 1);
Value *mv_16 = wrapper_15;

incRef(mv_16, 1);
Value *andRslt17;
andRslt17 = mv_16;
if (isNothing(andRslt17)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
dec_and_free(mv_16, 1);
dec_and_free(c_var_3, 1);
dec_and_free(wrapper_15, 1);
} else {
dec_and_free(andRslt17, 1);

// type-known for extract
// #line 984 "core"
Value *rslt18 = Maybe_extract_757(empty_list, mv_16);
Value *refs_19 = rslt18;

incRef(refs_19, 1);
Value *__20 = wrapper_15;

dec_and_free(__20, 1);

// type-unknown .init
// #line 279 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls5595, "<nothing>/.init", x_0, "toccata.toc", 279);

// static-fixed
// #line 280 "toccata.toc"
Value *rslt22 = dec_578(empty_list, refs_19);

// call-vector
// #line 280 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, strPtr5);
newVect23 = mutateVectConj(newVect23, strPtr441);
newVect23 = mutateVectConj(newVect23, c_var_3);
newVect23 = mutateVectConj(newVect23, strPtr17);
newVect23 = mutateVectConj(newVect23, rslt22);
newVect23 = mutateVectConj(newVect23, strPtr442);
newVect23 = mutateVectConj(newVect23, strPtr5);
Value *rslt24 = (Value *)newVect23;

// static-fixed
// #line 280 "toccata.toc"
Value *rslt25 = _LT__531(empty_list, refs_19, numPtr2);

// dynamic unknown type
// #line 280 "toccata.toc"
Value *rslt29;
if((rslt25)->type != FunctionType) {
rslt29 = invoke_370(empty_list, rslt25, strPtr0, rslt24);
} else {
FnArity *arity26 = findFnArity(rslt25, 2);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType2 *fn28 = (FnType2 *)arity26->fn;
rslt29 = fn28(arity26->closures, strPtr0, rslt24);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(rslt24, dynArgs27);
dynArgs27 = (List *)listCons(strPtr0, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt25)->name);
  abort();
}
dec_and_free(rslt25, 1);
}

// type-unknown .init
// #line 281 "toccata.toc"
Value *rslt30 = proto1Arg(&protoImpls5595, "<nothing>/.init", y_1, "toccata.toc", 281);

// call-vector
// #line 279 "toccata.toc"
Vector *newVect31 = empty_vect;
newVect31 = mutateVectConj(newVect31, rslt21);
newVect31 = mutateVectConj(newVect31, rslt29);
newVect31 = mutateVectConj(newVect31, rslt30);
Value *rslt32 = (Value *)newVect31;
Value *mv_33 = rslt32;

// static-fixed
// #line 978 "core"
Value *rslt34 = maybe_4(empty_list, mv_33);
andRslt17 = rslt34;
}
orRslt11 = andRslt17;
if (!isNothing(orRslt11)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
dec_and_free(c_var_3, 1);

} else {
dec_and_free(orRslt11, 1);
Value *andRslt35;

// static-fixed
// #line 282 "toccata.toc"
Value *rslt36 = _EQ__557(empty_list, strPtr0, c_var_3);
andRslt35 = rslt36;
if (isNothing(andRslt35)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
} else {
dec_and_free(andRslt35, 1);

// type-unknown .init
// #line 283 "toccata.toc"
Value *rslt37 = proto1Arg(&protoImpls5595, "<nothing>/.init", x_0, "toccata.toc", 283);

// type-unknown .init
// #line 283 "toccata.toc"
Value *rslt38 = proto1Arg(&protoImpls5595, "<nothing>/.init", y_1, "toccata.toc", 283);

// call-vector
// #line 283 "toccata.toc"
Vector *newVect39 = empty_vect;
newVect39 = mutateVectConj(newVect39, rslt37);
newVect39 = mutateVectConj(newVect39, rslt38);
Value *rslt40 = (Value *)newVect39;

// static-fixed
// #line 283 "toccata.toc"
Value *rslt41 = maybe_4(empty_list, rslt40);
andRslt35 = rslt41;
}
orRslt11 = andRslt35;
}
Value *eitherRslt10;
if (!isNothing(orRslt11)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
dec_and_free(c_var_3, 1);
eitherRslt10 = maybeExtract(orRslt11);
} else {
dec_and_free(orRslt11, 1);

// type-unknown .init
// #line 284 "toccata.toc"
Value *rslt42 = proto1Arg(&protoImpls5595, "<nothing>/.init", x_0, "toccata.toc", 284);

// type-unknown .init
// #line 286 "toccata.toc"
Value *rslt43 = proto1Arg(&protoImpls5595, "<nothing>/.init", y_1, "toccata.toc", 286);

// call-vector
// #line 284 "toccata.toc"
Vector *newVect44 = empty_vect;
newVect44 = mutateVectConj(newVect44, rslt42);
newVect44 = mutateVectConj(newVect44, strPtr5);
newVect44 = mutateVectConj(newVect44, strPtr443);
newVect44 = mutateVectConj(newVect44, c_var_3);
newVect44 = mutateVectConj(newVect44, strPtr444);
newVect44 = mutateVectConj(newVect44, strPtr5);
newVect44 = mutateVectConj(newVect44, rslt43);
Value *rslt45 = (Value *)newVect44;
eitherRslt10 = rslt45;
}
Value *init_46 = eitherRslt10;

// type-unknown .refs-map
// #line 287 "toccata.toc"
Value *rslt47 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", x_0, "toccata.toc", 287);

// type-unknown .refs-map
// #line 287 "toccata.toc"
Value *rslt48 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", y_1, "toccata.toc", 287);

// static-variadic
// #line 287 "toccata.toc"
List *varArgs49 = empty_list;
varArgs49 = (List *)listCons((Value *)rslt48, varArgs49);
varArgs49 = (List *)listCons((Value *)rslt47, varArgs49);
varArgs49 = (List *)listCons((Value *)_PLUS__454, varArgs49);
Value *rslt50 = merge_with_1317(empty_list, (Value *)varArgs49);
Value *refs_map_51 = rslt50;

// static-fixed
// #line 288 "toccata.toc"
Value *rslt52 = assoc_1033(empty_list, refs_map_51, c_var_3, numPtr0);
Value *refs_map_53 = rslt52;

// type-unknown .c-var
// #line 289 "toccata.toc"
Value *rslt54 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", y_1, "toccata.toc", 289);

// type-unknown .decl
// #line 291 "toccata.toc"
Value *rslt55 = proto1Arg(&protoImpls5871, "<nothing>/.decl", x_0, "toccata.toc", 291);

// type-unknown .decl
// #line 291 "toccata.toc"
Value *rslt56 = proto1Arg(&protoImpls5871, "<nothing>/.decl", y_1, "toccata.toc", 291);

// call-vector
// #line 291 "toccata.toc"
Vector *newVect57 = empty_vect;
newVect57 = mutateVectConj(newVect57, rslt55);
newVect57 = mutateVectConj(newVect57, rslt56);
Value *rslt58 = (Value *)newVect57;

// type-unknown .type-num
// #line 292 "toccata.toc"
Value *rslt59 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", y_1, "toccata.toc", 292);

// call invoke
// #line 289 "toccata.toc"
Value *rslt60 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt54, init_46, rslt58, rslt59, refs_map_53);
return(rslt60);

};};
FnArity c_init_collapse_expressions_STAR__6053 = {FnArityType, -1, 2, (List *)0, 0, c_init_collapse_expressions_STAR__6051};
ReifiedVal reifiedStatic6054 = {165, -1, (Value *)0, 0, {}};
Value *reifiedPtr6055 = (Value *)&reifiedStatic6054;

// --------- collapse-expressions -------------
Value *collapse_expressions_6057;

// --------- anon -------------
Value *fn6059;
Value *arityImpl6060(List *closures, Value *y_0, Value *x_1) {
 while (1) {

// type-unknown collapse-expressions*
// #line 304 "toccata.toc"
Value *rslt2 = proto2Arg(&collapse_expressions_STAR__Implementations_5858, "<nothing>/collapse-expressions*", x_1, y_0, "toccata.toc", 304);
return(rslt2);

};};
FnArity staticArity6061 = {FnArityType, -1, 2, (List *)0, 0, arityImpl6060};
Function anon_6062 = {FunctionType, -1, "anon", 1, {&staticArity6061}};
Value *fn6059 = (Value *)&anon_6062;

Value *collapse_expressions_6058(List *closures, Value *cs_0) {
 while (1) {

incRef(cs_0, 1);
Value *andRslt1;

// type-unknown empty?
// #line 300 "toccata.toc"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", cs_0, "toccata.toc", 300);
andRslt1 = rslt2;
if (isNothing(andRslt1)) {
} else {
dec_and_free(andRslt1, 1);

// static-fixed
// #line 300 "toccata.toc"
Value *rslt3 = maybe_4(empty_list, empty_c_code_5928);
andRslt1 = rslt3;
}
if (!isNothing(andRslt1)) {
dec_and_free(cs_0, 1);
return(maybeExtract(andRslt1));
} else {
dec_and_free(andRslt1, 1);

// type-unknown reverse
// #line 301 "toccata.toc"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", cs_0, "toccata.toc", 301);
Value *c_5;
Value *cs_6;
Value **destArgs7[2] = {&c_5, &cs_6};
destructValue("toccata.toc", "301", (Value *)rslt4, 2, destArgs7);

// static-fixed
// #line 302 "toccata.toc"
Value *rslt8 = remove_1488(empty_list, cs_6, empty_QM__292);
Value *cs_9 = rslt8;

// type-unknown reduce
// #line 303 "toccata.toc"
Value *rslt10 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", cs_9, c_5, fn6059, "toccata.toc", 303);
return(rslt10);
}

};};
FnArity collapse_expressions_6063 = {FnArityType, -1, 1, (List *)0, 0, collapse_expressions_6058};
Function collapse_expressions_6064 = {FunctionType, -1, "collapse-expressions", 1, {&collapse_expressions_6063}};
Value *collapse_expressions_6057 = (Value *)&collapse_expressions_6064;


// --------- sym-ns-path -------------
Value *sym_ns_path_6066;
Value *arityImpl6070(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val41;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[4] = {&val1, &val15, &val41, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs54);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6071_13 = ss_10;
Value *ns_sym_14 = v_9;
Value *arg6072_20 = arg6071_13;

// type-unknown ast/file-name
// #line 308 "toccata.toc"
Value *rslt16 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 308);

// call-vector
// #line 308 "toccata.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5584);
newVect17 = mutateVectConj(newVect17, rslt16);
newVect17 = mutateVectConj(newVect17, ns_sym_14);
Value *rslt18 = (Value *)newVect17;

// static-fixed
// #line 308 "toccata.toc"
Value *rslt19 = get_in_val_3549(empty_list, rslt18);
Value *ev_21 = rslt19;
Value *arg6073_22 = arg6072_20;
Value *rslt23 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
Value *s_27 = arg6073_22;
Value *rslt31;
if((invoke_fn_24)->type != FunctionType) {
rslt31 = invoke_368(empty_list, invoke_fn_24, s_27);
} else {
FnArity *arity28 = findFnArity(invoke_fn_24, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, s_27);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(s_27, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_24)->name);
  abort();
}
dec_and_free(invoke_fn_24, 1);
}
Value *x_32 = rslt31;

incRef(x_32, 1);
Value *andRslt33;
andRslt33 = x_32;
if (isNothing(andRslt33)) {
dec_and_free(x_32, 1);
dec_and_free(val41, 1);
} else {
dec_and_free(andRslt33, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_32, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_35;
Value *ss_36;
Value *tail_37;
Value **destArgs38[3] = {&v_35, &ss_36, &tail_37};
destructValue("", "0", (Value *)rslt34, 3, destArgs38);

dec_and_free(tail_37, 1);
Value *arg6074_39 = ss_36;
Value *path_40 = v_35;
Value *arg6075_42 = arg6074_39;
Value *__43 = val41;
Value *v_44 = path_40;
Value *arg6076_45 = arg6075_42;
Value *rslt46 = reified_type_args_22(empty_list, __43);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg6076_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
andRslt33 = rslt53;
}
return(andRslt33);
andRslt7 = andRslt33;
}

};};
Value *sym_ns_path_6067(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 2);

// type-unknown rdr/namespace
// #line 307 "toccata.toc"
Value *rslt1 = proto1Arg(&namespace_Implementations_4655, "<maybe rdr>/namespace", sym_0, "toccata.toc", 307);

// static-fixed
// #line 307 "toccata.toc"
Value *rslt2 = when_4087(empty_list, rslt1);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6070;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)sym_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6077 = malloc_function(1);
anon_6077->name = "anon";
anon_6077->arityCount = 1;
anon_6077->arities[0] = dynArity9;
Value *fn6069 = (Value *)anon_6077;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6069);

// type-unknown ast/file-name
// #line 310 "toccata.toc"
Value *rslt11 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", sym_0, "toccata.toc", 310);

// call invoke
// #line 310 "toccata.toc"
Value *rslt12 = arityImpl2933(empty_list, reifiedPtr2939, rslt11);
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
Value *rslt14 = (Value *)newList13;
Value *rslt15 = new_sm_comp_STAR__2805(empty_list, rslt10, rslt14);
return(rslt15);

};};
FnArity sym_ns_path_6078 = {FnArityType, -1, 1, (List *)0, 0, sym_ns_path_6067};
Function sym_ns_path_6079 = {FunctionType, -1, "sym-ns-path", 1, {&sym_ns_path_6078}};
Value *sym_ns_path_6066 = (Value *)&sym_ns_path_6079;


// --------- new-protocol -------------
Value *new_protocol_6081;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str445 = {StringType, -1, 18, 0, "Duplicate protocol"};
Value *strPtr445 = (Value *)&str445;
Value *arityImpl6085(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val45;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs58[4] = {&val1, &val15, &val45, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs58);

incRef(val15, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 3);
dec_and_free(val45, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6086_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6087_24 = arg6086_13;

// static-variadic
// #line 316 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// type-unknown ast/file-name
// #line 317 "toccata.toc"
Value *rslt18 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 317);

// static-variadic
// #line 317 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)strPtr387, varArgs19);
varArgs19 = (List *)listCons((Value *)rslt18, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);

// type-unknown ast/line-number
// #line 318 "toccata.toc"
Value *rslt21 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val15, "toccata.toc", 318);

// static-variadic
// #line 316 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)rslt21, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt20, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr252, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt17, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr445, varArgs22);
Value *rslt23 = compilation_error_5400(empty_list, (Value *)varArgs22);
Value *ev_25 = rslt23;
Value *arg6088_26 = arg6087_24;
Value *rslt27 = reified_type_args_22(empty_list, ev_25);
Value *invoke_fn_28;
Value *tail_29;
Value **destArgs30[2] = {&invoke_fn_28, &tail_29};
destructValue("", "0", (Value *)rslt27, 2, destArgs30);

dec_and_free(tail_29, 1);
Value *s_31 = arg6088_26;
Value *rslt35;
if((invoke_fn_28)->type != FunctionType) {
rslt35 = invoke_368(empty_list, invoke_fn_28, s_31);
} else {
FnArity *arity32 = findFnArity(invoke_fn_28, 1);
if(arity32 != (FnArity *)0 && !arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
rslt35 = fn34(arity32->closures, s_31);
} else if(arity32 != (FnArity *)0 && arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
List *dynArgs33 = empty_list;
dynArgs33 = (List *)listCons(s_31, dynArgs33);
rslt35 = fn34(arity32->closures, (Value *)dynArgs33);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_28)->name);
  abort();
}
dec_and_free(invoke_fn_28, 1);
}
Value *x_36 = rslt35;

incRef(x_36, 1);
Value *andRslt37;
andRslt37 = x_36;
if (isNothing(andRslt37)) {
dec_and_free(x_36, 1);
dec_and_free(val45, 1);
} else {
dec_and_free(andRslt37, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_36, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_39;
Value *ss_40;
Value *tail_41;
Value **destArgs42[3] = {&v_39, &ss_40, &tail_41};
destructValue("", "0", (Value *)rslt38, 3, destArgs42);

dec_and_free(tail_41, 1);
Value *arg6089_43 = ss_40;
Value *arg44 = v_39;

dec_and_free(arg44, 1);
Value *arg6090_46 = arg6089_43;
Value *__47 = val45;
Value *v_48 = strPtr0;
Value *arg6091_49 = arg6090_46;
Value *rslt50 = reified_type_args_22(empty_list, __47);
Value *invoke_fn_51;
Value *tail_52;
Value **destArgs53[2] = {&invoke_fn_51, &tail_52};
destructValue("", "0", (Value *)rslt50, 2, destArgs53);

dec_and_free(invoke_fn_51, 1);

dec_and_free(tail_52, 1);
Value *s_54 = arg6091_49;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect55 = empty_vect;
newVect55 = mutateVectConj(newVect55, v_48);
newVect55 = mutateVectConj(newVect55, s_54);
Value *rslt56 = (Value *)newVect55;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = maybe_4(empty_list, rslt56);
andRslt37 = rslt57;
}
return(andRslt37);
andRslt7 = andRslt37;
}

};};
Value *new_protocol_6082(List *closures, Value *proto_sym_0) {
 while (1) {

incRef(proto_sym_0, 5);

// type-unknown ast/file-name
// #line 315 "toccata.toc"
Value *rslt1 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", proto_sym_0, "toccata.toc", 315);

// call-vector
// #line 315 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, rslt1);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5513);
newVect2 = mutateVectConj(newVect2, proto_sym_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 315 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6085;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)proto_sym_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6092 = malloc_function(1);
anon_6092->name = "anon";
anon_6092->arityCount = 1;
anon_6092->arities[0] = dynArity11;
Value *fn6084 = (Value *)anon_6092;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6084);

// type-unknown ast/file-name
// #line 320 "toccata.toc"
Value *rslt13 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", proto_sym_0, "toccata.toc", 320);

// call-vector
// #line 320 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, dispatchFnPtr5586);
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, dispatchFnPtr5513);
newVect14 = mutateVectConj(newVect14, proto_sym_0);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 320 "toccata.toc"
Value *rslt16 = assoc_in_val_3599(empty_list, rslt15, proto_sym_0);
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
Value *rslt18 = (Value *)newList17;
Value *rslt19 = new_sm_comp_STAR__2805(empty_list, rslt12, rslt18);
return(rslt19);

};};
FnArity new_protocol_6093 = {FnArityType, -1, 1, (List *)0, 0, new_protocol_6082};
Function new_protocol_6094 = {FunctionType, -1, "new-protocol", 1, {&new_protocol_6093}};
Value *new_protocol_6081 = (Value *)&new_protocol_6094;


// --------- get-protocol -------------
Value *get_protocol_6096;
Value *arityImpl6100(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val40;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs53[4] = {&val1, &val15, &val40, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs53);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val40, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6101_13 = ss_10;
Value *protocol_path_14 = v_9;
Value *arg6102_19 = arg6101_13;

// call-vector
// #line 328 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5586);
newVect16 = mutateVectConj(newVect16, protocol_path_14);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5513);
newVect16 = mutateVectConj(newVect16, val15);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 328 "toccata.toc"
Value *rslt18 = get_in_val_3549(empty_list, rslt17);
Value *ev_20 = rslt18;
Value *arg6103_21 = arg6102_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg6103_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(x_31, 1);
dec_and_free(val40, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg6104_38 = ss_35;
Value *proto_info_39 = v_34;
Value *arg6105_41 = arg6104_38;
Value *__42 = val40;
Value *v_43 = proto_info_39;
Value *arg6106_44 = arg6105_41;
Value *rslt45 = reified_type_args_22(empty_list, __42);
Value *invoke_fn_46;
Value *tail_47;
Value **destArgs48[2] = {&invoke_fn_46, &tail_47};
destructValue("", "0", (Value *)rslt45, 2, destArgs48);

dec_and_free(invoke_fn_46, 1);

dec_and_free(tail_47, 1);
Value *s_49 = arg6106_44;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, v_43);
newVect50 = mutateVectConj(newVect50, s_49);
Value *rslt51 = (Value *)newVect50;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = maybe_4(empty_list, rslt51);
andRslt32 = rslt52;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
SubString sym34 = {SymbolType, -1, 4, 0, 0, "core"};
Value *symPtr34 = (Value *)&sym34;
Value *get_protocol_6097(List *closures, Value *proto_sym_0) {
 while (1) {

incRef(proto_sym_0, 2);

// static-fixed
// #line 327 "toccata.toc"
Value *rslt1 = sym_ns_path_6067(empty_list, proto_sym_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6100;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)proto_sym_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_6107 = malloc_function(1);
anon_6107->name = "anon";
anon_6107->arityCount = 1;
anon_6107->arities[0] = dynArity8;
Value *fn6099 = (Value *)anon_6107;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6099);

// call-vector
// #line 330 "toccata.toc"
Vector *newVect10 = empty_vect;
newVect10 = mutateVectConj(newVect10, dispatchFnPtr5586);
newVect10 = mutateVectConj(newVect10, symPtr34);
newVect10 = mutateVectConj(newVect10, dispatchFnPtr5513);
newVect10 = mutateVectConj(newVect10, proto_sym_0);
Value *rslt11 = (Value *)newVect10;

// static-fixed
// #line 330 "toccata.toc"
Value *rslt12 = get_in_val_3549(empty_list, rslt11);
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
Value *rslt14 = (Value *)newList13;
Value *rslt15 = new_sm_comp_STAR__2805(empty_list, rslt9, rslt14);
return(rslt15);

};};
FnArity get_protocol_6108 = {FnArityType, -1, 1, (List *)0, 0, get_protocol_6097};
Function get_protocol_6109 = {FunctionType, -1, "get-protocol", 1, {&get_protocol_6108}};
Value *get_protocol_6096 = (Value *)&get_protocol_6109;

Value *type_val_6110_6111;
ProtoImpls protoImpls6116;
ProtoImpls protoImpls6118;
Value *dispatchFnPtr6113;
Value *protoImpl6115(List *closures, Value *arg);
Value *protoImpl6117(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6120;
ProtoImpls protoImpls6122;
Value *dispatchFnPtr6112;
Value *protoImpl6119(List *closures, Value *arg);
Value *protoImpl6121(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str446 = {StringType, -1, 11, 0, "ProtoFnInfo"};
Value *strPtr446 = (Value *)&str446;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str447 = {StringType, -1, 29, 0, "fn-sym, disp-sym, dispatchers"};
Value *strPtr447 = (Value *)&str447;
Value *arityImpl6123(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr447, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr446, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity6124 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6123};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str448 = {StringType, -1, 25, 0, "*ProtoFnInfo constructor*"};
Value *strPtr448 = (Value *)&str448;
Value *ProtoFnInfo_const_type_name_6125(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr448);

};};
FnArity ProtoFnInfo_const_type_name_6126 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_const_type_name_6125};
Value *ProtoFnInfo_instance_QMARK__6127(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_6110_6111, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ProtoFnInfo_instance_QMARK__6128 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_instance_QMARK__6127};
Value *ProtoFnInfo_invoke_6129(List *closures, Value *arg0, Value *fn_sym_1, Value *disp_sym_2, Value *dispatchers_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, fn_sym_1);
newVect4 = mutateVectConj(newVect4, disp_sym_2);
newVect4 = mutateVectConj(newVect4, dispatchers_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_6110_6111, rslt5);
return(rslt6);

};};
FnArity ProtoFnInfo_invoke_6130 = {FnArityType, -1, 4, (List *)0, 0, ProtoFnInfo_invoke_6129};
ReifiedVal reifiedStatic6131 = {166, -1, (Value *)0, 0, {}};
Value *reifiedPtr6132 = (Value *)&reifiedStatic6131;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str449 = {StringType, -1, 13, 0, "<ProtoFnInfo "};
Value *strPtr449 = (Value *)&str449;
Value *ProtoFnInfo_string_list_6133(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *fn_sym_2;
Value *disp_sym_3;
Value *dispatchers_4;
Value *tail_5;
Value **destArgs6[4] = {&fn_sym_2, &disp_sym_3, &dispatchers_4, &tail_5};
destructValue("toccata.toc", "332", (Value *)rslt1, 4, destArgs6);

dec_and_free(disp_sym_3, 1);

dec_and_free(dispatchers_4, 1);

dec_and_free(tail_5, 1);

// call-list
// #line 334 "toccata.toc"
List *newList7 = empty_list;
newList7 = listCons((Value *)strPtr2, newList7);
newList7 = listCons((Value *)fn_sym_2, newList7);
newList7 = listCons((Value *)strPtr449, newList7);
Value *rslt8 = (Value *)newList7;
return(rslt8);

};};
FnArity ProtoFnInfo_string_list_6134 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_string_list_6133};
Value *ProtoFnInfo_EQ_STAR__6135(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtoFnInfo_EQ_STAR__6136 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_EQ_STAR__6135};
Value *ProtoFnInfo_type_name_6137(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr446);

};};
FnArity ProtoFnInfo_type_name_6138 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_type_name_6137};
Value *ProtoFnInfo_has_field_6139(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr2699, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr6113, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr6112, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity ProtoFnInfo_has_field_6140 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_has_field_6139};
Value *ProtoFnInfo_fn_sym_6141(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoFnInfo_fn_sym_6142 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_fn_sym_6141};
Value *ProtoFnInfo_fn_sym_6143(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoFnInfo_fn_sym_6144 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_fn_sym_6143};
Value *ProtoFnInfo_disp_sym_6145(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoFnInfo_disp_sym_6146 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_disp_sym_6145};
Value *ProtoFnInfo_disp_sym_6147(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoFnInfo_disp_sym_6148 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_disp_sym_6147};
Value *ProtoFnInfo_dispatchers_6149(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoFnInfo_dispatchers_6150 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_dispatchers_6149};
Value *ProtoFnInfo_dispatchers_6151(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoFnInfo_dispatchers_6152 = {FnArityType, -1, 1, (List *)0, 0, ProtoFnInfo_dispatchers_6151};
Value *ProtoFnInfo_get_6153(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtoFnInfo_get_6154 = {FnArityType, -1, 2, (List *)0, 0, ProtoFnInfo_get_6153};
Value *ProtoFnInfo_assoc_STAR__6155(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ProtoFnInfo_assoc_STAR__6156 = {FnArityType, -1, 5, (List *)0, 0, ProtoFnInfo_assoc_STAR__6155};
ReifiedVal reifiedStatic6157 = {167, -1, (Value *)0, 0, {}};
Value *reifiedPtr6158 = (Value *)&reifiedStatic6157;

// --------- new-protocol-fn -------------
Value *new_protocol_fn_6160;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str450 = {StringType, -1, 27, 0, "Duplicate protocol function"};
Value *strPtr450 = (Value *)&str450;
Value *arityImpl6164(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val45;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs58[4] = {&val1, &val15, &val45, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs58);

incRef(val15, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 3);
dec_and_free(val45, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6165_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6166_24 = arg6165_13;

// static-variadic
// #line 338 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// type-unknown ast/file-name
// #line 339 "toccata.toc"
Value *rslt18 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 339);

// static-variadic
// #line 339 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)strPtr387, varArgs19);
varArgs19 = (List *)listCons((Value *)rslt18, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);

// type-unknown ast/line-number
// #line 339 "toccata.toc"
Value *rslt21 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val15, "toccata.toc", 339);

// static-variadic
// #line 338 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)rslt21, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt20, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr252, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt17, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr450, varArgs22);
Value *rslt23 = compilation_error_5400(empty_list, (Value *)varArgs22);
Value *ev_25 = rslt23;
Value *arg6167_26 = arg6166_24;
Value *rslt27 = reified_type_args_22(empty_list, ev_25);
Value *invoke_fn_28;
Value *tail_29;
Value **destArgs30[2] = {&invoke_fn_28, &tail_29};
destructValue("", "0", (Value *)rslt27, 2, destArgs30);

dec_and_free(tail_29, 1);
Value *s_31 = arg6167_26;
Value *rslt35;
if((invoke_fn_28)->type != FunctionType) {
rslt35 = invoke_368(empty_list, invoke_fn_28, s_31);
} else {
FnArity *arity32 = findFnArity(invoke_fn_28, 1);
if(arity32 != (FnArity *)0 && !arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
rslt35 = fn34(arity32->closures, s_31);
} else if(arity32 != (FnArity *)0 && arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
List *dynArgs33 = empty_list;
dynArgs33 = (List *)listCons(s_31, dynArgs33);
rslt35 = fn34(arity32->closures, (Value *)dynArgs33);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_28)->name);
  abort();
}
dec_and_free(invoke_fn_28, 1);
}
Value *x_36 = rslt35;

incRef(x_36, 1);
Value *andRslt37;
andRslt37 = x_36;
if (isNothing(andRslt37)) {
dec_and_free(x_36, 1);
dec_and_free(val45, 1);
} else {
dec_and_free(andRslt37, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_36, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_39;
Value *ss_40;
Value *tail_41;
Value **destArgs42[3] = {&v_39, &ss_40, &tail_41};
destructValue("", "0", (Value *)rslt38, 3, destArgs42);

dec_and_free(tail_41, 1);
Value *arg6168_43 = ss_40;
Value *arg44 = v_39;

dec_and_free(arg44, 1);
Value *arg6169_46 = arg6168_43;
Value *__47 = val45;
Value *v_48 = strPtr0;
Value *arg6170_49 = arg6169_46;
Value *rslt50 = reified_type_args_22(empty_list, __47);
Value *invoke_fn_51;
Value *tail_52;
Value **destArgs53[2] = {&invoke_fn_51, &tail_52};
destructValue("", "0", (Value *)rslt50, 2, destArgs53);

dec_and_free(invoke_fn_51, 1);

dec_and_free(tail_52, 1);
Value *s_54 = arg6170_49;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect55 = empty_vect;
newVect55 = mutateVectConj(newVect55, v_48);
newVect55 = mutateVectConj(newVect55, s_54);
Value *rslt56 = (Value *)newVect55;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = maybe_4(empty_list, rslt56);
andRslt37 = rslt57;
}
return(andRslt37);
andRslt7 = andRslt37;
}

};};
Value *new_protocol_fn_6161(List *closures, Value *fn_sym_0, Value *disp_sym_1) {
 while (1) {

incRef(fn_sym_0, 5);

// type-unknown ast/file-name
// #line 337 "toccata.toc"
Value *rslt2 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_sym_0, "toccata.toc", 337);

// call-vector
// #line 337 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5586);
newVect3 = mutateVectConj(newVect3, rslt2);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5512);
newVect3 = mutateVectConj(newVect3, fn_sym_0);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 337 "toccata.toc"
Value *rslt5 = get_in_val_3549(empty_list, rslt4);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl6164;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)fn_sym_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_6171 = malloc_function(1);
anon_6171->name = "anon";
anon_6171->arityCount = 1;
anon_6171->arities[0] = dynArity12;
Value *fn6163 = (Value *)anon_6171;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6163);

// type-unknown ast/file-name
// #line 341 "toccata.toc"
Value *rslt14 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_sym_0, "toccata.toc", 341);

// call-vector
// #line 341 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5586);
newVect15 = mutateVectConj(newVect15, rslt14);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5512);
newVect15 = mutateVectConj(newVect15, fn_sym_0);
Value *rslt16 = (Value *)newVect15;

// static-variadic
// #line 342 "toccata.toc"
List *varArgs17 = empty_list;
Value *rslt18 = hash_map_1208(empty_list, (Value *)varArgs17);

// call invoke
// #line 342 "toccata.toc"
Value *rslt19 = ProtoFnInfo_invoke_6129(empty_list, reifiedPtr6132, fn_sym_0, disp_sym_1, rslt18);

// static-fixed
// #line 341 "toccata.toc"
Value *rslt20 = assoc_in_val_3599(empty_list, rslt16, rslt19);
List *newList21 = empty_list;
newList21 = listCons((Value *)rslt20, newList21);
Value *rslt22 = (Value *)newList21;
Value *rslt23 = new_sm_comp_STAR__2805(empty_list, rslt13, rslt22);
return(rslt23);

};};
FnArity new_protocol_fn_6172 = {FnArityType, -1, 2, (List *)0, 0, new_protocol_fn_6161};
Function new_protocol_fn_6173 = {FunctionType, -1, "new-protocol-fn", 1, {&new_protocol_fn_6172}};
Value *new_protocol_fn_6160 = (Value *)&new_protocol_fn_6173;


// --------- lookup-protocol-path -------------
Value *lookup_protocol_path_6175;
Value *arityImpl6179(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val14;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs18[3] = {&val1, &val14, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs18);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val14, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg13 = v_9;

dec_and_free(arg13, 1);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, val14);
newVect15 = mutateVectConj(newVect15, new_s_10);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17 = maybe_4(empty_list, rslt16);
return(rslt17);
andRslt7 = rslt17;
}

};};
Value *lookup_protocol_path_6176(List *closures, Value *fn_sym_0, Value *path_1) {
 while (1) {

incRef(path_1, 1);

// call-vector
// #line 346 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, path_1);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5512);
newVect2 = mutateVectConj(newVect2, fn_sym_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 346 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *__5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, __5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6179;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)path_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6180 = malloc_function(1);
anon_6180->name = "anon";
anon_6180->arityCount = 1;
anon_6180->arities[0] = dynArity10;
Value *fn6178 = (Value *)anon_6180;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6178);
return(rslt11);

};};
FnArity lookup_protocol_path_6181 = {FnArityType, -1, 2, (List *)0, 0, lookup_protocol_path_6176};
Function lookup_protocol_path_6182 = {FunctionType, -1, "lookup-protocol-path", 1, {&lookup_protocol_path_6181}};
Value *lookup_protocol_path_6175 = (Value *)&lookup_protocol_path_6182;


// --------- find-protocol-path -------------
Value *find_protocol_path_6184;
Value *arityImpl6188(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val38;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs51[4] = {&val1, &val15, &val38, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs51);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6189_13 = ss_10;
Value *namespace_14 = v_9;
Value *arg6190_17 = arg6189_13;

// static-fixed
// #line 351 "toccata.toc"
Value *rslt16 = lookup_protocol_path_6176(empty_list, val15, namespace_14);
Value *ev_18 = rslt16;
Value *arg6191_19 = arg6190_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg6191_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val38, 1);
dec_and_free(x_29, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg6192_36 = ss_33;
Value *path_37 = v_32;
Value *arg6193_39 = arg6192_36;
Value *__40 = val38;
Value *v_41 = path_37;
Value *arg6194_42 = arg6193_39;
Value *rslt43 = reified_type_args_22(empty_list, __40);
Value *invoke_fn_44;
Value *tail_45;
Value **destArgs46[2] = {&invoke_fn_44, &tail_45};
destructValue("", "0", (Value *)rslt43, 2, destArgs46);

dec_and_free(invoke_fn_44, 1);

dec_and_free(tail_45, 1);
Value *s_47 = arg6194_42;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect48 = empty_vect;
newVect48 = mutateVectConj(newVect48, v_41);
newVect48 = mutateVectConj(newVect48, s_47);
Value *rslt49 = (Value *)newVect48;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt50 = maybe_4(empty_list, rslt49);
andRslt30 = rslt50;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *find_protocol_path_6185(List *closures, Value *fn_sym_0) {
 while (1) {

incRef(fn_sym_0, 4);

// static-fixed
// #line 350 "toccata.toc"
Value *rslt1 = sym_ns_path_6067(empty_list, fn_sym_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6188;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)fn_sym_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_6195 = malloc_function(1);
anon_6195->name = "anon";
anon_6195->arityCount = 1;
anon_6195->arities[0] = dynArity8;
Value *fn6187 = (Value *)anon_6195;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6187);

// type-unknown ast/file-name
// #line 353 "toccata.toc"
Value *rslt10 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_sym_0, "toccata.toc", 353);

// static-fixed
// #line 353 "toccata.toc"
Value *rslt11 = lookup_protocol_path_6176(empty_list, fn_sym_0, rslt10);

// static-fixed
// #line 354 "toccata.toc"
Value *rslt12 = lookup_protocol_path_6176(empty_list, fn_sym_0, symPtr34);
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt11, newList13);
Value *rslt14 = (Value *)newList13;
Value *rslt15 = new_sm_comp_STAR__2805(empty_list, rslt9, rslt14);
return(rslt15);

};};
FnArity find_protocol_path_6196 = {FnArityType, -1, 1, (List *)0, 0, find_protocol_path_6185};
Function find_protocol_path_6197 = {FunctionType, -1, "find-protocol-path", 1, {&find_protocol_path_6196}};
Value *find_protocol_path_6184 = (Value *)&find_protocol_path_6197;

Value *type_val_6198_6199;
ProtoImpls protoImpls6205;
ProtoImpls protoImpls6207;
Value *dispatchFnPtr6203;
Value *protoImpl6204(List *closures, Value *arg);
Value *protoImpl6206(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6209;
ProtoImpls protoImpls6211;
Value *dispatchFnPtr6202;
Value *protoImpl6208(List *closures, Value *arg);
Value *protoImpl6210(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6213;
ProtoImpls protoImpls6215;
Value *dispatchFnPtr6201;
Value *protoImpl6212(List *closures, Value *arg);
Value *protoImpl6214(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6217;
ProtoImpls protoImpls6219;
Value *dispatchFnPtr6200;
Value *protoImpl6216(List *closures, Value *arg);
Value *protoImpl6218(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str451 = {StringType, -1, 18, 0, "ProtocolDispatcher"};
Value *strPtr451 = (Value *)&str451;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str452 = {StringType, -1, 46, 0, "arg-count, dispatch-sym, impls-sym, type-impls"};
Value *strPtr452 = (Value *)&str452;
Value *arityImpl6220(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr452, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr451, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity6221 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6220};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str453 = {StringType, -1, 32, 0, "*ProtocolDispatcher constructor*"};
Value *strPtr453 = (Value *)&str453;
Value *ProtocolDispatcher_const_type_name_6222(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr453);

};};
FnArity ProtocolDispatcher_const_type_name_6223 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_const_type_name_6222};
Value *ProtocolDispatcher_instance_QMARK__6224(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_6198_6199, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ProtocolDispatcher_instance_QMARK__6225 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_instance_QMARK__6224};
Value *ProtocolDispatcher_invoke_6226(List *closures, Value *arg0, Value *arg_count_1, Value *dispatch_sym_2, Value *impls_sym_3, Value *type_impls_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, arg_count_1);
newVect5 = mutateVectConj(newVect5, dispatch_sym_2);
newVect5 = mutateVectConj(newVect5, impls_sym_3);
newVect5 = mutateVectConj(newVect5, type_impls_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_6198_6199, rslt6);
return(rslt7);

};};
FnArity ProtocolDispatcher_invoke_6227 = {FnArityType, -1, 5, (List *)0, 0, ProtocolDispatcher_invoke_6226};
ReifiedVal reifiedStatic6228 = {168, -1, (Value *)0, 0, {}};
Value *reifiedPtr6229 = (Value *)&reifiedStatic6228;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str454 = {StringType, -1, 17, 0, "<ProtoDispatcher "};
Value *strPtr454 = (Value *)&str454;
Value *ProtocolDispatcher_string_list_6230(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *arg_count_2;
Value *dispatch_sym_3;
Value *impls_sym_4;
Value *type_impls_5;
Value *tail_6;
Value **destArgs7[5] = {&arg_count_2, &dispatch_sym_3, &impls_sym_4, &type_impls_5, &tail_6};
destructValue("toccata.toc", "356", (Value *)rslt1, 5, destArgs7);

dec_and_free(dispatch_sym_3, 1);

dec_and_free(impls_sym_4, 1);

dec_and_free(type_impls_5, 1);

dec_and_free(tail_6, 1);

// static-variadic
// #line 358 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)arg_count_2, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// call-list
// #line 358 "toccata.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)strPtr2, newList10);
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)strPtr454, newList10);
Value *rslt11 = (Value *)newList10;
return(rslt11);

};};
FnArity ProtocolDispatcher_string_list_6231 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_string_list_6230};
Value *ProtocolDispatcher_EQ_STAR__6232(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtocolDispatcher_EQ_STAR__6233 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_EQ_STAR__6232};
Value *ProtocolDispatcher_type_name_6234(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr451);

};};
FnArity ProtocolDispatcher_type_name_6235 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_type_name_6234};
Value *ProtocolDispatcher_has_field_6236(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr6203, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr6202, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr6201, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr6200, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity ProtocolDispatcher_has_field_6237 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_has_field_6236};
Value *ProtocolDispatcher_arg_count_6238(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtocolDispatcher_arg_count_6239 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_arg_count_6238};
Value *ProtocolDispatcher_arg_count_6240(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtocolDispatcher_arg_count_6241 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_arg_count_6240};
Value *ProtocolDispatcher_dispatch_sym_6242(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtocolDispatcher_dispatch_sym_6243 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_dispatch_sym_6242};
Value *ProtocolDispatcher_dispatch_sym_6244(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtocolDispatcher_dispatch_sym_6245 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_dispatch_sym_6244};
Value *ProtocolDispatcher_impls_sym_6246(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtocolDispatcher_impls_sym_6247 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_impls_sym_6246};
Value *ProtocolDispatcher_impls_sym_6248(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtocolDispatcher_impls_sym_6249 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_impls_sym_6248};
Value *ProtocolDispatcher_type_impls_6250(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtocolDispatcher_type_impls_6251 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_type_impls_6250};
Value *ProtocolDispatcher_type_impls_6252(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtocolDispatcher_type_impls_6253 = {FnArityType, -1, 1, (List *)0, 0, ProtocolDispatcher_type_impls_6252};
Value *ProtocolDispatcher_get_6254(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtocolDispatcher_get_6255 = {FnArityType, -1, 2, (List *)0, 0, ProtocolDispatcher_get_6254};
Value *ProtocolDispatcher_assoc_STAR__6256(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ProtocolDispatcher_assoc_STAR__6257 = {FnArityType, -1, 5, (List *)0, 0, ProtocolDispatcher_assoc_STAR__6256};
ReifiedVal reifiedStatic6258 = {169, -1, (Value *)0, 0, {}};
Value *reifiedPtr6259 = (Value *)&reifiedStatic6258;

// --------- new-proto-dispatcher -------------
Value *new_proto_dispatcher_6261;
Value *new_proto_dispatcher_6262(List *closures, Value *fn_sym_0, Value *arg_count_1, Value *dispatch_sym_2, Value *impls_sym_3) {
 while (1) {

incRef(fn_sym_0, 1);

incRef(arg_count_1, 1);

// type-unknown ast/file-name
// #line 361 "toccata.toc"
Value *rslt4 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_sym_0, "toccata.toc", 361);

// call-vector
// #line 361 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, dispatchFnPtr5586);
newVect5 = mutateVectConj(newVect5, rslt4);
newVect5 = mutateVectConj(newVect5, dispatchFnPtr5512);
newVect5 = mutateVectConj(newVect5, fn_sym_0);
newVect5 = mutateVectConj(newVect5, dispatchFnPtr6112);
newVect5 = mutateVectConj(newVect5, arg_count_1);
Value *rslt6 = (Value *)newVect5;

// static-variadic
// #line 362 "toccata.toc"
List *varArgs7 = empty_list;
Value *rslt8 = hash_map_1208(empty_list, (Value *)varArgs7);

// call invoke
// #line 362 "toccata.toc"
Value *rslt9 = ProtocolDispatcher_invoke_6226(empty_list, reifiedPtr6229, arg_count_1, dispatch_sym_2, impls_sym_3, rslt8);

// static-fixed
// #line 361 "toccata.toc"
Value *rslt10 = assoc_in_val_3599(empty_list, rslt6, rslt9);
return(rslt10);

};};
FnArity new_proto_dispatcher_6263 = {FnArityType, -1, 4, (List *)0, 0, new_proto_dispatcher_6262};
Function new_proto_dispatcher_6264 = {FunctionType, -1, "new-proto-dispatcher", 1, {&new_proto_dispatcher_6263}};
Value *new_proto_dispatcher_6261 = (Value *)&new_proto_dispatcher_6264;


// --------- get-protocol-dispatcher -------------
Value *get_protocol_dispatcher_6266;
Value *arityImpl6270(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val41;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[5] = {&val1, &val15, &val16, &val41, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs54);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6271_13 = ss_10;
Value *protocol_path_14 = v_9;
Value *arg6272_20 = arg6271_13;

// call-vector
// #line 366 "toccata.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5586);
newVect17 = mutateVectConj(newVect17, protocol_path_14);
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5512);
newVect17 = mutateVectConj(newVect17, val15);
newVect17 = mutateVectConj(newVect17, dispatchFnPtr6112);
newVect17 = mutateVectConj(newVect17, val16);
Value *rslt18 = (Value *)newVect17;

// static-fixed
// #line 366 "toccata.toc"
Value *rslt19 = get_in_val_3549(empty_list, rslt18);
Value *ev_21 = rslt19;
Value *arg6273_22 = arg6272_20;
Value *rslt23 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
Value *s_27 = arg6273_22;
Value *rslt31;
if((invoke_fn_24)->type != FunctionType) {
rslt31 = invoke_368(empty_list, invoke_fn_24, s_27);
} else {
FnArity *arity28 = findFnArity(invoke_fn_24, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, s_27);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(s_27, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_24)->name);
  abort();
}
dec_and_free(invoke_fn_24, 1);
}
Value *x_32 = rslt31;

incRef(x_32, 1);
Value *andRslt33;
andRslt33 = x_32;
if (isNothing(andRslt33)) {
dec_and_free(x_32, 1);
dec_and_free(val41, 1);
} else {
dec_and_free(andRslt33, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_32, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_35;
Value *ss_36;
Value *tail_37;
Value **destArgs38[3] = {&v_35, &ss_36, &tail_37};
destructValue("", "0", (Value *)rslt34, 3, destArgs38);

dec_and_free(tail_37, 1);
Value *arg6274_39 = ss_36;
Value *result_40 = v_35;
Value *arg6275_42 = arg6274_39;
Value *__43 = val41;
Value *v_44 = result_40;
Value *arg6276_45 = arg6275_42;
Value *rslt46 = reified_type_args_22(empty_list, __43);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg6276_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
andRslt33 = rslt53;
}
return(andRslt33);
andRslt7 = andRslt33;
}

};};
Value *get_protocol_dispatcher_6267(List *closures, Value *fn_sym_0, Value *num_args_1) {
 while (1) {

incRef(fn_sym_0, 1);

// static-fixed
// #line 365 "toccata.toc"
Value *rslt2 = find_protocol_path_6185(empty_list, fn_sym_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6270;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)num_args_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)fn_sym_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6277 = malloc_function(1);
anon_6277->name = "anon";
anon_6277->arityCount = 1;
anon_6277->arities[0] = dynArity9;
Value *fn6269 = (Value *)anon_6277;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6269);
return(rslt10);

};};
FnArity get_protocol_dispatcher_6278 = {FnArityType, -1, 2, (List *)0, 0, get_protocol_dispatcher_6267};
Function get_protocol_dispatcher_6279 = {FunctionType, -1, "get-protocol-dispatcher", 1, {&get_protocol_dispatcher_6278}};
Value *get_protocol_dispatcher_6266 = (Value *)&get_protocol_dispatcher_6279;

Value *type_val_6280_6281;
ProtoImpls protoImpls6286;
ProtoImpls protoImpls6288;
Value *dispatchFnPtr6284;
Value *protoImpl6285(List *closures, Value *arg);
Value *protoImpl6287(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6290;
ProtoImpls protoImpls6292;
Value *dispatchFnPtr6282;
Value *protoImpl6289(List *closures, Value *arg);
Value *protoImpl6291(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str455 = {StringType, -1, 9, 0, "ProtoImpl"};
Value *strPtr455 = (Value *)&str455;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str456 = {StringType, -1, 25, 0, "dispatch-type, c-var, ast"};
Value *strPtr456 = (Value *)&str456;
Value *arityImpl6293(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr456, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr455, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity6294 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6293};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str457 = {StringType, -1, 23, 0, "*ProtoImpl constructor*"};
Value *strPtr457 = (Value *)&str457;
Value *ProtoImpl_const_type_name_6295(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr457);

};};
FnArity ProtoImpl_const_type_name_6296 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_const_type_name_6295};
Value *ProtoImpl_instance_QMARK__6297(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_6280_6281, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ProtoImpl_instance_QMARK__6298 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_instance_QMARK__6297};
Value *ProtoImpl_invoke_6299(List *closures, Value *arg0, Value *dispatch_type_1, Value *c_var_2, Value *ast_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatch_type_1);
newVect4 = mutateVectConj(newVect4, c_var_2);
newVect4 = mutateVectConj(newVect4, ast_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_6280_6281, rslt5);
return(rslt6);

};};
FnArity ProtoImpl_invoke_6300 = {FnArityType, -1, 4, (List *)0, 0, ProtoImpl_invoke_6299};
ReifiedVal reifiedStatic6301 = {170, -1, (Value *)0, 0, {}};
Value *reifiedPtr6302 = (Value *)&reifiedStatic6301;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str458 = {StringType, -1, 11, 0, "<ProtoImpl "};
Value *strPtr458 = (Value *)&str458;
Value *ProtoImpl_string_list_6303(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *dispatch_type_2;
Value *c_var_3;
Value *ast_4;
Value *tail_5;
Value **destArgs6[4] = {&dispatch_type_2, &c_var_3, &ast_4, &tail_5};
destructValue("toccata.toc", "369", (Value *)rslt1, 4, destArgs6);

dec_and_free(ast_4, 1);

dec_and_free(tail_5, 1);

// static-fixed
// #line 371 "toccata.toc"
Value *rslt7 = target_type_name_5384(empty_list, dispatch_type_2);

// call-list
// #line 371 "toccata.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
newList8 = listCons((Value *)c_var_3, newList8);
newList8 = listCons((Value *)strPtr4, newList8);
newList8 = listCons((Value *)rslt7, newList8);
newList8 = listCons((Value *)strPtr458, newList8);
Value *rslt9 = (Value *)newList8;
return(rslt9);

};};
FnArity ProtoImpl_string_list_6304 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_string_list_6303};
Value *ProtoImpl_EQ_STAR__6305(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtoImpl_EQ_STAR__6306 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_EQ_STAR__6305};
Value *ProtoImpl_type_name_6307(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr455);

};};
FnArity ProtoImpl_type_name_6308 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_type_name_6307};
Value *ProtoImpl_has_field_6309(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr6284, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr5865, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr6282, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity ProtoImpl_has_field_6310 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_has_field_6309};
Value *ProtoImpl_dispatch_type_6311(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoImpl_dispatch_type_6312 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_dispatch_type_6311};
Value *ProtoImpl_dispatch_type_6313(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoImpl_dispatch_type_6314 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_dispatch_type_6313};
Value *ProtoImpl_c_var_6315(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoImpl_c_var_6316 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_c_var_6315};
Value *ProtoImpl_c_var_6317(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoImpl_c_var_6318 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_c_var_6317};
Value *ProtoImpl_ast_6319(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ProtoImpl_ast_6320 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_ast_6319};
Value *ProtoImpl_ast_6321(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ProtoImpl_ast_6322 = {FnArityType, -1, 1, (List *)0, 0, ProtoImpl_ast_6321};
Value *ProtoImpl_get_6323(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ProtoImpl_get_6324 = {FnArityType, -1, 2, (List *)0, 0, ProtoImpl_get_6323};
Value *ProtoImpl_assoc_STAR__6325(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ProtoImpl_assoc_STAR__6326 = {FnArityType, -1, 5, (List *)0, 0, ProtoImpl_assoc_STAR__6325};
ReifiedVal reifiedStatic6327 = {171, -1, (Value *)0, 0, {}};
Value *reifiedPtr6328 = (Value *)&reifiedStatic6327;

// --------- new-proto-impl -------------
Value *new_proto_impl_6330;
Value *arityImpl6334(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val20;
Value *val22;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs59[8] = {&val1, &val15, &val16, &val17, &val20, &val22, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 8, destArgs59);

incRef(val17, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 2);
dec_and_free(val16, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6335_13 = ss_10;
Value *protocol_path_14 = v_9;
Value *arg6336_25 = arg6335_13;

// call-vector
// #line 375 "toccata.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, dispatchFnPtr5586);
newVect18 = mutateVectConj(newVect18, protocol_path_14);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr5512);
newVect18 = mutateVectConj(newVect18, val15);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr6112);
newVect18 = mutateVectConj(newVect18, val16);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr6200);
newVect18 = mutateVectConj(newVect18, val17);
Value *rslt19 = (Value *)newVect18;

// type-unknown .c-var
// #line 377 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val20, "toccata.toc", 377);

// call invoke
// #line 377 "toccata.toc"
Value *rslt23 = ProtoImpl_invoke_6299(empty_list, reifiedPtr6302, val17, rslt21, val22);

// static-fixed
// #line 375 "toccata.toc"
Value *rslt24 = assoc_in_val_3599(empty_list, rslt19, rslt23);
Value *ev_26 = rslt24;
Value *arg6337_27 = arg6336_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg6337_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg6338_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg6339_47 = arg6338_44;
Value *__48 = val46;
Value *v_49 = strPtr0;
Value *arg6340_50 = arg6339_47;
Value *rslt51 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_52;
Value *tail_53;
Value **destArgs54[2] = {&invoke_fn_52, &tail_53};
destructValue("", "0", (Value *)rslt51, 2, destArgs54);

dec_and_free(invoke_fn_52, 1);

dec_and_free(tail_53, 1);
Value *s_55 = arg6340_50;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect56 = empty_vect;
newVect56 = mutateVectConj(newVect56, v_49);
newVect56 = mutateVectConj(newVect56, s_55);
Value *rslt57 = (Value *)newVect56;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt58 = maybe_4(empty_list, rslt57);
andRslt38 = rslt58;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *new_proto_impl_6331(List *closures, Value *fn_name_0, Value *arg_count_1, Value *dispatch_type_2, Value *c_code_3, Value *ast_4) {
 while (1) {

incRef(fn_name_0, 1);

// static-fixed
// #line 374 "toccata.toc"
Value *rslt5 = find_protocol_path_6185(empty_list, fn_name_0);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl6334;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ast_4, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)c_code_3, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)dispatch_type_2, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)arg_count_1, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)fn_name_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_6341 = malloc_function(1);
anon_6341->name = "anon";
anon_6341->arityCount = 1;
anon_6341->arities[0] = dynArity12;
Value *fn6333 = (Value *)anon_6341;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6333);
return(rslt13);

};};
FnArity new_proto_impl_6342 = {FnArityType, -1, 5, (List *)0, 0, new_proto_impl_6331};
Function new_proto_impl_6343 = {FunctionType, -1, "new-proto-impl", 1, {&new_proto_impl_6342}};
Value *new_proto_impl_6330 = (Value *)&new_proto_impl_6343;


// --------- get-proto-impl -------------
Value *get_proto_impl_6345;
Value *arityImpl6349(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val42;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs55[6] = {&val1, &val15, &val16, &val17, &val42, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs55);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 1);
dec_and_free(val42, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6350_13 = ss_10;
Value *protocol_path_14 = v_9;
Value *arg6351_21 = arg6350_13;

// call-vector
// #line 382 "toccata.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, dispatchFnPtr5586);
newVect18 = mutateVectConj(newVect18, protocol_path_14);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr5512);
newVect18 = mutateVectConj(newVect18, val15);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr6112);
newVect18 = mutateVectConj(newVect18, val16);
newVect18 = mutateVectConj(newVect18, dispatchFnPtr6200);
newVect18 = mutateVectConj(newVect18, val17);
Value *rslt19 = (Value *)newVect18;

// static-fixed
// #line 382 "toccata.toc"
Value *rslt20 = get_in_val_3549(empty_list, rslt19);
Value *ev_22 = rslt20;
Value *arg6352_23 = arg6351_21;
Value *rslt24 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_25;
Value *tail_26;
Value **destArgs27[2] = {&invoke_fn_25, &tail_26};
destructValue("", "0", (Value *)rslt24, 2, destArgs27);

dec_and_free(tail_26, 1);
Value *s_28 = arg6352_23;
Value *rslt32;
if((invoke_fn_25)->type != FunctionType) {
rslt32 = invoke_368(empty_list, invoke_fn_25, s_28);
} else {
FnArity *arity29 = findFnArity(invoke_fn_25, 1);
if(arity29 != (FnArity *)0 && !arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
rslt32 = fn31(arity29->closures, s_28);
} else if(arity29 != (FnArity *)0 && arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
List *dynArgs30 = empty_list;
dynArgs30 = (List *)listCons(s_28, dynArgs30);
rslt32 = fn31(arity29->closures, (Value *)dynArgs30);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_25)->name);
  abort();
}
dec_and_free(invoke_fn_25, 1);
}
Value *x_33 = rslt32;

incRef(x_33, 1);
Value *andRslt34;
andRslt34 = x_33;
if (isNothing(andRslt34)) {
dec_and_free(val42, 1);
dec_and_free(x_33, 1);
} else {
dec_and_free(andRslt34, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt35 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_33, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_36;
Value *ss_37;
Value *tail_38;
Value **destArgs39[3] = {&v_36, &ss_37, &tail_38};
destructValue("", "0", (Value *)rslt35, 3, destArgs39);

dec_and_free(tail_38, 1);
Value *arg6353_40 = ss_37;
Value *impl_info_41 = v_36;
Value *arg6354_43 = arg6353_40;
Value *__44 = val42;
Value *v_45 = impl_info_41;
Value *arg6355_46 = arg6354_43;
Value *rslt47 = reified_type_args_22(empty_list, __44);
Value *invoke_fn_48;
Value *tail_49;
Value **destArgs50[2] = {&invoke_fn_48, &tail_49};
destructValue("", "0", (Value *)rslt47, 2, destArgs50);

dec_and_free(invoke_fn_48, 1);

dec_and_free(tail_49, 1);
Value *s_51 = arg6355_46;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect52 = empty_vect;
newVect52 = mutateVectConj(newVect52, v_45);
newVect52 = mutateVectConj(newVect52, s_51);
Value *rslt53 = (Value *)newVect52;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt54 = maybe_4(empty_list, rslt53);
andRslt34 = rslt54;
}
return(andRslt34);
andRslt7 = andRslt34;
}

};};
Value *get_proto_impl_6346(List *closures, Value *fn_name_0, Value *arg_count_1, Value *type_num_2) {
 while (1) {

incRef(fn_name_0, 1);

// static-fixed
// #line 381 "toccata.toc"
Value *rslt3 = find_protocol_path_6185(empty_list, fn_name_0);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6349;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)type_num_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)arg_count_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)fn_name_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6356 = malloc_function(1);
anon_6356->name = "anon";
anon_6356->arityCount = 1;
anon_6356->arities[0] = dynArity10;
Value *fn6348 = (Value *)anon_6356;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6348);
return(rslt11);

};};
FnArity get_proto_impl_6357 = {FnArityType, -1, 3, (List *)0, 0, get_proto_impl_6346};
Function get_proto_impl_6358 = {FunctionType, -1, "get-proto-impl", 1, {&get_proto_impl_6357}};
Value *get_proto_impl_6345 = (Value *)&get_proto_impl_6358;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str459 = {StringType, -1, 6, 0, "_STAR_"};
Value *strPtr459 = (Value *)&str459;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str460 = {StringType, -1, 1, 0, "*"};
Value *strPtr460 = (Value *)&str460;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str461 = {StringType, -1, 6, 0, "_HASH_"};
Value *strPtr461 = (Value *)&str461;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str462 = {StringType, -1, 1, 0, "#"};
Value *strPtr462 = (Value *)&str462;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str463 = {StringType, -1, 6, 0, "_PLUS_"};
Value *strPtr463 = (Value *)&str463;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str464 = {StringType, -1, 1, 0, "+"};
Value *strPtr464 = (Value *)&str464;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str465 = {StringType, -1, 4, 0, "_QM_"};
Value *strPtr465 = (Value *)&str465;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str466 = {StringType, -1, 1, 0, "?"};
Value *strPtr466 = (Value *)&str466;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str467 = {StringType, -1, 6, 0, "_BANG_"};
Value *strPtr467 = (Value *)&str467;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str468 = {StringType, -1, 1, 0, "!"};
Value *strPtr468 = (Value *)&str468;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str469 = {StringType, -1, 4, 0, "_EQ_"};
Value *strPtr469 = (Value *)&str469;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str470 = {StringType, -1, 1, 0, "="};
Value *strPtr470 = (Value *)&str470;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str471 = {StringType, -1, 4, 0, "_LT_"};
Value *strPtr471 = (Value *)&str471;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str472 = {StringType, -1, 1, 0, "<"};
Value *strPtr472 = (Value *)&str472;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str473 = {StringType, -1, 4, 0, "_GT_"};
Value *strPtr473 = (Value *)&str473;
Value *C_var_punct_6359;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str474 = {StringType, -1, 1, 0, "_"};
Value *strPtr474 = (Value *)&str474;
Value *C_var_remaining_6360;

// --------- anon -------------
Value *fn6363;
Value *arityImpl6364(List *closures, Value *start_0, Value *remaining_1) {
 while (1) {
Value *f_2 = str_525;

// call-list
// #line 413 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)remaining_1, newList3);
newList3 = listCons((Value *)start_0, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_2, rslt6);
return(rslt7);

};};
FnArity staticArity6365 = {FnArityType, -1, 2, (List *)0, 0, arityImpl6364};
Function anon_6366 = {FunctionType, -1, "anon", 1, {&staticArity6365}};
Value *fn6363 = (Value *)&anon_6366;


// --------- anon -------------
Value *fn6367;
Value *arityImpl6368(List *closures) {
 while (1) {
return(strPtr0);

};};
FnArity staticArity6369 = {FnArityType, -1, 0, (List *)0, 0, arityImpl6368};
Function anon_6370 = {FunctionType, -1, "anon", 1, {&staticArity6369}};
Value *fn6367 = (Value *)&anon_6370;


// --------- anon -------------
Value *fn6371;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str475 = {StringType, -1, 7, 0, "_MINUS_"};
Value *strPtr475 = (Value *)&str475;
Value *arityImpl6372(List *closures) {
 while (1) {
return(strPtr475);

};};
FnArity staticArity6373 = {FnArityType, -1, 0, (List *)0, 0, arityImpl6372};
Function anon_6374 = {FunctionType, -1, "anon", 1, {&staticArity6373}};
Value *fn6371 = (Value *)&anon_6374;

Value *C_var_6375;
Value *check_C_var_6376;

// --------- genlocal -------------
Value *genlocal_6378;
Value *arityImpl6382(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val40;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs57[4] = {&val1, &val40, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs57);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val43, 1);
dec_and_free(val40, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6383_13 = ss_10;
Value *sym_count_14 = v_9;

incRef(sym_count_14, 1);
Value *arg6384_19 = arg6383_13;

// call-vector
// #line 425 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5469);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5722);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 425 "toccata.toc"
Value *rslt17 = inc_564(empty_list, sym_count_14);

// static-fixed
// #line 425 "toccata.toc"
Value *rslt18 = assoc_in_val_3599(empty_list, rslt16, rslt17);
Value *ev_20 = rslt18;
Value *arg6385_21 = arg6384_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg6385_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(val43, 1);
dec_and_free(x_31, 1);
dec_and_free(sym_count_14, 1);
dec_and_free(val40, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg6386_38 = ss_35;
Value *arg39 = v_34;

dec_and_free(arg39, 1);
Value *arg6387_41 = arg6386_38;
Value *__42 = val40;

// static-variadic
// #line 426 "toccata.toc"
List *varArgs44 = empty_list;
varArgs44 = (List *)listCons((Value *)sym_count_14, varArgs44);
varArgs44 = (List *)listCons((Value *)val43, varArgs44);
Value *rslt45 = str_526(empty_list, (Value *)varArgs44);

// static-fixed
// #line 426 "toccata.toc"
Value *rslt46 = symbol_220(empty_list, rslt45);
Value *v_47 = rslt46;
Value *arg6388_48 = arg6387_41;
Value *rslt49 = reified_type_args_22(empty_list, __42);
Value *invoke_fn_50;
Value *tail_51;
Value **destArgs52[2] = {&invoke_fn_50, &tail_51};
destructValue("", "0", (Value *)rslt49, 2, destArgs52);

dec_and_free(invoke_fn_50, 1);

dec_and_free(tail_51, 1);
Value *s_53 = arg6388_48;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect54 = empty_vect;
newVect54 = mutateVectConj(newVect54, v_47);
newVect54 = mutateVectConj(newVect54, s_53);
Value *rslt55 = (Value *)newVect54;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = maybe_4(empty_list, rslt55);
andRslt32 = rslt56;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *genlocal_6379(List *closures, Value *pre_0) {
 while (1) {

// call-vector
// #line 424 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5469);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5722);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 424 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6382;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)pre_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6389 = malloc_function(1);
anon_6389->name = "anon";
anon_6389->arityCount = 1;
anon_6389->arities[0] = dynArity10;
Value *fn6381 = (Value *)anon_6389;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6381);
return(rslt11);

};};
FnArity genlocal_6390 = {FnArityType, -1, 1, (List *)0, 0, genlocal_6379};
Value *arityImpl6394(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val41;
Value *val48;
Value *val72;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs88[5] = {&val1, &val41, &val48, &val72, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs88);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val48, 1);
dec_and_free(val72, 1);
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6395_13 = ss_10;
Value *sym_count_14 = v_9;

incRef(sym_count_14, 1);
Value *arg6396_19 = arg6395_13;

// call-vector
// #line 429 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5469);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5722);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 429 "toccata.toc"
Value *rslt17 = inc_564(empty_list, sym_count_14);

// static-fixed
// #line 429 "toccata.toc"
Value *rslt18 = assoc_in_val_3599(empty_list, rslt16, rslt17);
Value *ev_20 = rslt18;
Value *arg6397_21 = arg6396_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg6397_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(val48, 1);
dec_and_free(val72, 1);
dec_and_free(val41, 1);
dec_and_free(x_31, 1);
dec_and_free(sym_count_14, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg6398_38 = ss_35;
Value *arg39 = v_34;

dec_and_free(arg39, 1);
Value *arg6399_51 = arg6398_38;
Value *orRslt40;

// static-variadic
// #line 430 "toccata.toc"
List *varArgs42 = empty_list;
varArgs42 = (List *)listCons((Value *)strPtr474, varArgs42);
varArgs42 = (List *)listCons((Value *)val41, varArgs42);
Value *rslt43 = str_526(empty_list, (Value *)varArgs42);
Value *rslt47;
FnArity *arity44 = findFnArity(check_C_var_6376, 1);
if(arity44 != (FnArity *)0 && !arity44->variadic) { FnType1 *fn46 = (FnType1 *)arity44->fn;


// dynamic fn type
// #line 430 "toccata.toc"
rslt47 = fn46(arity44->closures, rslt43);
} else if(arity44 != (FnArity *)0 && arity44->variadic) { FnType1 *fn46 = (FnType1 *)arity44->fn;
List *dynArgs45 = empty_list;
dynArgs45 = (List *)listCons(rslt43, dynArgs45);

// dynamic fn type
// #line 430 "toccata.toc"
rslt47 = fn46(arity44->closures, (Value *)dynArgs45);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)check_C_var_6376)->name, "toccata.toc", 430);
  abort();
}
dec_and_free(check_C_var_6376, 1);
orRslt40 = rslt47;
if (!isNothing(orRslt40)) {
dec_and_free(val48, 1);

} else {
dec_and_free(orRslt40, 1);

// static-fixed
// #line 431 "toccata.toc"
Value *rslt49 = maybe_4(empty_list, val48);
orRslt40 = rslt49;
}

// static-fixed
// #line 430 "toccata.toc"
Value *rslt50 = when_4087(empty_list, orRslt40);
Value *ev_52 = rslt50;
Value *arg6400_53 = arg6399_51;
Value *rslt54 = reified_type_args_22(empty_list, ev_52);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(tail_56, 1);
Value *s_58 = arg6400_53;
Value *rslt62;
if((invoke_fn_55)->type != FunctionType) {
rslt62 = invoke_368(empty_list, invoke_fn_55, s_58);
} else {
FnArity *arity59 = findFnArity(invoke_fn_55, 1);
if(arity59 != (FnArity *)0 && !arity59->variadic) {
FnType1 *fn61 = (FnType1 *)arity59->fn;
rslt62 = fn61(arity59->closures, s_58);
} else if(arity59 != (FnArity *)0 && arity59->variadic) {
FnType1 *fn61 = (FnType1 *)arity59->fn;
List *dynArgs60 = empty_list;
dynArgs60 = (List *)listCons(s_58, dynArgs60);
rslt62 = fn61(arity59->closures, (Value *)dynArgs60);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_55)->name);
  abort();
}
dec_and_free(invoke_fn_55, 1);
}
Value *x_63 = rslt62;

incRef(x_63, 1);
Value *andRslt64;
andRslt64 = x_63;
if (isNothing(andRslt64)) {
dec_and_free(val72, 1);
dec_and_free(sym_count_14, 1);
dec_and_free(x_63, 1);
} else {
dec_and_free(andRslt64, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt65 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_63, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_66;
Value *ss_67;
Value *tail_68;
Value **destArgs69[3] = {&v_66, &ss_67, &tail_68};
destructValue("", "0", (Value *)rslt65, 3, destArgs69);

dec_and_free(tail_68, 1);
Value *arg6401_70 = ss_67;
Value *pre_71 = v_66;
Value *arg6402_73 = arg6401_70;
Value *__74 = val72;

// static-variadic
// #line 432 "toccata.toc"
List *varArgs75 = empty_list;
varArgs75 = (List *)listCons((Value *)sym_count_14, varArgs75);
varArgs75 = (List *)listCons((Value *)pre_71, varArgs75);
Value *rslt76 = str_526(empty_list, (Value *)varArgs75);

// static-fixed
// #line 432 "toccata.toc"
Value *rslt77 = symbol_220(empty_list, rslt76);
Value *v_78 = rslt77;
Value *arg6403_79 = arg6402_73;
Value *rslt80 = reified_type_args_22(empty_list, __74);
Value *invoke_fn_81;
Value *tail_82;
Value **destArgs83[2] = {&invoke_fn_81, &tail_82};
destructValue("", "0", (Value *)rslt80, 2, destArgs83);

dec_and_free(invoke_fn_81, 1);

dec_and_free(tail_82, 1);
Value *s_84 = arg6403_79;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect85 = empty_vect;
newVect85 = mutateVectConj(newVect85, v_78);
newVect85 = mutateVectConj(newVect85, s_84);
Value *rslt86 = (Value *)newVect85;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt87 = maybe_4(empty_list, rslt86);
andRslt64 = rslt87;
}
andRslt32 = andRslt64;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *genlocal_6391(List *closures, Value *sym_0, Value *pre_1) {
 while (1) {

// call-vector
// #line 428 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5722);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 428 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6394;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)pre_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)sym_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6404 = malloc_function(1);
anon_6404->name = "anon";
anon_6404->arityCount = 1;
anon_6404->arities[0] = dynArity11;
Value *fn6393 = (Value *)anon_6404;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6393);
return(rslt12);

};};
FnArity genlocal_6405 = {FnArityType, -1, 2, (List *)0, 0, genlocal_6391};
Function genlocal_6406 = {FunctionType, -1, "genlocal", 2, {&genlocal_6390, &genlocal_6405}};
Value *genlocal_6378 = (Value *)&genlocal_6406;


// --------- redef-proto-fn-error -------------
Value *redef_proto_fn_error_6408;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str476 = {StringType, -1, 10, 0, "Redefining"};
Value *strPtr476 = (Value *)&str476;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str477 = {StringType, -1, 31, 0, "which is a protocol function in"};
Value *strPtr477 = (Value *)&str477;
Value *arityImpl6412(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val45;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs58[4] = {&val1, &val15, &val45, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs58);

incRef(val15, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 3);
dec_and_free(val45, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6413_13 = ss_10;
Value *path_14 = v_9;
Value *arg6414_24 = arg6413_13;

// static-variadic
// #line 436 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr10, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// type-unknown ast/file-name
// #line 437 "toccata.toc"
Value *rslt18 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 437);

// static-variadic
// #line 437 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)strPtr387, varArgs19);
varArgs19 = (List *)listCons((Value *)rslt18, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);

// type-unknown ast/line-number
// #line 437 "toccata.toc"
Value *rslt21 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val15, "toccata.toc", 437);

// static-variadic
// #line 436 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)path_14, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr477, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt21, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt20, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr252, varArgs22);
varArgs22 = (List *)listCons((Value *)rslt17, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr476, varArgs22);
Value *rslt23 = compilation_error_5400(empty_list, (Value *)varArgs22);
Value *ev_25 = rslt23;
Value *arg6415_26 = arg6414_24;
Value *rslt27 = reified_type_args_22(empty_list, ev_25);
Value *invoke_fn_28;
Value *tail_29;
Value **destArgs30[2] = {&invoke_fn_28, &tail_29};
destructValue("", "0", (Value *)rslt27, 2, destArgs30);

dec_and_free(tail_29, 1);
Value *s_31 = arg6415_26;
Value *rslt35;
if((invoke_fn_28)->type != FunctionType) {
rslt35 = invoke_368(empty_list, invoke_fn_28, s_31);
} else {
FnArity *arity32 = findFnArity(invoke_fn_28, 1);
if(arity32 != (FnArity *)0 && !arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
rslt35 = fn34(arity32->closures, s_31);
} else if(arity32 != (FnArity *)0 && arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
List *dynArgs33 = empty_list;
dynArgs33 = (List *)listCons(s_31, dynArgs33);
rslt35 = fn34(arity32->closures, (Value *)dynArgs33);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_28)->name);
  abort();
}
dec_and_free(invoke_fn_28, 1);
}
Value *x_36 = rslt35;

incRef(x_36, 1);
Value *andRslt37;
andRslt37 = x_36;
if (isNothing(andRslt37)) {
dec_and_free(x_36, 1);
dec_and_free(val45, 1);
} else {
dec_and_free(andRslt37, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_36, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_39;
Value *ss_40;
Value *tail_41;
Value **destArgs42[3] = {&v_39, &ss_40, &tail_41};
destructValue("", "0", (Value *)rslt38, 3, destArgs42);

dec_and_free(tail_41, 1);
Value *arg6416_43 = ss_40;
Value *arg44 = v_39;

dec_and_free(arg44, 1);
Value *arg6417_46 = arg6416_43;
Value *__47 = val45;
Value *v_48 = strPtr0;
Value *arg6418_49 = arg6417_46;
Value *rslt50 = reified_type_args_22(empty_list, __47);
Value *invoke_fn_51;
Value *tail_52;
Value **destArgs53[2] = {&invoke_fn_51, &tail_52};
destructValue("", "0", (Value *)rslt50, 2, destArgs53);

dec_and_free(invoke_fn_51, 1);

dec_and_free(tail_52, 1);
Value *s_54 = arg6418_49;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect55 = empty_vect;
newVect55 = mutateVectConj(newVect55, v_48);
newVect55 = mutateVectConj(newVect55, s_54);
Value *rslt56 = (Value *)newVect55;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = maybe_4(empty_list, rslt56);
andRslt37 = rslt57;
}
return(andRslt37);
andRslt7 = andRslt37;
}

};};
Value *redef_proto_fn_error_6409(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 1);

// static-fixed
// #line 435 "toccata.toc"
Value *rslt1 = find_protocol_path_6185(empty_list, sym_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6412;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)sym_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_6419 = malloc_function(1);
anon_6419->name = "anon";
anon_6419->arityCount = 1;
anon_6419->arities[0] = dynArity8;
Value *fn6411 = (Value *)anon_6419;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6411);
return(rslt9);

};};
FnArity redef_proto_fn_error_6420 = {FnArityType, -1, 1, (List *)0, 0, redef_proto_fn_error_6409};
Function redef_proto_fn_error_6421 = {FunctionType, -1, "redef-proto-fn-error", 1, {&redef_proto_fn_error_6420}};
Value *redef_proto_fn_error_6408 = (Value *)&redef_proto_fn_error_6421;

Value *type_val_6422_6423;
ProtoImpls protoImpls6427;
ProtoImpls protoImpls6429;
Value *dispatchFnPtr6425;
Value *protoImpl6426(List *closures, Value *arg);
Value *protoImpl6428(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls6431;
ProtoImpls protoImpls6433;
Value *dispatchFnPtr6424;
Value *protoImpl6430(List *closures, Value *arg);
Value *protoImpl6432(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str478 = {StringType, -1, 12, 0, "ParamBinding"};
Value *strPtr478 = (Value *)&str478;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str479 = {StringType, -1, 14, 0, "vars, destruct"};
Value *strPtr479 = (Value *)&str479;
Value *arityImpl6434(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr479, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr478, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity6435 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6434};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str480 = {StringType, -1, 26, 0, "*ParamBinding constructor*"};
Value *strPtr480 = (Value *)&str480;
Value *ParamBinding_const_type_name_6436(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr480);

};};
FnArity ParamBinding_const_type_name_6437 = {FnArityType, -1, 1, (List *)0, 0, ParamBinding_const_type_name_6436};
Value *ParamBinding_instance_QMARK__6438(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_6422_6423, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ParamBinding_instance_QMARK__6439 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_instance_QMARK__6438};
Value *ParamBinding_invoke_6440(List *closures, Value *arg0, Value *vars_1, Value *destruct_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, vars_1);
newVect3 = mutateVectConj(newVect3, destruct_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_6422_6423, rslt4);
return(rslt5);

};};
FnArity ParamBinding_invoke_6441 = {FnArityType, -1, 3, (List *)0, 0, ParamBinding_invoke_6440};
ReifiedVal reifiedStatic6442 = {172, -1, (Value *)0, 0, {}};
Value *reifiedPtr6443 = (Value *)&reifiedStatic6442;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str481 = {StringType, -1, 14, 0, "<ParamBinding "};
Value *strPtr481 = (Value *)&str481;
Value *ParamBinding_string_list_6444(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *vars_2;
Value *destruct_3;
Value *tail_4;
Value **destArgs5[3] = {&vars_2, &destruct_3, &tail_4};
destructValue("toccata.toc", "441", (Value *)rslt1, 3, destArgs5);

dec_and_free(tail_4, 1);

// call-list
// #line 444 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr481, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 445 "toccata.toc"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", vars_2, "toccata.toc", 445);

// call-list
// #line 446 "toccata.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr4, newList9);
Value *rslt10 = (Value *)newList9;

// type-unknown string-list
// #line 447 "toccata.toc"
Value *rslt11 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", destruct_3, "toccata.toc", 447);

// call-list
// #line 448 "toccata.toc"
List *newList12 = empty_list;
newList12 = listCons((Value *)strPtr2, newList12);
Value *rslt13 = (Value *)newList12;

// call-list
// #line 444 "toccata.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
newList14 = listCons((Value *)rslt11, newList14);
newList14 = listCons((Value *)rslt10, newList14);
newList14 = listCons((Value *)rslt8, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 444 "toccata.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt7, rslt15);
return(rslt16);

};};
FnArity ParamBinding_string_list_6445 = {FnArityType, -1, 1, (List *)0, 0, ParamBinding_string_list_6444};
Value *ParamBinding_EQ_STAR__6446(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ParamBinding_EQ_STAR__6447 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_EQ_STAR__6446};
Value *ParamBinding_type_name_6448(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr478);

};};
FnArity ParamBinding_type_name_6449 = {FnArityType, -1, 1, (List *)0, 0, ParamBinding_type_name_6448};
Value *ParamBinding_has_field_6450(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr6425, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr6424, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity ParamBinding_has_field_6451 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_has_field_6450};
Value *ParamBinding_vars_6452(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParamBinding_vars_6453 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_vars_6452};
Value *ParamBinding_vars_6454(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParamBinding_vars_6455 = {FnArityType, -1, 1, (List *)0, 0, ParamBinding_vars_6454};
Value *ParamBinding_destruct_6456(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ParamBinding_destruct_6457 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_destruct_6456};
Value *ParamBinding_destruct_6458(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ParamBinding_destruct_6459 = {FnArityType, -1, 1, (List *)0, 0, ParamBinding_destruct_6458};
Value *ParamBinding_get_6460(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ParamBinding_get_6461 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_get_6460};
Value *ParamBinding_comp_STAR__6462(List *closures, Value *x_0, Value *xs_1) {
 while (1) {

incRef(x_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, x_0);
Value *vars_3;
Value *destruct_4;
Value *tail_5;
Value **destArgs6[3] = {&vars_3, &destruct_4, &tail_5};
destructValue("toccata.toc", "441", (Value *)rslt2, 3, destArgs6);

dec_and_free(vars_3, 1);

dec_and_free(destruct_4, 1);

dec_and_free(tail_5, 1);

// static-fixed
// #line 452 "toccata.toc"
Value *rslt7 = cons_275(empty_list, x_0, xs_1);
Value *xs_8 = rslt7;

incRef(xs_8, 1);
Value *l_9 = xs_8;

// static-fixed
// #line 672 "core"
Value *rslt10 = list_map_73(empty_list, l_9, dispatchFnPtr6425);

// static-fixed
// #line 672 "core"
Value *rslt11 = list_concat_78(empty_list, rslt10);
Value *l_12 = xs_8;

// static-fixed
// #line 672 "core"
Value *rslt13 = list_map_73(empty_list, l_12, dispatchFnPtr6424);

// static-fixed
// #line 672 "core"
Value *rslt14 = list_concat_78(empty_list, rslt13);

// call invoke
// #line 453 "toccata.toc"
Value *rslt15 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt11, rslt14);
return(rslt15);

};};
FnArity ParamBinding_comp_STAR__6463 = {FnArityType, -1, 2, (List *)0, 0, ParamBinding_comp_STAR__6462};
Value *ParamBinding_assoc_STAR__6464(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ParamBinding_assoc_STAR__6465 = {FnArityType, -1, 5, (List *)0, 0, ParamBinding_assoc_STAR__6464};
ReifiedVal reifiedStatic6466 = {173, -1, (Value *)0, 0, {}};
Value *reifiedPtr6467 = (Value *)&reifiedStatic6466;

// --------- traverse -------------
Value *traverse_6469;
Value *arityImpl6476(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 462 "toccata.toc"
Value *rslt2 = cons_275(empty_list, val1, x_0);
return(rslt2);

};};
Value *arityImpl6474(List *closures, Value *emitted_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl6476;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)emitted_0, (List *)dynArity2->closures);
Function *anon_6477 = malloc_function(1);
anon_6477->name = "anon";
anon_6477->arityCount = 1;
anon_6477->arities[0] = dynArity2;
Value *fn6475 = (Value *)anon_6477;

// type-unknown map
// #line 461 "toccata.toc"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", val1, fn6475, "toccata.toc", 461);
return(rslt3);

};};
Value *arityImpl6472(List *closures, Value *l_0, Value *ast_1) {
while (1) {
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 459 "toccata.toc"
Value *rslt6;
if((val2)->type != FunctionType) {
rslt6 = invoke_368(empty_list, val2, ast_1);
} else {
FnArity *arity3 = findFnArity(val2, 1);
if(arity3 != (FnArity *)0 && !arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
rslt6 = fn5(arity3->closures, ast_1);
} else if(arity3 != (FnArity *)0 && arity3->variadic) {
FnType1 *fn5 = (FnType1 *)arity3->fn;
List *dynArgs4 = empty_list;
dynArgs4 = (List *)listCons(ast_1, dynArgs4);
rslt6 = fn5(arity3->closures, (Value *)dynArgs4);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val2)->name);
  abort();
}
dec_and_free(val2, 1);
}
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl6474;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)l_0, (List *)dynArity7->closures);
Function *anon_6478 = malloc_function(1);
anon_6478->name = "anon";
anon_6478->arityCount = 1;
anon_6478->arities[0] = dynArity7;
Value *fn6473 = (Value *)anon_6478;

// type-unknown flat-map
// #line 459 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt6, fn6473, "toccata.toc", 459);
return(rslt8);

};};
Value *traverse_6470(List *closures, Value *asts_0, Value *f_1) {
 while (1) {

// type-unknown reverse
// #line 457 "toccata.toc"
Value *rslt2 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", asts_0, "toccata.toc", 457);

// call invoke
// #line 457 "toccata.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, empty_list_0);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 2;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl6472;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)f_1, (List *)dynArity4->closures);
Function *anon_6479 = malloc_function(1);
anon_6479->name = "anon";
anon_6479->arityCount = 1;
anon_6479->arities[0] = dynArity4;
Value *fn6471 = (Value *)anon_6479;

// type-unknown reduce
// #line 457 "toccata.toc"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, rslt3, fn6471, "toccata.toc", 457);
return(rslt5);

};};
FnArity traverse_6480 = {FnArityType, -1, 2, (List *)0, 0, traverse_6470};
Function traverse_6481 = {FunctionType, -1, "traverse", 1, {&traverse_6480}};
Value *traverse_6469 = (Value *)&traverse_6481;

Value *List_emit_6482(List *closures, Value *asts_0) {
 while (1) {

// static-fixed
// #line 467 "toccata.toc"
Value *rslt1 = traverse_6470(empty_list, asts_0, emit_5840);
return(rslt1);

};};
FnArity List_emit_6483 = {FnArityType, -1, 1, (List *)0, 0, List_emit_6482};
Value *List_tail_call_6484(List *closures, Value *asts_0, Value *args_1) {
 while (1) {

// type-known for filter
// #line 471 "toccata.toc"
Value *rslt2 = List_filter_839(empty_list, asts_0, produces_code_QM__5843);

// type-unknown reverse
// #line 472 "toccata.toc"
Value *rslt3 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt2, "toccata.toc", 472);
Value *asts_4 = rslt3;

incRef(asts_4, 1);

// type-unknown empty?
// #line 473 "toccata.toc"
Value *rslt5 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", asts_4, "toccata.toc", 473);
if (!isNothing(rslt5)) {
dec_and_free(args_1, 1);
dec_and_free(asts_4, 1);
return(maybeExtract(rslt5));
} else {
dec_and_free(rslt5, 1);
Value *tail_6;
Value *init_7;
Value **destArgs8[2] = {&tail_6, &init_7};
destructValue("toccata.toc", "474", (Value *)asts_4, 2, destArgs8);

// type-unknown tail-call
// #line 475 "toccata.toc"
Value *rslt9 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", tail_6, args_1, "toccata.toc", 475);

// static-fixed
// #line 476 "toccata.toc"
Value *rslt10 = cons_275(empty_list, rslt9, init_7);

// type-known for reverse
// #line 477 "toccata.toc"
Value *rslt11 = List_reverse_813(empty_list, rslt10);
return(rslt11);
}

};};
FnArity List_tail_call_6485 = {FnArityType, -1, 2, (List *)0, 0, List_tail_call_6484};
Value *Vector_emit_6486(List *closures, Value *asts_0) {
 while (1) {

// static-fixed
// #line 482 "toccata.toc"
Value *rslt1 = traverse_6470(empty_list, asts_0, emit_5840);
return(rslt1);

};};
FnArity Vector_emit_6487 = {FnArityType, -1, 1, (List *)0, 0, Vector_emit_6486};
Value *arityImpl6490(List *closures, Value *tail_0) {
while (1) {
Value *val1;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val1, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown count
// #line 491 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", val1, "toccata.toc", 491);

// static-fixed
// #line 491 "toccata.toc"
Value *rslt3 = dec_578(empty_list, rslt2);

// type-unknown tail-call
// #line 492 "toccata.toc"
Value *rslt5 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", tail_0, val4, "toccata.toc", 492);

// type-unknown store
// #line 491 "toccata.toc"
Value *rslt6 = proto3Arg(&store_Implementations_353, "<nothing>/store", val1, rslt3, rslt5, "toccata.toc", 491);
return(rslt6);

};};
Value *Vector_tail_call_6488(List *closures, Value *asts_0, Value *params_1) {
 while (1) {

// type-known for filter
// #line 486 "toccata.toc"
Value *rslt2 = Vector_filter_944(empty_list, asts_0, produces_code_QM__5843);

// type-unknown reverse
// #line 487 "toccata.toc"
Value *rslt3 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt2, "toccata.toc", 487);
Value *asts_4 = rslt3;

incRef(asts_4, 2);
Value *orRslt5;

// type-unknown empty?
// #line 488 "toccata.toc"
Value *rslt6 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", asts_4, "toccata.toc", 488);
orRslt5 = rslt6;
if (!isNothing(orRslt5)) {
dec_and_free(params_1, 1);
dec_and_free(asts_4, 2);

} else {
dec_and_free(orRslt5, 1);

// type-unknown last
// #line 489 "toccata.toc"
Value *rslt7 = proto1Arg(&last_Implementations_332, "<nothing>/last", asts_4, "toccata.toc", 489);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6490;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)params_1, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)asts_4, (List *)dynArity8->closures);
Function *anon_6491 = malloc_function(1);
anon_6491->name = "anon";
anon_6491->arityCount = 1;
anon_6491->arities[0] = dynArity8;
Value *fn6489 = (Value *)anon_6491;

// type-unknown flat-map
// #line 489 "toccata.toc"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt7, fn6489, "toccata.toc", 489);
orRslt5 = rslt9;
}

// type-known for extract
// #line 488 "toccata.toc"
Value *rslt10 = Maybe_extract_757(empty_list, orRslt5);
return(rslt10);

};};
FnArity Vector_tail_call_6492 = {FnArityType, -1, 2, (List *)0, 0, Vector_tail_call_6488};

// --------- global-var -------------
Value *global_var_6494;
Value *global_var_6495(List *closures, Value *pre_0) {
 while (1) {

// static-fixed
// #line 496 "toccata.toc"
Value *rslt1 = gensym_1675(empty_list, pre_0);

// call invoke
// #line 496 "toccata.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, rslt1);
return(rslt2);

};};
FnArity global_var_6496 = {FnArityType, -1, 1, (List *)0, 0, global_var_6495};
Value *arityImpl6500(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs29[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs29);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6501_13 = ss_10;
Value *pre_14 = v_9;
Value *arg6502_16 = arg6501_13;
Value *__17 = val15;

// static-fixed
// #line 500 "toccata.toc"
Value *rslt18 = gensym_1675(empty_list, pre_14);
Value *v_19 = rslt18;
Value *arg6503_20 = arg6502_16;
Value *rslt21 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(invoke_fn_22, 1);

dec_and_free(tail_23, 1);
Value *s_25 = arg6503_20;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect26 = empty_vect;
newVect26 = mutateVectConj(newVect26, v_19);
newVect26 = mutateVectConj(newVect26, s_25);
Value *rslt27 = (Value *)newVect26;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt28 = maybe_4(empty_list, rslt27);
return(rslt28);
andRslt7 = rslt28;
}

};};
Value *global_var_6497(List *closures, Value *sym_0, Value *pre_1) {
 while (1) {
Value *orRslt2;

// static-variadic
// #line 498 "toccata.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)strPtr474, varArgs3);
varArgs3 = (List *)listCons((Value *)sym_0, varArgs3);
Value *rslt4 = str_526(empty_list, (Value *)varArgs3);
Value *rslt8;
FnArity *arity5 = findFnArity(check_C_var_6376, 1);
if(arity5 != (FnArity *)0 && !arity5->variadic) { FnType1 *fn7 = (FnType1 *)arity5->fn;


// dynamic fn type
// #line 498 "toccata.toc"
rslt8 = fn7(arity5->closures, rslt4);
} else if(arity5 != (FnArity *)0 && arity5->variadic) { FnType1 *fn7 = (FnType1 *)arity5->fn;
List *dynArgs6 = empty_list;
dynArgs6 = (List *)listCons(rslt4, dynArgs6);

// dynamic fn type
// #line 498 "toccata.toc"
rslt8 = fn7(arity5->closures, (Value *)dynArgs6);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)check_C_var_6376)->name, "toccata.toc", 498);
  abort();
}
dec_and_free(check_C_var_6376, 1);
orRslt2 = rslt8;
if (!isNothing(orRslt2)) {
dec_and_free(pre_1, 1);

} else {
dec_and_free(orRslt2, 1);

// static-fixed
// #line 499 "toccata.toc"
Value *rslt9 = maybe_4(empty_list, pre_1);
orRslt2 = rslt9;
}

// static-fixed
// #line 498 "toccata.toc"
Value *rslt10 = when_4087(empty_list, orRslt2);
Value *wrapper_11 = rslt10;

incRef(wrapper_11, 1);
Value *ev_12 = wrapper_11;
Value *rslt13 = reified_type_args_22(empty_list, ev_12);
Value *invoke_fn_14;
Value *tail_15;
Value **destArgs16[2] = {&invoke_fn_14, &tail_15};
destructValue("", "0", (Value *)rslt13, 2, destArgs16);

dec_and_free(tail_15, 1);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl6500;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)wrapper_11, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)invoke_fn_14, (List *)dynArity17->closures);
Function *anon_6504 = malloc_function(1);
anon_6504->name = "anon";
anon_6504->arityCount = 1;
anon_6504->arities[0] = dynArity17;
Value *fn6499 = (Value *)anon_6504;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6499);
return(rslt18);

};};
FnArity global_var_6505 = {FnArityType, -1, 2, (List *)0, 0, global_var_6497};
Function global_var_6506 = {FunctionType, -1, "global-var", 2, {&global_var_6496, &global_var_6505}};
Value *global_var_6494 = (Value *)&global_var_6506;


// --------- lookup-module-def -------------
Value *lookup_module_def_6508;
Value *arityImpl6512(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val63;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs76[4] = {&val1, &val15, &val63, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs76);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val63, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6513_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6514_17 = arg6513_13;

// static-fixed
// #line 506 "toccata.toc"
Value *rslt16 = sym_ns_path_6067(empty_list, val15);
Value *ev_18 = rslt16;
Value *arg6515_19 = arg6514_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg6515_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val15, 1);
dec_and_free(x_29, 1);
dec_and_free(val63, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg6516_36 = ss_33;
Value *ns_file_37 = v_32;
Value *arg6517_42 = arg6516_36;

// type-unknown .base
// #line 507 "toccata.toc"
Value *rslt38 = proto1Arg(&protoImpls4687, "<nothing>/.base", val15, "toccata.toc", 507);

// call-vector
// #line 507 "toccata.toc"
Vector *newVect39 = empty_vect;
newVect39 = mutateVectConj(newVect39, dispatchFnPtr5586);
newVect39 = mutateVectConj(newVect39, ns_file_37);
newVect39 = mutateVectConj(newVect39, dispatchFnPtr4272);
newVect39 = mutateVectConj(newVect39, rslt38);
Value *rslt40 = (Value *)newVect39;

// static-fixed
// #line 507 "toccata.toc"
Value *rslt41 = get_in_val_3549(empty_list, rslt40);
Value *ev_43 = rslt41;
Value *arg6518_44 = arg6517_42;
Value *rslt45 = reified_type_args_22(empty_list, ev_43);
Value *invoke_fn_46;
Value *tail_47;
Value **destArgs48[2] = {&invoke_fn_46, &tail_47};
destructValue("", "0", (Value *)rslt45, 2, destArgs48);

dec_and_free(tail_47, 1);
Value *s_49 = arg6518_44;
Value *rslt53;
if((invoke_fn_46)->type != FunctionType) {
rslt53 = invoke_368(empty_list, invoke_fn_46, s_49);
} else {
FnArity *arity50 = findFnArity(invoke_fn_46, 1);
if(arity50 != (FnArity *)0 && !arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
rslt53 = fn52(arity50->closures, s_49);
} else if(arity50 != (FnArity *)0 && arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
List *dynArgs51 = empty_list;
dynArgs51 = (List *)listCons(s_49, dynArgs51);
rslt53 = fn52(arity50->closures, (Value *)dynArgs51);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_46)->name);
  abort();
}
dec_and_free(invoke_fn_46, 1);
}
Value *x_54 = rslt53;

incRef(x_54, 1);
Value *andRslt55;
andRslt55 = x_54;
if (isNothing(andRslt55)) {
dec_and_free(val63, 1);
dec_and_free(x_54, 1);
} else {
dec_and_free(andRslt55, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_54, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_57;
Value *ss_58;
Value *tail_59;
Value **destArgs60[3] = {&v_57, &ss_58, &tail_59};
destructValue("", "0", (Value *)rslt56, 3, destArgs60);

dec_and_free(tail_59, 1);
Value *arg6519_61 = ss_58;
Value *var_62 = v_57;
Value *arg6520_64 = arg6519_61;
Value *__65 = val63;
Value *v_66 = var_62;
Value *arg6521_67 = arg6520_64;
Value *rslt68 = reified_type_args_22(empty_list, __65);
Value *invoke_fn_69;
Value *tail_70;
Value **destArgs71[2] = {&invoke_fn_69, &tail_70};
destructValue("", "0", (Value *)rslt68, 2, destArgs71);

dec_and_free(invoke_fn_69, 1);

dec_and_free(tail_70, 1);
Value *s_72 = arg6521_67;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect73 = empty_vect;
newVect73 = mutateVectConj(newVect73, v_66);
newVect73 = mutateVectConj(newVect73, s_72);
Value *rslt74 = (Value *)newVect73;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = maybe_4(empty_list, rslt74);
andRslt55 = rslt75;
}
andRslt30 = andRslt55;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *lookup_module_def_6509(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 3);

// type-unknown ast/file-name
// #line 504 "toccata.toc"
Value *rslt1 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", sym_0, "toccata.toc", 504);
Value *sym_file_2 = rslt1;

// type-unknown rdr/namespace
// #line 505 "toccata.toc"
Value *rslt3 = proto1Arg(&namespace_Implementations_4655, "<maybe rdr>/namespace", sym_0, "toccata.toc", 505);

// static-fixed
// #line 505 "toccata.toc"
Value *rslt4 = when_4087(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6512;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)sym_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6522 = malloc_function(1);
anon_6522->name = "anon";
anon_6522->arityCount = 1;
anon_6522->arities[0] = dynArity11;
Value *fn6511 = (Value *)anon_6522;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6511);

// call-vector
// #line 509 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, dispatchFnPtr5586);
newVect13 = mutateVectConj(newVect13, sym_file_2);
newVect13 = mutateVectConj(newVect13, dispatchFnPtr4272);
newVect13 = mutateVectConj(newVect13, sym_0);
Value *rslt14 = (Value *)newVect13;

// static-fixed
// #line 509 "toccata.toc"
Value *rslt15 = get_in_val_3549(empty_list, rslt14);
List *newList16 = empty_list;
newList16 = listCons((Value *)rslt15, newList16);
Value *rslt17 = (Value *)newList16;
Value *rslt18 = new_sm_comp_STAR__2805(empty_list, rslt12, rslt17);
return(rslt18);

};};
FnArity lookup_module_def_6523 = {FnArityType, -1, 1, (List *)0, 0, lookup_module_def_6509};
Function lookup_module_def_6524 = {FunctionType, -1, "lookup-module-def", 1, {&lookup_module_def_6523}};
Value *lookup_module_def_6508 = (Value *)&lookup_module_def_6524;


// --------- new-module-def -------------
Value *new_module_def_6526;
Value *arityImpl6530(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val41;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[4] = {&val1, &val15, &val41, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs54);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6531_13 = ss_10;
Value *r_14 = v_9;
Value *arg6532_20 = arg6531_13;

// type-unknown ast/file-name
// #line 514 "toccata.toc"
Value *rslt16 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 514);

// call-vector
// #line 514 "toccata.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5586);
newVect17 = mutateVectConj(newVect17, rslt16);
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5510);
newVect17 = mutateVectConj(newVect17, val15);
Value *rslt18 = (Value *)newVect17;

// static-fixed
// #line 514 "toccata.toc"
Value *rslt19 = assoc_in_val_3599(empty_list, rslt18, nothing_7);
Value *ev_21 = rslt19;
Value *arg6533_22 = arg6532_20;
Value *rslt23 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
Value *s_27 = arg6533_22;
Value *rslt31;
if((invoke_fn_24)->type != FunctionType) {
rslt31 = invoke_368(empty_list, invoke_fn_24, s_27);
} else {
FnArity *arity28 = findFnArity(invoke_fn_24, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, s_27);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(s_27, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_24)->name);
  abort();
}
dec_and_free(invoke_fn_24, 1);
}
Value *x_32 = rslt31;

incRef(x_32, 1);
Value *andRslt33;
andRslt33 = x_32;
if (isNothing(andRslt33)) {
dec_and_free(x_32, 1);
dec_and_free(val41, 1);
dec_and_free(r_14, 1);
} else {
dec_and_free(andRslt33, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_32, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_35;
Value *ss_36;
Value *tail_37;
Value **destArgs38[3] = {&v_35, &ss_36, &tail_37};
destructValue("", "0", (Value *)rslt34, 3, destArgs38);

dec_and_free(tail_37, 1);
Value *arg6534_39 = ss_36;
Value *arg40 = v_35;

dec_and_free(arg40, 1);
Value *arg6535_42 = arg6534_39;
Value *__43 = val41;
Value *v_44 = r_14;
Value *arg6536_45 = arg6535_42;
Value *rslt46 = reified_type_args_22(empty_list, __43);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg6536_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
andRslt33 = rslt53;
}
return(andRslt33);
andRslt7 = andRslt33;
}

};};
Value *new_module_def_6527(List *closures, Value *sym_0, Value *value_1) {
 while (1) {

incRef(sym_0, 3);

// static-fixed
// #line 512 "toccata.toc"
Value *rslt2 = redef_proto_fn_error_6409(empty_list, sym_0);

// type-unknown ast/file-name
// #line 513 "toccata.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", sym_0, "toccata.toc", 513);

// call-vector
// #line 513 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatchFnPtr5586);
newVect4 = mutateVectConj(newVect4, rslt3);
newVect4 = mutateVectConj(newVect4, dispatchFnPtr4272);
newVect4 = mutateVectConj(newVect4, sym_0);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 513 "toccata.toc"
Value *rslt6 = assoc_in_val_3599(empty_list, rslt5, value_1);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl6530;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)sym_0, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_6537 = malloc_function(1);
anon_6537->name = "anon";
anon_6537->arityCount = 1;
anon_6537->arities[0] = dynArity13;
Value *fn6529 = (Value *)anon_6537;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6529);

// call-list
// #line 512 "toccata.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)rslt14, newList15);
Value *rslt16 = (Value *)newList15;

// type-known for comp*
// #line 512 "toccata.toc"
Value *rslt17 = new_sm_comp_STAR__2805(empty_list, rslt2, rslt16);
return(rslt17);

};};
FnArity new_module_def_6538 = {FnArityType, -1, 2, (List *)0, 0, new_module_def_6527};
Function new_module_def_6539 = {FunctionType, -1, "new-module-def", 1, {&new_module_def_6538}};
Value *new_module_def_6526 = (Value *)&new_module_def_6539;


// --------- lookup-declaration -------------
Value *lookup_declaration_6541;
SubString sym35 = {SymbolType, -1, 1, 0, 0, "_"};
Value *symPtr35 = (Value *)&sym35;
Value *lookup_declaration_6542(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 1);

// type-unknown ast/file-name
// #line 518 "toccata.toc"
Value *rslt1 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", sym_0, "toccata.toc", 518);

// call-vector
// #line 518 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, rslt1);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5510);
newVect2 = mutateVectConj(newVect2, sym_0);
newVect2 = mutateVectConj(newVect2, symPtr35);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 518 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
return(rslt4);

};};
FnArity lookup_declaration_6543 = {FnArityType, -1, 1, (List *)0, 0, lookup_declaration_6542};
Function lookup_declaration_6544 = {FunctionType, -1, "lookup-declaration", 1, {&lookup_declaration_6543}};
Value *lookup_declaration_6541 = (Value *)&lookup_declaration_6544;


// --------- lookup-core-def -------------
Value *lookup_core_def_6546;
Value *lookup_core_def_6547(List *closures, Value *sym_0) {
 while (1) {

// call-vector
// #line 521 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5586);
newVect1 = mutateVectConj(newVect1, symPtr34);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr4272);
newVect1 = mutateVectConj(newVect1, sym_0);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 521 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
return(rslt3);

};};
FnArity lookup_core_def_6548 = {FnArityType, -1, 1, (List *)0, 0, lookup_core_def_6547};
Function lookup_core_def_6549 = {FunctionType, -1, "lookup-core-def", 1, {&lookup_core_def_6548}};
Value *lookup_core_def_6546 = (Value *)&lookup_core_def_6549;


// --------- already-closed-over -------------
Value *already_closed_over_6551;
Value *arityImpl6560(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 526 "toccata.toc"
Value *rslt3 = proto2Arg(&wrap_Implementations_248, "wrap", val1, val2, "toccata.toc", 526);
return(rslt3);

};};
Value *arityImpl6558(List *closures, Value *arg3) {
while (1) {
Value *closure_var_0;
Value *sym_literal_1;
Value *tail_2;
Value **destArgs4[3] = {&closure_var_0, &sym_literal_1, &tail_2};
destructValue("toccata.toc", "525", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 526 "toccata.toc"
Value *rslt6 = _EQ__557(empty_list, val5, sym_literal_1);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6560;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)closure_var_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)wrapper_7, (List *)dynArity8->closures);
Function *anon_6561 = malloc_function(1);
anon_6561->name = "anon";
anon_6561->arityCount = 1;
anon_6561->arities[0] = dynArity8;
Value *fn6559 = (Value *)anon_6561;

// type-unknown flat-map
// #line 526 "toccata.toc"
Value *rslt9 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_7, fn6559, "toccata.toc", 526);
return(rslt9);

};};
Value *arityImpl6555(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val64;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs77[4] = {&val1, &val16, &val64, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs77);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val16, 1);
dec_and_free(val64, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6556_13 = ss_10;
Value *closed_over_14 = v_9;
Value *arg6563_19 = arg6556_13;
FnArity *dynArity15 = malloc_fnArity();
dynArity15->count = 1;
dynArity15->variadic = 0;
dynArity15->fn = arityImpl6558;
dynArity15->closures = empty_list;
dynArity15->closures = listCons((Value *)val16, (List *)dynArity15->closures);
Function *anon_6562 = malloc_function(1);
anon_6562->name = "anon";
anon_6562->arityCount = 1;
anon_6562->arities[0] = dynArity15;
Value *fn6557 = (Value *)anon_6562;

// static-fixed
// #line 525 "toccata.toc"
Value *rslt17 = some_769(empty_list, closed_over_14, fn6557);

// static-fixed
// #line 525 "toccata.toc"
Value *rslt18 = when_4087(empty_list, rslt17);
Value *ev_20 = rslt18;
Value *arg6564_21 = arg6563_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg6564_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(x_31, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg6565_38 = ss_35;
Value *closure_var_39 = v_34;

incRef(closure_var_39, 1);
Value *arg6566_43 = arg6565_38;

// call-vector
// #line 528 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5469);
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5719);
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5676);
newVect40 = mutateVectConj(newVect40, closure_var_39);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 528 "toccata.toc"
Value *rslt42 = update_in_val_3782(empty_list, rslt41, inc_563);
Value *ev_44 = rslt42;
Value *arg6567_45 = arg6566_43;
Value *rslt46 = reified_type_args_22(empty_list, ev_44);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(tail_48, 1);
Value *s_50 = arg6567_45;
Value *rslt54;
if((invoke_fn_47)->type != FunctionType) {
rslt54 = invoke_368(empty_list, invoke_fn_47, s_50);
} else {
FnArity *arity51 = findFnArity(invoke_fn_47, 1);
if(arity51 != (FnArity *)0 && !arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
rslt54 = fn53(arity51->closures, s_50);
} else if(arity51 != (FnArity *)0 && arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
List *dynArgs52 = empty_list;
dynArgs52 = (List *)listCons(s_50, dynArgs52);
rslt54 = fn53(arity51->closures, (Value *)dynArgs52);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_47)->name);
  abort();
}
dec_and_free(invoke_fn_47, 1);
}
Value *x_55 = rslt54;

incRef(x_55, 1);
Value *andRslt56;
andRslt56 = x_55;
if (isNothing(andRslt56)) {
dec_and_free(closure_var_39, 1);
dec_and_free(x_55, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt56, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_55, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_58;
Value *ss_59;
Value *tail_60;
Value **destArgs61[3] = {&v_58, &ss_59, &tail_60};
destructValue("", "0", (Value *)rslt57, 3, destArgs61);

dec_and_free(tail_60, 1);
Value *arg6568_62 = ss_59;
Value *arg63 = v_58;

dec_and_free(arg63, 1);
Value *arg6569_65 = arg6568_62;
Value *__66 = val64;
Value *v_67 = closure_var_39;
Value *arg6570_68 = arg6569_65;
Value *rslt69 = reified_type_args_22(empty_list, __66);
Value *invoke_fn_70;
Value *tail_71;
Value **destArgs72[2] = {&invoke_fn_70, &tail_71};
destructValue("", "0", (Value *)rslt69, 2, destArgs72);

dec_and_free(invoke_fn_70, 1);

dec_and_free(tail_71, 1);
Value *s_73 = arg6570_68;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, v_67);
newVect74 = mutateVectConj(newVect74, s_73);
Value *rslt75 = (Value *)newVect74;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt76 = maybe_4(empty_list, rslt75);
andRslt56 = rslt76;
}
andRslt32 = andRslt56;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *already_closed_over_6552(List *closures, Value *sym_0) {
 while (1) {

// call-vector
// #line 524 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5469);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5719);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5677);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 524 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6555;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)sym_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6571 = malloc_function(1);
anon_6571->name = "anon";
anon_6571->arityCount = 1;
anon_6571->arities[0] = dynArity10;
Value *fn6554 = (Value *)anon_6571;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6554);
return(rslt11);

};};
FnArity already_closed_over_6572 = {FnArityType, -1, 1, (List *)0, 0, already_closed_over_6552};
Function already_closed_over_6573 = {FunctionType, -1, "already-closed-over", 1, {&already_closed_over_6572}};
Value *already_closed_over_6551 = (Value *)&already_closed_over_6573;


// --------- new-closure -------------
Value *new_closure_6575;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str482 = {StringType, -1, 3, 0, "val"};
Value *strPtr482 = (Value *)&str482;
Value *arityImpl6582(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// call-vector
// #line 534 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, val1);
newVect3 = mutateVectConj(newVect3, val2);
Value *rslt4 = (Value *)newVect3;

// type-unknown conj
// #line 534 "toccata.toc"
Value *rslt5 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", v_0, rslt4, "toccata.toc", 534);
return(rslt5);

};};
Value *arityImpl6579(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val18;
Value *val65;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs78[4] = {&val1, &val18, &val65, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs78);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val65, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6580_13 = ss_10;
Value *closure_var_14 = v_9;

incRef(closure_var_14, 2);
Value *arg6584_20 = arg6580_13;

// call-vector
// #line 533 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5469);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5719);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5677);
Value *rslt16 = (Value *)newVect15;
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl6582;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)val18, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)closure_var_14, (List *)dynArity17->closures);
Function *anon_6583 = malloc_function(1);
anon_6583->name = "anon";
anon_6583->arityCount = 1;
anon_6583->arities[0] = dynArity17;
Value *fn6581 = (Value *)anon_6583;

// static-fixed
// #line 533 "toccata.toc"
Value *rslt19 = update_in_val_3782(empty_list, rslt16, fn6581);
Value *ev_21 = rslt19;
Value *arg6585_22 = arg6584_20;
Value *rslt23 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
Value *s_27 = arg6585_22;
Value *rslt31;
if((invoke_fn_24)->type != FunctionType) {
rslt31 = invoke_368(empty_list, invoke_fn_24, s_27);
} else {
FnArity *arity28 = findFnArity(invoke_fn_24, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, s_27);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(s_27, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_24)->name);
  abort();
}
dec_and_free(invoke_fn_24, 1);
}
Value *x_32 = rslt31;

incRef(x_32, 1);
Value *andRslt33;
andRslt33 = x_32;
if (isNothing(andRslt33)) {
dec_and_free(x_32, 1);
dec_and_free(closure_var_14, 2);
dec_and_free(val65, 1);
} else {
dec_and_free(andRslt33, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_32, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_35;
Value *ss_36;
Value *tail_37;
Value **destArgs38[3] = {&v_35, &ss_36, &tail_37};
destructValue("", "0", (Value *)rslt34, 3, destArgs38);

dec_and_free(tail_37, 1);
Value *arg6586_39 = ss_36;
Value *arg40 = v_35;

dec_and_free(arg40, 1);
Value *arg6587_44 = arg6586_39;

// call-vector
// #line 535 "toccata.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, dispatchFnPtr5469);
newVect41 = mutateVectConj(newVect41, dispatchFnPtr5719);
newVect41 = mutateVectConj(newVect41, dispatchFnPtr5676);
newVect41 = mutateVectConj(newVect41, closure_var_14);
Value *rslt42 = (Value *)newVect41;

// static-fixed
// #line 535 "toccata.toc"
Value *rslt43 = assoc_in_val_3599(empty_list, rslt42, numPtr1);
Value *ev_45 = rslt43;
Value *arg6588_46 = arg6587_44;
Value *rslt47 = reified_type_args_22(empty_list, ev_45);
Value *invoke_fn_48;
Value *tail_49;
Value **destArgs50[2] = {&invoke_fn_48, &tail_49};
destructValue("", "0", (Value *)rslt47, 2, destArgs50);

dec_and_free(tail_49, 1);
Value *s_51 = arg6588_46;
Value *rslt55;
if((invoke_fn_48)->type != FunctionType) {
rslt55 = invoke_368(empty_list, invoke_fn_48, s_51);
} else {
FnArity *arity52 = findFnArity(invoke_fn_48, 1);
if(arity52 != (FnArity *)0 && !arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
rslt55 = fn54(arity52->closures, s_51);
} else if(arity52 != (FnArity *)0 && arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
List *dynArgs53 = empty_list;
dynArgs53 = (List *)listCons(s_51, dynArgs53);
rslt55 = fn54(arity52->closures, (Value *)dynArgs53);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_48)->name);
  abort();
}
dec_and_free(invoke_fn_48, 1);
}
Value *x_56 = rslt55;

incRef(x_56, 1);
Value *andRslt57;
andRslt57 = x_56;
if (isNothing(andRslt57)) {
dec_and_free(closure_var_14, 1);
dec_and_free(x_56, 1);
dec_and_free(val65, 1);
} else {
dec_and_free(andRslt57, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt58 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_56, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_59;
Value *ss_60;
Value *tail_61;
Value **destArgs62[3] = {&v_59, &ss_60, &tail_61};
destructValue("", "0", (Value *)rslt58, 3, destArgs62);

dec_and_free(tail_61, 1);
Value *arg6589_63 = ss_60;
Value *arg64 = v_59;

dec_and_free(arg64, 1);
Value *arg6590_66 = arg6589_63;
Value *__67 = val65;
Value *v_68 = closure_var_14;
Value *arg6591_69 = arg6590_66;
Value *rslt70 = reified_type_args_22(empty_list, __67);
Value *invoke_fn_71;
Value *tail_72;
Value **destArgs73[2] = {&invoke_fn_71, &tail_72};
destructValue("", "0", (Value *)rslt70, 2, destArgs73);

dec_and_free(invoke_fn_71, 1);

dec_and_free(tail_72, 1);
Value *s_74 = arg6591_69;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect75 = empty_vect;
newVect75 = mutateVectConj(newVect75, v_68);
newVect75 = mutateVectConj(newVect75, s_74);
Value *rslt76 = (Value *)newVect75;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt77 = maybe_4(empty_list, rslt76);
andRslt57 = rslt77;
}
andRslt33 = andRslt57;
}
return(andRslt33);
andRslt7 = andRslt33;
}

};};
Value *new_closure_6576(List *closures, Value *sym_0) {
 while (1) {

// static-fixed
// #line 532 "toccata.toc"
Value *rslt1 = genlocal_6379(empty_list, strPtr482);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6579;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)sym_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_6592 = malloc_function(1);
anon_6592->name = "anon";
anon_6592->arityCount = 1;
anon_6592->arities[0] = dynArity8;
Value *fn6578 = (Value *)anon_6592;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6578);
return(rslt9);

};};
FnArity new_closure_6593 = {FnArityType, -1, 1, (List *)0, 0, new_closure_6576};
Function new_closure_6594 = {FunctionType, -1, "new-closure", 1, {&new_closure_6593}};
Value *new_closure_6575 = (Value *)&new_closure_6594;


// --------- closed-over-sym -------------
Value *closed_over_sym_6596;
Value *arityImpl6600(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val42;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs63[4] = {&val1, &val15, &val42, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs63);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val42, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6601_13 = ss_10;
Value *c_sym_14 = v_9;
Value *arg6602_21 = arg6601_13;

// static-fixed
// #line 543 "toccata.toc"
Value *rslt16 = already_closed_over_6552(empty_list, val15);

// static-fixed
// #line 544 "toccata.toc"
Value *rslt17 = new_closure_6576(empty_list, val15);

// call-list
// #line 543 "toccata.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// type-known for comp*
// #line 543 "toccata.toc"
Value *rslt20 = new_sm_comp_STAR__2805(empty_list, rslt16, rslt19);
Value *ev_22 = rslt20;
Value *arg6603_23 = arg6602_21;
Value *rslt24 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_25;
Value *tail_26;
Value **destArgs27[2] = {&invoke_fn_25, &tail_26};
destructValue("", "0", (Value *)rslt24, 2, destArgs27);

dec_and_free(tail_26, 1);
Value *s_28 = arg6603_23;
Value *rslt32;
if((invoke_fn_25)->type != FunctionType) {
rslt32 = invoke_368(empty_list, invoke_fn_25, s_28);
} else {
FnArity *arity29 = findFnArity(invoke_fn_25, 1);
if(arity29 != (FnArity *)0 && !arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
rslt32 = fn31(arity29->closures, s_28);
} else if(arity29 != (FnArity *)0 && arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
List *dynArgs30 = empty_list;
dynArgs30 = (List *)listCons(s_28, dynArgs30);
rslt32 = fn31(arity29->closures, (Value *)dynArgs30);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_25)->name);
  abort();
}
dec_and_free(invoke_fn_25, 1);
}
Value *x_33 = rslt32;

incRef(x_33, 1);
Value *andRslt34;
andRslt34 = x_33;
if (isNothing(andRslt34)) {
dec_and_free(c_sym_14, 1);
dec_and_free(val42, 1);
dec_and_free(x_33, 1);
} else {
dec_and_free(andRslt34, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt35 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_33, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_36;
Value *ss_37;
Value *tail_38;
Value **destArgs39[3] = {&v_36, &ss_37, &tail_38};
destructValue("", "0", (Value *)rslt35, 3, destArgs39);

dec_and_free(tail_38, 1);
Value *arg6604_40 = ss_37;
Value *closure_var_41 = v_36;

incRef(closure_var_41, 1);
Value *arg6605_43 = arg6604_40;
Value *__44 = val42;

// call-vector
// #line 545 "toccata.toc"
Vector *newVect45 = empty_vect;
Value *rslt46 = (Value *)newVect45;

// call-vector
// #line 545 "toccata.toc"
Vector *newVect47 = empty_vect;
Value *rslt48 = (Value *)newVect47;

// type-unknown .type-num
// #line 545 "toccata.toc"
Value *rslt49 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", c_sym_14, "toccata.toc", 545);

// static-variadic
// #line 545 "toccata.toc"
List *varArgs50 = empty_list;
varArgs50 = (List *)listCons((Value *)numPtr1, varArgs50);
varArgs50 = (List *)listCons((Value *)closure_var_41, varArgs50);
Value *rslt51 = hash_map_1208(empty_list, (Value *)varArgs50);

// call invoke
// #line 545 "toccata.toc"
Value *rslt52 = c_code_invoke_5942(empty_list, reifiedPtr5945, closure_var_41, rslt46, rslt48, rslt49, rslt51);
Value *v_53 = rslt52;
Value *arg6606_54 = arg6605_43;
Value *rslt55 = reified_type_args_22(empty_list, __44);
Value *invoke_fn_56;
Value *tail_57;
Value **destArgs58[2] = {&invoke_fn_56, &tail_57};
destructValue("", "0", (Value *)rslt55, 2, destArgs58);

dec_and_free(invoke_fn_56, 1);

dec_and_free(tail_57, 1);
Value *s_59 = arg6606_54;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect60 = empty_vect;
newVect60 = mutateVectConj(newVect60, v_53);
newVect60 = mutateVectConj(newVect60, s_59);
Value *rslt61 = (Value *)newVect60;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt62 = maybe_4(empty_list, rslt61);
andRslt34 = rslt62;
}
return(andRslt34);
andRslt7 = andRslt34;
}

};};
Value *closed_over_sym_6597(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 1);

// call-vector
// #line 540 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5469);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5720);
newVect1 = mutateVectConj(newVect1, sym_0);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 540 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6600;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)sym_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6607 = malloc_function(1);
anon_6607->name = "anon";
anon_6607->arityCount = 1;
anon_6607->arities[0] = dynArity10;
Value *fn6599 = (Value *)anon_6607;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6599);
return(rslt11);

};};
FnArity closed_over_sym_6608 = {FnArityType, -1, 1, (List *)0, 0, closed_over_sym_6597};
Function closed_over_sym_6609 = {FunctionType, -1, "closed-over-sym", 1, {&closed_over_sym_6608}};
Value *closed_over_sym_6596 = (Value *)&closed_over_sym_6609;


// --------- lookup-sym -------------
Value *lookup_sym_6611;
Value *arityImpl6615(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val44;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs57[4] = {&val1, &val15, &val44, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs57);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val44, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6616_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6617_23 = arg6616_13;

// call-vector
// #line 549 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5469);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5721);
newVect16 = mutateVectConj(newVect16, val15);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 549 "toccata.toc"
Value *rslt18 = get_in_val_3549(empty_list, rslt17);

// static-fixed
// #line 550 "toccata.toc"
Value *rslt19 = closed_over_sym_6597(empty_list, val15);

// call-list
// #line 549 "toccata.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)rslt19, newList20);
Value *rslt21 = (Value *)newList20;

// type-known for comp*
// #line 549 "toccata.toc"
Value *rslt22 = new_sm_comp_STAR__2805(empty_list, rslt18, rslt21);
Value *ev_24 = rslt22;
Value *arg6618_25 = arg6617_23;
Value *rslt26 = reified_type_args_22(empty_list, ev_24);
Value *invoke_fn_27;
Value *tail_28;
Value **destArgs29[2] = {&invoke_fn_27, &tail_28};
destructValue("", "0", (Value *)rslt26, 2, destArgs29);

dec_and_free(tail_28, 1);
Value *s_30 = arg6618_25;
Value *rslt34;
if((invoke_fn_27)->type != FunctionType) {
rslt34 = invoke_368(empty_list, invoke_fn_27, s_30);
} else {
FnArity *arity31 = findFnArity(invoke_fn_27, 1);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
rslt34 = fn33(arity31->closures, s_30);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
dynArgs32 = (List *)listCons(s_30, dynArgs32);
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_27)->name);
  abort();
}
dec_and_free(invoke_fn_27, 1);
}
Value *x_35 = rslt34;

incRef(x_35, 1);
Value *andRslt36;
andRslt36 = x_35;
if (isNothing(andRslt36)) {
dec_and_free(val44, 1);
dec_and_free(x_35, 1);
} else {
dec_and_free(andRslt36, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_35, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_38;
Value *ss_39;
Value *tail_40;
Value **destArgs41[3] = {&v_38, &ss_39, &tail_40};
destructValue("", "0", (Value *)rslt37, 3, destArgs41);

dec_and_free(tail_40, 1);
Value *arg6619_42 = ss_39;
Value *r_43 = v_38;
Value *arg6620_45 = arg6619_42;
Value *__46 = val44;
Value *v_47 = r_43;
Value *arg6621_48 = arg6620_45;
Value *rslt49 = reified_type_args_22(empty_list, __46);
Value *invoke_fn_50;
Value *tail_51;
Value **destArgs52[2] = {&invoke_fn_50, &tail_51};
destructValue("", "0", (Value *)rslt49, 2, destArgs52);

dec_and_free(invoke_fn_50, 1);

dec_and_free(tail_51, 1);
Value *s_53 = arg6621_48;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect54 = empty_vect;
newVect54 = mutateVectConj(newVect54, v_47);
newVect54 = mutateVectConj(newVect54, s_53);
Value *rslt55 = (Value *)newVect54;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = maybe_4(empty_list, rslt55);
andRslt36 = rslt56;
}
return(andRslt36);
andRslt7 = andRslt36;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str483 = {StringType, -1, 16, 0, "Undefined symbol"};
Value *strPtr483 = (Value *)&str483;
Value *lookup_sym_6612(List *closures, Value *sym_0) {
 while (1) {

incRef(sym_0, 7);

// type-unknown rdr/namespace
// #line 548 "toccata.toc"
Value *rslt1 = proto1Arg(&namespace_Implementations_4655, "<maybe rdr>/namespace", sym_0, "toccata.toc", 548);

// static-fixed
// #line 548 "toccata.toc"
Value *rslt2 = when_not_4103(empty_list, rslt1);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6615;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)sym_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6622 = malloc_function(1);
anon_6622->name = "anon";
anon_6622->arityCount = 1;
anon_6622->arities[0] = dynArity9;
Value *fn6614 = (Value *)anon_6622;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6614);

// static-fixed
// #line 552 "toccata.toc"
Value *rslt11 = lookup_module_def_6509(empty_list, sym_0);

// static-fixed
// #line 553 "toccata.toc"
Value *rslt12 = lookup_declaration_6542(empty_list, sym_0);

// static-fixed
// #line 554 "toccata.toc"
Value *rslt13 = lookup_core_def_6547(empty_list, sym_0);

// static-variadic
// #line 555 "toccata.toc"
List *varArgs14 = empty_list;
varArgs14 = (List *)listCons((Value *)strPtr10, varArgs14);
varArgs14 = (List *)listCons((Value *)sym_0, varArgs14);
varArgs14 = (List *)listCons((Value *)strPtr10, varArgs14);
Value *rslt15 = str_526(empty_list, (Value *)varArgs14);

// type-unknown ast/file-name
// #line 556 "toccata.toc"
Value *rslt16 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", sym_0, "toccata.toc", 556);

// static-variadic
// #line 556 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)strPtr387, varArgs17);
varArgs17 = (List *)listCons((Value *)rslt16, varArgs17);
Value *rslt18 = str_526(empty_list, (Value *)varArgs17);

// type-unknown ast/line-number
// #line 557 "toccata.toc"
Value *rslt19 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", sym_0, "toccata.toc", 557);

// static-variadic
// #line 555 "toccata.toc"
List *varArgs20 = empty_list;
varArgs20 = (List *)listCons((Value *)rslt19, varArgs20);
varArgs20 = (List *)listCons((Value *)rslt18, varArgs20);
varArgs20 = (List *)listCons((Value *)strPtr252, varArgs20);
varArgs20 = (List *)listCons((Value *)rslt15, varArgs20);
varArgs20 = (List *)listCons((Value *)strPtr483, varArgs20);
Value *rslt21 = compilation_error_5400(empty_list, (Value *)varArgs20);

// call-list
// #line 552 "toccata.toc"
List *newList22 = empty_list;
newList22 = listCons((Value *)rslt21, newList22);
newList22 = listCons((Value *)rslt13, newList22);
newList22 = listCons((Value *)rslt12, newList22);
Value *rslt23 = (Value *)newList22;

// type-known for comp*
// #line 552 "toccata.toc"
Value *rslt24 = new_sm_comp_STAR__2805(empty_list, rslt11, rslt23);
List *newList25 = empty_list;
newList25 = listCons((Value *)rslt24, newList25);
Value *rslt26 = (Value *)newList25;
Value *rslt27 = new_sm_comp_STAR__2805(empty_list, rslt10, rslt26);
return(rslt27);

};};
FnArity lookup_sym_6623 = {FnArityType, -1, 1, (List *)0, 0, lookup_sym_6612};
Function lookup_sym_6624 = {FunctionType, -1, "lookup-sym", 1, {&lookup_sym_6623}};
Value *lookup_sym_6611 = (Value *)&lookup_sym_6624;


// --------- lookup-static-arity -------------
Value *lookup_static_arity_6626;
Value *lookup_static_arity_6627(List *closures, Value *fn_var_0, Value *num_params_1) {
 while (1) {

// call-vector
// #line 561 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5585);
newVect2 = mutateVectConj(newVect2, fn_var_0);
newVect2 = mutateVectConj(newVect2, num_params_1);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 561 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
return(rslt4);

};};
FnArity lookup_static_arity_6628 = {FnArityType, -1, 2, (List *)0, 0, lookup_static_arity_6627};
Function lookup_static_arity_6629 = {FunctionType, -1, "lookup-static-arity", 1, {&lookup_static_arity_6628}};
Value *lookup_static_arity_6626 = (Value *)&lookup_static_arity_6629;


// --------- new-static-arity -------------
Value *new_static_arity_6631;
Value *new_static_arity_6632(List *closures, Value *fn_var_0, Value *num_params_1, Value *arity_var_2, Value *type_num_3) {
 while (1) {

// call-vector
// #line 564 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatchFnPtr5585);
newVect4 = mutateVectConj(newVect4, fn_var_0);
newVect4 = mutateVectConj(newVect4, num_params_1);
Value *rslt5 = (Value *)newVect4;

// call-vector
// #line 565 "toccata.toc"
Vector *newVect6 = empty_vect;
Value *rslt7 = (Value *)newVect6;

// call-vector
// #line 565 "toccata.toc"
Vector *newVect8 = empty_vect;
Value *rslt9 = (Value *)newVect8;

// static-variadic
// #line 565 "toccata.toc"
List *varArgs10 = empty_list;
Value *rslt11 = hash_map_1208(empty_list, (Value *)varArgs10);

// call invoke
// #line 565 "toccata.toc"
Value *rslt12 = c_code_invoke_5942(empty_list, reifiedPtr5945, arity_var_2, rslt7, rslt9, type_num_3, rslt11);

// static-fixed
// #line 564 "toccata.toc"
Value *rslt13 = assoc_in_val_3599(empty_list, rslt5, rslt12);
return(rslt13);

};};
FnArity new_static_arity_6633 = {FnArityType, -1, 4, (List *)0, 0, new_static_arity_6632};
Function new_static_arity_6634 = {FunctionType, -1, "new-static-arity", 1, {&new_static_arity_6633}};
Value *new_static_arity_6631 = (Value *)&new_static_arity_6634;


// --------- lookup-core-fn-arity -------------
Value *lookup_core_fn_arity_6636;
Value *arityImpl6640(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val39;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs52[4] = {&val1, &val16, &val39, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs52);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val39, 1);
dec_and_free(x_6, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6641_13 = ss_10;
Value *fn_sym_14 = v_9;
Value *arg6642_18 = arg6641_13;

// type-unknown .c-var
// #line 569 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", fn_sym_14, "toccata.toc", 569);

// static-fixed
// #line 569 "toccata.toc"
Value *rslt17 = lookup_static_arity_6627(empty_list, rslt15, val16);
Value *ev_19 = rslt17;
Value *arg6643_20 = arg6642_18;
Value *rslt21 = reified_type_args_22(empty_list, ev_19);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
Value *s_25 = arg6643_20;
Value *rslt29;
if((invoke_fn_22)->type != FunctionType) {
rslt29 = invoke_368(empty_list, invoke_fn_22, s_25);
} else {
FnArity *arity26 = findFnArity(invoke_fn_22, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, s_25);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(s_25, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_22)->name);
  abort();
}
dec_and_free(invoke_fn_22, 1);
}
Value *x_30 = rslt29;

incRef(x_30, 1);
Value *andRslt31;
andRslt31 = x_30;
if (isNothing(andRslt31)) {
dec_and_free(x_30, 1);
dec_and_free(val39, 1);
} else {
dec_and_free(andRslt31, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_30, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_33;
Value *ss_34;
Value *tail_35;
Value **destArgs36[3] = {&v_33, &ss_34, &tail_35};
destructValue("", "0", (Value *)rslt32, 3, destArgs36);

dec_and_free(tail_35, 1);
Value *arg6644_37 = ss_34;
Value *arity_sym_38 = v_33;
Value *arg6645_40 = arg6644_37;
Value *__41 = val39;
Value *v_42 = arity_sym_38;
Value *arg6646_43 = arg6645_40;
Value *rslt44 = reified_type_args_22(empty_list, __41);
Value *invoke_fn_45;
Value *tail_46;
Value **destArgs47[2] = {&invoke_fn_45, &tail_46};
destructValue("", "0", (Value *)rslt44, 2, destArgs47);

dec_and_free(invoke_fn_45, 1);

dec_and_free(tail_46, 1);
Value *s_48 = arg6646_43;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect49 = empty_vect;
newVect49 = mutateVectConj(newVect49, v_42);
newVect49 = mutateVectConj(newVect49, s_48);
Value *rslt50 = (Value *)newVect49;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt51 = maybe_4(empty_list, rslt50);
andRslt31 = rslt51;
}
return(andRslt31);
andRslt7 = andRslt31;
}

};};
Value *lookup_core_fn_arity_6637(List *closures, Value *sym_0, Value *num_args_1) {
 while (1) {

// call-vector
// #line 568 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, symPtr34);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr4272);
newVect2 = mutateVectConj(newVect2, sym_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 568 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6640;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)num_args_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6647 = malloc_function(1);
anon_6647->name = "anon";
anon_6647->arityCount = 1;
anon_6647->arities[0] = dynArity11;
Value *fn6639 = (Value *)anon_6647;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6639);
return(rslt12);

};};
FnArity lookup_core_fn_arity_6648 = {FnArityType, -1, 2, (List *)0, 0, lookup_core_fn_arity_6637};
Function lookup_core_fn_arity_6649 = {FunctionType, -1, "lookup-core-fn-arity", 1, {&lookup_core_fn_arity_6648}};
Value *lookup_core_fn_arity_6636 = (Value *)&lookup_core_fn_arity_6649;

Value *produces_code_QM__6650(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);
return(nothing_7);

};};
FnArity produces_code_QM__6651 = {FnArityType, -1, 1, (List *)0, 0, produces_code_QM__6650};

// --------- anon -------------
Value *fn6653;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str484 = {StringType, -1, 2, 0, "//"};
Value *strPtr484 = (Value *)&str484;
Value *arityImpl6654(List *closures, Value *line_0) {
 while (1) {

// static-variadic
// #line 580 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)strPtr5, varArgs1);
varArgs1 = (List *)listCons((Value *)line_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr484, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity6655 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6654};
Function anon_6656 = {FunctionType, -1, "anon", 1, {&staticArity6655}};
Value *fn6653 = (Value *)&anon_6656;

Value *emit_6652(List *closures, Value *ast_0) {
 while (1) {

// call-vector
// #line 578 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, strPtr5);
Value *rslt2 = (Value *)newVect1;

// type-known for .lines
// #line 579 "toccata.toc"
Value *rslt3 = block_comment_ast_lines_1994(empty_list, ast_0);

// type-unknown map
// #line 579 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt3, fn6653, "toccata.toc", 579);

// call-list
// #line 578 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 578 "toccata.toc"
Value *rslt7 = Vector_comp_STAR__912(empty_list, rslt2, rslt6);

// call-vector
// #line 581 "toccata.toc"
Vector *newVect8 = empty_vect;
Value *rslt9 = (Value *)newVect8;

// static-variadic
// #line 581 "toccata.toc"
List *varArgs10 = empty_list;
Value *rslt11 = hash_map_1208(empty_list, (Value *)varArgs10);

// call invoke
// #line 578 "toccata.toc"
Value *rslt12 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt7, rslt9, numPtr0, rslt11);

// call invoke
// #line 578 "toccata.toc"
Value *rslt13 = arityImpl2933(empty_list, reifiedPtr2939, rslt12);
return(rslt13);

};};
FnArity emit_6657 = {FnArityType, -1, 1, (List *)0, 0, emit_6652};
Value *emit_defined_value_6658(List *closures, Value *arg0, Value *arg1) {
 while (1) {

dec_and_free(arg0, 1);

dec_and_free(arg1, 1);

// call-vector
// #line 583 "toccata.toc"
Vector *newVect2 = empty_vect;
Value *rslt3 = (Value *)newVect2;

// call invoke
// #line 583 "toccata.toc"
Value *rslt4 = arityImpl2933(empty_list, reifiedPtr2939, rslt3);
return(rslt4);

};};
FnArity emit_defined_value_6659 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_6658};
Value *emit_definition_6660(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// call-vector
// #line 584 "toccata.toc"
Vector *newVect1 = empty_vect;
Value *rslt2 = (Value *)newVect1;

// call invoke
// #line 584 "toccata.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity emit_definition_6661 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_6660};
Value *tail_call_6662(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

dec_and_free(params_1, 1);
return(ast_0);

};};
FnArity tail_call_6663 = {FnArityType, -1, 2, (List *)0, 0, tail_call_6662};

// --------- make-static-string -------------
Value *make_static_string_6665;
Value *arityImpl6668(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown count
// #line 591 "toccata.toc"
Value *rslt13 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_9, "toccata.toc", 591);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str485 = {StringType, -1, 3, 0, "str"};
Value *strPtr485 = (Value *)&str485;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str486 = {StringType, -1, 6, 0, "strPtr"};
Value *strPtr486 = (Value *)&str486;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[109];
} str487 = {StringType, -1, 108, 0, "struct {int64_t type;\n        int32_t refs;\n        int64_t len;\n        Integer *hash;\n        char buffer["};
Value *strPtr487 = (Value *)&str487;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str488 = {StringType, -1, 5, 0, "];\n} "};
Value *strPtr488 = (Value *)&str488;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str489 = {StringType, -1, 20, 0, " = {StringType, -1, "};
Value *strPtr489 = (Value *)&str489;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str490 = {StringType, -1, 6, 0, ", 0, \""};
Value *strPtr490 = (Value *)&str490;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str491 = {StringType, -1, 4, 0, "\"};\n"};
Value *strPtr491 = (Value *)&str491;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str492 = {StringType, -1, 7, 0, "Value *"};
Value *strPtr492 = (Value *)&str492;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str493 = {StringType, -1, 13, 0, " = (Value *)&"};
Value *strPtr493 = (Value *)&str493;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str494 = {StringType, -1, 2, 0, ";\n"};
Value *strPtr494 = (Value *)&str494;
Value *arityImpl6672(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val22;
Value *val54;
Value *val59;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs77[5] = {&val1, &val22, &val54, &val59, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs77);

incRef(val22, 1);

incRef(val59, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val54, 1);
dec_and_free(val59, 2);
dec_and_free(x_6, 1);
dec_and_free(val22, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6673_13 = ss_10;
Value *str_idx_14 = v_9;

incRef(str_idx_14, 1);
Value *arg6674_15 = arg6673_13;

// static-variadic
// #line 592 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)str_idx_14, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr485, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);
Value *str_sym_18 = rslt17;

incRef(str_sym_18, 1);

// static-variadic
// #line 593 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)str_idx_14, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr486, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);
Value *str_ptr_21 = rslt20;

incRef(str_ptr_21, 2);
Value *arg6675_33 = arg6674_15;

// call-vector
// #line 594 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5583);
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5410);
newVect23 = mutateVectConj(newVect23, val22);
Value *rslt24 = (Value *)newVect23;

// call-vector
// #line 594 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 594 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// static-variadic
// #line 594 "toccata.toc"
List *varArgs29 = empty_list;
Value *rslt30 = hash_map_1208(empty_list, (Value *)varArgs29);

// call invoke
// #line 594 "toccata.toc"
Value *rslt31 = c_code_invoke_5942(empty_list, reifiedPtr5945, str_ptr_21, rslt26, rslt28, StringType_5363, rslt30);

// static-fixed
// #line 594 "toccata.toc"
Value *rslt32 = assoc_in_val_3599(empty_list, rslt24, rslt31);
Value *ev_34 = rslt32;
Value *arg6676_35 = arg6675_33;
Value *rslt36 = reified_type_args_22(empty_list, ev_34);
Value *invoke_fn_37;
Value *tail_38;
Value **destArgs39[2] = {&invoke_fn_37, &tail_38};
destructValue("", "0", (Value *)rslt36, 2, destArgs39);

dec_and_free(tail_38, 1);
Value *s_40 = arg6676_35;
Value *rslt44;
if((invoke_fn_37)->type != FunctionType) {
rslt44 = invoke_368(empty_list, invoke_fn_37, s_40);
} else {
FnArity *arity41 = findFnArity(invoke_fn_37, 1);
if(arity41 != (FnArity *)0 && !arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
rslt44 = fn43(arity41->closures, s_40);
} else if(arity41 != (FnArity *)0 && arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
List *dynArgs42 = empty_list;
dynArgs42 = (List *)listCons(s_40, dynArgs42);
rslt44 = fn43(arity41->closures, (Value *)dynArgs42);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_37)->name);
  abort();
}
dec_and_free(invoke_fn_37, 1);
}
Value *x_45 = rslt44;

incRef(x_45, 1);
Value *andRslt46;
andRslt46 = x_45;
if (isNothing(andRslt46)) {
dec_and_free(val54, 1);
dec_and_free(val59, 2);
dec_and_free(str_ptr_21, 2);
dec_and_free(x_45, 1);
dec_and_free(str_sym_18, 2);
dec_and_free(val22, 1);
} else {
dec_and_free(andRslt46, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt47 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_45, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_48;
Value *ss_49;
Value *tail_50;
Value **destArgs51[3] = {&v_48, &ss_49, &tail_50};
destructValue("", "0", (Value *)rslt47, 3, destArgs51);

dec_and_free(tail_50, 1);
Value *arg6677_52 = ss_49;
Value *arg53 = v_48;

dec_and_free(arg53, 1);
Value *arg6678_55 = arg6677_52;
Value *__56 = val54;

// call-vector
// #line 596 "toccata.toc"
Vector *newVect57 = empty_vect;
Value *rslt58 = (Value *)newVect57;

// static-fixed
// #line 602 "toccata.toc"
Value *rslt60 = inc_564(empty_list, val59);

// static-fixed
// #line 604 "toccata.toc"
Value *rslt61 = escape_chars_133(empty_list, val22);

// call-vector
// #line 597 "toccata.toc"
Vector *newVect62 = empty_vect;
newVect62 = mutateVectConj(newVect62, strPtr487);
newVect62 = mutateVectConj(newVect62, rslt60);
newVect62 = mutateVectConj(newVect62, strPtr488);
newVect62 = mutateVectConj(newVect62, str_sym_18);
newVect62 = mutateVectConj(newVect62, strPtr489);
newVect62 = mutateVectConj(newVect62, val59);
newVect62 = mutateVectConj(newVect62, strPtr490);
newVect62 = mutateVectConj(newVect62, rslt61);
newVect62 = mutateVectConj(newVect62, strPtr491);
newVect62 = mutateVectConj(newVect62, strPtr492);
newVect62 = mutateVectConj(newVect62, str_ptr_21);
newVect62 = mutateVectConj(newVect62, strPtr493);
newVect62 = mutateVectConj(newVect62, str_sym_18);
newVect62 = mutateVectConj(newVect62, strPtr494);
Value *rslt63 = (Value *)newVect62;

// static-variadic
// #line 606 "toccata.toc"
List *varArgs64 = empty_list;
Value *rslt65 = hash_map_1208(empty_list, (Value *)varArgs64);

// call invoke
// #line 595 "toccata.toc"
Value *rslt66 = c_init_invoke_6003(empty_list, reifiedPtr6006, str_ptr_21, rslt58, rslt63, StringType_5363, rslt65);
Value *v_67 = rslt66;
Value *arg6679_68 = arg6678_55;
Value *rslt69 = reified_type_args_22(empty_list, __56);
Value *invoke_fn_70;
Value *tail_71;
Value **destArgs72[2] = {&invoke_fn_70, &tail_71};
destructValue("", "0", (Value *)rslt69, 2, destArgs72);

dec_and_free(invoke_fn_70, 1);

dec_and_free(tail_71, 1);
Value *s_73 = arg6679_68;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, v_67);
newVect74 = mutateVectConj(newVect74, s_73);
Value *rslt75 = (Value *)newVect74;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt76 = maybe_4(empty_list, rslt75);
andRslt46 = rslt76;
}
return(andRslt46);
andRslt7 = andRslt46;
}

};};
Value *make_static_string_6666(List *closures, Value *str_val_0) {
 while (1) {

incRef(str_val_0, 1);

// type-unknown count
// #line 590 "toccata.toc"
Value *rslt1 = proto1Arg(&count_Implementations_300, "<nothing>/count", str_val_0, "toccata.toc", 590);
Value *str_len_2 = rslt1;

// call-vector
// #line 591 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5583);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5410);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 591 "toccata.toc"
Value *rslt5 = get_in_val_3549(empty_list, rslt4);
Value *__6 = rslt5;
Value *rslt7 = reified_type_args_22(empty_list, __6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6668;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6669 = malloc_function(1);
anon_6669->name = "anon";
anon_6669->arityCount = 1;
anon_6669->arities[0] = dynArity11;
Value *fn6667 = (Value *)anon_6669;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6667);
Value *wrapper_13 = rslt12;

incRef(wrapper_13, 1);
Value *ev_14 = wrapper_13;
Value *rslt15 = reified_type_args_22(empty_list, ev_14);
Value *invoke_fn_16;
Value *tail_17;
Value **destArgs18[2] = {&invoke_fn_16, &tail_17};
destructValue("", "0", (Value *)rslt15, 2, destArgs18);

dec_and_free(tail_17, 1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl6672;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)str_len_2, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)wrapper_13, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)str_val_0, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)invoke_fn_16, (List *)dynArity19->closures);
Function *anon_6680 = malloc_function(1);
anon_6680->name = "anon";
anon_6680->arityCount = 1;
anon_6680->arities[0] = dynArity19;
Value *fn6671 = (Value *)anon_6680;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6671);
return(rslt20);

};};
FnArity make_static_string_6681 = {FnArityType, -1, 1, (List *)0, 0, make_static_string_6666};
Function make_static_string_6682 = {FunctionType, -1, "make-static-string", 1, {&make_static_string_6681}};
Value *make_static_string_6665 = (Value *)&make_static_string_6682;


// --------- make-c-code -------------
Value *make_c_code_6684;
Value *make_c_code_6685(List *closures, Value *value_0) {
 while (1) {

incRef(value_0, 4);

// type-unknown .c-var
// #line 609 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_0, "toccata.toc", 609);

// type-unknown .init
// #line 609 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5595, "<nothing>/.init", value_0, "toccata.toc", 609);

// type-unknown .decl
// #line 609 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5871, "<nothing>/.decl", value_0, "toccata.toc", 609);

// type-unknown .type-num
// #line 609 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", value_0, "toccata.toc", 609);

// type-unknown .refs-map
// #line 609 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", value_0, "toccata.toc", 609);

// call invoke
// #line 609 "toccata.toc"
Value *rslt6 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt1, rslt2, rslt3, rslt4, rslt5);
return(rslt6);

};};
FnArity make_c_code_6686 = {FnArityType, -1, 1, (List *)0, 0, make_c_code_6685};
Function make_c_code_6687 = {FunctionType, -1, "make-c-code", 1, {&make_c_code_6686}};
Value *make_c_code_6684 = (Value *)&make_c_code_6687;

Value *type_val_6688_6689;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str495 = {StringType, -1, 8, 0, "TailExpr"};
Value *strPtr495 = (Value *)&str495;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str496 = {StringType, -1, 11, 0, "ast, params"};
Value *strPtr496 = (Value *)&str496;
Value *arityImpl6692(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr496, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr495, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity6693 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6692};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str497 = {StringType, -1, 22, 0, "*TailExpr constructor*"};
Value *strPtr497 = (Value *)&str497;
Value *TailExpr_const_type_name_6694(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr497);

};};
FnArity TailExpr_const_type_name_6695 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_const_type_name_6694};
Value *TailExpr_instance_QMARK__6696(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_6688_6689, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity TailExpr_instance_QMARK__6697 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_instance_QMARK__6696};
Value *TailExpr_invoke_6698(List *closures, Value *arg0, Value *ast_1, Value *params_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, ast_1);
newVect3 = mutateVectConj(newVect3, params_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_6688_6689, rslt4);
return(rslt5);

};};
FnArity TailExpr_invoke_6699 = {FnArityType, -1, 3, (List *)0, 0, TailExpr_invoke_6698};
ReifiedVal reifiedStatic6700 = {174, -1, (Value *)0, 0, {}};
Value *reifiedPtr6701 = (Value *)&reifiedStatic6700;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str498 = {StringType, -1, 10, 0, "<TailExpr "};
Value *strPtr498 = (Value *)&str498;
Value *TailExpr_string_list_6702(List *closures, Value *expr_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, expr_0);
Value *ast_2;
Value *params_3;
Value *tail_4;
Value **destArgs5[3] = {&ast_2, &params_3, &tail_4};
destructValue("toccata.toc", "611", (Value *)rslt1, 3, destArgs5);

dec_and_free(params_3, 1);

dec_and_free(tail_4, 1);

// call-list
// #line 614 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)strPtr498, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown string-list
// #line 614 "toccata.toc"
Value *rslt8 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", ast_2, "toccata.toc", 614);

// call-list
// #line 614 "toccata.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)strPtr2, newList9);
Value *rslt10 = (Value *)newList9;

// call-list
// #line 614 "toccata.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
newList11 = listCons((Value *)rslt8, newList11);
Value *rslt12 = (Value *)newList11;

// type-known for comp*
// #line 614 "toccata.toc"
Value *rslt13 = List_comp_STAR__825(empty_list, rslt7, rslt12);
return(rslt13);

};};
FnArity TailExpr_string_list_6703 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_string_list_6702};
Value *TailExpr_EQ_STAR__6704(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailExpr_EQ_STAR__6705 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_EQ_STAR__6704};
Value *TailExpr_type_name_6706(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr495);

};};
FnArity TailExpr_type_name_6707 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_type_name_6706};
Value *TailExpr_has_field_6708(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr6282, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2418, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity TailExpr_has_field_6709 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_has_field_6708};
Value *TailExpr_ast_6710(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailExpr_ast_6711 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_ast_6710};
Value *TailExpr_ast_6712(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailExpr_ast_6713 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_ast_6712};
Value *TailExpr_params_6714(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailExpr_params_6715 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_params_6714};
Value *TailExpr_params_6716(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailExpr_params_6717 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_params_6716};
Value *TailExpr_get_6718(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailExpr_get_6719 = {FnArityType, -1, 2, (List *)0, 0, TailExpr_get_6718};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str499 = {StringType, -1, 18, 0, "// recursive-fixed"};
Value *strPtr499 = (Value *)&str499;

// --------- anon -------------
Value *fn6740;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str500 = {StringType, -1, 3, 0, " = "};
Value *strPtr500 = (Value *)&str500;
Value *arityImpl6741(List *closures, Value *arg3) {
 while (1) {
Value *param_0;
Value *arg_1;
Value *tail_2;
Value **destArgs4[3] = {&param_0, &arg_1, &tail_2};
destructValue("toccata.toc", "630", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// call-vector
// #line 631 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, param_0);
newVect5 = mutateVectConj(newVect5, strPtr500);
newVect5 = mutateVectConj(newVect5, arg_1);
newVect5 = mutateVectConj(newVect5, strPtr303);
newVect5 = mutateVectConj(newVect5, strPtr5);
Value *rslt6 = (Value *)newVect5;
return(rslt6);

};};
FnArity staticArity6742 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6741};
Function anon_6743 = {FunctionType, -1, "anon", 1, {&staticArity6742}};
Value *fn6740 = (Value *)&anon_6743;


// --------- anon -------------
Value *fn6739;
Value *arityImpl6744(List *closures, Value *m_0, Value *arg_1) {
 while (1) {

// static-fixed
// #line 635 "toccata.toc"
Value *rslt2 = assoc_1033(empty_list, m_0, arg_1, numPtr1);
return(rslt2);

};};
FnArity staticArity6745 = {FnArityType, -1, 2, (List *)0, 0, arityImpl6744};
Function anon_6746 = {FunctionType, -1, "anon", 1, {&staticArity6745}};
Value *fn6739 = (Value *)&anon_6746;

Value *arityImpl6736(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val19;
Value *val28;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs51[6] = {&val1, &val15, &val18, &val19, &val28, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs51);

incRef(val18, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val18, 3);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val28, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6737_13 = ss_10;
Value *line_14 = v_9;
Value *arg6738_16 = arg6737_13;
Value *__17 = val15;

// type-unknown map
// #line 629 "toccata.toc"
Value *rslt20 = proto2Arg(&map_Implementations_254, "<nothing>/map", val18, dispatchFnPtr5865, "toccata.toc", 629);

// static-variadic
// #line 629 "toccata.toc"
List *varArgs21 = empty_list;
varArgs21 = (List *)listCons((Value *)rslt20, varArgs21);
varArgs21 = (List *)listCons((Value *)val19, varArgs21);
Value *rslt22 = zip_lists_1783(empty_list, (Value *)varArgs21);

// type-unknown map
// #line 629 "toccata.toc"
Value *rslt23 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt22, fn6740, "toccata.toc", 629);

// call-vector
// #line 628 "toccata.toc"
Vector *newVect24 = empty_vect;
newVect24 = mutateVectConj(newVect24, line_14);
newVect24 = mutateVectConj(newVect24, rslt23);
Value *rslt25 = (Value *)newVect24;

// call-vector
// #line 632 "toccata.toc"
Vector *newVect26 = empty_vect;
Value *rslt27 = (Value *)newVect26;

// type-unknown .type-num
// #line 632 "toccata.toc"
Value *rslt29 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val28, "toccata.toc", 632);

// type-unknown map
// #line 633 "toccata.toc"
Value *rslt30 = proto2Arg(&map_Implementations_254, "<nothing>/map", val18, dispatchFnPtr5865, "toccata.toc", 633);

// static-variadic
// #line 633 "toccata.toc"
List *varArgs31 = empty_list;
Value *rslt32 = hash_map_1208(empty_list, (Value *)varArgs31);

// type-unknown reduce
// #line 633 "toccata.toc"
Value *rslt33 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt30, rslt32, fn6739, "toccata.toc", 633);

// call invoke
// #line 627 "toccata.toc"
Value *rslt34 = c_init_invoke_6003(empty_list, reifiedPtr6006, strPtr0, rslt25, rslt27, rslt29, rslt33);

// call-vector
// #line 627 "toccata.toc"
Vector *newVect35 = empty_vect;
newVect35 = mutateVectConj(newVect35, rslt34);
Value *rslt36 = (Value *)newVect35;

// call-list
// #line 627 "toccata.toc"
List *newList37 = empty_list;
newList37 = listCons((Value *)rslt36, newList37);
Value *rslt38 = (Value *)newList37;

// type-unknown comp*
// #line 627 "toccata.toc"
Value *rslt39 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val18, rslt38, "toccata.toc", 627);

// static-fixed
// #line 627 "toccata.toc"
Value *rslt40 = collapse_expressions_6058(empty_list, rslt39);
Value *v_41 = rslt40;
Value *arg6747_42 = arg6738_16;
Value *rslt43 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_44;
Value *tail_45;
Value **destArgs46[2] = {&invoke_fn_44, &tail_45};
destructValue("", "0", (Value *)rslt43, 2, destArgs46);

dec_and_free(invoke_fn_44, 1);

dec_and_free(tail_45, 1);
Value *s_47 = arg6747_42;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect48 = empty_vect;
newVect48 = mutateVectConj(newVect48, v_41);
newVect48 = mutateVectConj(newVect48, s_47);
Value *rslt49 = (Value *)newVect48;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt50 = maybe_4(empty_list, rslt49);
return(rslt50);
andRslt7 = rslt50;
}

};};
Value *arityImpl6733(List *closures, Value *args_0) {
while (1) {
Value *val1;
Value *val9;
Value *val10;
Value *val11;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[5] = {&val1, &val9, &val10, &val11, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs13);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 626 "toccata.toc"
Value *rslt2 = line_macro_5358(empty_list, val1, strPtr499);
Value *ev_3 = rslt2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6736;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)val9, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val10, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)args_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val11, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_6748 = malloc_function(1);
anon_6748->name = "anon";
anon_6748->arityCount = 1;
anon_6748->arities[0] = dynArity8;
Value *fn6735 = (Value *)anon_6748;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6735);
return(rslt12);

};};
Value *arityImpl6730(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val20;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[5] = {&val1, &val15, &val20, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs27);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 2);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6731_13 = ss_10;
Value *arity_info_14 = v_9;

// type-unknown .args
// #line 623 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls2623, "<nothing>/.args", val15, "toccata.toc", 623);

// type-unknown filter
// #line 624 "toccata.toc"
Value *rslt17 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", rslt16, produces_code_QM__5843, "toccata.toc", 624);

// type-unknown emit
// #line 625 "toccata.toc"
Value *rslt18 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt17, "toccata.toc", 625);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl6733;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val21, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)arity_info_14, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val15, (List *)dynArity19->closures);
Function *anon_6749 = malloc_function(1);
anon_6749->name = "anon";
anon_6749->arityCount = 1;
anon_6749->arities[0] = dynArity19;
Value *fn6732 = (Value *)anon_6749;

// type-unknown flat-map
// #line 623 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn6732, "toccata.toc", 623);

// dynamic unknown type
// #line 623 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg6731_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg6731_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg6731_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *arityImpl6727(List *closures, Value *target_0) {
while (1) {
Value *val2;
Value *val14;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[4] = {&val2, &val14, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs17);

incRef(val2, 1);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 622 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", target_0, "toccata.toc", 622);

// type-unknown .args
// #line 622 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls2623, "<nothing>/.args", val2, "toccata.toc", 622);

// type-unknown count
// #line 622 "toccata.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt3, "toccata.toc", 622);

// call-vector
// #line 622 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, dispatchFnPtr5469);
newVect5 = mutateVectConj(newVect5, dispatchFnPtr5723);
newVect5 = mutateVectConj(newVect5, rslt1);
newVect5 = mutateVectConj(newVect5, rslt4);
Value *rslt6 = (Value *)newVect5;

// static-fixed
// #line 622 "toccata.toc"
Value *rslt7 = get_in_val_3549(empty_list, rslt6);
Value *ev_8 = rslt7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl6730;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)val14, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)val15, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)val2, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_6750 = malloc_function(1);
anon_6750->name = "anon";
anon_6750->arityCount = 1;
anon_6750->arities[0] = dynArity13;
Value *fn6729 = (Value *)anon_6750;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6729);
return(rslt16);

};};
Value *arityImpl6724(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[5] = {&val1, &val15, &val19, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs26);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6725_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// type-unknown .call-target
// #line 621 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", val15, "toccata.toc", 621);

// type-unknown emit
// #line 621 "toccata.toc"
Value *rslt17 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt16, "toccata.toc", 621);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl6727;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val20, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val15, (List *)dynArity18->closures);
Function *anon_6751 = malloc_function(1);
anon_6751->name = "anon";
anon_6751->arityCount = 1;
anon_6751->arities[0] = dynArity18;
Value *fn6726 = (Value *)anon_6751;

// type-unknown flat-map
// #line 621 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn6726, "toccata.toc", 621);

// dynamic unknown type
// #line 621 "toccata.toc"
Value *rslt25;
if((rslt21)->type != FunctionType) {
rslt25 = invoke_368(empty_list, rslt21, arg6725_13);
} else {
FnArity *arity22 = findFnArity(rslt21, 1);
if(arity22 != (FnArity *)0 && !arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
rslt25 = fn24(arity22->closures, arg6725_13);
} else if(arity22 != (FnArity *)0 && arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
List *dynArgs23 = empty_list;
dynArgs23 = (List *)listCons(arg6725_13, dynArgs23);
rslt25 = fn24(arity22->closures, (Value *)dynArgs23);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt21)->name);
  abort();
}
dec_and_free(rslt21, 1);
}
return(rslt25);
andRslt7 = rslt25;
}

};};

// --------- anon -------------
Value *fn6721;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str501 = {StringType, -1, 7, 0, "return("};
Value *strPtr501 = (Value *)&str501;
Value *arityImpl6753(List *closures, Value *expr_0) {
 while (1) {

incRef(expr_0, 2);

// type-unknown .init
// #line 637 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5595, "<nothing>/.init", expr_0, "toccata.toc", 637);

// type-unknown .c-var
// #line 637 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", expr_0, "toccata.toc", 637);

// call-vector
// #line 637 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, rslt1);
newVect3 = mutateVectConj(newVect3, strPtr501);
newVect3 = mutateVectConj(newVect3, rslt2);
newVect3 = mutateVectConj(newVect3, strPtr442);
newVect3 = mutateVectConj(newVect3, strPtr5);
Value *rslt4 = (Value *)newVect3;

// type-unknown .init
// #line 637 "toccata.toc"
Value *rslt5 = proto2Arg(&protoImpls5597, "<nothing>/.init", expr_0, rslt4, "toccata.toc", 637);
return(rslt5);

};};
FnArity staticArity6754 = {FnArityType, -1, 1, (List *)0, 0, arityImpl6753};
Function anon_6755 = {FunctionType, -1, "anon", 1, {&staticArity6754}};
Value *fn6721 = (Value *)&anon_6755;

Value *TailExpr_emit_6720(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *ast_2;
Value *params_3;
Value *tail_4;
Value **destArgs5[3] = {&ast_2, &params_3, &tail_4};
destructValue("toccata.toc", "611", (Value *)rslt1, 3, destArgs5);

incRef(ast_2, 4);

dec_and_free(tail_4, 1);
Value *andRslt6;

// type-known for instance?
// #line 618 "toccata.toc"
Value *rslt7 = call_ast_instance_QMARK__3177(empty_list, reifiedPtr3182, ast_2);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(ast_2, 2);
} else {
dec_and_free(andRslt6, 1);
Value *orRslt8;

// type-unknown .call-target
// #line 619 "toccata.toc"
Value *rslt9 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", ast_2, "toccata.toc", 619);

// type-known for instance?
// #line 619 "toccata.toc"
Value *rslt10 = arityImpl163(empty_list, reifiedPtr166, rslt9);
orRslt8 = rslt10;
if (!isNothing(orRslt8)) {
dec_and_free(ast_2, 1);

} else {
dec_and_free(orRslt8, 1);

// type-unknown .call-target
// #line 620 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", ast_2, "toccata.toc", 620);

// type-known for instance?
// #line 620 "toccata.toc"
Value *rslt12 = tagged_symbol_instance_QMARK__4698(empty_list, reifiedPtr4703, rslt11);
orRslt8 = rslt12;
}
andRslt6 = orRslt8;
}

// static-fixed
// #line 618 "toccata.toc"
Value *rslt13 = when_4087(empty_list, andRslt6);
Value *wrapper_14 = rslt13;

incRef(wrapper_14, 1);
Value *ev_15 = wrapper_14;
Value *rslt16 = reified_type_args_22(empty_list, ev_15);
Value *invoke_fn_17;
Value *tail_18;
Value **destArgs19[2] = {&invoke_fn_17, &tail_18};
destructValue("", "0", (Value *)rslt16, 2, destArgs19);

dec_and_free(tail_18, 1);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl6724;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)params_3, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)wrapper_14, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)ast_2, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)invoke_fn_17, (List *)dynArity20->closures);
Function *anon_6752 = malloc_function(1);
anon_6752->name = "anon";
anon_6752->arityCount = 1;
anon_6752->arities[0] = dynArity20;
Value *fn6723 = (Value *)anon_6752;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt21 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6723);

// type-unknown emit
// #line 636 "toccata.toc"
Value *rslt22 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", ast_2, "toccata.toc", 636);

// type-unknown map
// #line 636 "toccata.toc"
Value *rslt23 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt22, fn6721, "toccata.toc", 636);
List *newList24 = empty_list;
newList24 = listCons((Value *)rslt23, newList24);
Value *rslt25 = (Value *)newList24;
Value *rslt26 = new_sm_comp_STAR__2805(empty_list, rslt21, rslt25);
return(rslt26);

};};
FnArity TailExpr_emit_6756 = {FnArityType, -1, 1, (List *)0, 0, TailExpr_emit_6720};
Value *TailExpr_assoc_STAR__6757(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity TailExpr_assoc_STAR__6758 = {FnArityType, -1, 5, (List *)0, 0, TailExpr_assoc_STAR__6757};
ReifiedVal reifiedStatic6759 = {175, -1, (Value *)0, 0, {}};
Value *reifiedPtr6760 = (Value *)&reifiedStatic6759;
Value *String_emit_6761(List *closures, Value *str_val_0) {
 while (1) {

incRef(str_val_0, 1);

// call-vector
// #line 642 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5583);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5410);
newVect1 = mutateVectConj(newVect1, str_val_0);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 642 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);

// static-fixed
// #line 643 "toccata.toc"
Value *rslt4 = make_static_string_6666(empty_list, str_val_0);

// call-list
// #line 642 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 642 "toccata.toc"
Value *rslt7 = new_sm_comp_STAR__2805(empty_list, rslt3, rslt6);
return(rslt7);

};};
FnArity String_emit_6762 = {FnArityType, -1, 1, (List *)0, 0, String_emit_6761};
Value *arityImpl6766(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[4] = {&val1, &val15, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6767_13 = ss_10;
Value *value_14 = v_9;

incRef(value_14, 1);
Value *arg6768_25 = arg6767_13;

// type-unknown .c-var
// #line 647 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_14, "toccata.toc", 647);

// call-vector
// #line 647 "toccata.toc"
Vector *newVect17 = empty_vect;
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 647 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// static-variadic
// #line 647 "toccata.toc"
List *varArgs21 = empty_list;
Value *rslt22 = hash_map_1208(empty_list, (Value *)varArgs21);

// call invoke
// #line 647 "toccata.toc"
Value *rslt23 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt16, rslt18, rslt20, StringType_5363, rslt22);

// static-fixed
// #line 647 "toccata.toc"
Value *rslt24 = new_module_def_6527(empty_list, val15, rslt23);
Value *ev_26 = rslt24;
Value *arg6769_27 = arg6768_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg6769_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
dec_and_free(value_14, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg6770_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg6771_47 = arg6770_44;
Value *__48 = val46;

// static-fixed
// #line 648 "toccata.toc"
Value *rslt49 = make_c_code_6685(empty_list, value_14);

// call-vector
// #line 648 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt49);
Value *rslt51 = (Value *)newVect50;
Value *v_52 = rslt51;
Value *arg6772_53 = arg6771_47;
Value *rslt54 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg6772_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt38 = rslt61;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *String_emit_defined_value_6763(List *closures, Value *str_val_0, Value *defined_sym_1) {
 while (1) {

// type-known for emit
// #line 646 "toccata.toc"
Value *rslt2 = String_emit_6761(empty_list, str_val_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6766;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6773 = malloc_function(1);
anon_6773->name = "anon";
anon_6773->arityCount = 1;
anon_6773->arities[0] = dynArity9;
Value *fn6765 = (Value *)anon_6773;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6765);
return(rslt10);

};};
FnArity String_emit_defined_value_6774 = {FnArityType, -1, 2, (List *)0, 0, String_emit_defined_value_6763};
Value *String_tail_call_6775(List *closures, Value *x_0, Value *params_1) {
 while (1) {

// call invoke
// #line 650 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, x_0, params_1);
return(rslt2);

};};
FnArity String_tail_call_6776 = {FnArityType, -1, 2, (List *)0, 0, String_tail_call_6775};
Value *SubString_emit_6777(List *closures, Value *str_val_0) {
 while (1) {

incRef(str_val_0, 1);

// call-vector
// #line 642 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5583);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5410);
newVect1 = mutateVectConj(newVect1, str_val_0);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 642 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);

// static-fixed
// #line 643 "toccata.toc"
Value *rslt4 = make_static_string_6666(empty_list, str_val_0);

// call-list
// #line 642 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 642 "toccata.toc"
Value *rslt7 = new_sm_comp_STAR__2805(empty_list, rslt3, rslt6);
return(rslt7);

};};
FnArity SubString_emit_6778 = {FnArityType, -1, 1, (List *)0, 0, SubString_emit_6777};
Value *arityImpl6782(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[4] = {&val1, &val15, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6783_13 = ss_10;
Value *value_14 = v_9;

incRef(value_14, 1);
Value *arg6784_25 = arg6783_13;

// type-unknown .c-var
// #line 647 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_14, "toccata.toc", 647);

// call-vector
// #line 647 "toccata.toc"
Vector *newVect17 = empty_vect;
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 647 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// static-variadic
// #line 647 "toccata.toc"
List *varArgs21 = empty_list;
Value *rslt22 = hash_map_1208(empty_list, (Value *)varArgs21);

// call invoke
// #line 647 "toccata.toc"
Value *rslt23 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt16, rslt18, rslt20, StringType_5363, rslt22);

// static-fixed
// #line 647 "toccata.toc"
Value *rslt24 = new_module_def_6527(empty_list, val15, rslt23);
Value *ev_26 = rslt24;
Value *arg6785_27 = arg6784_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg6785_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
dec_and_free(value_14, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg6786_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg6787_47 = arg6786_44;
Value *__48 = val46;

// static-fixed
// #line 648 "toccata.toc"
Value *rslt49 = make_c_code_6685(empty_list, value_14);

// call-vector
// #line 648 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt49);
Value *rslt51 = (Value *)newVect50;
Value *v_52 = rslt51;
Value *arg6788_53 = arg6787_47;
Value *rslt54 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg6788_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt38 = rslt61;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *SubString_emit_defined_value_6779(List *closures, Value *str_val_0, Value *defined_sym_1) {
 while (1) {

// type-known for emit
// #line 646 "toccata.toc"
Value *rslt2 = SubString_emit_6777(empty_list, str_val_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6782;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6789 = malloc_function(1);
anon_6789->name = "anon";
anon_6789->arityCount = 1;
anon_6789->arities[0] = dynArity9;
Value *fn6781 = (Value *)anon_6789;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6781);
return(rslt10);

};};
FnArity SubString_emit_defined_value_6790 = {FnArityType, -1, 2, (List *)0, 0, SubString_emit_defined_value_6779};
Value *SubString_tail_call_6791(List *closures, Value *x_0, Value *params_1) {
 while (1) {

// call invoke
// #line 650 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, x_0, params_1);
return(rslt2);

};};
FnArity SubString_tail_call_6792 = {FnArityType, -1, 2, (List *)0, 0, SubString_tail_call_6791};

// --------- make-static-num -------------
Value *make_static_num_6794;
Value *arityImpl6797(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown count
// #line 654 "toccata.toc"
Value *rslt13 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_9, "toccata.toc", 654);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str502 = {StringType, -1, 3, 0, "num"};
Value *strPtr502 = (Value *)&str502;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str503 = {StringType, -1, 6, 0, "numPtr"};
Value *strPtr503 = (Value *)&str503;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str504 = {StringType, -1, 8, 0, "Integer "};
Value *strPtr504 = (Value *)&str504;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str505 = {StringType, -1, 21, 0, " = {IntegerType, -1, "};
Value *strPtr505 = (Value *)&str505;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str506 = {StringType, -1, 3, 0, "};\n"};
Value *strPtr506 = (Value *)&str506;
Value *arityImpl6801(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val22;
Value *val54;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs74[4] = {&val1, &val22, &val54, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs74);

incRef(val22, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val54, 1);
dec_and_free(x_6, 1);
dec_and_free(val22, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6802_13 = ss_10;
Value *num_idx_14 = v_9;

incRef(num_idx_14, 1);
Value *arg6803_15 = arg6802_13;

// static-variadic
// #line 655 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)num_idx_14, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr502, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);
Value *num_sym_18 = rslt17;

incRef(num_sym_18, 1);

// static-variadic
// #line 656 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)num_idx_14, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr503, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);
Value *num_ptr_21 = rslt20;

incRef(num_ptr_21, 2);
Value *arg6804_33 = arg6803_15;

// call-vector
// #line 657 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5583);
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5411);
newVect23 = mutateVectConj(newVect23, val22);
Value *rslt24 = (Value *)newVect23;

// call-vector
// #line 658 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 658 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// static-variadic
// #line 658 "toccata.toc"
List *varArgs29 = empty_list;
Value *rslt30 = hash_map_1208(empty_list, (Value *)varArgs29);

// call invoke
// #line 658 "toccata.toc"
Value *rslt31 = c_code_invoke_5942(empty_list, reifiedPtr5945, num_ptr_21, rslt26, rslt28, IntegerType_5362, rslt30);

// static-fixed
// #line 657 "toccata.toc"
Value *rslt32 = assoc_in_val_3599(empty_list, rslt24, rslt31);
Value *ev_34 = rslt32;
Value *arg6805_35 = arg6804_33;
Value *rslt36 = reified_type_args_22(empty_list, ev_34);
Value *invoke_fn_37;
Value *tail_38;
Value **destArgs39[2] = {&invoke_fn_37, &tail_38};
destructValue("", "0", (Value *)rslt36, 2, destArgs39);

dec_and_free(tail_38, 1);
Value *s_40 = arg6805_35;
Value *rslt44;
if((invoke_fn_37)->type != FunctionType) {
rslt44 = invoke_368(empty_list, invoke_fn_37, s_40);
} else {
FnArity *arity41 = findFnArity(invoke_fn_37, 1);
if(arity41 != (FnArity *)0 && !arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
rslt44 = fn43(arity41->closures, s_40);
} else if(arity41 != (FnArity *)0 && arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
List *dynArgs42 = empty_list;
dynArgs42 = (List *)listCons(s_40, dynArgs42);
rslt44 = fn43(arity41->closures, (Value *)dynArgs42);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_37)->name);
  abort();
}
dec_and_free(invoke_fn_37, 1);
}
Value *x_45 = rslt44;

incRef(x_45, 1);
Value *andRslt46;
andRslt46 = x_45;
if (isNothing(andRslt46)) {
dec_and_free(val54, 1);
dec_and_free(num_ptr_21, 2);
dec_and_free(x_45, 1);
dec_and_free(num_sym_18, 2);
dec_and_free(val22, 1);
} else {
dec_and_free(andRslt46, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt47 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_45, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_48;
Value *ss_49;
Value *tail_50;
Value **destArgs51[3] = {&v_48, &ss_49, &tail_50};
destructValue("", "0", (Value *)rslt47, 3, destArgs51);

dec_and_free(tail_50, 1);
Value *arg6806_52 = ss_49;
Value *arg53 = v_48;

dec_and_free(arg53, 1);
Value *arg6807_55 = arg6806_52;
Value *__56 = val54;

// call-vector
// #line 660 "toccata.toc"
Vector *newVect57 = empty_vect;
Value *rslt58 = (Value *)newVect57;

// call-vector
// #line 661 "toccata.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, strPtr504);
newVect59 = mutateVectConj(newVect59, num_sym_18);
newVect59 = mutateVectConj(newVect59, strPtr505);
newVect59 = mutateVectConj(newVect59, val22);
newVect59 = mutateVectConj(newVect59, strPtr506);
newVect59 = mutateVectConj(newVect59, strPtr492);
newVect59 = mutateVectConj(newVect59, num_ptr_21);
newVect59 = mutateVectConj(newVect59, strPtr493);
newVect59 = mutateVectConj(newVect59, num_sym_18);
newVect59 = mutateVectConj(newVect59, strPtr494);
Value *rslt60 = (Value *)newVect59;

// static-variadic
// #line 663 "toccata.toc"
List *varArgs61 = empty_list;
Value *rslt62 = hash_map_1208(empty_list, (Value *)varArgs61);

// call invoke
// #line 659 "toccata.toc"
Value *rslt63 = c_init_invoke_6003(empty_list, reifiedPtr6006, num_ptr_21, rslt58, rslt60, IntegerType_5362, rslt62);
Value *v_64 = rslt63;
Value *arg6808_65 = arg6807_55;
Value *rslt66 = reified_type_args_22(empty_list, __56);
Value *invoke_fn_67;
Value *tail_68;
Value **destArgs69[2] = {&invoke_fn_67, &tail_68};
destructValue("", "0", (Value *)rslt66, 2, destArgs69);

dec_and_free(invoke_fn_67, 1);

dec_and_free(tail_68, 1);
Value *s_70 = arg6808_65;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect71 = empty_vect;
newVect71 = mutateVectConj(newVect71, v_64);
newVect71 = mutateVectConj(newVect71, s_70);
Value *rslt72 = (Value *)newVect71;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt73 = maybe_4(empty_list, rslt72);
andRslt46 = rslt73;
}
return(andRslt46);
andRslt7 = andRslt46;
}

};};
Value *make_static_num_6795(List *closures, Value *num_0) {
 while (1) {

// call-vector
// #line 654 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5583);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5411);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 654 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
Value *__4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, __4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6797;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6798 = malloc_function(1);
anon_6798->name = "anon";
anon_6798->arityCount = 1;
anon_6798->arities[0] = dynArity9;
Value *fn6796 = (Value *)anon_6798;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6796);
Value *wrapper_11 = rslt10;

incRef(wrapper_11, 1);
Value *ev_12 = wrapper_11;
Value *rslt13 = reified_type_args_22(empty_list, ev_12);
Value *invoke_fn_14;
Value *tail_15;
Value **destArgs16[2] = {&invoke_fn_14, &tail_15};
destructValue("", "0", (Value *)rslt13, 2, destArgs16);

dec_and_free(tail_15, 1);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl6801;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)wrapper_11, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)num_0, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)invoke_fn_14, (List *)dynArity17->closures);
Function *anon_6809 = malloc_function(1);
anon_6809->name = "anon";
anon_6809->arityCount = 1;
anon_6809->arities[0] = dynArity17;
Value *fn6800 = (Value *)anon_6809;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6800);
return(rslt18);

};};
FnArity make_static_num_6810 = {FnArityType, -1, 1, (List *)0, 0, make_static_num_6795};
Function make_static_num_6811 = {FunctionType, -1, "make-static-num", 1, {&make_static_num_6810}};
Value *make_static_num_6794 = (Value *)&make_static_num_6811;

Value *Integer_replace_syms_6812(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);

// call invoke
// #line 668 "toccata.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, ast_0);
return(rslt2);

};};
FnArity Integer_replace_syms_6813 = {FnArityType, -1, 2, (List *)0, 0, Integer_replace_syms_6812};
Value *Integer_replace_bound_vars_6814(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);
return(ast_0);

};};
FnArity Integer_replace_bound_vars_6815 = {FnArityType, -1, 2, (List *)0, 0, Integer_replace_bound_vars_6814};
Value *Integer_emit_6816(List *closures, Value *num_0) {
 while (1) {

incRef(num_0, 1);

// call-vector
// #line 674 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5583);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5411);
newVect1 = mutateVectConj(newVect1, num_0);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 674 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);

// static-fixed
// #line 675 "toccata.toc"
Value *rslt4 = make_static_num_6795(empty_list, num_0);

// call-list
// #line 674 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 674 "toccata.toc"
Value *rslt7 = new_sm_comp_STAR__2805(empty_list, rslt3, rslt6);
return(rslt7);

};};
FnArity Integer_emit_6817 = {FnArityType, -1, 1, (List *)0, 0, Integer_emit_6816};
Value *arityImpl6821(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[4] = {&val1, &val15, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6822_13 = ss_10;
Value *value_14 = v_9;

incRef(value_14, 1);
Value *arg6823_25 = arg6822_13;

// type-unknown .c-var
// #line 679 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_14, "toccata.toc", 679);

// call-vector
// #line 679 "toccata.toc"
Vector *newVect17 = empty_vect;
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 679 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// static-variadic
// #line 679 "toccata.toc"
List *varArgs21 = empty_list;
Value *rslt22 = hash_map_1208(empty_list, (Value *)varArgs21);

// call invoke
// #line 679 "toccata.toc"
Value *rslt23 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt16, rslt18, rslt20, IntegerType_5362, rslt22);

// static-fixed
// #line 679 "toccata.toc"
Value *rslt24 = new_module_def_6527(empty_list, val15, rslt23);
Value *ev_26 = rslt24;
Value *arg6824_27 = arg6823_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg6824_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
dec_and_free(value_14, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg6825_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg6826_47 = arg6825_44;
Value *__48 = val46;

// static-fixed
// #line 680 "toccata.toc"
Value *rslt49 = make_c_code_6685(empty_list, value_14);

// call-vector
// #line 680 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt49);
Value *rslt51 = (Value *)newVect50;
Value *v_52 = rslt51;
Value *arg6827_53 = arg6826_47;
Value *rslt54 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg6827_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt38 = rslt61;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *Integer_emit_defined_value_6818(List *closures, Value *num_0, Value *defined_sym_1) {
 while (1) {

// type-known for emit
// #line 678 "toccata.toc"
Value *rslt2 = Integer_emit_6816(empty_list, num_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6821;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6828 = malloc_function(1);
anon_6828->name = "anon";
anon_6828->arityCount = 1;
anon_6828->arities[0] = dynArity9;
Value *fn6820 = (Value *)anon_6828;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6820);
return(rslt10);

};};
FnArity Integer_emit_defined_value_6829 = {FnArityType, -1, 2, (List *)0, 0, Integer_emit_defined_value_6818};
Value *Integer_tail_call_6830(List *closures, Value *x_0, Value *params_1) {
 while (1) {

// call invoke
// #line 682 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, x_0, params_1);
return(rslt2);

};};
FnArity Integer_tail_call_6831 = {FnArityType, -1, 2, (List *)0, 0, Integer_tail_call_6830};
Value *replace_syms_6832(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);

// call invoke
// #line 688 "toccata.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, ast_0);
return(rslt2);

};};
FnArity replace_syms_6833 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_6832};
Value *replace_bound_vars_6834(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);
return(ast_0);

};};
FnArity replace_bound_vars_6835 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_6834};
Value *arityImpl6838(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown count
// #line 696 "toccata.toc"
Value *rslt13 = proto1Arg(&count_Implementations_300, "<nothing>/count", v_9, "toccata.toc", 696);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str507 = {StringType, -1, 6, 0, "symPtr"};
Value *strPtr507 = (Value *)&str507;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str508 = {StringType, -1, 10, 0, "SubString "};
Value *strPtr508 = (Value *)&str508;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str509 = {StringType, -1, 20, 0, " = {SymbolType, -1, "};
Value *strPtr509 = (Value *)&str509;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str510 = {StringType, -1, 9, 0, ", 0, 0, \""};
Value *strPtr510 = (Value *)&str510;
Value *arityImpl6842(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val22;
Value *val54;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs77[4] = {&val1, &val22, &val54, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs77);

incRef(val22, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val54, 1);
dec_and_free(x_6, 1);
dec_and_free(val22, 3);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6843_13 = ss_10;
Value *sym_idx_14 = v_9;

incRef(sym_idx_14, 1);
Value *arg6844_15 = arg6843_13;

// static-variadic
// #line 697 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)sym_idx_14, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr100, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);
Value *sym_var_18 = rslt17;

incRef(sym_var_18, 1);

// static-variadic
// #line 698 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)sym_idx_14, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr507, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);
Value *sym_ptr_21 = rslt20;

incRef(sym_ptr_21, 2);
Value *arg6845_33 = arg6844_15;

// call-vector
// #line 699 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5583);
newVect23 = mutateVectConj(newVect23, dispatchFnPtr5409);
newVect23 = mutateVectConj(newVect23, val22);
Value *rslt24 = (Value *)newVect23;

// call-vector
// #line 700 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 700 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// static-variadic
// #line 700 "toccata.toc"
List *varArgs29 = empty_list;
Value *rslt30 = hash_map_1208(empty_list, (Value *)varArgs29);

// call invoke
// #line 700 "toccata.toc"
Value *rslt31 = c_code_invoke_5942(empty_list, reifiedPtr5945, sym_ptr_21, rslt26, rslt28, SymbolType_5371, rslt30);

// static-fixed
// #line 699 "toccata.toc"
Value *rslt32 = assoc_in_val_3599(empty_list, rslt24, rslt31);
Value *ev_34 = rslt32;
Value *arg6846_35 = arg6845_33;
Value *rslt36 = reified_type_args_22(empty_list, ev_34);
Value *invoke_fn_37;
Value *tail_38;
Value **destArgs39[2] = {&invoke_fn_37, &tail_38};
destructValue("", "0", (Value *)rslt36, 2, destArgs39);

dec_and_free(tail_38, 1);
Value *s_40 = arg6846_35;
Value *rslt44;
if((invoke_fn_37)->type != FunctionType) {
rslt44 = invoke_368(empty_list, invoke_fn_37, s_40);
} else {
FnArity *arity41 = findFnArity(invoke_fn_37, 1);
if(arity41 != (FnArity *)0 && !arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
rslt44 = fn43(arity41->closures, s_40);
} else if(arity41 != (FnArity *)0 && arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
List *dynArgs42 = empty_list;
dynArgs42 = (List *)listCons(s_40, dynArgs42);
rslt44 = fn43(arity41->closures, (Value *)dynArgs42);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_37)->name);
  abort();
}
dec_and_free(invoke_fn_37, 1);
}
Value *x_45 = rslt44;

incRef(x_45, 1);
Value *andRslt46;
andRslt46 = x_45;
if (isNothing(andRslt46)) {
dec_and_free(val54, 1);
dec_and_free(sym_var_18, 2);
dec_and_free(sym_ptr_21, 2);
dec_and_free(x_45, 1);
dec_and_free(val22, 2);
} else {
dec_and_free(andRslt46, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt47 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_45, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_48;
Value *ss_49;
Value *tail_50;
Value **destArgs51[3] = {&v_48, &ss_49, &tail_50};
destructValue("", "0", (Value *)rslt47, 3, destArgs51);

dec_and_free(tail_50, 1);
Value *arg6847_52 = ss_49;
Value *arg53 = v_48;

dec_and_free(arg53, 1);
Value *arg6848_55 = arg6847_52;
Value *__56 = val54;

// call-vector
// #line 702 "toccata.toc"
Vector *newVect57 = empty_vect;
Value *rslt58 = (Value *)newVect57;

// static-variadic
// #line 703 "toccata.toc"
List *varArgs59 = empty_list;
varArgs59 = (List *)listCons((Value *)val22, varArgs59);
Value *rslt60 = str_526(empty_list, (Value *)varArgs59);

// type-known for count
// #line 703 "toccata.toc"
Value *rslt61 = String_count_649(empty_list, rslt60);

// call-vector
// #line 703 "toccata.toc"
Vector *newVect62 = empty_vect;
newVect62 = mutateVectConj(newVect62, strPtr508);
newVect62 = mutateVectConj(newVect62, sym_var_18);
newVect62 = mutateVectConj(newVect62, strPtr509);
newVect62 = mutateVectConj(newVect62, rslt61);
newVect62 = mutateVectConj(newVect62, strPtr510);
newVect62 = mutateVectConj(newVect62, val22);
newVect62 = mutateVectConj(newVect62, strPtr491);
newVect62 = mutateVectConj(newVect62, strPtr492);
newVect62 = mutateVectConj(newVect62, sym_ptr_21);
newVect62 = mutateVectConj(newVect62, strPtr493);
newVect62 = mutateVectConj(newVect62, sym_var_18);
newVect62 = mutateVectConj(newVect62, strPtr494);
Value *rslt63 = (Value *)newVect62;

// static-variadic
// #line 706 "toccata.toc"
List *varArgs64 = empty_list;
Value *rslt65 = hash_map_1208(empty_list, (Value *)varArgs64);

// call invoke
// #line 701 "toccata.toc"
Value *rslt66 = c_code_invoke_5942(empty_list, reifiedPtr5945, sym_ptr_21, rslt58, rslt63, SymbolType_5371, rslt65);
Value *v_67 = rslt66;
Value *arg6849_68 = arg6848_55;
Value *rslt69 = reified_type_args_22(empty_list, __56);
Value *invoke_fn_70;
Value *tail_71;
Value **destArgs72[2] = {&invoke_fn_70, &tail_71};
destructValue("", "0", (Value *)rslt69, 2, destArgs72);

dec_and_free(invoke_fn_70, 1);

dec_and_free(tail_71, 1);
Value *s_73 = arg6849_68;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, v_67);
newVect74 = mutateVectConj(newVect74, s_73);
Value *rslt75 = (Value *)newVect74;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt76 = maybe_4(empty_list, rslt75);
andRslt46 = rslt76;
}
return(andRslt46);
andRslt7 = andRslt46;
}

};};
Value *emit_6836(List *closures, Value *ast_0) {
 while (1) {

// type-known for .q-val
// #line 694 "toccata.toc"
Value *rslt1 = quoted_ast_q_val_4258(empty_list, ast_0);
Value *sym_2 = rslt1;

incRef(sym_2, 1);

// call-vector
// #line 695 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5583);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5409);
newVect3 = mutateVectConj(newVect3, sym_2);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 695 "toccata.toc"
Value *rslt5 = get_in_val_3549(empty_list, rslt4);

// call-vector
// #line 696 "toccata.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, dispatchFnPtr5583);
newVect6 = mutateVectConj(newVect6, dispatchFnPtr5409);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 696 "toccata.toc"
Value *rslt8 = get_in_val_3549(empty_list, rslt7);
Value *__9 = rslt8;
Value *rslt10 = reified_type_args_22(empty_list, __9);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl6838;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)invoke_fn_11, (List *)dynArity14->closures);
Function *anon_6839 = malloc_function(1);
anon_6839->name = "anon";
anon_6839->arityCount = 1;
anon_6839->arities[0] = dynArity14;
Value *fn6837 = (Value *)anon_6839;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6837);
Value *wrapper_16 = rslt15;

incRef(wrapper_16, 1);
Value *ev_17 = wrapper_16;
Value *rslt18 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_19;
Value *tail_20;
Value **destArgs21[2] = {&invoke_fn_19, &tail_20};
destructValue("", "0", (Value *)rslt18, 2, destArgs21);

dec_and_free(tail_20, 1);
FnArity *dynArity22 = malloc_fnArity();
dynArity22->count = 1;
dynArity22->variadic = 0;
dynArity22->fn = arityImpl6842;
dynArity22->closures = empty_list;
dynArity22->closures = listCons((Value *)wrapper_16, (List *)dynArity22->closures);
dynArity22->closures = listCons((Value *)sym_2, (List *)dynArity22->closures);
dynArity22->closures = listCons((Value *)invoke_fn_19, (List *)dynArity22->closures);
Function *anon_6850 = malloc_function(1);
anon_6850->name = "anon";
anon_6850->arityCount = 1;
anon_6850->arities[0] = dynArity22;
Value *fn6841 = (Value *)anon_6850;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6841);

// call-list
// #line 695 "toccata.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)rslt23, newList24);
Value *rslt25 = (Value *)newList24;

// type-known for comp*
// #line 695 "toccata.toc"
Value *rslt26 = new_sm_comp_STAR__2805(empty_list, rslt5, rslt25);
return(rslt26);

};};
FnArity emit_6851 = {FnArityType, -1, 1, (List *)0, 0, emit_6836};
Value *arityImpl6855(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[4] = {&val1, &val15, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6856_13 = ss_10;
Value *quoted_14 = v_9;

incRef(quoted_14, 1);
Value *arg6857_25 = arg6856_13;

// type-unknown .c-var
// #line 710 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", quoted_14, "toccata.toc", 710);

// call-vector
// #line 710 "toccata.toc"
Vector *newVect17 = empty_vect;
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 710 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// static-variadic
// #line 710 "toccata.toc"
List *varArgs21 = empty_list;
Value *rslt22 = hash_map_1208(empty_list, (Value *)varArgs21);

// call invoke
// #line 710 "toccata.toc"
Value *rslt23 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt16, rslt18, rslt20, SymbolType_5371, rslt22);

// static-fixed
// #line 710 "toccata.toc"
Value *rslt24 = new_module_def_6527(empty_list, val15, rslt23);
Value *ev_26 = rslt24;
Value *arg6858_27 = arg6857_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg6858_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
dec_and_free(quoted_14, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg6859_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg6860_47 = arg6859_44;
Value *__48 = val46;

// static-fixed
// #line 711 "toccata.toc"
Value *rslt49 = make_c_code_6685(empty_list, quoted_14);

// call-vector
// #line 711 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt49);
Value *rslt51 = (Value *)newVect50;
Value *v_52 = rslt51;
Value *arg6861_53 = arg6860_47;
Value *rslt54 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg6861_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt38 = rslt61;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *emit_defined_value_6852(List *closures, Value *ast_0, Value *defined_sym_1) {
 while (1) {

// type-known for emit
// #line 709 "toccata.toc"
Value *rslt2 = emit_6836(empty_list, ast_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl6855;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_6862 = malloc_function(1);
anon_6862->name = "anon";
anon_6862->arityCount = 1;
anon_6862->arities[0] = dynArity9;
Value *fn6854 = (Value *)anon_6862;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6854);
return(rslt10);

};};
FnArity emit_defined_value_6863 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_6852};
Value *tail_call_6864(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// call invoke
// #line 713 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, ast_0, params_1);
return(rslt2);

};};
FnArity tail_call_6865 = {FnArityType, -1, 2, (List *)0, 0, tail_call_6864};

// --------- call-vector -------------
Value *call_vector_6867;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str511 = {StringType, -1, 7, 0, "newVect"};
Value *strPtr511 = (Value *)&str511;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str512 = {StringType, -1, 4, 0, "rslt"};
Value *strPtr512 = (Value *)&str512;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str513 = {StringType, -1, 14, 0, "// call-vector"};
Value *strPtr513 = (Value *)&str513;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str514 = {StringType, -1, 8, 0, "Vector *"};
Value *strPtr514 = (Value *)&str514;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str515 = {StringType, -1, 14, 0, " = empty_vect;"};
Value *strPtr515 = (Value *)&str515;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str516 = {StringType, -1, 18, 0, " = mutateVectConj("};
Value *strPtr516 = (Value *)&str516;
Value *arityImpl6885(List *closures, Value *arg_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

incRef(val3, 1);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 727 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arg_0, "toccata.toc", 727);
Value *arg_sym_2 = rslt1;

// call-vector
// #line 728 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, val3);
newVect4 = mutateVectConj(newVect4, strPtr516);
newVect4 = mutateVectConj(newVect4, val3);
newVect4 = mutateVectConj(newVect4, strPtr17);
newVect4 = mutateVectConj(newVect4, arg_sym_2);
newVect4 = mutateVectConj(newVect4, strPtr442);
newVect4 = mutateVectConj(newVect4, strPtr5);
Value *rslt5 = (Value *)newVect4;
return(rslt5);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str517 = {StringType, -1, 12, 0, " = (Value *)"};
Value *strPtr517 = (Value *)&str517;
Value *arityImpl6871(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val59;
Value *val82;
Value *val86;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs116[5] = {&val1, &val59, &val82, &val86, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs116);

incRef(val86, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val59, 1);
dec_and_free(x_6, 1);
dec_and_free(val82, 1);
dec_and_free(val86, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6872_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6873_16 = arg6872_13;

// static-fixed
// #line 718 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr511);
Value *ev_17 = rslt15;
Value *arg6874_18 = arg6873_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg6874_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val59, 1);
dec_and_free(val82, 1);
dec_and_free(x_28, 1);
dec_and_free(val86, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg6875_35 = ss_32;
Value *vect_sym_36 = v_31;

incRef(vect_sym_36, 2);
Value *arg6876_38 = arg6875_35;

// static-fixed
// #line 719 "toccata.toc"
Value *rslt37 = genlocal_6379(empty_list, strPtr512);
Value *ev_39 = rslt37;
Value *arg6877_40 = arg6876_38;
Value *rslt41 = reified_type_args_22(empty_list, ev_39);
Value *invoke_fn_42;
Value *tail_43;
Value **destArgs44[2] = {&invoke_fn_42, &tail_43};
destructValue("", "0", (Value *)rslt41, 2, destArgs44);

dec_and_free(tail_43, 1);
Value *s_45 = arg6877_40;
Value *rslt49;
if((invoke_fn_42)->type != FunctionType) {
rslt49 = invoke_368(empty_list, invoke_fn_42, s_45);
} else {
FnArity *arity46 = findFnArity(invoke_fn_42, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, s_45);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(s_45, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_42)->name);
  abort();
}
dec_and_free(invoke_fn_42, 1);
}
Value *x_50 = rslt49;

incRef(x_50, 1);
Value *andRslt51;
andRslt51 = x_50;
if (isNothing(andRslt51)) {
dec_and_free(x_50, 1);
dec_and_free(val59, 1);
dec_and_free(val82, 1);
dec_and_free(vect_sym_36, 3);
dec_and_free(val86, 2);
} else {
dec_and_free(andRslt51, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_50, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_53;
Value *ss_54;
Value *tail_55;
Value **destArgs56[3] = {&v_53, &ss_54, &tail_55};
destructValue("", "0", (Value *)rslt52, 3, destArgs56);

dec_and_free(tail_55, 1);
Value *arg6878_57 = ss_54;
Value *result_sym_58 = v_53;

incRef(result_sym_58, 1);
Value *arg6879_61 = arg6878_57;

// static-fixed
// #line 720 "toccata.toc"
Value *rslt60 = line_macro_5358(empty_list, val59, strPtr513);
Value *ev_62 = rslt60;
Value *arg6880_63 = arg6879_61;
Value *rslt64 = reified_type_args_22(empty_list, ev_62);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(tail_66, 1);
Value *s_68 = arg6880_63;
Value *rslt72;
if((invoke_fn_65)->type != FunctionType) {
rslt72 = invoke_368(empty_list, invoke_fn_65, s_68);
} else {
FnArity *arity69 = findFnArity(invoke_fn_65, 1);
if(arity69 != (FnArity *)0 && !arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
rslt72 = fn71(arity69->closures, s_68);
} else if(arity69 != (FnArity *)0 && arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
List *dynArgs70 = empty_list;
dynArgs70 = (List *)listCons(s_68, dynArgs70);
rslt72 = fn71(arity69->closures, (Value *)dynArgs70);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_65)->name);
  abort();
}
dec_and_free(invoke_fn_65, 1);
}
Value *x_73 = rslt72;

incRef(x_73, 1);
Value *andRslt74;
andRslt74 = x_73;
if (isNothing(andRslt74)) {
dec_and_free(val82, 1);
dec_and_free(result_sym_58, 2);
dec_and_free(vect_sym_36, 3);
dec_and_free(x_73, 1);
dec_and_free(val86, 2);
} else {
dec_and_free(andRslt74, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_73, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_76;
Value *ss_77;
Value *tail_78;
Value **destArgs79[3] = {&v_76, &ss_77, &tail_78};
destructValue("", "0", (Value *)rslt75, 3, destArgs79);

dec_and_free(tail_78, 1);
Value *arg6881_80 = ss_77;
Value *line_81 = v_76;
Value *arg6882_83 = arg6881_80;
Value *__84 = val82;
Value *f_85 = comp_240;
FnArity *dynArity87 = malloc_fnArity();
dynArity87->count = 1;
dynArity87->variadic = 0;
dynArity87->fn = arityImpl6885;
dynArity87->closures = empty_list;
dynArity87->closures = listCons((Value *)vect_sym_36, (List *)dynArity87->closures);
Function *anon_6886 = malloc_function(1);
anon_6886->name = "anon";
anon_6886->arityCount = 1;
anon_6886->arities[0] = dynArity87;
Value *fn6884 = (Value *)anon_6886;

// type-unknown map
// #line 725 "toccata.toc"
Value *rslt88 = proto2Arg(&map_Implementations_254, "<nothing>/map", val86, fn6884, "toccata.toc", 725);

// call-vector
// #line 723 "toccata.toc"
Vector *newVect89 = empty_vect;
newVect89 = mutateVectConj(newVect89, line_81);
newVect89 = mutateVectConj(newVect89, strPtr514);
newVect89 = mutateVectConj(newVect89, vect_sym_36);
newVect89 = mutateVectConj(newVect89, strPtr515);
newVect89 = mutateVectConj(newVect89, strPtr5);
newVect89 = mutateVectConj(newVect89, rslt88);
newVect89 = mutateVectConj(newVect89, strPtr492);
newVect89 = mutateVectConj(newVect89, result_sym_58);
newVect89 = mutateVectConj(newVect89, strPtr517);
newVect89 = mutateVectConj(newVect89, vect_sym_36);
newVect89 = mutateVectConj(newVect89, strPtr303);
newVect89 = mutateVectConj(newVect89, strPtr5);
Value *rslt90 = (Value *)newVect89;

// call-vector
// #line 731 "toccata.toc"
Vector *newVect91 = empty_vect;
Value *rslt92 = (Value *)newVect91;

// static-variadic
// #line 731 "toccata.toc"
List *varArgs93 = empty_list;
Value *rslt94 = hash_map_1208(empty_list, (Value *)varArgs93);

// call invoke
// #line 722 "toccata.toc"
Value *rslt95 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_58, rslt90, rslt92, VectorType_5369, rslt94);

// call-vector
// #line 722 "toccata.toc"
Vector *newVect96 = empty_vect;
newVect96 = mutateVectConj(newVect96, rslt95);
Value *rslt97 = (Value *)newVect96;

// call-list
// #line 721 "toccata.toc"
List *newList98 = empty_list;
newList98 = listCons((Value *)rslt97, newList98);
Value *rslt99 = (Value *)newList98;

// type-unknown comp*
// #line 721 "toccata.toc"
Value *rslt100 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val86, rslt99, "toccata.toc", 721);

// call-list
// #line 721 "toccata.toc"
List *newList101 = empty_list;
newList101 = listCons((Value *)rslt100, newList101);
Value *rslt102 = (Value *)newList101;
Value *args_103 = rslt102;

// static-fixed
// #line 737 "core"
Value *rslt104 = fn_apply_98(empty_list, list_STAR__478, args_103);

// static-fixed
// #line 737 "core"
Value *rslt105 = fn_apply_98(empty_list, f_85, rslt104);
Value *v_106 = rslt105;
Value *arg6887_107 = arg6882_83;
Value *rslt108 = reified_type_args_22(empty_list, __84);
Value *invoke_fn_109;
Value *tail_110;
Value **destArgs111[2] = {&invoke_fn_109, &tail_110};
destructValue("", "0", (Value *)rslt108, 2, destArgs111);

dec_and_free(invoke_fn_109, 1);

dec_and_free(tail_110, 1);
Value *s_112 = arg6887_107;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect113 = empty_vect;
newVect113 = mutateVectConj(newVect113, v_106);
newVect113 = mutateVectConj(newVect113, s_112);
Value *rslt114 = (Value *)newVect113;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt115 = maybe_4(empty_list, rslt114);
andRslt74 = rslt115;
}
andRslt51 = andRslt74;
}
andRslt29 = andRslt51;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *call_vector_6868(List *closures, Value *target_0, Value *args_1) {
 while (1) {

incRef(target_0, 1);

// static-fixed
// #line 717 "toccata.toc"
Value *rslt2 = _EQ__557(empty_list, target_0, symPtr9);

// static-fixed
// #line 717 "toccata.toc"
Value *rslt3 = when_4087(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6871;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)args_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)target_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6888 = malloc_function(1);
anon_6888->name = "anon";
anon_6888->arityCount = 1;
anon_6888->arities[0] = dynArity10;
Value *fn6870 = (Value *)anon_6888;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6870);
return(rslt11);

};};
FnArity call_vector_6889 = {FnArityType, -1, 2, (List *)0, 0, call_vector_6868};
Function call_vector_6890 = {FunctionType, -1, "call-vector", 1, {&call_vector_6889}};
Value *call_vector_6867 = (Value *)&call_vector_6890;


// --------- call-list -------------
Value *call_list_6892;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str518 = {StringType, -1, 12, 0, "// call-list"};
Value *strPtr518 = (Value *)&str518;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str519 = {StringType, -1, 7, 0, "newList"};
Value *strPtr519 = (Value *)&str519;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str520 = {StringType, -1, 6, 0, "List *"};
Value *strPtr520 = (Value *)&str520;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str521 = {StringType, -1, 14, 0, " = empty_list;"};
Value *strPtr521 = (Value *)&str521;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str522 = {StringType, -1, 12, 0, " = listCons("};
Value *strPtr522 = (Value *)&str522;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str523 = {StringType, -1, 9, 0, "(Value *)"};
Value *strPtr523 = (Value *)&str523;
Value *arityImpl6910(List *closures, Value *arg_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

incRef(val3, 1);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 743 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arg_0, "toccata.toc", 743);
Value *arg_sym_2 = rslt1;

// call-vector
// #line 744 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, val3);
newVect4 = mutateVectConj(newVect4, strPtr522);
newVect4 = mutateVectConj(newVect4, strPtr523);
newVect4 = mutateVectConj(newVect4, arg_sym_2);
newVect4 = mutateVectConj(newVect4, strPtr17);
newVect4 = mutateVectConj(newVect4, val3);
newVect4 = mutateVectConj(newVect4, strPtr442);
newVect4 = mutateVectConj(newVect4, strPtr5);
Value *rslt5 = (Value *)newVect4;
return(rslt5);

};};
Value *arityImpl6896(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val82;
Value *val86;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs117[5] = {&val1, &val15, &val82, &val86, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs117);

incRef(val86, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val82, 1);
dec_and_free(val15, 1);
dec_and_free(val86, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6897_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6898_17 = arg6897_13;

// static-fixed
// #line 735 "toccata.toc"
Value *rslt16 = line_macro_5358(empty_list, val15, strPtr518);
Value *ev_18 = rslt16;
Value *arg6899_19 = arg6898_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg6899_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val82, 1);
dec_and_free(x_29, 1);
dec_and_free(val86, 2);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg6900_36 = ss_33;
Value *line_37 = v_32;
Value *arg6901_39 = arg6900_36;

// static-fixed
// #line 736 "toccata.toc"
Value *rslt38 = genlocal_6379(empty_list, strPtr519);
Value *ev_40 = rslt38;
Value *arg6902_41 = arg6901_39;
Value *rslt42 = reified_type_args_22(empty_list, ev_40);
Value *invoke_fn_43;
Value *tail_44;
Value **destArgs45[2] = {&invoke_fn_43, &tail_44};
destructValue("", "0", (Value *)rslt42, 2, destArgs45);

dec_and_free(tail_44, 1);
Value *s_46 = arg6902_41;
Value *rslt50;
if((invoke_fn_43)->type != FunctionType) {
rslt50 = invoke_368(empty_list, invoke_fn_43, s_46);
} else {
FnArity *arity47 = findFnArity(invoke_fn_43, 1);
if(arity47 != (FnArity *)0 && !arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
rslt50 = fn49(arity47->closures, s_46);
} else if(arity47 != (FnArity *)0 && arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
List *dynArgs48 = empty_list;
dynArgs48 = (List *)listCons(s_46, dynArgs48);
rslt50 = fn49(arity47->closures, (Value *)dynArgs48);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_43)->name);
  abort();
}
dec_and_free(invoke_fn_43, 1);
}
Value *x_51 = rslt50;

incRef(x_51, 1);
Value *andRslt52;
andRslt52 = x_51;
if (isNothing(andRslt52)) {
dec_and_free(val82, 1);
dec_and_free(line_37, 1);
dec_and_free(x_51, 1);
dec_and_free(val86, 2);
} else {
dec_and_free(andRslt52, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_51, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_54;
Value *ss_55;
Value *tail_56;
Value **destArgs57[3] = {&v_54, &ss_55, &tail_56};
destructValue("", "0", (Value *)rslt53, 3, destArgs57);

dec_and_free(tail_56, 1);
Value *arg6903_58 = ss_55;
Value *list_sym_59 = v_54;

incRef(list_sym_59, 2);
Value *arg6904_61 = arg6903_58;

// static-fixed
// #line 737 "toccata.toc"
Value *rslt60 = genlocal_6379(empty_list, strPtr512);
Value *ev_62 = rslt60;
Value *arg6905_63 = arg6904_61;
Value *rslt64 = reified_type_args_22(empty_list, ev_62);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(tail_66, 1);
Value *s_68 = arg6905_63;
Value *rslt72;
if((invoke_fn_65)->type != FunctionType) {
rslt72 = invoke_368(empty_list, invoke_fn_65, s_68);
} else {
FnArity *arity69 = findFnArity(invoke_fn_65, 1);
if(arity69 != (FnArity *)0 && !arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
rslt72 = fn71(arity69->closures, s_68);
} else if(arity69 != (FnArity *)0 && arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
List *dynArgs70 = empty_list;
dynArgs70 = (List *)listCons(s_68, dynArgs70);
rslt72 = fn71(arity69->closures, (Value *)dynArgs70);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_65)->name);
  abort();
}
dec_and_free(invoke_fn_65, 1);
}
Value *x_73 = rslt72;

incRef(x_73, 1);
Value *andRslt74;
andRslt74 = x_73;
if (isNothing(andRslt74)) {
dec_and_free(val82, 1);
dec_and_free(line_37, 1);
dec_and_free(x_73, 1);
dec_and_free(val86, 2);
dec_and_free(list_sym_59, 3);
} else {
dec_and_free(andRslt74, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_73, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_76;
Value *ss_77;
Value *tail_78;
Value **destArgs79[3] = {&v_76, &ss_77, &tail_78};
destructValue("", "0", (Value *)rslt75, 3, destArgs79);

dec_and_free(tail_78, 1);
Value *arg6906_80 = ss_77;
Value *result_sym_81 = v_76;

incRef(result_sym_81, 1);
Value *arg6907_83 = arg6906_80;
Value *__84 = val82;
Value *f_85 = comp_240;

// type-unknown reverse
// #line 741 "toccata.toc"
Value *rslt87 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", val86, "toccata.toc", 741);
FnArity *dynArity88 = malloc_fnArity();
dynArity88->count = 1;
dynArity88->variadic = 0;
dynArity88->fn = arityImpl6910;
dynArity88->closures = empty_list;
dynArity88->closures = listCons((Value *)list_sym_59, (List *)dynArity88->closures);
Function *anon_6911 = malloc_function(1);
anon_6911->name = "anon";
anon_6911->arityCount = 1;
anon_6911->arities[0] = dynArity88;
Value *fn6909 = (Value *)anon_6911;

// type-unknown map
// #line 741 "toccata.toc"
Value *rslt89 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt87, fn6909, "toccata.toc", 741);

// call-vector
// #line 740 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, line_37);
newVect90 = mutateVectConj(newVect90, strPtr520);
newVect90 = mutateVectConj(newVect90, list_sym_59);
newVect90 = mutateVectConj(newVect90, strPtr521);
newVect90 = mutateVectConj(newVect90, strPtr5);
newVect90 = mutateVectConj(newVect90, rslt89);
newVect90 = mutateVectConj(newVect90, strPtr492);
newVect90 = mutateVectConj(newVect90, result_sym_81);
newVect90 = mutateVectConj(newVect90, strPtr517);
newVect90 = mutateVectConj(newVect90, list_sym_59);
newVect90 = mutateVectConj(newVect90, strPtr303);
newVect90 = mutateVectConj(newVect90, strPtr5);
Value *rslt91 = (Value *)newVect90;

// call-vector
// #line 747 "toccata.toc"
Vector *newVect92 = empty_vect;
Value *rslt93 = (Value *)newVect92;

// static-variadic
// #line 747 "toccata.toc"
List *varArgs94 = empty_list;
Value *rslt95 = hash_map_1208(empty_list, (Value *)varArgs94);

// call invoke
// #line 739 "toccata.toc"
Value *rslt96 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_81, rslt91, rslt93, ListType_5367, rslt95);

// call-vector
// #line 739 "toccata.toc"
Vector *newVect97 = empty_vect;
newVect97 = mutateVectConj(newVect97, rslt96);
Value *rslt98 = (Value *)newVect97;

// call-list
// #line 738 "toccata.toc"
List *newList99 = empty_list;
newList99 = listCons((Value *)rslt98, newList99);
Value *rslt100 = (Value *)newList99;

// type-unknown comp*
// #line 738 "toccata.toc"
Value *rslt101 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val86, rslt100, "toccata.toc", 738);

// call-list
// #line 738 "toccata.toc"
List *newList102 = empty_list;
newList102 = listCons((Value *)rslt101, newList102);
Value *rslt103 = (Value *)newList102;
Value *args_104 = rslt103;

// static-fixed
// #line 737 "core"
Value *rslt105 = fn_apply_98(empty_list, list_STAR__478, args_104);

// static-fixed
// #line 737 "core"
Value *rslt106 = fn_apply_98(empty_list, f_85, rslt105);
Value *v_107 = rslt106;
Value *arg6912_108 = arg6907_83;
Value *rslt109 = reified_type_args_22(empty_list, __84);
Value *invoke_fn_110;
Value *tail_111;
Value **destArgs112[2] = {&invoke_fn_110, &tail_111};
destructValue("", "0", (Value *)rslt109, 2, destArgs112);

dec_and_free(invoke_fn_110, 1);

dec_and_free(tail_111, 1);
Value *s_113 = arg6912_108;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect114 = empty_vect;
newVect114 = mutateVectConj(newVect114, v_107);
newVect114 = mutateVectConj(newVect114, s_113);
Value *rslt115 = (Value *)newVect114;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt116 = maybe_4(empty_list, rslt115);
andRslt74 = rslt116;
}
andRslt52 = andRslt74;
}
andRslt30 = andRslt52;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *call_list_6893(List *closures, Value *target_0, Value *args_1) {
 while (1) {

incRef(target_0, 1);

// static-fixed
// #line 734 "toccata.toc"
Value *rslt2 = _EQ__557(empty_list, target_0, symPtr6);

// static-fixed
// #line 734 "toccata.toc"
Value *rslt3 = when_4087(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6896;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)args_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)target_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6913 = malloc_function(1);
anon_6913->name = "anon";
anon_6913->arityCount = 1;
anon_6913->arities[0] = dynArity10;
Value *fn6895 = (Value *)anon_6913;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6895);
return(rslt11);

};};
FnArity call_list_6914 = {FnArityType, -1, 2, (List *)0, 0, call_list_6893};
Function call_list_6915 = {FunctionType, -1, "call-list", 1, {&call_list_6914}};
Value *call_list_6892 = (Value *)&call_list_6915;


// --------- dispatch-type-known -------------
Value *dispatch_type_known_6917;
SubString sym36 = {SymbolType, -1, 3, 0, 0, "map"};
Value *symPtr36 = (Value *)&sym36;
SubString sym37 = {SymbolType, -1, 4, 0, 0, "comp"};
Value *symPtr37 = (Value *)&sym37;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str524 = {StringType, -1, 18, 0, "// type-known for "};
Value *strPtr524 = (Value *)&str524;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str525 = {StringType, -1, 10, 0, "empty_list"};
Value *strPtr525 = (Value *)&str525;
Value *arityImpl6921(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val144;
Value *val148;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs180[6] = {&val1, &val15, &val16, &val144, &val148, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs180);

incRef(val15, 6);

incRef(val16, 1);

incRef(val148, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val148, 2);
dec_and_free(x_6, 1);
dec_and_free(val15, 7);
dec_and_free(val16, 2);
dec_and_free(val144, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6922_13 = ss_10;
Value *dispatch_val_14 = v_9;

incRef(dispatch_val_14, 1);
Value *arg6923_19 = arg6922_13;

// type-unknown .type-num
// #line 752 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", dispatch_val_14, "toccata.toc", 752);

// static-fixed
// #line 752 "toccata.toc"
Value *rslt18 = get_proto_impl_6346(empty_list, val15, val16, rslt17);
Value *ev_20 = rslt18;
Value *arg6924_21 = arg6923_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg6924_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(val148, 2);
dec_and_free(val15, 6);
dec_and_free(x_31, 1);
dec_and_free(val16, 1);
dec_and_free(dispatch_val_14, 1);
dec_and_free(val144, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg6925_38 = ss_35;
Value *impl_info_39 = v_34;
Value *arg6926_42 = arg6925_38;

// type-unknown .c-var
// #line 753 "toccata.toc"
Value *rslt40 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", impl_info_39, "toccata.toc", 753);

// static-fixed
// #line 753 "toccata.toc"
Value *rslt41 = lookup_static_arity_6627(empty_list, rslt40, val16);
Value *ev_43 = rslt41;
Value *arg6927_44 = arg6926_42;
Value *rslt45 = reified_type_args_22(empty_list, ev_43);
Value *invoke_fn_46;
Value *tail_47;
Value **destArgs48[2] = {&invoke_fn_46, &tail_47};
destructValue("", "0", (Value *)rslt45, 2, destArgs48);

dec_and_free(tail_47, 1);
Value *s_49 = arg6927_44;
Value *rslt53;
if((invoke_fn_46)->type != FunctionType) {
rslt53 = invoke_368(empty_list, invoke_fn_46, s_49);
} else {
FnArity *arity50 = findFnArity(invoke_fn_46, 1);
if(arity50 != (FnArity *)0 && !arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
rslt53 = fn52(arity50->closures, s_49);
} else if(arity50 != (FnArity *)0 && arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
List *dynArgs51 = empty_list;
dynArgs51 = (List *)listCons(s_49, dynArgs51);
rslt53 = fn52(arity50->closures, (Value *)dynArgs51);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_46)->name);
  abort();
}
dec_and_free(invoke_fn_46, 1);
}
Value *x_54 = rslt53;

incRef(x_54, 1);
Value *andRslt55;
andRslt55 = x_54;
if (isNothing(andRslt55)) {
dec_and_free(val148, 2);
dec_and_free(val15, 6);
dec_and_free(dispatch_val_14, 1);
dec_and_free(x_54, 1);
dec_and_free(val144, 1);
} else {
dec_and_free(andRslt55, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_54, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_57;
Value *ss_58;
Value *tail_59;
Value **destArgs60[3] = {&v_57, &ss_58, &tail_59};
destructValue("", "0", (Value *)rslt56, 3, destArgs60);

dec_and_free(tail_59, 1);
Value *arg6928_61 = ss_58;
Value *arity_info_62 = v_57;

incRef(arity_info_62, 2);
Value *arg6929_64 = arg6928_61;

// static-fixed
// #line 754 "toccata.toc"
Value *rslt63 = genlocal_6379(empty_list, strPtr512);
Value *ev_65 = rslt63;
Value *arg6930_66 = arg6929_64;
Value *rslt67 = reified_type_args_22(empty_list, ev_65);
Value *invoke_fn_68;
Value *tail_69;
Value **destArgs70[2] = {&invoke_fn_68, &tail_69};
destructValue("", "0", (Value *)rslt67, 2, destArgs70);

dec_and_free(tail_69, 1);
Value *s_71 = arg6930_66;
Value *rslt75;
if((invoke_fn_68)->type != FunctionType) {
rslt75 = invoke_368(empty_list, invoke_fn_68, s_71);
} else {
FnArity *arity72 = findFnArity(invoke_fn_68, 1);
if(arity72 != (FnArity *)0 && !arity72->variadic) {
FnType1 *fn74 = (FnType1 *)arity72->fn;
rslt75 = fn74(arity72->closures, s_71);
} else if(arity72 != (FnArity *)0 && arity72->variadic) {
FnType1 *fn74 = (FnType1 *)arity72->fn;
List *dynArgs73 = empty_list;
dynArgs73 = (List *)listCons(s_71, dynArgs73);
rslt75 = fn74(arity72->closures, (Value *)dynArgs73);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_68)->name);
  abort();
}
dec_and_free(invoke_fn_68, 1);
}
Value *x_76 = rslt75;

incRef(x_76, 1);
Value *andRslt77;
andRslt77 = x_76;
if (isNothing(andRslt77)) {
dec_and_free(val148, 2);
dec_and_free(val15, 6);
dec_and_free(arity_info_62, 3);
dec_and_free(dispatch_val_14, 1);
dec_and_free(x_76, 1);
dec_and_free(val144, 1);
} else {
dec_and_free(andRslt77, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt78 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_76, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_79;
Value *ss_80;
Value *tail_81;
Value **destArgs82[3] = {&v_79, &ss_80, &tail_81};
destructValue("", "0", (Value *)rslt78, 3, destArgs82);

dec_and_free(tail_81, 1);
Value *arg6931_83 = ss_80;
Value *result_sym_84 = v_79;

incRef(result_sym_84, 1);
Value *arg6932_99 = arg6931_83;
Value *orRslt85;
Value *andRslt86;

// type-unknown .type-num
// #line 755 "toccata.toc"
Value *rslt87 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", arity_info_62, "toccata.toc", 755);

// static-fixed
// #line 755 "toccata.toc"
Value *rslt88 = _EQ__557(empty_list, rslt87, UnknownType_5361);
andRslt86 = rslt88;
if (isNothing(andRslt86)) {
dec_and_free(val15, 4);
dec_and_free(dispatch_val_14, 1);
} else {
dec_and_free(andRslt86, 1);
Value *orRslt89;

// static-fixed
// #line 758 "toccata.toc"
Value *rslt90 = _EQ__557(empty_list, val15, symPtr36);
orRslt89 = rslt90;
if (!isNothing(orRslt89)) {
dec_and_free(val15, 3);

} else {
dec_and_free(orRslt89, 1);

// static-fixed
// #line 759 "toccata.toc"
Value *rslt91 = _EQ__557(empty_list, val15, symPtr5);
orRslt89 = rslt91;
if (!isNothing(orRslt89)) {
dec_and_free(val15, 2);

} else {
dec_and_free(orRslt89, 1);

// static-fixed
// #line 760 "toccata.toc"
Value *rslt92 = _EQ__557(empty_list, val15, symPtr37);
orRslt89 = rslt92;
if (!isNothing(orRslt89)) {
dec_and_free(val15, 1);

} else {
dec_and_free(orRslt89, 1);

// static-fixed
// #line 761 "toccata.toc"
Value *rslt93 = _EQ__557(empty_list, val15, symPtr8);
orRslt89 = rslt93;
}
}
}
andRslt86 = orRslt89;
if (isNothing(andRslt86)) {
dec_and_free(dispatch_val_14, 1);
} else {
dec_and_free(andRslt86, 1);

// type-unknown .type-num
// #line 762 "toccata.toc"
Value *rslt94 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", dispatch_val_14, "toccata.toc", 762);

// static-fixed
// #line 762 "toccata.toc"
Value *rslt95 = maybe_4(empty_list, rslt94);
andRslt86 = rslt95;
}
}
orRslt85 = andRslt86;
if (!isNothing(orRslt85)) {
dec_and_free(arity_info_62, 1);

} else {
dec_and_free(orRslt85, 1);

// type-unknown .type-num
// #line 763 "toccata.toc"
Value *rslt96 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", arity_info_62, "toccata.toc", 763);

// static-fixed
// #line 763 "toccata.toc"
Value *rslt97 = maybe_4(empty_list, rslt96);
orRslt85 = rslt97;
}

// static-fixed
// #line 755 "toccata.toc"
Value *rslt98 = when_4087(empty_list, orRslt85);
Value *ev_100 = rslt98;
Value *arg6933_101 = arg6932_99;
Value *rslt102 = reified_type_args_22(empty_list, ev_100);
Value *invoke_fn_103;
Value *tail_104;
Value **destArgs105[2] = {&invoke_fn_103, &tail_104};
destructValue("", "0", (Value *)rslt102, 2, destArgs105);

dec_and_free(tail_104, 1);
Value *s_106 = arg6933_101;
Value *rslt110;
if((invoke_fn_103)->type != FunctionType) {
rslt110 = invoke_368(empty_list, invoke_fn_103, s_106);
} else {
FnArity *arity107 = findFnArity(invoke_fn_103, 1);
if(arity107 != (FnArity *)0 && !arity107->variadic) {
FnType1 *fn109 = (FnType1 *)arity107->fn;
rslt110 = fn109(arity107->closures, s_106);
} else if(arity107 != (FnArity *)0 && arity107->variadic) {
FnType1 *fn109 = (FnType1 *)arity107->fn;
List *dynArgs108 = empty_list;
dynArgs108 = (List *)listCons(s_106, dynArgs108);
rslt110 = fn109(arity107->closures, (Value *)dynArgs108);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_103)->name);
  abort();
}
dec_and_free(invoke_fn_103, 1);
}
Value *x_111 = rslt110;

incRef(x_111, 1);
Value *andRslt112;
andRslt112 = x_111;
if (isNothing(andRslt112)) {
dec_and_free(val148, 2);
dec_and_free(result_sym_84, 2);
dec_and_free(val15, 2);
dec_and_free(arity_info_62, 1);
dec_and_free(val144, 1);
dec_and_free(x_111, 1);
} else {
dec_and_free(andRslt112, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt113 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_111, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_114;
Value *ss_115;
Value *tail_116;
Value **destArgs117[3] = {&v_114, &ss_115, &tail_116};
destructValue("", "0", (Value *)rslt113, 3, destArgs117);

dec_and_free(tail_116, 1);
Value *arg6934_118 = ss_115;
Value *return_type_119 = v_114;
Value *arg6935_123 = arg6934_118;

// static-variadic
// #line 764 "toccata.toc"
List *varArgs120 = empty_list;
varArgs120 = (List *)listCons((Value *)val15, varArgs120);
varArgs120 = (List *)listCons((Value *)strPtr524, varArgs120);
Value *rslt121 = str_526(empty_list, (Value *)varArgs120);

// static-fixed
// #line 764 "toccata.toc"
Value *rslt122 = line_macro_5358(empty_list, val15, rslt121);
Value *ev_124 = rslt122;
Value *arg6936_125 = arg6935_123;
Value *rslt126 = reified_type_args_22(empty_list, ev_124);
Value *invoke_fn_127;
Value *tail_128;
Value **destArgs129[2] = {&invoke_fn_127, &tail_128};
destructValue("", "0", (Value *)rslt126, 2, destArgs129);

dec_and_free(tail_128, 1);
Value *s_130 = arg6936_125;
Value *rslt134;
if((invoke_fn_127)->type != FunctionType) {
rslt134 = invoke_368(empty_list, invoke_fn_127, s_130);
} else {
FnArity *arity131 = findFnArity(invoke_fn_127, 1);
if(arity131 != (FnArity *)0 && !arity131->variadic) {
FnType1 *fn133 = (FnType1 *)arity131->fn;
rslt134 = fn133(arity131->closures, s_130);
} else if(arity131 != (FnArity *)0 && arity131->variadic) {
FnType1 *fn133 = (FnType1 *)arity131->fn;
List *dynArgs132 = empty_list;
dynArgs132 = (List *)listCons(s_130, dynArgs132);
rslt134 = fn133(arity131->closures, (Value *)dynArgs132);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_127)->name);
  abort();
}
dec_and_free(invoke_fn_127, 1);
}
Value *x_135 = rslt134;

incRef(x_135, 1);
Value *andRslt136;
andRslt136 = x_135;
if (isNothing(andRslt136)) {
dec_and_free(return_type_119, 1);
dec_and_free(val148, 2);
dec_and_free(result_sym_84, 2);
dec_and_free(x_135, 1);
dec_and_free(arity_info_62, 1);
dec_and_free(val144, 1);
} else {
dec_and_free(andRslt136, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt137 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_135, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_138;
Value *ss_139;
Value *tail_140;
Value **destArgs141[3] = {&v_138, &ss_139, &tail_140};
destructValue("", "0", (Value *)rslt137, 3, destArgs141);

dec_and_free(tail_140, 1);
Value *arg6937_142 = ss_139;
Value *line_143 = v_138;
Value *arg6938_145 = arg6937_142;
Value *__146 = val144;
Value *f_147 = comp_240;

// type-unknown .c-var
// #line 767 "toccata.toc"
Value *rslt149 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_info_62, "toccata.toc", 767);

// type-unknown map
// #line 768 "toccata.toc"
Value *rslt150 = proto2Arg(&map_Implementations_254, "<nothing>/map", val148, dispatchFnPtr5865, "toccata.toc", 768);

// type-unknown conj
// #line 768 "toccata.toc"
Value *rslt151 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", rslt150, strPtr525, "toccata.toc", 768);

// static-fixed
// #line 768 "toccata.toc"
Value *rslt152 = interpose_503(empty_list, rslt151, strPtr17);

// call-vector
// #line 767 "toccata.toc"
Vector *newVect153 = empty_vect;
newVect153 = mutateVectConj(newVect153, line_143);
newVect153 = mutateVectConj(newVect153, strPtr492);
newVect153 = mutateVectConj(newVect153, result_sym_84);
newVect153 = mutateVectConj(newVect153, strPtr500);
newVect153 = mutateVectConj(newVect153, rslt149);
newVect153 = mutateVectConj(newVect153, strPtr16);
newVect153 = mutateVectConj(newVect153, rslt152);
newVect153 = mutateVectConj(newVect153, strPtr442);
newVect153 = mutateVectConj(newVect153, strPtr5);
Value *rslt154 = (Value *)newVect153;

// call-vector
// #line 771 "toccata.toc"
Vector *newVect155 = empty_vect;
Value *rslt156 = (Value *)newVect155;

// static-variadic
// #line 772 "toccata.toc"
List *varArgs157 = empty_list;
Value *rslt158 = hash_map_1208(empty_list, (Value *)varArgs157);

// call invoke
// #line 766 "toccata.toc"
Value *rslt159 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_84, rslt154, rslt156, return_type_119, rslt158);

// call-vector
// #line 766 "toccata.toc"
Vector *newVect160 = empty_vect;
newVect160 = mutateVectConj(newVect160, rslt159);
Value *rslt161 = (Value *)newVect160;

// call-list
// #line 765 "toccata.toc"
List *newList162 = empty_list;
newList162 = listCons((Value *)rslt161, newList162);
Value *rslt163 = (Value *)newList162;

// type-unknown comp*
// #line 765 "toccata.toc"
Value *rslt164 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val148, rslt163, "toccata.toc", 765);

// call-list
// #line 765 "toccata.toc"
List *newList165 = empty_list;
newList165 = listCons((Value *)rslt164, newList165);
Value *rslt166 = (Value *)newList165;
Value *args_167 = rslt166;

// static-fixed
// #line 737 "core"
Value *rslt168 = fn_apply_98(empty_list, list_STAR__478, args_167);

// static-fixed
// #line 737 "core"
Value *rslt169 = fn_apply_98(empty_list, f_147, rslt168);
Value *v_170 = rslt169;
Value *arg6939_171 = arg6938_145;
Value *rslt172 = reified_type_args_22(empty_list, __146);
Value *invoke_fn_173;
Value *tail_174;
Value **destArgs175[2] = {&invoke_fn_173, &tail_174};
destructValue("", "0", (Value *)rslt172, 2, destArgs175);

dec_and_free(invoke_fn_173, 1);

dec_and_free(tail_174, 1);
Value *s_176 = arg6939_171;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect177 = empty_vect;
newVect177 = mutateVectConj(newVect177, v_170);
newVect177 = mutateVectConj(newVect177, s_176);
Value *rslt178 = (Value *)newVect177;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt179 = maybe_4(empty_list, rslt178);
andRslt136 = rslt179;
}
andRslt112 = andRslt136;
}
andRslt77 = andRslt112;
}
andRslt55 = andRslt77;
}
andRslt32 = andRslt55;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *dispatch_type_known_6918(List *closures, Value *target_0, Value *args_1) {
 while (1) {

incRef(args_1, 2);

// type-unknown count
// #line 750 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 750);
Value *num_args_3 = rslt2;

// type-unknown first
// #line 751 "toccata.toc"
Value *rslt4 = proto1Arg(&first_Implementations_320, "<nothing>/first", args_1, "toccata.toc", 751);

// static-fixed
// #line 751 "toccata.toc"
Value *rslt5 = when_4087(empty_list, rslt4);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl6921;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)args_1, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)num_args_3, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)target_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_6940 = malloc_function(1);
anon_6940->name = "anon";
anon_6940->arityCount = 1;
anon_6940->arities[0] = dynArity12;
Value *fn6920 = (Value *)anon_6940;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6920);
return(rslt13);

};};
FnArity dispatch_type_known_6941 = {FnArityType, -1, 2, (List *)0, 0, dispatch_type_known_6918};
Function dispatch_type_known_6942 = {FunctionType, -1, "dispatch-type-known", 1, {&dispatch_type_known_6941}};
Value *dispatch_type_known_6917 = (Value *)&dispatch_type_known_6942;


// --------- dispatch-type-unknown -------------
Value *dispatch_type_unknown_6944;
Value *arityImpl6947(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .impls-sym
// #line 776 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls6213, "<nothing>/.impls-sym", v_9, "toccata.toc", 776);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str526 = {StringType, -1, 16, 0, "// type-unknown "};
Value *strPtr526 = (Value *)&str526;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str527 = {StringType, -1, 8, 0, " = proto"};
Value *strPtr527 = (Value *)&str527;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str528 = {StringType, -1, 5, 0, "Arg(&"};
Value *strPtr528 = (Value *)&str528;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str529 = {StringType, -1, 3, 0, ", \""};
Value *strPtr529 = (Value *)&str529;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str530 = {StringType, -1, 3, 0, "\", "};
Value *strPtr530 = (Value *)&str530;
Value *arityImpl6951(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val62;
Value *val66;
Value *val67;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs107[6] = {&val1, &val37, &val62, &val66, &val67, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs107);

incRef(val37, 4);

incRef(val66, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val37, 5);
dec_and_free(val67, 1);
dec_and_free(val66, 2);
dec_and_free(val62, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6952_13 = ss_10;
Value *impls_sym_14 = v_9;
Value *arg6953_16 = arg6952_13;

// static-fixed
// #line 777 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr512);
Value *ev_17 = rslt15;
Value *arg6954_18 = arg6953_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg6954_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val37, 5);
dec_and_free(val67, 1);
dec_and_free(val66, 2);
dec_and_free(x_28, 1);
dec_and_free(impls_sym_14, 1);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg6955_35 = ss_32;
Value *result_sym_36 = v_31;

incRef(result_sym_36, 1);
Value *arg6956_41 = arg6955_35;

// static-variadic
// #line 778 "toccata.toc"
List *varArgs38 = empty_list;
varArgs38 = (List *)listCons((Value *)val37, varArgs38);
varArgs38 = (List *)listCons((Value *)strPtr526, varArgs38);
Value *rslt39 = str_526(empty_list, (Value *)varArgs38);

// static-fixed
// #line 778 "toccata.toc"
Value *rslt40 = line_macro_5358(empty_list, val37, rslt39);
Value *ev_42 = rslt40;
Value *arg6957_43 = arg6956_41;
Value *rslt44 = reified_type_args_22(empty_list, ev_42);
Value *invoke_fn_45;
Value *tail_46;
Value **destArgs47[2] = {&invoke_fn_45, &tail_46};
destructValue("", "0", (Value *)rslt44, 2, destArgs47);

dec_and_free(tail_46, 1);
Value *s_48 = arg6957_43;
Value *rslt52;
if((invoke_fn_45)->type != FunctionType) {
rslt52 = invoke_368(empty_list, invoke_fn_45, s_48);
} else {
FnArity *arity49 = findFnArity(invoke_fn_45, 1);
if(arity49 != (FnArity *)0 && !arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
rslt52 = fn51(arity49->closures, s_48);
} else if(arity49 != (FnArity *)0 && arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
List *dynArgs50 = empty_list;
dynArgs50 = (List *)listCons(s_48, dynArgs50);
rslt52 = fn51(arity49->closures, (Value *)dynArgs50);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_45)->name);
  abort();
}
dec_and_free(invoke_fn_45, 1);
}
Value *x_53 = rslt52;

incRef(x_53, 1);
Value *andRslt54;
andRslt54 = x_53;
if (isNothing(andRslt54)) {
dec_and_free(x_53, 1);
dec_and_free(val37, 3);
dec_and_free(val67, 1);
dec_and_free(val66, 2);
dec_and_free(impls_sym_14, 1);
dec_and_free(result_sym_36, 2);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt54, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_53, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_56;
Value *ss_57;
Value *tail_58;
Value **destArgs59[3] = {&v_56, &ss_57, &tail_58};
destructValue("", "0", (Value *)rslt55, 3, destArgs59);

dec_and_free(tail_58, 1);
Value *arg6958_60 = ss_57;
Value *line_61 = v_56;
Value *arg6959_63 = arg6958_60;
Value *__64 = val62;
Value *f_65 = comp_240;

// type-unknown .sym
// #line 782 "toccata.toc"
Value *rslt68 = proto1Arg(&protoImpls2503, "<nothing>/.sym", val37, "toccata.toc", 782);

// type-unknown map
// #line 783 "toccata.toc"
Value *rslt69 = proto2Arg(&map_Implementations_254, "<nothing>/map", val66, dispatchFnPtr5865, "toccata.toc", 783);

// type-unknown .file-name
// #line 784 "toccata.toc"
Value *rslt70 = proto1Arg(&protoImpls4691, "<nothing>/.file-name", val37, "toccata.toc", 784);

// static-variadic
// #line 784 "toccata.toc"
List *varArgs71 = empty_list;
varArgs71 = (List *)listCons((Value *)strPtr8, varArgs71);
varArgs71 = (List *)listCons((Value *)rslt70, varArgs71);
varArgs71 = (List *)listCons((Value *)strPtr8, varArgs71);
Value *rslt72 = str_526(empty_list, (Value *)varArgs71);

// type-unknown ast/line-number
// #line 785 "toccata.toc"
Value *rslt73 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val37, "toccata.toc", 785);

// call-vector
// #line 784 "toccata.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, rslt72);
newVect74 = mutateVectConj(newVect74, rslt73);
Value *rslt75 = (Value *)newVect74;

// call-list
// #line 783 "toccata.toc"
List *newList76 = empty_list;
newList76 = listCons((Value *)rslt75, newList76);
Value *rslt77 = (Value *)newList76;

// type-unknown comp*
// #line 783 "toccata.toc"
Value *rslt78 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt69, rslt77, "toccata.toc", 783);

// static-fixed
// #line 783 "toccata.toc"
Value *rslt79 = interpose_503(empty_list, rslt78, strPtr17);

// call-vector
// #line 781 "toccata.toc"
Vector *newVect80 = empty_vect;
newVect80 = mutateVectConj(newVect80, line_61);
newVect80 = mutateVectConj(newVect80, strPtr492);
newVect80 = mutateVectConj(newVect80, result_sym_36);
newVect80 = mutateVectConj(newVect80, strPtr527);
newVect80 = mutateVectConj(newVect80, val67);
newVect80 = mutateVectConj(newVect80, strPtr528);
newVect80 = mutateVectConj(newVect80, impls_sym_14);
newVect80 = mutateVectConj(newVect80, strPtr529);
newVect80 = mutateVectConj(newVect80, rslt68);
newVect80 = mutateVectConj(newVect80, strPtr530);
newVect80 = mutateVectConj(newVect80, rslt79);
newVect80 = mutateVectConj(newVect80, strPtr442);
newVect80 = mutateVectConj(newVect80, strPtr5);
Value *rslt81 = (Value *)newVect80;

// call-vector
// #line 788 "toccata.toc"
Vector *newVect82 = empty_vect;
Value *rslt83 = (Value *)newVect82;

// static-variadic
// #line 789 "toccata.toc"
List *varArgs84 = empty_list;
Value *rslt85 = hash_map_1208(empty_list, (Value *)varArgs84);

// call invoke
// #line 780 "toccata.toc"
Value *rslt86 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_36, rslt81, rslt83, UnknownType_5361, rslt85);

// call-vector
// #line 780 "toccata.toc"
Vector *newVect87 = empty_vect;
newVect87 = mutateVectConj(newVect87, rslt86);
Value *rslt88 = (Value *)newVect87;

// call-list
// #line 779 "toccata.toc"
List *newList89 = empty_list;
newList89 = listCons((Value *)rslt88, newList89);
Value *rslt90 = (Value *)newList89;

// type-unknown comp*
// #line 779 "toccata.toc"
Value *rslt91 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val66, rslt90, "toccata.toc", 779);

// call-list
// #line 779 "toccata.toc"
List *newList92 = empty_list;
newList92 = listCons((Value *)rslt91, newList92);
Value *rslt93 = (Value *)newList92;
Value *args_94 = rslt93;

// static-fixed
// #line 737 "core"
Value *rslt95 = fn_apply_98(empty_list, list_STAR__478, args_94);

// static-fixed
// #line 737 "core"
Value *rslt96 = fn_apply_98(empty_list, f_65, rslt95);
Value *v_97 = rslt96;
Value *arg6960_98 = arg6959_63;
Value *rslt99 = reified_type_args_22(empty_list, __64);
Value *invoke_fn_100;
Value *tail_101;
Value **destArgs102[2] = {&invoke_fn_100, &tail_101};
destructValue("", "0", (Value *)rslt99, 2, destArgs102);

dec_and_free(invoke_fn_100, 1);

dec_and_free(tail_101, 1);
Value *s_103 = arg6960_98;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect104 = empty_vect;
newVect104 = mutateVectConj(newVect104, v_97);
newVect104 = mutateVectConj(newVect104, s_103);
Value *rslt105 = (Value *)newVect104;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt106 = maybe_4(empty_list, rslt105);
andRslt54 = rslt106;
}
andRslt29 = andRslt54;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *dispatch_type_unknown_6945(List *closures, Value *target_0, Value *args_1) {
 while (1) {

incRef(target_0, 1);

incRef(args_1, 1);

// type-unknown count
// #line 775 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 775);
Value *num_args_3 = rslt2;

incRef(num_args_3, 1);

// static-fixed
// #line 776 "toccata.toc"
Value *rslt4 = get_protocol_dispatcher_6267(empty_list, target_0, num_args_3);
Value *__5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, __5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6947;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6948 = malloc_function(1);
anon_6948->name = "anon";
anon_6948->arityCount = 1;
anon_6948->arities[0] = dynArity10;
Value *fn6946 = (Value *)anon_6948;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6946);
Value *wrapper_12 = rslt11;

incRef(wrapper_12, 1);
Value *ev_13 = wrapper_12;
Value *rslt14 = reified_type_args_22(empty_list, ev_13);
Value *invoke_fn_15;
Value *tail_16;
Value **destArgs17[2] = {&invoke_fn_15, &tail_16};
destructValue("", "0", (Value *)rslt14, 2, destArgs17);

dec_and_free(tail_16, 1);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl6951;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)num_args_3, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)args_1, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)wrapper_12, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)target_0, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)invoke_fn_15, (List *)dynArity18->closures);
Function *anon_6961 = malloc_function(1);
anon_6961->name = "anon";
anon_6961->arityCount = 1;
anon_6961->arities[0] = dynArity18;
Value *fn6950 = (Value *)anon_6961;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6950);
return(rslt19);

};};
FnArity dispatch_type_unknown_6962 = {FnArityType, -1, 2, (List *)0, 0, dispatch_type_unknown_6945};
Function dispatch_type_unknown_6963 = {FunctionType, -1, "dispatch-type-unknown", 1, {&dispatch_type_unknown_6962}};
Value *dispatch_type_unknown_6944 = (Value *)&dispatch_type_unknown_6963;


// --------- call-proto-impl -------------
Value *call_proto_impl_6965;
Value *arityImpl6969(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs56[5] = {&val1, &val15, &val16, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs56);

incRef(val15, 1);

incRef(val16, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val43, 1);
dec_and_free(val16, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6970_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6971_22 = arg6970_13;

// static-fixed
// #line 793 "toccata.toc"
Value *rslt17 = dispatch_type_known_6918(empty_list, val15, val16);

// static-fixed
// #line 794 "toccata.toc"
Value *rslt18 = dispatch_type_unknown_6945(empty_list, val15, val16);

// call-list
// #line 793 "toccata.toc"
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
Value *rslt20 = (Value *)newList19;

// type-known for comp*
// #line 793 "toccata.toc"
Value *rslt21 = new_sm_comp_STAR__2805(empty_list, rslt17, rslt20);
Value *ev_23 = rslt21;
Value *arg6972_24 = arg6971_22;
Value *rslt25 = reified_type_args_22(empty_list, ev_23);
Value *invoke_fn_26;
Value *tail_27;
Value **destArgs28[2] = {&invoke_fn_26, &tail_27};
destructValue("", "0", (Value *)rslt25, 2, destArgs28);

dec_and_free(tail_27, 1);
Value *s_29 = arg6972_24;
Value *rslt33;
if((invoke_fn_26)->type != FunctionType) {
rslt33 = invoke_368(empty_list, invoke_fn_26, s_29);
} else {
FnArity *arity30 = findFnArity(invoke_fn_26, 1);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
rslt33 = fn32(arity30->closures, s_29);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
dynArgs31 = (List *)listCons(s_29, dynArgs31);
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_26)->name);
  abort();
}
dec_and_free(invoke_fn_26, 1);
}
Value *x_34 = rslt33;

incRef(x_34, 1);
Value *andRslt35;
andRslt35 = x_34;
if (isNothing(andRslt35)) {
dec_and_free(val43, 1);
dec_and_free(x_34, 1);
} else {
dec_and_free(andRslt35, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_34, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_37;
Value *ss_38;
Value *tail_39;
Value **destArgs40[3] = {&v_37, &ss_38, &tail_39};
destructValue("", "0", (Value *)rslt36, 3, destArgs40);

dec_and_free(tail_39, 1);
Value *arg6973_41 = ss_38;
Value *call_info_42 = v_37;
Value *arg6974_44 = arg6973_41;
Value *__45 = val43;
Value *v_46 = call_info_42;
Value *arg6975_47 = arg6974_44;
Value *rslt48 = reified_type_args_22(empty_list, __45);
Value *invoke_fn_49;
Value *tail_50;
Value **destArgs51[2] = {&invoke_fn_49, &tail_50};
destructValue("", "0", (Value *)rslt48, 2, destArgs51);

dec_and_free(invoke_fn_49, 1);

dec_and_free(tail_50, 1);
Value *s_52 = arg6975_47;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect53 = empty_vect;
newVect53 = mutateVectConj(newVect53, v_46);
newVect53 = mutateVectConj(newVect53, s_52);
Value *rslt54 = (Value *)newVect53;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = maybe_4(empty_list, rslt54);
andRslt35 = rslt55;
}
return(andRslt35);
andRslt7 = andRslt35;
}

};};
Value *call_proto_impl_6966(List *closures, Value *name_0, Value *args_1) {
 while (1) {

incRef(args_1, 1);

// type-unknown count
// #line 792 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 792);

// static-fixed
// #line 792 "toccata.toc"
Value *rslt3 = _LT__531(empty_list, numPtr0, rslt2);

// static-fixed
// #line 792 "toccata.toc"
Value *rslt4 = when_4087(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl6969;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)args_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)name_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_6976 = malloc_function(1);
anon_6976->name = "anon";
anon_6976->arityCount = 1;
anon_6976->arities[0] = dynArity11;
Value *fn6968 = (Value *)anon_6976;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6968);
return(rslt12);

};};
FnArity call_proto_impl_6977 = {FnArityType, -1, 2, (List *)0, 0, call_proto_impl_6966};
Function call_proto_impl_6978 = {FunctionType, -1, "call-proto-impl", 1, {&call_proto_impl_6977}};
Value *call_proto_impl_6965 = (Value *)&call_proto_impl_6978;


// --------- inline-wrap-and-apply* -------------
Value *inline_wrap_and_apply_STAR__6980;
Value *arityImpl6991(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .ast
// #line 805 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls6290, "<nothing>/.ast", v_9, "toccata.toc", 805);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
Value *arityImpl6999(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl6997(List *closures, Value *expr_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = expr_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl6999;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_7000 = malloc_function(1);
anon_7000->name = "anon";
anon_7000->arityCount = 1;
anon_7000->arities[0] = dynArity8;
Value *fn6998 = (Value *)anon_7000;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6998);
return(rslt9);

};};
Value *arityImpl6994(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val18;
Value *val19;
Value *val23;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs29[5] = {&val1, &val18, &val19, &val23, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs29);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val23, 1);
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6995_13 = ss_10;
Value *impl_ast_14 = v_9;

// static-variadic
// #line 807 "toccata.toc"
List *varArgs15 = empty_list;
Value *rslt16 = hash_map_1208(empty_list, (Value *)varArgs15);

// type-unknown replace-bound-vars
// #line 807 "toccata.toc"
Value *rslt17 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", impl_ast_14, rslt16, "toccata.toc", 807);

// static-fixed
// #line 808 "toccata.toc"
Value *rslt20 = cons_275(empty_list, val18, val19);

// type-unknown inline-expr
// #line 808 "toccata.toc"
Value *rslt21 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", rslt17, rslt20, "toccata.toc", 808);
FnArity *dynArity22 = malloc_fnArity();
dynArity22->count = 1;
dynArity22->variadic = 0;
dynArity22->fn = arityImpl6997;
dynArity22->closures = empty_list;
dynArity22->closures = listCons((Value *)val23, (List *)dynArity22->closures);
Function *anon_7001 = malloc_function(1);
anon_7001->name = "anon";
anon_7001->arityCount = 1;
anon_7001->arities[0] = dynArity22;
Value *fn6996 = (Value *)anon_7001;

// type-unknown flat-map
// #line 806 "toccata.toc"
Value *rslt24 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt21, fn6996, "toccata.toc", 806);

// dynamic unknown type
// #line 806 "toccata.toc"
Value *rslt28;
if((rslt24)->type != FunctionType) {
rslt28 = invoke_368(empty_list, rslt24, arg6995_13);
} else {
FnArity *arity25 = findFnArity(rslt24, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, arg6995_13);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(arg6995_13, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt24)->name);
  abort();
}
dec_and_free(rslt24, 1);
}
return(rslt28);
andRslt7 = rslt28;
}

};};
Value *arityImpl6988(List *closures, Value *dispatch_val_0) {
while (1) {

incRef(dispatch_val_0, 1);
Value *val1;
Value *val2;
Value *val18;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs21[5] = {&val1, &val2, &val18, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs21);

dec_and_free(closuresTail, 1);

// type-unknown .type-num
// #line 804 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", dispatch_val_0, "toccata.toc", 804);

// static-fixed
// #line 804 "toccata.toc"
Value *rslt4 = get_proto_impl_6346(empty_list, val1, val2, rslt3);
Value *__5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, __5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl6991;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_6992 = malloc_function(1);
anon_6992->name = "anon";
anon_6992->arityCount = 1;
anon_6992->arities[0] = dynArity10;
Value *fn6990 = (Value *)anon_6992;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6990);
Value *ev_12 = rslt11;
Value *rslt13 = reified_type_args_22(empty_list, ev_12);
Value *invoke_fn_14;
Value *tail_15;
Value **destArgs16[2] = {&invoke_fn_14, &tail_15};
destructValue("", "0", (Value *)rslt13, 2, destArgs16);

dec_and_free(tail_15, 1);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl6994;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)val18, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)val19, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)dispatch_val_0, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)invoke_fn_14, (List *)dynArity17->closures);
Function *anon_7002 = malloc_function(1);
anon_7002->name = "anon";
anon_7002->arityCount = 1;
anon_7002->arities[0] = dynArity17;
Value *fn6993 = (Value *)anon_7002;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6993);
return(rslt20);

};};
Value *arityImpl6984(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val22;
Value *val23;
Value *val24;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs30[6] = {&val1, &val16, &val22, &val23, &val24, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs30);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val23, 1);
dec_and_free(x_6, 1);
dec_and_free(val24, 1);
dec_and_free(val16, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg6985_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg6986_15 = arg6985_13;
Value *dispatch_ast_17;
Value *arg_asts_18;
Value **destArgs19[2] = {&dispatch_ast_17, &arg_asts_18};
destructValue("toccata.toc", "802", (Value *)val16, 2, destArgs19);

// type-unknown emit
// #line 803 "toccata.toc"
Value *rslt20 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", dispatch_ast_17, "toccata.toc", 803);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl6988;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)arg_asts_18, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val22, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val23, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val24, (List *)dynArity21->closures);
Function *anon_7003 = malloc_function(1);
anon_7003->name = "anon";
anon_7003->arityCount = 1;
anon_7003->arities[0] = dynArity21;
Value *fn6987 = (Value *)anon_7003;

// type-unknown flat-map
// #line 803 "toccata.toc"
Value *rslt25 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt20, fn6987, "toccata.toc", 803);

// dynamic unknown type
// #line 803 "toccata.toc"
Value *rslt29;
if((rslt25)->type != FunctionType) {
rslt29 = invoke_368(empty_list, rslt25, arg6986_15);
} else {
FnArity *arity26 = findFnArity(rslt25, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, arg6986_15);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(arg6986_15, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt25)->name);
  abort();
}
dec_and_free(rslt25, 1);
}
return(rslt29);
andRslt7 = rslt29;
}

};};
Value *inline_wrap_and_apply_STAR__6981(List *closures, Value *name_0, Value *args_1) {
 while (1) {

incRef(name_0, 2);

incRef(args_1, 1);

// type-unknown count
// #line 798 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 798);
Value *num_args_3 = rslt2;

incRef(num_args_3, 1);
Value *andRslt4;

// static-fixed
// #line 799 "toccata.toc"
Value *rslt5 = _LT__531(empty_list, numPtr0, num_args_3);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
dec_and_free(name_0, 2);
} else {
dec_and_free(andRslt4, 1);
Value *orRslt6;

// static-fixed
// #line 800 "toccata.toc"
Value *rslt7 = _EQ__557(empty_list, symPtr8, name_0);
orRslt6 = rslt7;
if (!isNothing(orRslt6)) {
dec_and_free(name_0, 1);

} else {
dec_and_free(orRslt6, 1);

// static-fixed
// #line 801 "toccata.toc"
Value *rslt8 = _EQ__557(empty_list, symPtr7, name_0);
orRslt6 = rslt8;
}
andRslt4 = orRslt6;
}

// static-fixed
// #line 799 "toccata.toc"
Value *rslt9 = when_4087(empty_list, andRslt4);
Value *wrapper_10 = rslt9;

incRef(wrapper_10, 1);
Value *ev_11 = wrapper_10;
Value *rslt12 = reified_type_args_22(empty_list, ev_11);
Value *invoke_fn_13;
Value *tail_14;
Value **destArgs15[2] = {&invoke_fn_13, &tail_14};
destructValue("", "0", (Value *)rslt12, 2, destArgs15);

dec_and_free(tail_14, 1);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl6984;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)name_0, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)num_args_3, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)wrapper_10, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)args_1, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)invoke_fn_13, (List *)dynArity16->closures);
Function *anon_7004 = malloc_function(1);
anon_7004->name = "anon";
anon_7004->arityCount = 1;
anon_7004->arities[0] = dynArity16;
Value *fn6983 = (Value *)anon_7004;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn6983);
return(rslt17);

};};
FnArity inline_wrap_and_apply_STAR__7005 = {FnArityType, -1, 2, (List *)0, 0, inline_wrap_and_apply_STAR__6981};
Function inline_wrap_and_apply_STAR__7006 = {FunctionType, -1, "inline-wrap-and-apply*", 1, {&inline_wrap_and_apply_STAR__7005}};
Value *inline_wrap_and_apply_STAR__6980 = (Value *)&inline_wrap_and_apply_STAR__7006;


// --------- inline-flat-map -------------
Value *inline_flat_map_7008;
Value *arityImpl7019(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .ast
// #line 820 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls6290, "<nothing>/.ast", v_9, "toccata.toc", 820);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
Value *arityImpl7033(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 825 "toccata.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)val2, varArgs3);
varArgs3 = (List *)listCons((Value *)val1, varArgs3);
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);

// type-unknown replace-syms
// #line 825 "toccata.toc"
Value *rslt5 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, rslt4, "toccata.toc", 825);
return(rslt5);

};};
Value *arityImpl7037(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7035(List *closures, Value *body_exprs_0) {
while (1) {
Value *val1;
Value *val3;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[4] = {&val1, &val3, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs16);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// static-fixed
// #line 826 "toccata.toc"
Value *rslt5 = binding_3314(empty_list, val3, val4);

// call-list
// #line 826 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
Value *rslt7 = (Value *)newList6;

// call invoke
// #line 826 "toccata.toc"
Value *rslt8 = let_ast_invoke_3385(empty_list, reifiedPtr3388, rslt7, body_exprs_0);
Value *v_9 = rslt8;
Value *rslt10 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(invoke_fn_11, 1);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl7037;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)v_9, (List *)dynArity14->closures);
Function *anon_7038 = malloc_function(1);
anon_7038->name = "anon";
anon_7038->arityCount = 1;
anon_7038->arities[0] = dynArity14;
Value *fn7036 = (Value *)anon_7038;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7036);
return(rslt15);

};};
Value *arityImpl7022(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val28;
Value *val31;
Value *val32;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs38[5] = {&val1, &val28, &val31, &val32, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs38);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val28, 1);
dec_and_free(val31, 1);
dec_and_free(val32, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7023_13 = ss_10;
Value *impl_ast_14 = v_9;
Value *arg7024_15 = arg7023_13;

// static-variadic
// #line 821 "toccata.toc"
List *varArgs16 = empty_list;
Value *rslt17 = hash_map_1208(empty_list, (Value *)varArgs16);

// type-unknown replace-bound-vars
// #line 821 "toccata.toc"
Value *rslt18 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", impl_ast_14, rslt17, "toccata.toc", 821);
Value *impl_ast_19 = rslt18;

incRef(impl_ast_19, 1);

// type-unknown .params
// #line 822 "toccata.toc"
Value *rslt20 = proto1Arg(&protoImpls2420, "<nothing>/.params", impl_ast_19, "toccata.toc", 822);

// type-unknown .fixed
// #line 822 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", rslt20, "toccata.toc", 822);
Value *dispatch_sym_22;
Value *f_sym_23;
Value *tail_24;
Value **destArgs25[3] = {&dispatch_sym_22, &f_sym_23, &tail_24};
destructValue("toccata.toc", "822", (Value *)rslt21, 3, destArgs25);

dec_and_free(tail_24, 1);

// type-unknown .body
// #line 823 "toccata.toc"
Value *rslt26 = proto1Arg(&protoImpls2424, "<nothing>/.body", impl_ast_19, "toccata.toc", 823);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl7033;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)val28, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)f_sym_23, (List *)dynArity27->closures);
Function *anon_7034 = malloc_function(1);
anon_7034->name = "anon";
anon_7034->arityCount = 1;
anon_7034->arities[0] = dynArity27;
Value *fn7029 = (Value *)anon_7034;

// static-fixed
// #line 823 "toccata.toc"
Value *rslt29 = traverse_6470(empty_list, rslt26, fn7029);
FnArity *dynArity30 = malloc_fnArity();
dynArity30->count = 1;
dynArity30->variadic = 0;
dynArity30->fn = arityImpl7035;
dynArity30->closures = empty_list;
dynArity30->closures = listCons((Value *)val31, (List *)dynArity30->closures);
dynArity30->closures = listCons((Value *)dispatch_sym_22, (List *)dynArity30->closures);
dynArity30->closures = listCons((Value *)val32, (List *)dynArity30->closures);
Function *anon_7039 = malloc_function(1);
anon_7039->name = "anon";
anon_7039->arityCount = 1;
anon_7039->arities[0] = dynArity30;
Value *fn7028 = (Value *)anon_7039;

// type-unknown flat-map
// #line 823 "toccata.toc"
Value *rslt33 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt29, fn7028, "toccata.toc", 823);

// dynamic unknown type
// #line 823 "toccata.toc"
Value *rslt37;
if((rslt33)->type != FunctionType) {
rslt37 = invoke_368(empty_list, rslt33, arg7024_15);
} else {
FnArity *arity34 = findFnArity(rslt33, 1);
if(arity34 != (FnArity *)0 && !arity34->variadic) {
FnType1 *fn36 = (FnType1 *)arity34->fn;
rslt37 = fn36(arity34->closures, arg7024_15);
} else if(arity34 != (FnArity *)0 && arity34->variadic) {
FnType1 *fn36 = (FnType1 *)arity34->fn;
List *dynArgs35 = empty_list;
dynArgs35 = (List *)listCons(arg7024_15, dynArgs35);
rslt37 = fn36(arity34->closures, (Value *)dynArgs35);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt33)->name);
  abort();
}
dec_and_free(rslt33, 1);
}
return(rslt37);
andRslt7 = rslt37;
}

};};
Value *arityImpl7016(List *closures, Value *dispatch_val_0) {
while (1) {

incRef(dispatch_val_0, 1);
Value *val1;
Value *val2;
Value *val18;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs21[5] = {&val1, &val2, &val18, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs21);

dec_and_free(closuresTail, 1);

// type-unknown .type-num
// #line 819 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", dispatch_val_0, "toccata.toc", 819);

// static-fixed
// #line 819 "toccata.toc"
Value *rslt4 = get_proto_impl_6346(empty_list, val1, val2, rslt3);
Value *__5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, __5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl7019;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_7020 = malloc_function(1);
anon_7020->name = "anon";
anon_7020->arityCount = 1;
anon_7020->arities[0] = dynArity10;
Value *fn7018 = (Value *)anon_7020;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7018);
Value *ev_12 = rslt11;
Value *rslt13 = reified_type_args_22(empty_list, ev_12);
Value *invoke_fn_14;
Value *tail_15;
Value **destArgs16[2] = {&invoke_fn_14, &tail_15};
destructValue("", "0", (Value *)rslt13, 2, destArgs16);

dec_and_free(tail_15, 1);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl7022;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)val18, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)dispatch_val_0, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)val19, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)invoke_fn_14, (List *)dynArity17->closures);
Function *anon_7040 = malloc_function(1);
anon_7040->name = "anon";
anon_7040->arityCount = 1;
anon_7040->arities[0] = dynArity17;
Value *fn7021 = (Value *)anon_7040;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7021);
return(rslt20);

};};
Value *arityImpl7012(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val23;
Value *val24;
Value *val25;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs31[6] = {&val1, &val16, &val23, &val24, &val25, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs31);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val23, 1);
dec_and_free(x_6, 1);
dec_and_free(val24, 1);
dec_and_free(val16, 1);
dec_and_free(val25, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7013_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7014_15 = arg7013_13;
Value *dispatch_ast_17;
Value *f_ast_18;
Value *tail_19;
Value **destArgs20[3] = {&dispatch_ast_17, &f_ast_18, &tail_19};
destructValue("toccata.toc", "817", (Value *)val16, 3, destArgs20);

dec_and_free(tail_19, 1);

// type-unknown emit
// #line 818 "toccata.toc"
Value *rslt21 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", dispatch_ast_17, "toccata.toc", 818);
FnArity *dynArity22 = malloc_fnArity();
dynArity22->count = 1;
dynArity22->variadic = 0;
dynArity22->fn = arityImpl7016;
dynArity22->closures = empty_list;
dynArity22->closures = listCons((Value *)f_ast_18, (List *)dynArity22->closures);
dynArity22->closures = listCons((Value *)val23, (List *)dynArity22->closures);
dynArity22->closures = listCons((Value *)val24, (List *)dynArity22->closures);
dynArity22->closures = listCons((Value *)val25, (List *)dynArity22->closures);
Function *anon_7041 = malloc_function(1);
anon_7041->name = "anon";
anon_7041->arityCount = 1;
anon_7041->arities[0] = dynArity22;
Value *fn7015 = (Value *)anon_7041;

// type-unknown flat-map
// #line 818 "toccata.toc"
Value *rslt26 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt21, fn7015, "toccata.toc", 818);

// dynamic unknown type
// #line 818 "toccata.toc"
Value *rslt30;
if((rslt26)->type != FunctionType) {
rslt30 = invoke_368(empty_list, rslt26, arg7014_15);
} else {
FnArity *arity27 = findFnArity(rslt26, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, arg7014_15);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(arg7014_15, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt26)->name);
  abort();
}
dec_and_free(rslt26, 1);
}
return(rslt30);
andRslt7 = rslt30;
}

};};
Value *inline_flat_map_7009(List *closures, Value *name_0, Value *args_1) {
 while (1) {

incRef(name_0, 2);

incRef(args_1, 1);

// type-unknown count
// #line 813 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 813);
Value *num_args_3 = rslt2;

incRef(num_args_3, 1);
Value *andRslt4;

// static-fixed
// #line 814 "toccata.toc"
Value *rslt5 = _EQ__557(empty_list, numPtr2, num_args_3);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
dec_and_free(name_0, 2);
} else {
dec_and_free(andRslt4, 1);
Value *orRslt6;

// static-fixed
// #line 815 "toccata.toc"
Value *rslt7 = _EQ__557(empty_list, symPtr15, name_0);
orRslt6 = rslt7;
if (!isNothing(orRslt6)) {
dec_and_free(name_0, 1);

} else {
dec_and_free(orRslt6, 1);

// static-fixed
// #line 816 "toccata.toc"
Value *rslt8 = _EQ__557(empty_list, symPtr36, name_0);
orRslt6 = rslt8;
}
andRslt4 = orRslt6;
}

// static-fixed
// #line 814 "toccata.toc"
Value *rslt9 = when_4087(empty_list, andRslt4);
Value *wrapper_10 = rslt9;

incRef(wrapper_10, 1);
Value *ev_11 = wrapper_10;
Value *rslt12 = reified_type_args_22(empty_list, ev_11);
Value *invoke_fn_13;
Value *tail_14;
Value **destArgs15[2] = {&invoke_fn_13, &tail_14};
destructValue("", "0", (Value *)rslt12, 2, destArgs15);

dec_and_free(tail_14, 1);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl7012;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)name_0, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)num_args_3, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)wrapper_10, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)args_1, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)invoke_fn_13, (List *)dynArity16->closures);
Function *anon_7042 = malloc_function(1);
anon_7042->name = "anon";
anon_7042->arityCount = 1;
anon_7042->arities[0] = dynArity16;
Value *fn7011 = (Value *)anon_7042;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7011);
return(rslt17);

};};
FnArity inline_flat_map_7043 = {FnArityType, -1, 2, (List *)0, 0, inline_flat_map_7009};
Function inline_flat_map_7044 = {FunctionType, -1, "inline-flat-map", 1, {&inline_flat_map_7043}};
Value *inline_flat_map_7008 = (Value *)&inline_flat_map_7044;

Value *arityImpl7048(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val24;
Value *val53;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs71[4] = {&val1, &val24, &val53, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs71);

incRef(val24, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val53, 1);
dec_and_free(x_6, 1);
dec_and_free(val24, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7049_13 = ss_10;
Value *arg_var_14 = v_9;

incRef(arg_var_14, 2);
Value *arg7050_15 = arg7049_13;

// call-vector
// #line 833 "toccata.toc"
Vector *newVect16 = empty_vect;
Value *rslt17 = (Value *)newVect16;

// call-vector
// #line 833 "toccata.toc"
Vector *newVect18 = empty_vect;
Value *rslt19 = (Value *)newVect18;

// static-variadic
// #line 833 "toccata.toc"
List *varArgs20 = empty_list;
varArgs20 = (List *)listCons((Value *)numPtr1, varArgs20);
varArgs20 = (List *)listCons((Value *)arg_var_14, varArgs20);
Value *rslt21 = hash_map_1208(empty_list, (Value *)varArgs20);

// call invoke
// #line 833 "toccata.toc"
Value *rslt22 = c_code_invoke_5942(empty_list, reifiedPtr5945, arg_var_14, rslt17, rslt19, UnknownType_5361, rslt21);
Value *arg_23 = rslt22;
Value *arg7051_32 = arg7050_15;

// static-fixed
// #line 834 "toccata.toc"
Value *rslt25 = redef_proto_fn_error_6409(empty_list, val24);

// call-vector
// #line 835 "toccata.toc"
Vector *newVect26 = empty_vect;
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5469);
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5721);
newVect26 = mutateVectConj(newVect26, val24);
Value *rslt27 = (Value *)newVect26;

// static-fixed
// #line 835 "toccata.toc"
Value *rslt28 = assoc_in_val_3599(empty_list, rslt27, arg_23);

// call-list
// #line 834 "toccata.toc"
List *newList29 = empty_list;
newList29 = listCons((Value *)rslt28, newList29);
Value *rslt30 = (Value *)newList29;

// type-known for comp*
// #line 834 "toccata.toc"
Value *rslt31 = new_sm_comp_STAR__2805(empty_list, rslt25, rslt30);
Value *ev_33 = rslt31;
Value *arg7052_34 = arg7051_32;
Value *rslt35 = reified_type_args_22(empty_list, ev_33);
Value *invoke_fn_36;
Value *tail_37;
Value **destArgs38[2] = {&invoke_fn_36, &tail_37};
destructValue("", "0", (Value *)rslt35, 2, destArgs38);

dec_and_free(tail_37, 1);
Value *s_39 = arg7052_34;
Value *rslt43;
if((invoke_fn_36)->type != FunctionType) {
rslt43 = invoke_368(empty_list, invoke_fn_36, s_39);
} else {
FnArity *arity40 = findFnArity(invoke_fn_36, 1);
if(arity40 != (FnArity *)0 && !arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
rslt43 = fn42(arity40->closures, s_39);
} else if(arity40 != (FnArity *)0 && arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
List *dynArgs41 = empty_list;
dynArgs41 = (List *)listCons(s_39, dynArgs41);
rslt43 = fn42(arity40->closures, (Value *)dynArgs41);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_36)->name);
  abort();
}
dec_and_free(invoke_fn_36, 1);
}
Value *x_44 = rslt43;

incRef(x_44, 1);
Value *andRslt45;
andRslt45 = x_44;
if (isNothing(andRslt45)) {
dec_and_free(arg_var_14, 1);
dec_and_free(val53, 1);
dec_and_free(x_44, 1);
} else {
dec_and_free(andRslt45, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt46 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_44, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_47;
Value *ss_48;
Value *tail_49;
Value **destArgs50[3] = {&v_47, &ss_48, &tail_49};
destructValue("", "0", (Value *)rslt46, 3, destArgs50);

dec_and_free(tail_49, 1);
Value *arg7053_51 = ss_48;
Value *arg52 = v_47;

dec_and_free(arg52, 1);
Value *arg7054_54 = arg7053_51;
Value *__55 = val53;

// call-vector
// #line 836 "toccata.toc"
Vector *newVect56 = empty_vect;
newVect56 = mutateVectConj(newVect56, arg_var_14);
Value *rslt57 = (Value *)newVect56;

// call-vector
// #line 836 "toccata.toc"
Vector *newVect58 = empty_vect;
Value *rslt59 = (Value *)newVect58;

// call invoke
// #line 836 "toccata.toc"
Value *rslt60 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt57, rslt59);
Value *v_61 = rslt60;
Value *arg7055_62 = arg7054_54;
Value *rslt63 = reified_type_args_22(empty_list, __55);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(invoke_fn_64, 1);

dec_and_free(tail_65, 1);
Value *s_67 = arg7055_62;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect68 = empty_vect;
newVect68 = mutateVectConj(newVect68, v_61);
newVect68 = mutateVectConj(newVect68, s_67);
Value *rslt69 = (Value *)newVect68;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt70 = maybe_4(empty_list, rslt69);
andRslt45 = rslt70;
}
return(andRslt45);
andRslt7 = andRslt45;
}

};};
Value *bind_7045(List *closures, Value *binding_0) {
 while (1) {

incRef(binding_0, 1);

// static-fixed
// #line 832 "toccata.toc"
Value *rslt1 = genlocal_6391(empty_list, binding_0, strPtr293);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7048;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)binding_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7056 = malloc_function(1);
anon_7056->name = "anon";
anon_7056->arityCount = 1;
anon_7056->arities[0] = dynArity8;
Value *fn7047 = (Value *)anon_7056;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7047);
return(rslt9);

};};
FnArity bind_7057 = {FnArityType, -1, 1, (List *)0, 0, bind_7045};
Value *arityImpl7061(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val35;
Value *val64;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs103[5] = {&val1, &val16, &val35, &val64, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs103);

incRef(val16, 2);

incRef(val35, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val16, 3);
dec_and_free(val35, 2);
dec_and_free(val64, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7062_13 = ss_10;
Value *arg_var_14 = v_9;

incRef(arg_var_14, 1);
Value *arg7063_15 = arg7062_13;

// type-unknown .c-var
// #line 841 "toccata.toc"
Value *rslt17 = proto2Arg(&protoImpls5869, "<nothing>/.c-var", val16, arg_var_14, "toccata.toc", 841);

// type-unknown .init
// #line 842 "toccata.toc"
Value *rslt18 = proto1Arg(&protoImpls5595, "<nothing>/.init", val16, "toccata.toc", 842);

// type-unknown .c-var
// #line 843 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val16, "toccata.toc", 843);

// call-vector
// #line 842 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt18);
newVect20 = mutateVectConj(newVect20, strPtr492);
newVect20 = mutateVectConj(newVect20, arg_var_14);
newVect20 = mutateVectConj(newVect20, strPtr500);
newVect20 = mutateVectConj(newVect20, rslt19);
newVect20 = mutateVectConj(newVect20, strPtr303);
newVect20 = mutateVectConj(newVect20, strPtr5);
Value *rslt21 = (Value *)newVect20;

// type-unknown .init
// #line 842 "toccata.toc"
Value *rslt22 = proto2Arg(&protoImpls5597, "<nothing>/.init", rslt17, rslt21, "toccata.toc", 842);
Value *evalled_23 = rslt22;

incRef(evalled_23, 9);

// type-unknown .c-var
// #line 844 "toccata.toc"
Value *rslt24 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 844);

// call-vector
// #line 844 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 844 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// type-unknown .type-num
// #line 844 "toccata.toc"
Value *rslt29 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", evalled_23, "toccata.toc", 844);

// type-unknown .c-var
// #line 845 "toccata.toc"
Value *rslt30 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 845);

// static-variadic
// #line 845 "toccata.toc"
List *varArgs31 = empty_list;
varArgs31 = (List *)listCons((Value *)numPtr1, varArgs31);
varArgs31 = (List *)listCons((Value *)rslt30, varArgs31);
Value *rslt32 = hash_map_1208(empty_list, (Value *)varArgs31);

// call invoke
// #line 844 "toccata.toc"
Value *rslt33 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt24, rslt26, rslt28, rslt29, rslt32);
Value *evalled_ref_34 = rslt33;
Value *arg7064_43 = arg7063_15;

// static-fixed
// #line 846 "toccata.toc"
Value *rslt36 = redef_proto_fn_error_6409(empty_list, val35);

// call-vector
// #line 847 "toccata.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5469);
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5721);
newVect37 = mutateVectConj(newVect37, val35);
Value *rslt38 = (Value *)newVect37;

// static-fixed
// #line 847 "toccata.toc"
Value *rslt39 = assoc_in_val_3599(empty_list, rslt38, evalled_ref_34);

// call-list
// #line 846 "toccata.toc"
List *newList40 = empty_list;
newList40 = listCons((Value *)rslt39, newList40);
Value *rslt41 = (Value *)newList40;

// type-known for comp*
// #line 846 "toccata.toc"
Value *rslt42 = new_sm_comp_STAR__2805(empty_list, rslt36, rslt41);
Value *ev_44 = rslt42;
Value *arg7065_45 = arg7064_43;
Value *rslt46 = reified_type_args_22(empty_list, ev_44);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(tail_48, 1);
Value *s_50 = arg7065_45;
Value *rslt54;
if((invoke_fn_47)->type != FunctionType) {
rslt54 = invoke_368(empty_list, invoke_fn_47, s_50);
} else {
FnArity *arity51 = findFnArity(invoke_fn_47, 1);
if(arity51 != (FnArity *)0 && !arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
rslt54 = fn53(arity51->closures, s_50);
} else if(arity51 != (FnArity *)0 && arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
List *dynArgs52 = empty_list;
dynArgs52 = (List *)listCons(s_50, dynArgs52);
rslt54 = fn53(arity51->closures, (Value *)dynArgs52);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_47)->name);
  abort();
}
dec_and_free(invoke_fn_47, 1);
}
Value *x_55 = rslt54;

incRef(x_55, 1);
Value *andRslt56;
andRslt56 = x_55;
if (isNothing(andRslt56)) {
dec_and_free(evalled_23, 7);
dec_and_free(x_55, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt56, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_55, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_58;
Value *ss_59;
Value *tail_60;
Value **destArgs61[3] = {&v_58, &ss_59, &tail_60};
destructValue("", "0", (Value *)rslt57, 3, destArgs61);

dec_and_free(tail_60, 1);
Value *arg7066_62 = ss_59;
Value *arg63 = v_58;

dec_and_free(arg63, 1);
Value *arg7067_65 = arg7066_62;
Value *__66 = val64;
Value *andRslt68;

// type-unknown .init
// #line 848 "toccata.toc"
Value *rslt69 = proto1Arg(&protoImpls5595, "<nothing>/.init", evalled_23, "toccata.toc", 848);

// type-unknown empty?
// #line 848 "toccata.toc"
Value *rslt70 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt69, "toccata.toc", 848);
andRslt68 = rslt70;
if (isNothing(andRslt68)) {
dec_and_free(evalled_23, 2);
} else {
dec_and_free(andRslt68, 1);

// type-unknown .c-var
// #line 849 "toccata.toc"
Value *rslt71 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 849);

// call-vector
// #line 849 "toccata.toc"
Vector *newVect72 = empty_vect;
newVect72 = mutateVectConj(newVect72, rslt71);
Value *rslt73 = (Value *)newVect72;

// call-vector
// #line 849 "toccata.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, evalled_23);
Value *rslt75 = (Value *)newVect74;

// call invoke
// #line 849 "toccata.toc"
Value *rslt76 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt73, rslt75);

// static-fixed
// #line 849 "toccata.toc"
Value *rslt77 = maybe_4(empty_list, rslt76);
andRslt68 = rslt77;
}
Value *eitherRslt67;
if (!isNothing(andRslt68)) {
dec_and_free(evalled_23, 4);
eitherRslt67 = maybeExtract(andRslt68);
} else {
dec_and_free(andRslt68, 1);

// type-unknown .c-var
// #line 850 "toccata.toc"
Value *rslt78 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 850);

// call-vector
// #line 850 "toccata.toc"
Vector *newVect79 = empty_vect;
newVect79 = mutateVectConj(newVect79, rslt78);
Value *rslt80 = (Value *)newVect79;

// type-unknown .c-var
// #line 851 "toccata.toc"
Value *rslt81 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 851);

// call-vector
// #line 851 "toccata.toc"
Vector *newVect82 = empty_vect;
Value *rslt83 = (Value *)newVect82;

// call-vector
// #line 851 "toccata.toc"
Vector *newVect84 = empty_vect;
Value *rslt85 = (Value *)newVect84;

// type-unknown .type-num
// #line 852 "toccata.toc"
Value *rslt86 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", evalled_23, "toccata.toc", 852);

// static-variadic
// #line 852 "toccata.toc"
List *varArgs87 = empty_list;
Value *rslt88 = hash_map_1208(empty_list, (Value *)varArgs87);

// call invoke
// #line 851 "toccata.toc"
Value *rslt89 = c_init_invoke_6003(empty_list, reifiedPtr6006, rslt81, rslt83, rslt85, rslt86, rslt88);

// call-vector
// #line 851 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, evalled_23);
newVect90 = mutateVectConj(newVect90, rslt89);
Value *rslt91 = (Value *)newVect90;

// call invoke
// #line 850 "toccata.toc"
Value *rslt92 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt80, rslt91);
eitherRslt67 = rslt92;
}
Value *v_93 = eitherRslt67;
Value *arg7068_94 = arg7067_65;
Value *rslt95 = reified_type_args_22(empty_list, __66);
Value *invoke_fn_96;
Value *tail_97;
Value **destArgs98[2] = {&invoke_fn_96, &tail_97};
destructValue("", "0", (Value *)rslt95, 2, destArgs98);

dec_and_free(invoke_fn_96, 1);

dec_and_free(tail_97, 1);
Value *s_99 = arg7068_94;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect100 = empty_vect;
newVect100 = mutateVectConj(newVect100, v_93);
newVect100 = mutateVectConj(newVect100, s_99);
Value *rslt101 = (Value *)newVect100;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt102 = maybe_4(empty_list, rslt101);
andRslt56 = rslt102;
}
return(andRslt56);
andRslt7 = andRslt56;
}

};};
Value *bind_7058(List *closures, Value *binding_0, Value *evalled_1) {
 while (1) {

incRef(binding_0, 1);

// static-fixed
// #line 839 "toccata.toc"
Value *rslt2 = genlocal_6391(empty_list, binding_0, strPtr293);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7061;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)binding_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)evalled_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7069 = malloc_function(1);
anon_7069->name = "anon";
anon_7069->arityCount = 1;
anon_7069->arities[0] = dynArity9;
Value *fn7060 = (Value *)anon_7069;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7060);
return(rslt10);

};};
FnArity bind_7070 = {FnArityType, -1, 2, (List *)0, 0, bind_7058};
Value *emit_7071(List *closures, Value *sym_0) {
 while (1) {

// static-fixed
// #line 855 "toccata.toc"
Value *rslt1 = lookup_sym_6612(empty_list, sym_0);
return(rslt1);

};};
FnArity emit_7072 = {FnArityType, -1, 1, (List *)0, 0, emit_7071};
Value *arityImpl7076(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val38;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[4] = {&val1, &val15, &val38, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs54);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7077_13 = ss_10;
Value *value_14 = v_9;

incRef(value_14, 1);
Value *arg7078_17 = arg7077_13;

// static-fixed
// #line 859 "toccata.toc"
Value *rslt16 = new_module_def_6527(empty_list, val15, value_14);
Value *ev_18 = rslt16;
Value *arg7079_19 = arg7078_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg7079_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val38, 1);
dec_and_free(x_29, 1);
dec_and_free(value_14, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg7080_36 = ss_33;
Value *arg37 = v_32;

dec_and_free(arg37, 1);
Value *arg7081_39 = arg7080_36;
Value *__40 = val38;

// static-fixed
// #line 860 "toccata.toc"
Value *rslt41 = make_c_code_6685(empty_list, value_14);

// call-vector
// #line 860 "toccata.toc"
Vector *newVect42 = empty_vect;
newVect42 = mutateVectConj(newVect42, rslt41);
Value *rslt43 = (Value *)newVect42;
Value *v_44 = rslt43;
Value *arg7082_45 = arg7081_39;
Value *rslt46 = reified_type_args_22(empty_list, __40);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg7082_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
andRslt30 = rslt53;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *emit_defined_value_7073(List *closures, Value *sym_0, Value *defined_sym_1) {
 while (1) {

// static-fixed
// #line 858 "toccata.toc"
Value *rslt2 = lookup_sym_6612(empty_list, sym_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7076;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7083 = malloc_function(1);
anon_7083->name = "anon";
anon_7083->arityCount = 1;
anon_7083->arities[0] = dynArity9;
Value *fn7075 = (Value *)anon_7083;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7075);
return(rslt10);

};};
FnArity emit_defined_value_7084 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_7073};
Value *tail_call_7085(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// call invoke
// #line 862 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, ast_0, params_1);
return(rslt2);

};};
FnArity tail_call_7086 = {FnArityType, -1, 2, (List *)0, 0, tail_call_7085};
Value *emit_call_expr_7087(List *closures, Value *target_ast_0, Value *args_1) {
 while (1) {

incRef(target_ast_0, 2);

incRef(args_1, 2);

// static-fixed
// #line 865 "toccata.toc"
Value *rslt2 = call_vector_6868(empty_list, target_ast_0, args_1);

// static-fixed
// #line 866 "toccata.toc"
Value *rslt3 = call_list_6893(empty_list, target_ast_0, args_1);

// static-fixed
// #line 867 "toccata.toc"
Value *rslt4 = call_proto_impl_6966(empty_list, target_ast_0, args_1);

// call-list
// #line 865 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
newList5 = listCons((Value *)rslt3, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 865 "toccata.toc"
Value *rslt7 = new_sm_comp_STAR__2805(empty_list, rslt2, rslt6);
return(rslt7);

};};
FnArity emit_call_expr_7088 = {FnArityType, -1, 2, (List *)0, 0, emit_call_expr_7087};
Value *replace_syms_7089(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-unknown get
// #line 870 "toccata.toc"
Value *rslt2 = proto3Arg(&get_Implementations_364, "<nothing>/get", subs_1, ast_0, ast_0, "toccata.toc", 870);

// call invoke
// #line 870 "toccata.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity replace_syms_7090 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_7089};
Value *inline_expr_7091(List *closures, Value *name_0, Value *arg_asts_1) {
 while (1) {

incRef(name_0, 1);

// type-unknown filter
// #line 873 "toccata.toc"
Value *rslt2 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", arg_asts_1, produces_code_QM__5843, "toccata.toc", 873);
Value *args_3 = rslt2;

incRef(args_3, 1);

// static-fixed
// #line 874 "toccata.toc"
Value *rslt4 = inline_wrap_and_apply_STAR__6981(empty_list, name_0, args_3);

// static-fixed
// #line 875 "toccata.toc"
Value *rslt5 = inline_flat_map_7009(empty_list, name_0, args_3);

// call-list
// #line 874 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
Value *rslt7 = (Value *)newList6;

// type-known for comp*
// #line 874 "toccata.toc"
Value *rslt8 = new_sm_comp_STAR__2805(empty_list, rslt4, rslt7);
return(rslt8);

};};
FnArity inline_expr_7092 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_7091};
Value *replace_bound_vars_7093(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-unknown get
// #line 878 "toccata.toc"
Value *rslt2 = proto3Arg(&get_Implementations_364, "<nothing>/get", subs_1, ast_0, ast_0, "toccata.toc", 878);
return(rslt2);

};};
FnArity replace_bound_vars_7094 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_7093};
Value *arityImpl7098(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val24;
Value *val53;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs71[4] = {&val1, &val24, &val53, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs71);

incRef(val24, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val53, 1);
dec_and_free(x_6, 1);
dec_and_free(val24, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7099_13 = ss_10;
Value *arg_var_14 = v_9;

incRef(arg_var_14, 2);
Value *arg7100_15 = arg7099_13;

// call-vector
// #line 885 "toccata.toc"
Vector *newVect16 = empty_vect;
Value *rslt17 = (Value *)newVect16;

// call-vector
// #line 885 "toccata.toc"
Vector *newVect18 = empty_vect;
Value *rslt19 = (Value *)newVect18;

// static-variadic
// #line 885 "toccata.toc"
List *varArgs20 = empty_list;
varArgs20 = (List *)listCons((Value *)numPtr1, varArgs20);
varArgs20 = (List *)listCons((Value *)arg_var_14, varArgs20);
Value *rslt21 = hash_map_1208(empty_list, (Value *)varArgs20);

// call invoke
// #line 885 "toccata.toc"
Value *rslt22 = c_code_invoke_5942(empty_list, reifiedPtr5945, arg_var_14, rslt17, rslt19, UnknownType_5361, rslt21);
Value *arg_23 = rslt22;
Value *arg7101_32 = arg7100_15;

// static-fixed
// #line 886 "toccata.toc"
Value *rslt25 = redef_proto_fn_error_6409(empty_list, val24);

// call-vector
// #line 887 "toccata.toc"
Vector *newVect26 = empty_vect;
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5469);
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5721);
newVect26 = mutateVectConj(newVect26, val24);
Value *rslt27 = (Value *)newVect26;

// static-fixed
// #line 887 "toccata.toc"
Value *rslt28 = assoc_in_val_3599(empty_list, rslt27, arg_23);

// call-list
// #line 886 "toccata.toc"
List *newList29 = empty_list;
newList29 = listCons((Value *)rslt28, newList29);
Value *rslt30 = (Value *)newList29;

// type-known for comp*
// #line 886 "toccata.toc"
Value *rslt31 = new_sm_comp_STAR__2805(empty_list, rslt25, rslt30);
Value *ev_33 = rslt31;
Value *arg7102_34 = arg7101_32;
Value *rslt35 = reified_type_args_22(empty_list, ev_33);
Value *invoke_fn_36;
Value *tail_37;
Value **destArgs38[2] = {&invoke_fn_36, &tail_37};
destructValue("", "0", (Value *)rslt35, 2, destArgs38);

dec_and_free(tail_37, 1);
Value *s_39 = arg7102_34;
Value *rslt43;
if((invoke_fn_36)->type != FunctionType) {
rslt43 = invoke_368(empty_list, invoke_fn_36, s_39);
} else {
FnArity *arity40 = findFnArity(invoke_fn_36, 1);
if(arity40 != (FnArity *)0 && !arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
rslt43 = fn42(arity40->closures, s_39);
} else if(arity40 != (FnArity *)0 && arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
List *dynArgs41 = empty_list;
dynArgs41 = (List *)listCons(s_39, dynArgs41);
rslt43 = fn42(arity40->closures, (Value *)dynArgs41);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_36)->name);
  abort();
}
dec_and_free(invoke_fn_36, 1);
}
Value *x_44 = rslt43;

incRef(x_44, 1);
Value *andRslt45;
andRslt45 = x_44;
if (isNothing(andRslt45)) {
dec_and_free(arg_var_14, 1);
dec_and_free(val53, 1);
dec_and_free(x_44, 1);
} else {
dec_and_free(andRslt45, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt46 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_44, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_47;
Value *ss_48;
Value *tail_49;
Value **destArgs50[3] = {&v_47, &ss_48, &tail_49};
destructValue("", "0", (Value *)rslt46, 3, destArgs50);

dec_and_free(tail_49, 1);
Value *arg7103_51 = ss_48;
Value *arg52 = v_47;

dec_and_free(arg52, 1);
Value *arg7104_54 = arg7103_51;
Value *__55 = val53;

// call-vector
// #line 888 "toccata.toc"
Vector *newVect56 = empty_vect;
newVect56 = mutateVectConj(newVect56, arg_var_14);
Value *rslt57 = (Value *)newVect56;

// call-vector
// #line 888 "toccata.toc"
Vector *newVect58 = empty_vect;
Value *rslt59 = (Value *)newVect58;

// call invoke
// #line 888 "toccata.toc"
Value *rslt60 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt57, rslt59);
Value *v_61 = rslt60;
Value *arg7105_62 = arg7104_54;
Value *rslt63 = reified_type_args_22(empty_list, __55);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(invoke_fn_64, 1);

dec_and_free(tail_65, 1);
Value *s_67 = arg7105_62;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect68 = empty_vect;
newVect68 = mutateVectConj(newVect68, v_61);
newVect68 = mutateVectConj(newVect68, s_67);
Value *rslt69 = (Value *)newVect68;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt70 = maybe_4(empty_list, rslt69);
andRslt45 = rslt70;
}
return(andRslt45);
andRslt7 = andRslt45;
}

};};
Value *Symbol_bind_7095(List *closures, Value *binding_0) {
 while (1) {

incRef(binding_0, 1);

// static-fixed
// #line 884 "toccata.toc"
Value *rslt1 = genlocal_6391(empty_list, binding_0, strPtr293);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7098;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)binding_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7106 = malloc_function(1);
anon_7106->name = "anon";
anon_7106->arityCount = 1;
anon_7106->arities[0] = dynArity8;
Value *fn7097 = (Value *)anon_7106;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7097);
return(rslt9);

};};
FnArity Symbol_bind_7107 = {FnArityType, -1, 1, (List *)0, 0, Symbol_bind_7095};
Value *arityImpl7111(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val35;
Value *val64;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs103[5] = {&val1, &val16, &val35, &val64, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs103);

incRef(val16, 2);

incRef(val35, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val16, 3);
dec_and_free(val35, 2);
dec_and_free(val64, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7112_13 = ss_10;
Value *arg_var_14 = v_9;

incRef(arg_var_14, 1);
Value *arg7113_15 = arg7112_13;

// type-unknown .c-var
// #line 893 "toccata.toc"
Value *rslt17 = proto2Arg(&protoImpls5869, "<nothing>/.c-var", val16, arg_var_14, "toccata.toc", 893);

// type-unknown .init
// #line 894 "toccata.toc"
Value *rslt18 = proto1Arg(&protoImpls5595, "<nothing>/.init", val16, "toccata.toc", 894);

// type-unknown .c-var
// #line 895 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val16, "toccata.toc", 895);

// call-vector
// #line 894 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt18);
newVect20 = mutateVectConj(newVect20, strPtr492);
newVect20 = mutateVectConj(newVect20, arg_var_14);
newVect20 = mutateVectConj(newVect20, strPtr500);
newVect20 = mutateVectConj(newVect20, rslt19);
newVect20 = mutateVectConj(newVect20, strPtr303);
newVect20 = mutateVectConj(newVect20, strPtr5);
Value *rslt21 = (Value *)newVect20;

// type-unknown .init
// #line 894 "toccata.toc"
Value *rslt22 = proto2Arg(&protoImpls5597, "<nothing>/.init", rslt17, rslt21, "toccata.toc", 894);
Value *evalled_23 = rslt22;

incRef(evalled_23, 9);

// type-unknown .c-var
// #line 896 "toccata.toc"
Value *rslt24 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 896);

// call-vector
// #line 896 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 896 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// type-unknown .type-num
// #line 896 "toccata.toc"
Value *rslt29 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", evalled_23, "toccata.toc", 896);

// type-unknown .c-var
// #line 897 "toccata.toc"
Value *rslt30 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 897);

// static-variadic
// #line 897 "toccata.toc"
List *varArgs31 = empty_list;
varArgs31 = (List *)listCons((Value *)numPtr1, varArgs31);
varArgs31 = (List *)listCons((Value *)rslt30, varArgs31);
Value *rslt32 = hash_map_1208(empty_list, (Value *)varArgs31);

// call invoke
// #line 896 "toccata.toc"
Value *rslt33 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt24, rslt26, rslt28, rslt29, rslt32);
Value *evalled_ref_34 = rslt33;
Value *arg7114_43 = arg7113_15;

// static-fixed
// #line 898 "toccata.toc"
Value *rslt36 = redef_proto_fn_error_6409(empty_list, val35);

// call-vector
// #line 899 "toccata.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5469);
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5721);
newVect37 = mutateVectConj(newVect37, val35);
Value *rslt38 = (Value *)newVect37;

// static-fixed
// #line 899 "toccata.toc"
Value *rslt39 = assoc_in_val_3599(empty_list, rslt38, evalled_ref_34);

// call-list
// #line 898 "toccata.toc"
List *newList40 = empty_list;
newList40 = listCons((Value *)rslt39, newList40);
Value *rslt41 = (Value *)newList40;

// type-known for comp*
// #line 898 "toccata.toc"
Value *rslt42 = new_sm_comp_STAR__2805(empty_list, rslt36, rslt41);
Value *ev_44 = rslt42;
Value *arg7115_45 = arg7114_43;
Value *rslt46 = reified_type_args_22(empty_list, ev_44);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(tail_48, 1);
Value *s_50 = arg7115_45;
Value *rslt54;
if((invoke_fn_47)->type != FunctionType) {
rslt54 = invoke_368(empty_list, invoke_fn_47, s_50);
} else {
FnArity *arity51 = findFnArity(invoke_fn_47, 1);
if(arity51 != (FnArity *)0 && !arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
rslt54 = fn53(arity51->closures, s_50);
} else if(arity51 != (FnArity *)0 && arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
List *dynArgs52 = empty_list;
dynArgs52 = (List *)listCons(s_50, dynArgs52);
rslt54 = fn53(arity51->closures, (Value *)dynArgs52);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_47)->name);
  abort();
}
dec_and_free(invoke_fn_47, 1);
}
Value *x_55 = rslt54;

incRef(x_55, 1);
Value *andRslt56;
andRslt56 = x_55;
if (isNothing(andRslt56)) {
dec_and_free(evalled_23, 7);
dec_and_free(x_55, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt56, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_55, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_58;
Value *ss_59;
Value *tail_60;
Value **destArgs61[3] = {&v_58, &ss_59, &tail_60};
destructValue("", "0", (Value *)rslt57, 3, destArgs61);

dec_and_free(tail_60, 1);
Value *arg7116_62 = ss_59;
Value *arg63 = v_58;

dec_and_free(arg63, 1);
Value *arg7117_65 = arg7116_62;
Value *__66 = val64;
Value *andRslt68;

// type-unknown .init
// #line 900 "toccata.toc"
Value *rslt69 = proto1Arg(&protoImpls5595, "<nothing>/.init", evalled_23, "toccata.toc", 900);

// type-unknown empty?
// #line 900 "toccata.toc"
Value *rslt70 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt69, "toccata.toc", 900);
andRslt68 = rslt70;
if (isNothing(andRslt68)) {
dec_and_free(evalled_23, 2);
} else {
dec_and_free(andRslt68, 1);

// type-unknown .c-var
// #line 901 "toccata.toc"
Value *rslt71 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 901);

// call-vector
// #line 901 "toccata.toc"
Vector *newVect72 = empty_vect;
newVect72 = mutateVectConj(newVect72, rslt71);
Value *rslt73 = (Value *)newVect72;

// call-vector
// #line 901 "toccata.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, evalled_23);
Value *rslt75 = (Value *)newVect74;

// call invoke
// #line 901 "toccata.toc"
Value *rslt76 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt73, rslt75);

// static-fixed
// #line 901 "toccata.toc"
Value *rslt77 = maybe_4(empty_list, rslt76);
andRslt68 = rslt77;
}
Value *eitherRslt67;
if (!isNothing(andRslt68)) {
dec_and_free(evalled_23, 4);
eitherRslt67 = maybeExtract(andRslt68);
} else {
dec_and_free(andRslt68, 1);

// type-unknown .c-var
// #line 902 "toccata.toc"
Value *rslt78 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 902);

// call-vector
// #line 902 "toccata.toc"
Vector *newVect79 = empty_vect;
newVect79 = mutateVectConj(newVect79, rslt78);
Value *rslt80 = (Value *)newVect79;

// type-unknown .c-var
// #line 903 "toccata.toc"
Value *rslt81 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", evalled_23, "toccata.toc", 903);

// call-vector
// #line 903 "toccata.toc"
Vector *newVect82 = empty_vect;
Value *rslt83 = (Value *)newVect82;

// call-vector
// #line 903 "toccata.toc"
Vector *newVect84 = empty_vect;
Value *rslt85 = (Value *)newVect84;

// type-unknown .type-num
// #line 904 "toccata.toc"
Value *rslt86 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", evalled_23, "toccata.toc", 904);

// static-variadic
// #line 904 "toccata.toc"
List *varArgs87 = empty_list;
Value *rslt88 = hash_map_1208(empty_list, (Value *)varArgs87);

// call invoke
// #line 903 "toccata.toc"
Value *rslt89 = c_init_invoke_6003(empty_list, reifiedPtr6006, rslt81, rslt83, rslt85, rslt86, rslt88);

// call-vector
// #line 903 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, evalled_23);
newVect90 = mutateVectConj(newVect90, rslt89);
Value *rslt91 = (Value *)newVect90;

// call invoke
// #line 902 "toccata.toc"
Value *rslt92 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt80, rslt91);
eitherRslt67 = rslt92;
}
Value *v_93 = eitherRslt67;
Value *arg7118_94 = arg7117_65;
Value *rslt95 = reified_type_args_22(empty_list, __66);
Value *invoke_fn_96;
Value *tail_97;
Value **destArgs98[2] = {&invoke_fn_96, &tail_97};
destructValue("", "0", (Value *)rslt95, 2, destArgs98);

dec_and_free(invoke_fn_96, 1);

dec_and_free(tail_97, 1);
Value *s_99 = arg7118_94;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect100 = empty_vect;
newVect100 = mutateVectConj(newVect100, v_93);
newVect100 = mutateVectConj(newVect100, s_99);
Value *rslt101 = (Value *)newVect100;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt102 = maybe_4(empty_list, rslt101);
andRslt56 = rslt102;
}
return(andRslt56);
andRslt7 = andRslt56;
}

};};
Value *Symbol_bind_7108(List *closures, Value *binding_0, Value *evalled_1) {
 while (1) {

incRef(binding_0, 1);

// static-fixed
// #line 891 "toccata.toc"
Value *rslt2 = genlocal_6391(empty_list, binding_0, strPtr293);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7111;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)binding_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)evalled_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7119 = malloc_function(1);
anon_7119->name = "anon";
anon_7119->arityCount = 1;
anon_7119->arities[0] = dynArity9;
Value *fn7110 = (Value *)anon_7119;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7110);
return(rslt10);

};};
FnArity Symbol_bind_7120 = {FnArityType, -1, 2, (List *)0, 0, Symbol_bind_7108};
Value *Symbol_emit_7121(List *closures, Value *sym_0) {
 while (1) {

// static-fixed
// #line 907 "toccata.toc"
Value *rslt1 = lookup_sym_6612(empty_list, sym_0);
return(rslt1);

};};
FnArity Symbol_emit_7122 = {FnArityType, -1, 1, (List *)0, 0, Symbol_emit_7121};
Value *Symbol_replace_syms_7123(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-unknown get
// #line 910 "toccata.toc"
Value *rslt2 = proto3Arg(&get_Implementations_364, "<nothing>/get", subs_1, ast_0, ast_0, "toccata.toc", 910);

// call invoke
// #line 910 "toccata.toc"
Value *rslt3 = arityImpl2933(empty_list, reifiedPtr2939, rslt2);
return(rslt3);

};};
FnArity Symbol_replace_syms_7124 = {FnArityType, -1, 2, (List *)0, 0, Symbol_replace_syms_7123};
Value *Symbol_inline_expr_7125(List *closures, Value *name_0, Value *arg_asts_1) {
 while (1) {

incRef(name_0, 1);

// type-unknown filter
// #line 913 "toccata.toc"
Value *rslt2 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", arg_asts_1, produces_code_QM__5843, "toccata.toc", 913);
Value *args_3 = rslt2;

incRef(args_3, 1);

// static-fixed
// #line 914 "toccata.toc"
Value *rslt4 = inline_wrap_and_apply_STAR__6981(empty_list, name_0, args_3);

// static-fixed
// #line 915 "toccata.toc"
Value *rslt5 = inline_flat_map_7009(empty_list, name_0, args_3);

// call-list
// #line 914 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
Value *rslt7 = (Value *)newList6;

// type-known for comp*
// #line 914 "toccata.toc"
Value *rslt8 = new_sm_comp_STAR__2805(empty_list, rslt4, rslt7);
return(rslt8);

};};
FnArity Symbol_inline_expr_7126 = {FnArityType, -1, 2, (List *)0, 0, Symbol_inline_expr_7125};
Value *Symbol_replace_bound_vars_7127(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-unknown get
// #line 918 "toccata.toc"
Value *rslt2 = proto3Arg(&get_Implementations_364, "<nothing>/get", subs_1, ast_0, ast_0, "toccata.toc", 918);
return(rslt2);

};};
FnArity Symbol_replace_bound_vars_7128 = {FnArityType, -1, 2, (List *)0, 0, Symbol_replace_bound_vars_7127};

// --------- get-type-number -------------
Value *get_type_number_7130;
Value *arityImpl7134(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val67;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs80[3] = {&val1, &val67, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs80);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val67, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7135_13 = ss_10;
Value *type_symbol_14 = v_9;

incRef(type_symbol_14, 2);
Value *arg7136_16 = arg7135_13;

// static-fixed
// #line 923 "toccata.toc"
Value *rslt15 = sym_ns_path_6067(empty_list, type_symbol_14);
Value *ev_17 = rslt15;
Value *arg7137_18 = arg7136_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7137_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(type_symbol_14, 2);
dec_and_free(val67, 1);
dec_and_free(x_28, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7138_35 = ss_32;
Value *ns_path_36 = v_31;
Value *arg7139_46 = arg7138_35;

// call-vector
// #line 924 "toccata.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5586);
newVect37 = mutateVectConj(newVect37, ns_path_36);
newVect37 = mutateVectConj(newVect37, dispatchFnPtr5511);
newVect37 = mutateVectConj(newVect37, type_symbol_14);
Value *rslt38 = (Value *)newVect37;

// static-fixed
// #line 924 "toccata.toc"
Value *rslt39 = get_in_val_3549(empty_list, rslt38);

// call-vector
// #line 925 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5586);
newVect40 = mutateVectConj(newVect40, symPtr34);
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5511);
newVect40 = mutateVectConj(newVect40, type_symbol_14);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 925 "toccata.toc"
Value *rslt42 = get_in_val_3549(empty_list, rslt41);

// call-list
// #line 924 "toccata.toc"
List *newList43 = empty_list;
newList43 = listCons((Value *)rslt42, newList43);
Value *rslt44 = (Value *)newList43;

// type-known for comp*
// #line 924 "toccata.toc"
Value *rslt45 = new_sm_comp_STAR__2805(empty_list, rslt39, rslt44);
Value *ev_47 = rslt45;
Value *arg7140_48 = arg7139_46;
Value *rslt49 = reified_type_args_22(empty_list, ev_47);
Value *invoke_fn_50;
Value *tail_51;
Value **destArgs52[2] = {&invoke_fn_50, &tail_51};
destructValue("", "0", (Value *)rslt49, 2, destArgs52);

dec_and_free(tail_51, 1);
Value *s_53 = arg7140_48;
Value *rslt57;
if((invoke_fn_50)->type != FunctionType) {
rslt57 = invoke_368(empty_list, invoke_fn_50, s_53);
} else {
FnArity *arity54 = findFnArity(invoke_fn_50, 1);
if(arity54 != (FnArity *)0 && !arity54->variadic) {
FnType1 *fn56 = (FnType1 *)arity54->fn;
rslt57 = fn56(arity54->closures, s_53);
} else if(arity54 != (FnArity *)0 && arity54->variadic) {
FnType1 *fn56 = (FnType1 *)arity54->fn;
List *dynArgs55 = empty_list;
dynArgs55 = (List *)listCons(s_53, dynArgs55);
rslt57 = fn56(arity54->closures, (Value *)dynArgs55);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_50)->name);
  abort();
}
dec_and_free(invoke_fn_50, 1);
}
Value *x_58 = rslt57;

incRef(x_58, 1);
Value *andRslt59;
andRslt59 = x_58;
if (isNothing(andRslt59)) {
dec_and_free(val67, 1);
dec_and_free(x_58, 1);
} else {
dec_and_free(andRslt59, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt60 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_58, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_61;
Value *ss_62;
Value *tail_63;
Value **destArgs64[3] = {&v_61, &ss_62, &tail_63};
destructValue("", "0", (Value *)rslt60, 3, destArgs64);

dec_and_free(tail_63, 1);
Value *arg7141_65 = ss_62;
Value *type_num_66 = v_61;
Value *arg7142_68 = arg7141_65;
Value *__69 = val67;
Value *v_70 = type_num_66;
Value *arg7143_71 = arg7142_68;
Value *rslt72 = reified_type_args_22(empty_list, __69);
Value *invoke_fn_73;
Value *tail_74;
Value **destArgs75[2] = {&invoke_fn_73, &tail_74};
destructValue("", "0", (Value *)rslt72, 2, destArgs75);

dec_and_free(invoke_fn_73, 1);

dec_and_free(tail_74, 1);
Value *s_76 = arg7143_71;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect77 = empty_vect;
newVect77 = mutateVectConj(newVect77, v_70);
newVect77 = mutateVectConj(newVect77, s_76);
Value *rslt78 = (Value *)newVect77;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt79 = maybe_4(empty_list, rslt78);
andRslt59 = rslt79;
}
andRslt29 = andRslt59;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *get_type_number_7131(List *closures, Value *type_symbol_0) {
 while (1) {

// static-fixed
// #line 922 "toccata.toc"
Value *rslt1 = when_4087(empty_list, type_symbol_0);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7134;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7144 = malloc_function(1);
anon_7144->name = "anon";
anon_7144->arityCount = 1;
anon_7144->arities[0] = dynArity8;
Value *fn7133 = (Value *)anon_7144;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7133);

// call invoke
// #line 927 "toccata.toc"
Value *rslt10 = arityImpl2933(empty_list, reifiedPtr2939, numPtr0);
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
Value *rslt12 = (Value *)newList11;
Value *rslt13 = new_sm_comp_STAR__2805(empty_list, rslt9, rslt12);
return(rslt13);

};};
FnArity get_type_number_7145 = {FnArityType, -1, 1, (List *)0, 0, get_type_number_7131};
Function get_type_number_7146 = {FunctionType, -1, "get-type-number", 1, {&get_type_number_7145}};
Value *get_type_number_7130 = (Value *)&get_type_number_7146;

Value *arityImpl7154(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs37[4] = {&val1, &val15, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs37);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7155_13 = ss_10;
Value *type_num_14 = v_9;
Value *arg7156_16 = arg7155_13;
Value *__17 = val15;

// type-known for .txt
// #line 935 "toccata.toc"
Value *rslt19 = inline_ast_txt_2173(empty_list, val18);

// call-vector
// #line 935 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt19);
Value *rslt21 = (Value *)newVect20;

// call-vector
// #line 935 "toccata.toc"
Vector *newVect22 = empty_vect;
Value *rslt23 = (Value *)newVect22;

// static-variadic
// #line 935 "toccata.toc"
List *varArgs24 = empty_list;
Value *rslt25 = hash_map_1208(empty_list, (Value *)varArgs24);

// call invoke
// #line 935 "toccata.toc"
Value *rslt26 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt21, rslt23, type_num_14, rslt25);
Value *v_27 = rslt26;
Value *arg7157_28 = arg7156_16;
Value *rslt29 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_30;
Value *tail_31;
Value **destArgs32[2] = {&invoke_fn_30, &tail_31};
destructValue("", "0", (Value *)rslt29, 2, destArgs32);

dec_and_free(invoke_fn_30, 1);

dec_and_free(tail_31, 1);
Value *s_33 = arg7157_28;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect34 = empty_vect;
newVect34 = mutateVectConj(newVect34, v_27);
newVect34 = mutateVectConj(newVect34, s_33);
Value *rslt35 = (Value *)newVect34;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = maybe_4(empty_list, rslt35);
return(rslt36);
andRslt7 = rslt36;
}

};};
Value *arityImpl7150(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val28;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs39[4] = {&val1, &val17, &val28, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs39);

incRef(val17, 2);

incRef(val28, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val17, 3);
dec_and_free(val28, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7151_13 = ss_10;
Value *target_lang_14 = v_9;
Value *orRslt15;
Value *andRslt16;

// type-known for .lang
// #line 933 "toccata.toc"
Value *rslt18 = inline_ast_lang_2165(empty_list, val17);

// static-fixed
// #line 933 "toccata.toc"
Value *rslt19 = _EQ__557(empty_list, rslt18, target_lang_14);
andRslt16 = rslt19;
if (isNothing(andRslt16)) {
dec_and_free(val17, 2);
dec_and_free(val28, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for .result-type
// #line 934 "toccata.toc"
Value *rslt20 = inline_ast_result_type_2169(empty_list, val17);

// static-fixed
// #line 934 "toccata.toc"
Value *rslt21 = get_type_number_7131(empty_list, rslt20);
Value *ev_22 = rslt21;
Value *rslt23 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl7154;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)val17, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)val28, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)invoke_fn_24, (List *)dynArity27->closures);
Function *anon_7158 = malloc_function(1);
anon_7158->name = "anon";
anon_7158->arityCount = 1;
anon_7158->arities[0] = dynArity27;
Value *fn7153 = (Value *)anon_7158;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7153);

// static-fixed
// #line 933 "toccata.toc"
Value *rslt30 = maybe_4(empty_list, rslt29);
andRslt16 = rslt30;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val28, 1);

} else {
dec_and_free(orRslt15, 1);

// type-known for zero
// #line 933 "toccata.toc"
Value *rslt31 = new_sm_zero_2799(empty_list, val28);

// type-unknown zero
// #line 933 "toccata.toc"
Value *rslt32 = proto1Arg(&zero_Implementations_235, "zero", rslt31, "toccata.toc", 933);

// static-fixed
// #line 933 "toccata.toc"
Value *rslt33 = maybe_4(empty_list, rslt32);
orRslt15 = rslt33;
}

// type-known for extract
// #line 933 "toccata.toc"
Value *rslt34 = Maybe_extract_757(empty_list, orRslt15);

// dynamic unknown type
// #line 933 "toccata.toc"
Value *rslt38;
if((rslt34)->type != FunctionType) {
rslt38 = invoke_368(empty_list, rslt34, arg7151_13);
} else {
FnArity *arity35 = findFnArity(rslt34, 1);
if(arity35 != (FnArity *)0 && !arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
rslt38 = fn37(arity35->closures, arg7151_13);
} else if(arity35 != (FnArity *)0 && arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
List *dynArgs36 = empty_list;
dynArgs36 = (List *)listCons(arg7151_13, dynArgs36);
rslt38 = fn37(arity35->closures, (Value *)dynArgs36);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt34)->name);
  abort();
}
dec_and_free(rslt34, 1);
}
return(rslt38);
andRslt7 = rslt38;
}

};};
Value *emit_7147(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 932 "toccata.toc"
Value *rslt1 = get_val_3323(empty_list, dispatchFnPtr5589);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7150;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)ast_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7159 = malloc_function(1);
anon_7159->name = "anon";
anon_7159->arityCount = 1;
anon_7159->arities[0] = dynArity8;
Value *fn7149 = (Value *)anon_7159;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7149);
return(rslt9);

};};
FnArity emit_7160 = {FnArityType, -1, 1, (List *)0, 0, emit_7147};
Value *arityImpl7171(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .c-var
// #line 941 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", v_9, "toccata.toc", 941);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str531 = {StringType, -1, 3, 0, "var"};
Value *strPtr531 = (Value *)&str531;
Value *arityImpl7168(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val78;
Value *val83;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs102[5] = {&val1, &val15, &val78, &val83, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs102);

incRef(val15, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val78, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 3);
dec_and_free(val83, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7169_13 = ss_10;
Value *type_num_14 = v_9;

incRef(type_num_14, 1);
Value *arg7173_28 = arg7169_13;

// static-fixed
// #line 941 "toccata.toc"
Value *rslt16 = lookup_declaration_6542(empty_list, val15);
Value *__17 = rslt16;
Value *rslt18 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_19;
Value *tail_20;
Value **destArgs21[2] = {&invoke_fn_19, &tail_20};
destructValue("", "0", (Value *)rslt18, 2, destArgs21);

dec_and_free(tail_20, 1);
FnArity *dynArity22 = malloc_fnArity();
dynArity22->count = 1;
dynArity22->variadic = 0;
dynArity22->fn = arityImpl7171;
dynArity22->closures = empty_list;
dynArity22->closures = listCons((Value *)invoke_fn_19, (List *)dynArity22->closures);
Function *anon_7172 = malloc_function(1);
anon_7172->name = "anon";
anon_7172->arityCount = 1;
anon_7172->arities[0] = dynArity22;
Value *fn7170 = (Value *)anon_7172;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7170);

// static-fixed
// #line 942 "toccata.toc"
Value *rslt24 = global_var_6497(empty_list, val15, strPtr531);

// call-list
// #line 941 "toccata.toc"
List *newList25 = empty_list;
newList25 = listCons((Value *)rslt24, newList25);
Value *rslt26 = (Value *)newList25;

// type-known for comp*
// #line 941 "toccata.toc"
Value *rslt27 = new_sm_comp_STAR__2805(empty_list, rslt23, rslt26);
Value *ev_29 = rslt27;
Value *arg7174_30 = arg7173_28;
Value *rslt31 = reified_type_args_22(empty_list, ev_29);
Value *invoke_fn_32;
Value *tail_33;
Value **destArgs34[2] = {&invoke_fn_32, &tail_33};
destructValue("", "0", (Value *)rslt31, 2, destArgs34);

dec_and_free(tail_33, 1);
Value *s_35 = arg7174_30;
Value *rslt39;
if((invoke_fn_32)->type != FunctionType) {
rslt39 = invoke_368(empty_list, invoke_fn_32, s_35);
} else {
FnArity *arity36 = findFnArity(invoke_fn_32, 1);
if(arity36 != (FnArity *)0 && !arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
rslt39 = fn38(arity36->closures, s_35);
} else if(arity36 != (FnArity *)0 && arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
List *dynArgs37 = empty_list;
dynArgs37 = (List *)listCons(s_35, dynArgs37);
rslt39 = fn38(arity36->closures, (Value *)dynArgs37);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_32)->name);
  abort();
}
dec_and_free(invoke_fn_32, 1);
}
Value *x_40 = rslt39;

incRef(x_40, 1);
Value *andRslt41;
andRslt41 = x_40;
if (isNothing(andRslt41)) {
dec_and_free(val78, 1);
dec_and_free(x_40, 1);
dec_and_free(val15, 1);
dec_and_free(type_num_14, 2);
dec_and_free(val83, 1);
} else {
dec_and_free(andRslt41, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_40, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_43;
Value *ss_44;
Value *tail_45;
Value **destArgs46[3] = {&v_43, &ss_44, &tail_45};
destructValue("", "0", (Value *)rslt42, 3, destArgs46);

dec_and_free(tail_45, 1);
Value *arg7175_47 = ss_44;
Value *c_var_48 = v_43;

incRef(c_var_48, 1);
Value *arg7176_57 = arg7175_47;

// call-vector
// #line 943 "toccata.toc"
Vector *newVect49 = empty_vect;
Value *rslt50 = (Value *)newVect49;

// call-vector
// #line 943 "toccata.toc"
Vector *newVect51 = empty_vect;
Value *rslt52 = (Value *)newVect51;

// static-variadic
// #line 943 "toccata.toc"
List *varArgs53 = empty_list;
Value *rslt54 = hash_map_1208(empty_list, (Value *)varArgs53);

// call invoke
// #line 943 "toccata.toc"
Value *rslt55 = c_code_invoke_5942(empty_list, reifiedPtr5945, c_var_48, rslt50, rslt52, type_num_14, rslt54);

// static-fixed
// #line 943 "toccata.toc"
Value *rslt56 = new_module_def_6527(empty_list, val15, rslt55);
Value *ev_58 = rslt56;
Value *arg7177_59 = arg7176_57;
Value *rslt60 = reified_type_args_22(empty_list, ev_58);
Value *invoke_fn_61;
Value *tail_62;
Value **destArgs63[2] = {&invoke_fn_61, &tail_62};
destructValue("", "0", (Value *)rslt60, 2, destArgs63);

dec_and_free(tail_62, 1);
Value *s_64 = arg7177_59;
Value *rslt68;
if((invoke_fn_61)->type != FunctionType) {
rslt68 = invoke_368(empty_list, invoke_fn_61, s_64);
} else {
FnArity *arity65 = findFnArity(invoke_fn_61, 1);
if(arity65 != (FnArity *)0 && !arity65->variadic) {
FnType1 *fn67 = (FnType1 *)arity65->fn;
rslt68 = fn67(arity65->closures, s_64);
} else if(arity65 != (FnArity *)0 && arity65->variadic) {
FnType1 *fn67 = (FnType1 *)arity65->fn;
List *dynArgs66 = empty_list;
dynArgs66 = (List *)listCons(s_64, dynArgs66);
rslt68 = fn67(arity65->closures, (Value *)dynArgs66);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_61)->name);
  abort();
}
dec_and_free(invoke_fn_61, 1);
}
Value *x_69 = rslt68;

incRef(x_69, 1);
Value *andRslt70;
andRslt70 = x_69;
if (isNothing(andRslt70)) {
dec_and_free(val78, 1);
dec_and_free(x_69, 1);
dec_and_free(type_num_14, 1);
dec_and_free(c_var_48, 1);
dec_and_free(val83, 1);
} else {
dec_and_free(andRslt70, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt71 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_69, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_72;
Value *ss_73;
Value *tail_74;
Value **destArgs75[3] = {&v_72, &ss_73, &tail_74};
destructValue("", "0", (Value *)rslt71, 3, destArgs75);

dec_and_free(tail_74, 1);
Value *arg7178_76 = ss_73;
Value *arg77 = v_72;

dec_and_free(arg77, 1);
Value *arg7179_79 = arg7178_76;
Value *__80 = val78;

// call-vector
// #line 944 "toccata.toc"
Vector *newVect81 = empty_vect;
Value *rslt82 = (Value *)newVect81;

// type-known for .txt
// #line 944 "toccata.toc"
Value *rslt84 = inline_ast_txt_2173(empty_list, val83);

// call-vector
// #line 944 "toccata.toc"
Vector *newVect85 = empty_vect;
newVect85 = mutateVectConj(newVect85, strPtr492);
newVect85 = mutateVectConj(newVect85, c_var_48);
newVect85 = mutateVectConj(newVect85, strPtr500);
newVect85 = mutateVectConj(newVect85, rslt84);
newVect85 = mutateVectConj(newVect85, strPtr303);
newVect85 = mutateVectConj(newVect85, strPtr5);
Value *rslt86 = (Value *)newVect85;

// static-variadic
// #line 944 "toccata.toc"
List *varArgs87 = empty_list;
Value *rslt88 = hash_map_1208(empty_list, (Value *)varArgs87);

// call invoke
// #line 944 "toccata.toc"
Value *rslt89 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt82, rslt86, type_num_14, rslt88);

// call-vector
// #line 944 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, rslt89);
Value *rslt91 = (Value *)newVect90;
Value *v_92 = rslt91;
Value *arg7180_93 = arg7179_79;
Value *rslt94 = reified_type_args_22(empty_list, __80);
Value *invoke_fn_95;
Value *tail_96;
Value **destArgs97[2] = {&invoke_fn_95, &tail_96};
destructValue("", "0", (Value *)rslt94, 2, destArgs97);

dec_and_free(invoke_fn_95, 1);

dec_and_free(tail_96, 1);
Value *s_98 = arg7180_93;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect99 = empty_vect;
newVect99 = mutateVectConj(newVect99, v_92);
newVect99 = mutateVectConj(newVect99, s_98);
Value *rslt100 = (Value *)newVect99;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt101 = maybe_4(empty_list, rslt100);
andRslt70 = rslt101;
}
andRslt41 = andRslt70;
}
return(andRslt41);
andRslt7 = andRslt41;
}

};};
Value *arityImpl7164(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val28;
Value *val29;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs40[5] = {&val1, &val17, &val28, &val29, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs40);

incRef(val17, 2);

incRef(val28, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val29, 1);
dec_and_free(x_6, 1);
dec_and_free(val17, 3);
dec_and_free(val28, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7165_13 = ss_10;
Value *target_lang_14 = v_9;
Value *orRslt15;
Value *andRslt16;

// type-known for .lang
// #line 939 "toccata.toc"
Value *rslt18 = inline_ast_lang_2165(empty_list, val17);

// static-fixed
// #line 939 "toccata.toc"
Value *rslt19 = _EQ__557(empty_list, rslt18, target_lang_14);
andRslt16 = rslt19;
if (isNothing(andRslt16)) {
dec_and_free(val29, 1);
dec_and_free(val17, 2);
dec_and_free(val28, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for .result-type
// #line 940 "toccata.toc"
Value *rslt20 = inline_ast_result_type_2169(empty_list, val17);

// static-fixed
// #line 940 "toccata.toc"
Value *rslt21 = get_type_number_7131(empty_list, rslt20);
Value *ev_22 = rslt21;
Value *rslt23 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl7168;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)val17, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)val28, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)val29, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)invoke_fn_24, (List *)dynArity27->closures);
Function *anon_7181 = malloc_function(1);
anon_7181->name = "anon";
anon_7181->arityCount = 1;
anon_7181->arities[0] = dynArity27;
Value *fn7167 = (Value *)anon_7181;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7167);

// static-fixed
// #line 939 "toccata.toc"
Value *rslt31 = maybe_4(empty_list, rslt30);
andRslt16 = rslt31;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val28, 1);

} else {
dec_and_free(orRslt15, 1);

// type-known for zero
// #line 939 "toccata.toc"
Value *rslt32 = new_sm_zero_2799(empty_list, val28);

// type-unknown zero
// #line 939 "toccata.toc"
Value *rslt33 = proto1Arg(&zero_Implementations_235, "zero", rslt32, "toccata.toc", 939);

// static-fixed
// #line 939 "toccata.toc"
Value *rslt34 = maybe_4(empty_list, rslt33);
orRslt15 = rslt34;
}

// type-known for extract
// #line 939 "toccata.toc"
Value *rslt35 = Maybe_extract_757(empty_list, orRslt15);

// dynamic unknown type
// #line 939 "toccata.toc"
Value *rslt39;
if((rslt35)->type != FunctionType) {
rslt39 = invoke_368(empty_list, rslt35, arg7165_13);
} else {
FnArity *arity36 = findFnArity(rslt35, 1);
if(arity36 != (FnArity *)0 && !arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
rslt39 = fn38(arity36->closures, arg7165_13);
} else if(arity36 != (FnArity *)0 && arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
List *dynArgs37 = empty_list;
dynArgs37 = (List *)listCons(arg7165_13, dynArgs37);
rslt39 = fn38(arity36->closures, (Value *)dynArgs37);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt35)->name);
  abort();
}
dec_and_free(rslt35, 1);
}
return(rslt39);
andRslt7 = rslt39;
}

};};
Value *emit_defined_value_7161(List *closures, Value *ast_0, Value *defined_sym_1) {
 while (1) {

// static-fixed
// #line 938 "toccata.toc"
Value *rslt2 = get_val_3323(empty_list, dispatchFnPtr5589);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7164;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)ast_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7182 = malloc_function(1);
anon_7182->name = "anon";
anon_7182->arityCount = 1;
anon_7182->arities[0] = dynArity9;
Value *fn7163 = (Value *)anon_7182;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7163);
return(rslt10);

};};
FnArity emit_defined_value_7183 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_7161};
Value *arityImpl7191(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs39[4] = {&val1, &val15, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs39);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7192_13 = ss_10;
Value *type_num_14 = v_9;
Value *arg7193_16 = arg7192_13;
Value *__17 = val15;

// call-vector
// #line 950 "toccata.toc"
Vector *newVect18 = empty_vect;
Value *rslt19 = (Value *)newVect18;

// type-known for .txt
// #line 950 "toccata.toc"
Value *rslt21 = inline_ast_txt_2173(empty_list, val20);

// call-vector
// #line 950 "toccata.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, rslt21);
Value *rslt23 = (Value *)newVect22;

// static-variadic
// #line 950 "toccata.toc"
List *varArgs24 = empty_list;
Value *rslt25 = hash_map_1208(empty_list, (Value *)varArgs24);

// call invoke
// #line 950 "toccata.toc"
Value *rslt26 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt19, rslt23, type_num_14, rslt25);

// call-vector
// #line 950 "toccata.toc"
Vector *newVect27 = empty_vect;
newVect27 = mutateVectConj(newVect27, rslt26);
Value *rslt28 = (Value *)newVect27;
Value *v_29 = rslt28;
Value *arg7194_30 = arg7193_16;
Value *rslt31 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_32;
Value *tail_33;
Value **destArgs34[2] = {&invoke_fn_32, &tail_33};
destructValue("", "0", (Value *)rslt31, 2, destArgs34);

dec_and_free(invoke_fn_32, 1);

dec_and_free(tail_33, 1);
Value *s_35 = arg7194_30;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect36 = empty_vect;
newVect36 = mutateVectConj(newVect36, v_29);
newVect36 = mutateVectConj(newVect36, s_35);
Value *rslt37 = (Value *)newVect36;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = maybe_4(empty_list, rslt37);
return(rslt38);
andRslt7 = rslt38;
}

};};
Value *arityImpl7187(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val28;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs39[4] = {&val1, &val17, &val28, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs39);

incRef(val17, 2);

incRef(val28, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val17, 3);
dec_and_free(val28, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7188_13 = ss_10;
Value *target_lang_14 = v_9;
Value *orRslt15;
Value *andRslt16;

// type-known for .lang
// #line 948 "toccata.toc"
Value *rslt18 = inline_ast_lang_2165(empty_list, val17);

// static-fixed
// #line 948 "toccata.toc"
Value *rslt19 = _EQ__557(empty_list, rslt18, target_lang_14);
andRslt16 = rslt19;
if (isNothing(andRslt16)) {
dec_and_free(val17, 2);
dec_and_free(val28, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for .result-type
// #line 949 "toccata.toc"
Value *rslt20 = inline_ast_result_type_2169(empty_list, val17);

// static-fixed
// #line 949 "toccata.toc"
Value *rslt21 = get_type_number_7131(empty_list, rslt20);
Value *ev_22 = rslt21;
Value *rslt23 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl7191;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)val17, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)val28, (List *)dynArity27->closures);
dynArity27->closures = listCons((Value *)invoke_fn_24, (List *)dynArity27->closures);
Function *anon_7195 = malloc_function(1);
anon_7195->name = "anon";
anon_7195->arityCount = 1;
anon_7195->arities[0] = dynArity27;
Value *fn7190 = (Value *)anon_7195;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7190);

// static-fixed
// #line 948 "toccata.toc"
Value *rslt30 = maybe_4(empty_list, rslt29);
andRslt16 = rslt30;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val28, 1);

} else {
dec_and_free(orRslt15, 1);

// type-known for zero
// #line 948 "toccata.toc"
Value *rslt31 = new_sm_zero_2799(empty_list, val28);

// type-unknown zero
// #line 948 "toccata.toc"
Value *rslt32 = proto1Arg(&zero_Implementations_235, "zero", rslt31, "toccata.toc", 948);

// static-fixed
// #line 948 "toccata.toc"
Value *rslt33 = maybe_4(empty_list, rslt32);
orRslt15 = rslt33;
}

// type-known for extract
// #line 948 "toccata.toc"
Value *rslt34 = Maybe_extract_757(empty_list, orRslt15);

// dynamic unknown type
// #line 948 "toccata.toc"
Value *rslt38;
if((rslt34)->type != FunctionType) {
rslt38 = invoke_368(empty_list, rslt34, arg7188_13);
} else {
FnArity *arity35 = findFnArity(rslt34, 1);
if(arity35 != (FnArity *)0 && !arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
rslt38 = fn37(arity35->closures, arg7188_13);
} else if(arity35 != (FnArity *)0 && arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
List *dynArgs36 = empty_list;
dynArgs36 = (List *)listCons(arg7188_13, dynArgs36);
rslt38 = fn37(arity35->closures, (Value *)dynArgs36);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt34)->name);
  abort();
}
dec_and_free(rslt34, 1);
}
return(rslt38);
andRslt7 = rslt38;
}

};};
Value *emit_definition_7184(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 947 "toccata.toc"
Value *rslt1 = get_val_3323(empty_list, dispatchFnPtr5589);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7187;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)ast_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7196 = malloc_function(1);
anon_7196->name = "anon";
anon_7196->arityCount = 1;
anon_7196->arities[0] = dynArity8;
Value *fn7186 = (Value *)anon_7196;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7186);
return(rslt9);

};};
FnArity emit_definition_7197 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_7184};
Value *tail_call_7198(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

dec_and_free(params_1, 1);
return(ast_0);

};};
FnArity tail_call_7199 = {FnArityType, -1, 2, (List *)0, 0, tail_call_7198};
Value *replace_syms_7200(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);

// call invoke
// #line 955 "toccata.toc"
Value *rslt2 = arityImpl2933(empty_list, reifiedPtr2939, ast_0);
return(rslt2);

};};
FnArity replace_syms_7201 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_7200};
Value *replace_bound_vars_7202(List *closures, Value *ast_0, Value *arg1) {
 while (1) {

dec_and_free(arg1, 1);
return(ast_0);

};};
FnArity replace_bound_vars_7203 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_7202};
Value *arityImpl7206(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown emit-defined-value
// #line 966 "toccata.toc"
Value *rslt2 = proto2Arg(&emit_defined_value_Implementations_5823, "<nothing>/emit-defined-value", ast_0, val1, "toccata.toc", 966);
return(rslt2);

};};
Value *arityImpl7209(List *closures, Value *evalled_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// type-unknown flatten
// #line 967 "toccata.toc"
Value *rslt2 = proto1Arg(&flatten_Implementations_251, "<nothing>/flatten", evalled_0, "toccata.toc", 967);

// type-unknown wrap
// #line 965 "toccata.toc"
Value *rslt3 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt2, "toccata.toc", 965);
return(rslt3);

};};
Value *emit_definition_7204(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);

// type-known for .sym
// #line 964 "toccata.toc"
Value *rslt1 = definition_ast_sym_2530(empty_list, ast_0);
Value *defined_sym_2 = rslt1;

// type-known for .value
// #line 965 "toccata.toc"
Value *rslt3 = definition_ast_value_2534(empty_list, ast_0);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl7206;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)defined_sym_2, (List *)dynArity4->closures);
Function *anon_7207 = malloc_function(1);
anon_7207->name = "anon";
anon_7207->arityCount = 1;
anon_7207->arities[0] = dynArity4;
Value *fn7205 = (Value *)anon_7207;

// static-fixed
// #line 965 "toccata.toc"
Value *rslt5 = traverse_6470(empty_list, rslt3, fn7205);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl7209;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)wrapper_6, (List *)dynArity7->closures);
Function *anon_7210 = malloc_function(1);
anon_7210->name = "anon";
anon_7210->arityCount = 1;
anon_7210->arities[0] = dynArity7;
Value *fn7208 = (Value *)anon_7210;

// type-unknown flat-map
// #line 965 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_6, fn7208, "toccata.toc", 965);
return(rslt8);

};};
FnArity emit_definition_7211 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_7204};
Value *arityImpl7215(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg13 = v_9;

dec_and_free(arg13, 1);

// call-vector
// #line 973 "toccata.toc"
Vector *newVect14 = empty_vect;
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
Value *arityImpl7219(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val24;
Value *val51;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs71[4] = {&val1, &val24, &val51, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs71);

incRef(val24, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val24, 2);
dec_and_free(val51, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7220_13 = ss_10;
Value *c_var_14 = v_9;

incRef(c_var_14, 1);
Value *arg7221_15 = arg7220_13;

// call-vector
// #line 975 "toccata.toc"
Vector *newVect16 = empty_vect;
Value *rslt17 = (Value *)newVect16;

// call-vector
// #line 975 "toccata.toc"
Vector *newVect18 = empty_vect;
Value *rslt19 = (Value *)newVect18;

// static-variadic
// #line 975 "toccata.toc"
List *varArgs20 = empty_list;
Value *rslt21 = hash_map_1208(empty_list, (Value *)varArgs20);

// call invoke
// #line 975 "toccata.toc"
Value *rslt22 = c_code_invoke_5942(empty_list, reifiedPtr5945, c_var_14, rslt17, rslt19, UnknownType_5361, rslt21);
Value *c_info_23 = rslt22;

incRef(c_info_23, 1);
Value *arg7222_30 = arg7221_15;

// type-unknown ast/file-name
// #line 976 "toccata.toc"
Value *rslt25 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val24, "toccata.toc", 976);

// call-vector
// #line 976 "toccata.toc"
Vector *newVect26 = empty_vect;
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5586);
newVect26 = mutateVectConj(newVect26, rslt25);
newVect26 = mutateVectConj(newVect26, dispatchFnPtr5510);
newVect26 = mutateVectConj(newVect26, val24);
Value *rslt27 = (Value *)newVect26;

// static-fixed
// #line 977 "toccata.toc"
Value *rslt28 = maybe_4(empty_list, c_info_23);

// static-fixed
// #line 976 "toccata.toc"
Value *rslt29 = assoc_in_val_3599(empty_list, rslt27, rslt28);
Value *ev_31 = rslt29;
Value *arg7223_32 = arg7222_30;
Value *rslt33 = reified_type_args_22(empty_list, ev_31);
Value *invoke_fn_34;
Value *tail_35;
Value **destArgs36[2] = {&invoke_fn_34, &tail_35};
destructValue("", "0", (Value *)rslt33, 2, destArgs36);

dec_and_free(tail_35, 1);
Value *s_37 = arg7223_32;
Value *rslt41;
if((invoke_fn_34)->type != FunctionType) {
rslt41 = invoke_368(empty_list, invoke_fn_34, s_37);
} else {
FnArity *arity38 = findFnArity(invoke_fn_34, 1);
if(arity38 != (FnArity *)0 && !arity38->variadic) {
FnType1 *fn40 = (FnType1 *)arity38->fn;
rslt41 = fn40(arity38->closures, s_37);
} else if(arity38 != (FnArity *)0 && arity38->variadic) {
FnType1 *fn40 = (FnType1 *)arity38->fn;
List *dynArgs39 = empty_list;
dynArgs39 = (List *)listCons(s_37, dynArgs39);
rslt41 = fn40(arity38->closures, (Value *)dynArgs39);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_34)->name);
  abort();
}
dec_and_free(invoke_fn_34, 1);
}
Value *x_42 = rslt41;

incRef(x_42, 1);
Value *andRslt43;
andRslt43 = x_42;
if (isNothing(andRslt43)) {
dec_and_free(x_42, 1);
dec_and_free(c_info_23, 1);
dec_and_free(c_var_14, 1);
dec_and_free(val51, 1);
} else {
dec_and_free(andRslt43, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt44 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_42, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_45;
Value *ss_46;
Value *tail_47;
Value **destArgs48[3] = {&v_45, &ss_46, &tail_47};
destructValue("", "0", (Value *)rslt44, 3, destArgs48);

dec_and_free(tail_47, 1);
Value *arg7224_49 = ss_46;
Value *arg50 = v_45;

dec_and_free(arg50, 1);
Value *arg7225_52 = arg7224_49;
Value *__53 = val51;

// type-known for .c-var
// #line 978 "toccata.toc"
Value *rslt54 = c_code_c_var_5954(empty_list, c_info_23, strPtr0);
Value *c_info_55 = rslt54;

// call-vector
// #line 979 "toccata.toc"
Vector *newVect56 = empty_vect;
newVect56 = mutateVectConj(newVect56, strPtr492);
newVect56 = mutateVectConj(newVect56, c_var_14);
newVect56 = mutateVectConj(newVect56, strPtr494);
Value *rslt57 = (Value *)newVect56;

// type-unknown .decl
// #line 979 "toccata.toc"
Value *rslt58 = proto2Arg(&protoImpls5873, "<nothing>/.decl", c_info_55, rslt57, "toccata.toc", 979);

// call-vector
// #line 979 "toccata.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, rslt58);
Value *rslt60 = (Value *)newVect59;
Value *v_61 = rslt60;
Value *arg7226_62 = arg7225_52;
Value *rslt63 = reified_type_args_22(empty_list, __53);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(invoke_fn_64, 1);

dec_and_free(tail_65, 1);
Value *s_67 = arg7226_62;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect68 = empty_vect;
newVect68 = mutateVectConj(newVect68, v_61);
newVect68 = mutateVectConj(newVect68, s_67);
Value *rslt69 = (Value *)newVect68;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt70 = maybe_4(empty_list, rslt69);
andRslt43 = rslt70;
}
return(andRslt43);
andRslt7 = andRslt43;
}

};};
Value *emit_definition_7212(List *closures, Value *ast_0) {
 while (1) {

// type-known for .sym
// #line 972 "toccata.toc"
Value *rslt1 = declaration_ast_sym_2606(empty_list, ast_0);
Value *sym_2 = rslt1;

incRef(sym_2, 2);

// static-fixed
// #line 973 "toccata.toc"
Value *rslt3 = lookup_declaration_6542(empty_list, sym_2);
Value *__4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, __4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7215;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7216 = malloc_function(1);
anon_7216->name = "anon";
anon_7216->arityCount = 1;
anon_7216->arities[0] = dynArity9;
Value *fn7214 = (Value *)anon_7216;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7214);

// static-fixed
// #line 974 "toccata.toc"
Value *rslt11 = global_var_6497(empty_list, sym_2, strPtr531);
Value *wrapper_12 = rslt11;

incRef(wrapper_12, 1);
Value *ev_13 = wrapper_12;
Value *rslt14 = reified_type_args_22(empty_list, ev_13);
Value *invoke_fn_15;
Value *tail_16;
Value **destArgs17[2] = {&invoke_fn_15, &tail_16};
destructValue("", "0", (Value *)rslt14, 2, destArgs17);

dec_and_free(tail_16, 1);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7219;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)wrapper_12, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)sym_2, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)invoke_fn_15, (List *)dynArity18->closures);
Function *anon_7227 = malloc_function(1);
anon_7227->name = "anon";
anon_7227->arityCount = 1;
anon_7227->arities[0] = dynArity18;
Value *fn7218 = (Value *)anon_7227;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7218);

// call-list
// #line 973 "toccata.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)rslt19, newList20);
Value *rslt21 = (Value *)newList20;

// type-known for comp*
// #line 973 "toccata.toc"
Value *rslt22 = new_sm_comp_STAR__2805(empty_list, rslt10, rslt21);
return(rslt22);

};};
FnArity emit_definition_7228 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_7212};

// --------- call-static-fixed -------------
Value *call_static_fixed_7230;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str532 = {StringType, -1, 15, 0, "// static-fixed"};
Value *strPtr532 = (Value *)&str532;
Value *arityImpl7234(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val60;
Value *val64;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs86[5] = {&val1, &val37, &val60, &val64, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs86);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val37, 1);
dec_and_free(val60, 1);
dec_and_free(val64, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7235_13 = ss_10;
Value *arity_info_14 = v_9;

incRef(arity_info_14, 1);
Value *arg7236_16 = arg7235_13;

// static-fixed
// #line 985 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr512);
Value *ev_17 = rslt15;
Value *arg7237_18 = arg7236_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7237_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val37, 1);
dec_and_free(x_28, 1);
dec_and_free(arity_info_14, 2);
dec_and_free(val60, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7238_35 = ss_32;
Value *result_sym_36 = v_31;

incRef(result_sym_36, 1);
Value *arg7239_39 = arg7238_35;

// static-fixed
// #line 986 "toccata.toc"
Value *rslt38 = line_macro_5358(empty_list, val37, strPtr532);
Value *ev_40 = rslt38;
Value *arg7240_41 = arg7239_39;
Value *rslt42 = reified_type_args_22(empty_list, ev_40);
Value *invoke_fn_43;
Value *tail_44;
Value **destArgs45[2] = {&invoke_fn_43, &tail_44};
destructValue("", "0", (Value *)rslt42, 2, destArgs45);

dec_and_free(tail_44, 1);
Value *s_46 = arg7240_41;
Value *rslt50;
if((invoke_fn_43)->type != FunctionType) {
rslt50 = invoke_368(empty_list, invoke_fn_43, s_46);
} else {
FnArity *arity47 = findFnArity(invoke_fn_43, 1);
if(arity47 != (FnArity *)0 && !arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
rslt50 = fn49(arity47->closures, s_46);
} else if(arity47 != (FnArity *)0 && arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
List *dynArgs48 = empty_list;
dynArgs48 = (List *)listCons(s_46, dynArgs48);
rslt50 = fn49(arity47->closures, (Value *)dynArgs48);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_43)->name);
  abort();
}
dec_and_free(invoke_fn_43, 1);
}
Value *x_51 = rslt50;

incRef(x_51, 1);
Value *andRslt52;
andRslt52 = x_51;
if (isNothing(andRslt52)) {
dec_and_free(x_51, 1);
dec_and_free(result_sym_36, 2);
dec_and_free(arity_info_14, 2);
dec_and_free(val60, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt52, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_51, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_54;
Value *ss_55;
Value *tail_56;
Value **destArgs57[3] = {&v_54, &ss_55, &tail_56};
destructValue("", "0", (Value *)rslt53, 3, destArgs57);

dec_and_free(tail_56, 1);
Value *arg7241_58 = ss_55;
Value *line_59 = v_54;
Value *arg7242_61 = arg7241_58;
Value *__62 = val60;

// type-unknown .c-var
// #line 988 "toccata.toc"
Value *rslt63 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_info_14, "toccata.toc", 988);

// type-unknown seq
// #line 989 "toccata.toc"
Value *rslt65 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", val64, "toccata.toc", 989);

// static-fixed
// #line 989 "toccata.toc"
Value *rslt66 = cons_275(empty_list, strPtr525, rslt65);

// static-fixed
// #line 989 "toccata.toc"
Value *rslt67 = interpose_503(empty_list, rslt66, strPtr17);

// call-vector
// #line 988 "toccata.toc"
Vector *newVect68 = empty_vect;
newVect68 = mutateVectConj(newVect68, line_59);
newVect68 = mutateVectConj(newVect68, strPtr492);
newVect68 = mutateVectConj(newVect68, result_sym_36);
newVect68 = mutateVectConj(newVect68, strPtr500);
newVect68 = mutateVectConj(newVect68, rslt63);
newVect68 = mutateVectConj(newVect68, strPtr16);
newVect68 = mutateVectConj(newVect68, rslt67);
newVect68 = mutateVectConj(newVect68, strPtr442);
newVect68 = mutateVectConj(newVect68, strPtr5);
Value *rslt69 = (Value *)newVect68;

// call-vector
// #line 990 "toccata.toc"
Vector *newVect70 = empty_vect;
Value *rslt71 = (Value *)newVect70;

// type-unknown .type-num
// #line 990 "toccata.toc"
Value *rslt72 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", arity_info_14, "toccata.toc", 990);

// static-variadic
// #line 990 "toccata.toc"
List *varArgs73 = empty_list;
Value *rslt74 = hash_map_1208(empty_list, (Value *)varArgs73);

// call invoke
// #line 987 "toccata.toc"
Value *rslt75 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_36, rslt69, rslt71, rslt72, rslt74);
Value *v_76 = rslt75;
Value *arg7243_77 = arg7242_61;
Value *rslt78 = reified_type_args_22(empty_list, __62);
Value *invoke_fn_79;
Value *tail_80;
Value **destArgs81[2] = {&invoke_fn_79, &tail_80};
destructValue("", "0", (Value *)rslt78, 2, destArgs81);

dec_and_free(invoke_fn_79, 1);

dec_and_free(tail_80, 1);
Value *s_82 = arg7243_77;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect83 = empty_vect;
newVect83 = mutateVectConj(newVect83, v_76);
newVect83 = mutateVectConj(newVect83, s_82);
Value *rslt84 = (Value *)newVect83;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt85 = maybe_4(empty_list, rslt84);
andRslt52 = rslt85;
}
andRslt29 = andRslt52;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *call_static_fixed_7231(List *closures, Value *target_0, Value *arg_vars_1, Value *ast_2) {
 while (1) {

incRef(arg_vars_1, 1);

// type-unknown .c-var
// #line 984 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", target_0, "toccata.toc", 984);

// type-unknown count
// #line 984 "toccata.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", arg_vars_1, "toccata.toc", 984);

// static-fixed
// #line 984 "toccata.toc"
Value *rslt5 = lookup_static_arity_6627(empty_list, rslt3, rslt4);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl7234;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)arg_vars_1, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ast_2, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_7244 = malloc_function(1);
anon_7244->name = "anon";
anon_7244->arityCount = 1;
anon_7244->arities[0] = dynArity12;
Value *fn7233 = (Value *)anon_7244;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7233);
return(rslt13);

};};
FnArity call_static_fixed_7245 = {FnArityType, -1, 3, (List *)0, 0, call_static_fixed_7231};
Function call_static_fixed_7246 = {FunctionType, -1, "call-static-fixed", 1, {&call_static_fixed_7245}};
Value *call_static_fixed_7230 = (Value *)&call_static_fixed_7246;


// --------- call-static-variadic -------------
Value *call_static_variadic_7248;
SubString sym38 = {SymbolType, -1, 8, 0, 0, "variadic"};
Value *symPtr38 = (Value *)&sym38;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str533 = {StringType, -1, 7, 0, "varArgs"};
Value *strPtr533 = (Value *)&str533;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str534 = {StringType, -1, 18, 0, "// static-variadic"};
Value *strPtr534 = (Value *)&str534;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str535 = {StringType, -1, 20, 0, " = (List *)listCons("};
Value *strPtr535 = (Value *)&str535;
Value *arityImpl7265(List *closures, Value *arg_sym_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1001 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)strPtr5, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr442, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr17, varArgs2);
varArgs2 = (List *)listCons((Value *)arg_sym_0, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr523, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr535, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);
return(rslt3);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str536 = {StringType, -1, 22, 0, "(empty_list, (Value *)"};
Value *strPtr536 = (Value *)&str536;
Value *arityImpl7252(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val59;
Value *val82;
Value *val85;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs108[5] = {&val1, &val59, &val82, &val85, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs108);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val59, 1);
dec_and_free(x_6, 1);
dec_and_free(val82, 1);
dec_and_free(val85, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7253_13 = ss_10;
Value *arity_info_14 = v_9;

incRef(arity_info_14, 1);
Value *arg7254_16 = arg7253_13;

// static-fixed
// #line 994 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr533);
Value *ev_17 = rslt15;
Value *arg7255_18 = arg7254_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7255_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val59, 1);
dec_and_free(val82, 1);
dec_and_free(x_28, 1);
dec_and_free(val85, 1);
dec_and_free(arity_info_14, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7256_35 = ss_32;
Value *variadic_sym_36 = v_31;

incRef(variadic_sym_36, 2);
Value *arg7257_38 = arg7256_35;

// static-fixed
// #line 995 "toccata.toc"
Value *rslt37 = genlocal_6379(empty_list, strPtr512);
Value *ev_39 = rslt37;
Value *arg7258_40 = arg7257_38;
Value *rslt41 = reified_type_args_22(empty_list, ev_39);
Value *invoke_fn_42;
Value *tail_43;
Value **destArgs44[2] = {&invoke_fn_42, &tail_43};
destructValue("", "0", (Value *)rslt41, 2, destArgs44);

dec_and_free(tail_43, 1);
Value *s_45 = arg7258_40;
Value *rslt49;
if((invoke_fn_42)->type != FunctionType) {
rslt49 = invoke_368(empty_list, invoke_fn_42, s_45);
} else {
FnArity *arity46 = findFnArity(invoke_fn_42, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, s_45);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(s_45, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_42)->name);
  abort();
}
dec_and_free(invoke_fn_42, 1);
}
Value *x_50 = rslt49;

incRef(x_50, 1);
Value *andRslt51;
andRslt51 = x_50;
if (isNothing(andRslt51)) {
dec_and_free(x_50, 1);
dec_and_free(val59, 1);
dec_and_free(val82, 1);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val85, 1);
dec_and_free(arity_info_14, 2);
} else {
dec_and_free(andRslt51, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_50, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_53;
Value *ss_54;
Value *tail_55;
Value **destArgs56[3] = {&v_53, &ss_54, &tail_55};
destructValue("", "0", (Value *)rslt52, 3, destArgs56);

dec_and_free(tail_55, 1);
Value *arg7259_57 = ss_54;
Value *result_sym_58 = v_53;

incRef(result_sym_58, 1);
Value *arg7260_61 = arg7259_57;

// static-fixed
// #line 996 "toccata.toc"
Value *rslt60 = line_macro_5358(empty_list, val59, strPtr534);
Value *ev_62 = rslt60;
Value *arg7261_63 = arg7260_61;
Value *rslt64 = reified_type_args_22(empty_list, ev_62);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(tail_66, 1);
Value *s_68 = arg7261_63;
Value *rslt72;
if((invoke_fn_65)->type != FunctionType) {
rslt72 = invoke_368(empty_list, invoke_fn_65, s_68);
} else {
FnArity *arity69 = findFnArity(invoke_fn_65, 1);
if(arity69 != (FnArity *)0 && !arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
rslt72 = fn71(arity69->closures, s_68);
} else if(arity69 != (FnArity *)0 && arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
List *dynArgs70 = empty_list;
dynArgs70 = (List *)listCons(s_68, dynArgs70);
rslt72 = fn71(arity69->closures, (Value *)dynArgs70);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_65)->name);
  abort();
}
dec_and_free(invoke_fn_65, 1);
}
Value *x_73 = rslt72;

incRef(x_73, 1);
Value *andRslt74;
andRslt74 = x_73;
if (isNothing(andRslt74)) {
dec_and_free(val82, 1);
dec_and_free(result_sym_58, 2);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val85, 1);
dec_and_free(x_73, 1);
dec_and_free(arity_info_14, 2);
} else {
dec_and_free(andRslt74, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_73, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_76;
Value *ss_77;
Value *tail_78;
Value **destArgs79[3] = {&v_76, &ss_77, &tail_78};
destructValue("", "0", (Value *)rslt75, 3, destArgs79);

dec_and_free(tail_78, 1);
Value *arg7262_80 = ss_77;
Value *line_81 = v_76;
Value *arg7263_83 = arg7262_80;
Value *__84 = val82;

// type-unknown reverse
// #line 999 "toccata.toc"
Value *rslt86 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", val85, "toccata.toc", 999);
FnArity *dynArity87 = malloc_fnArity();
dynArity87->count = 1;
dynArity87->variadic = 0;
dynArity87->fn = arityImpl7265;
dynArity87->closures = empty_list;
dynArity87->closures = listCons((Value *)variadic_sym_36, (List *)dynArity87->closures);
Function *anon_7266 = malloc_function(1);
anon_7266->name = "anon";
anon_7266->arityCount = 1;
anon_7266->arities[0] = dynArity87;
Value *fn7264 = (Value *)anon_7266;

// type-unknown map
// #line 999 "toccata.toc"
Value *rslt88 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt86, fn7264, "toccata.toc", 999);

// type-unknown .c-var
// #line 1004 "toccata.toc"
Value *rslt89 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_info_14, "toccata.toc", 1004);

// call-vector
// #line 998 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, line_81);
newVect90 = mutateVectConj(newVect90, strPtr520);
newVect90 = mutateVectConj(newVect90, variadic_sym_36);
newVect90 = mutateVectConj(newVect90, strPtr521);
newVect90 = mutateVectConj(newVect90, strPtr5);
newVect90 = mutateVectConj(newVect90, rslt88);
newVect90 = mutateVectConj(newVect90, strPtr492);
newVect90 = mutateVectConj(newVect90, result_sym_58);
newVect90 = mutateVectConj(newVect90, strPtr500);
newVect90 = mutateVectConj(newVect90, rslt89);
newVect90 = mutateVectConj(newVect90, strPtr536);
newVect90 = mutateVectConj(newVect90, variadic_sym_36);
newVect90 = mutateVectConj(newVect90, strPtr442);
newVect90 = mutateVectConj(newVect90, strPtr5);
Value *rslt91 = (Value *)newVect90;

// call-vector
// #line 1006 "toccata.toc"
Vector *newVect92 = empty_vect;
Value *rslt93 = (Value *)newVect92;

// type-unknown .type-num
// #line 1007 "toccata.toc"
Value *rslt94 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", arity_info_14, "toccata.toc", 1007);

// static-variadic
// #line 1008 "toccata.toc"
List *varArgs95 = empty_list;
Value *rslt96 = hash_map_1208(empty_list, (Value *)varArgs95);

// call invoke
// #line 997 "toccata.toc"
Value *rslt97 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_58, rslt91, rslt93, rslt94, rslt96);
Value *v_98 = rslt97;
Value *arg7267_99 = arg7263_83;
Value *rslt100 = reified_type_args_22(empty_list, __84);
Value *invoke_fn_101;
Value *tail_102;
Value **destArgs103[2] = {&invoke_fn_101, &tail_102};
destructValue("", "0", (Value *)rslt100, 2, destArgs103);

dec_and_free(invoke_fn_101, 1);

dec_and_free(tail_102, 1);
Value *s_104 = arg7267_99;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect105 = empty_vect;
newVect105 = mutateVectConj(newVect105, v_98);
newVect105 = mutateVectConj(newVect105, s_104);
Value *rslt106 = (Value *)newVect105;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt107 = maybe_4(empty_list, rslt106);
andRslt74 = rslt107;
}
andRslt51 = andRslt74;
}
andRslt29 = andRslt51;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *call_static_variadic_7249(List *closures, Value *target_0, Value *arg_vars_1, Value *ast_2) {
 while (1) {

// type-unknown .c-var
// #line 993 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", target_0, "toccata.toc", 993);

// static-fixed
// #line 993 "toccata.toc"
Value *rslt4 = lookup_static_arity_6627(empty_list, rslt3, symPtr38);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7252;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)arg_vars_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)ast_2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7268 = malloc_function(1);
anon_7268->name = "anon";
anon_7268->arityCount = 1;
anon_7268->arities[0] = dynArity11;
Value *fn7251 = (Value *)anon_7268;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7251);
return(rslt12);

};};
FnArity call_static_variadic_7269 = {FnArityType, -1, 3, (List *)0, 0, call_static_variadic_7249};
Function call_static_variadic_7270 = {FunctionType, -1, "call-static-variadic", 1, {&call_static_variadic_7269}};
Value *call_static_variadic_7248 = (Value *)&call_static_variadic_7270;


// --------- call-dyn-fn-value -------------
Value *call_dyn_fn_value_7272;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str537 = {StringType, -1, 5, 0, "arity"};
Value *strPtr537 = (Value *)&str537;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str538 = {StringType, -1, 7, 0, "dynArgs"};
Value *strPtr538 = (Value *)&str538;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str539 = {StringType, -1, 18, 0, "// dynamic fn type"};
Value *strPtr539 = (Value *)&str539;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str540 = {StringType, -1, 10, 0, "->closures"};
Value *strPtr540 = (Value *)&str540;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str541 = {StringType, -1, 9, 0, "FnArity *"};
Value *strPtr541 = (Value *)&str541;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str542 = {StringType, -1, 15, 0, " = findFnArity("};
Value *strPtr542 = (Value *)&str542;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str543 = {StringType, -1, 3, 0, "if("};
Value *strPtr543 = (Value *)&str543;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str544 = {StringType, -1, 21, 0, " != (FnArity *)0 && !"};
Value *strPtr544 = (Value *)&str544;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str545 = {StringType, -1, 14, 0, "->variadic) { "};
Value *strPtr545 = (Value *)&str545;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str546 = {StringType, -1, 6, 0, "FnType"};
Value *strPtr546 = (Value *)&str546;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str547 = {StringType, -1, 2, 0, " *"};
Value *strPtr547 = (Value *)&str547;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str548 = {StringType, -1, 10, 0, " = (FnType"};
Value *strPtr548 = (Value *)&str548;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str549 = {StringType, -1, 3, 0, " *)"};
Value *strPtr549 = (Value *)&str549;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str550 = {StringType, -1, 5, 0, "->fn;"};
Value *strPtr550 = (Value *)&str550;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str551 = {StringType, -1, 10, 0, "} else if("};
Value *strPtr551 = (Value *)&str551;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str552 = {StringType, -1, 20, 0, " != (FnArity *)0 && "};
Value *strPtr552 = (Value *)&str552;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str553 = {StringType, -1, 9, 0, "FnType1 *"};
Value *strPtr553 = (Value *)&str553;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str554 = {StringType, -1, 14, 0, " = (FnType1 *)"};
Value *strPtr554 = (Value *)&str554;
Value *arityImpl7293(List *closures, Value *arg_sym_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1033 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)strPtr5, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr442, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr17, varArgs2);
varArgs2 = (List *)listCons((Value *)arg_sym_0, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr535, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);
return(rslt3);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str555 = {StringType, -1, 21, 0, "->closures, (Value *)"};
Value *strPtr555 = (Value *)&str555;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str556 = {StringType, -1, 8, 0, "} else {"};
Value *strPtr556 = (Value *)&str556;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[64];
} str557 = {StringType, -1, 63, 0, "fprintf(stderr, \"\\n*** no arity found for '%s' at: %s, %d.\\n\", "};
Value *strPtr557 = (Value *)&str557;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str558 = {StringType, -1, 13, 0, "((Function *)"};
Value *strPtr558 = (Value *)&str558;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str559 = {StringType, -1, 10, 0, ")->name, \""};
Value *strPtr559 = (Value *)&str559;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str560 = {StringType, -1, 16, 0, ");\n  abort();\n}\n"};
Value *strPtr560 = (Value *)&str560;
Value *arityImpl7280(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val59;
Value *val82;
Value *val85;
Value *val86;
Value *val93;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs124[7] = {&val1, &val59, &val82, &val85, &val86, &val93, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs124);

incRef(val59, 2);

incRef(val85, 1);

incRef(val86, 8);

incRef(val93, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val93, 3);
dec_and_free(val59, 3);
dec_and_free(x_6, 1);
dec_and_free(val82, 1);
dec_and_free(val85, 2);
dec_and_free(val86, 9);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7281_13 = ss_10;
Value *variadic_sym_14 = v_9;

incRef(variadic_sym_14, 2);
Value *arg7282_16 = arg7281_13;

// static-fixed
// #line 1014 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr327);
Value *ev_17 = rslt15;
Value *arg7283_18 = arg7282_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7283_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val93, 3);
dec_and_free(val59, 3);
dec_and_free(val82, 1);
dec_and_free(x_28, 1);
dec_and_free(variadic_sym_14, 3);
dec_and_free(val85, 2);
dec_and_free(val86, 9);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7284_35 = ss_32;
Value *fn_var_36 = v_31;

incRef(fn_var_36, 3);
Value *arg7285_38 = arg7284_35;

// static-fixed
// #line 1015 "toccata.toc"
Value *rslt37 = genlocal_6379(empty_list, strPtr512);
Value *ev_39 = rslt37;
Value *arg7286_40 = arg7285_38;
Value *rslt41 = reified_type_args_22(empty_list, ev_39);
Value *invoke_fn_42;
Value *tail_43;
Value **destArgs44[2] = {&invoke_fn_42, &tail_43};
destructValue("", "0", (Value *)rslt41, 2, destArgs44);

dec_and_free(tail_43, 1);
Value *s_45 = arg7286_40;
Value *rslt49;
if((invoke_fn_42)->type != FunctionType) {
rslt49 = invoke_368(empty_list, invoke_fn_42, s_45);
} else {
FnArity *arity46 = findFnArity(invoke_fn_42, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, s_45);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(s_45, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_42)->name);
  abort();
}
dec_and_free(invoke_fn_42, 1);
}
Value *x_50 = rslt49;

incRef(x_50, 1);
Value *andRslt51;
andRslt51 = x_50;
if (isNothing(andRslt51)) {
dec_and_free(x_50, 1);
dec_and_free(val93, 3);
dec_and_free(val59, 3);
dec_and_free(val82, 1);
dec_and_free(fn_var_36, 4);
dec_and_free(variadic_sym_14, 3);
dec_and_free(val85, 2);
dec_and_free(val86, 9);
} else {
dec_and_free(andRslt51, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_50, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_53;
Value *ss_54;
Value *tail_55;
Value **destArgs56[3] = {&v_53, &ss_54, &tail_55};
destructValue("", "0", (Value *)rslt52, 3, destArgs56);

dec_and_free(tail_55, 1);
Value *arg7287_57 = ss_54;
Value *result_sym_58 = v_53;

incRef(result_sym_58, 3);
Value *arg7288_61 = arg7287_57;

// static-fixed
// #line 1016 "toccata.toc"
Value *rslt60 = line_macro_5358(empty_list, val59, strPtr539);
Value *ev_62 = rslt60;
Value *arg7289_63 = arg7288_61;
Value *rslt64 = reified_type_args_22(empty_list, ev_62);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(tail_66, 1);
Value *s_68 = arg7289_63;
Value *rslt72;
if((invoke_fn_65)->type != FunctionType) {
rslt72 = invoke_368(empty_list, invoke_fn_65, s_68);
} else {
FnArity *arity69 = findFnArity(invoke_fn_65, 1);
if(arity69 != (FnArity *)0 && !arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
rslt72 = fn71(arity69->closures, s_68);
} else if(arity69 != (FnArity *)0 && arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
List *dynArgs70 = empty_list;
dynArgs70 = (List *)listCons(s_68, dynArgs70);
rslt72 = fn71(arity69->closures, (Value *)dynArgs70);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_65)->name);
  abort();
}
dec_and_free(invoke_fn_65, 1);
}
Value *x_73 = rslt72;

incRef(x_73, 1);
Value *andRslt74;
andRslt74 = x_73;
if (isNothing(andRslt74)) {
dec_and_free(val93, 3);
dec_and_free(val59, 2);
dec_and_free(val82, 1);
dec_and_free(result_sym_58, 4);
dec_and_free(fn_var_36, 4);
dec_and_free(variadic_sym_14, 3);
dec_and_free(val85, 2);
dec_and_free(x_73, 1);
dec_and_free(val86, 9);
} else {
dec_and_free(andRslt74, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_73, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_76;
Value *ss_77;
Value *tail_78;
Value **destArgs79[3] = {&v_76, &ss_77, &tail_78};
destructValue("", "0", (Value *)rslt75, 3, destArgs79);

dec_and_free(tail_78, 1);
Value *arg7290_80 = ss_77;
Value *line_81 = v_76;

incRef(line_81, 1);
Value *arg7291_83 = arg7290_80;
Value *__84 = val82;

// static-variadic
// #line 1017 "toccata.toc"
List *varArgs87 = empty_list;
varArgs87 = (List *)listCons((Value *)strPtr540, varArgs87);
varArgs87 = (List *)listCons((Value *)val86, varArgs87);
Value *rslt88 = str_526(empty_list, (Value *)varArgs87);

// type-unknown conj
// #line 1017 "toccata.toc"
Value *rslt89 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val85, rslt88, "toccata.toc", 1017);
Value *arg_syms_90 = rslt89;

incRef(arg_syms_90, 1);

// type-unknown count
// #line 1018 "toccata.toc"
Value *rslt91 = proto1Arg(&count_Implementations_300, "<nothing>/count", val85, "toccata.toc", 1018);
Value *num_args_92 = rslt91;

incRef(num_args_92, 2);

// type-unknown .c-var
// #line 1021 "toccata.toc"
Value *rslt94 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val93, "toccata.toc", 1021);

// static-fixed
// #line 1027 "toccata.toc"
Value *rslt95 = interpose_503(empty_list, arg_syms_90, strPtr17);

// type-unknown to-str
// #line 1027 "toccata.toc"
Value *rslt96 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt95, "toccata.toc", 1027);

// type-unknown rest
// #line 1031 "toccata.toc"
Value *rslt97 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", arg_syms_90, "toccata.toc", 1031);

// type-unknown reverse
// #line 1031 "toccata.toc"
Value *rslt98 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt97, "toccata.toc", 1031);
FnArity *dynArity99 = malloc_fnArity();
dynArity99->count = 1;
dynArity99->variadic = 0;
dynArity99->fn = arityImpl7293;
dynArity99->closures = empty_list;
dynArity99->closures = listCons((Value *)variadic_sym_14, (List *)dynArity99->closures);
Function *anon_7294 = malloc_function(1);
anon_7294->name = "anon";
anon_7294->arityCount = 1;
anon_7294->arities[0] = dynArity99;
Value *fn7292 = (Value *)anon_7294;

// type-unknown map
// #line 1031 "toccata.toc"
Value *rslt100 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt98, fn7292, "toccata.toc", 1031);

// static-variadic
// #line 1035 "toccata.toc"
List *varArgs101 = empty_list;
varArgs101 = (List *)listCons((Value *)val86, varArgs101);
Value *rslt102 = str_526(empty_list, (Value *)varArgs101);

// type-unknown .c-var
// #line 1038 "toccata.toc"
Value *rslt103 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val93, "toccata.toc", 1038);

// type-unknown ast/file-name
// #line 1038 "toccata.toc"
Value *rslt104 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val59, "toccata.toc", 1038);

// type-unknown ast/line-number
// #line 1039 "toccata.toc"
Value *rslt105 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val59, "toccata.toc", 1039);

// type-unknown .c-var
// #line 1040 "toccata.toc"
Value *rslt106 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val93, "toccata.toc", 1040);

// call-vector
// #line 1020 "toccata.toc"
Vector *newVect107 = empty_vect;
newVect107 = mutateVectConj(newVect107, strPtr492);
newVect107 = mutateVectConj(newVect107, result_sym_58);
newVect107 = mutateVectConj(newVect107, strPtr303);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr541);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr542);
newVect107 = mutateVectConj(newVect107, rslt94);
newVect107 = mutateVectConj(newVect107, strPtr17);
newVect107 = mutateVectConj(newVect107, num_args_92);
newVect107 = mutateVectConj(newVect107, strPtr442);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr543);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr544);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr545);
newVect107 = mutateVectConj(newVect107, strPtr546);
newVect107 = mutateVectConj(newVect107, num_args_92);
newVect107 = mutateVectConj(newVect107, strPtr547);
newVect107 = mutateVectConj(newVect107, fn_var_36);
newVect107 = mutateVectConj(newVect107, strPtr548);
newVect107 = mutateVectConj(newVect107, num_args_92);
newVect107 = mutateVectConj(newVect107, strPtr549);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr550);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, line_81);
newVect107 = mutateVectConj(newVect107, result_sym_58);
newVect107 = mutateVectConj(newVect107, strPtr500);
newVect107 = mutateVectConj(newVect107, fn_var_36);
newVect107 = mutateVectConj(newVect107, strPtr16);
newVect107 = mutateVectConj(newVect107, rslt96);
newVect107 = mutateVectConj(newVect107, strPtr442);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr551);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr552);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr545);
newVect107 = mutateVectConj(newVect107, strPtr553);
newVect107 = mutateVectConj(newVect107, fn_var_36);
newVect107 = mutateVectConj(newVect107, strPtr554);
newVect107 = mutateVectConj(newVect107, val86);
newVect107 = mutateVectConj(newVect107, strPtr550);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr520);
newVect107 = mutateVectConj(newVect107, variadic_sym_14);
newVect107 = mutateVectConj(newVect107, strPtr521);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, rslt100);
newVect107 = mutateVectConj(newVect107, line_81);
newVect107 = mutateVectConj(newVect107, result_sym_58);
newVect107 = mutateVectConj(newVect107, strPtr500);
newVect107 = mutateVectConj(newVect107, fn_var_36);
newVect107 = mutateVectConj(newVect107, strPtr16);
newVect107 = mutateVectConj(newVect107, rslt102);
newVect107 = mutateVectConj(newVect107, strPtr555);
newVect107 = mutateVectConj(newVect107, variadic_sym_14);
newVect107 = mutateVectConj(newVect107, strPtr442);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr556);
newVect107 = mutateVectConj(newVect107, strPtr5);
newVect107 = mutateVectConj(newVect107, strPtr557);
newVect107 = mutateVectConj(newVect107, strPtr558);
newVect107 = mutateVectConj(newVect107, rslt103);
newVect107 = mutateVectConj(newVect107, strPtr559);
newVect107 = mutateVectConj(newVect107, rslt104);
newVect107 = mutateVectConj(newVect107, strPtr530);
newVect107 = mutateVectConj(newVect107, rslt105);
newVect107 = mutateVectConj(newVect107, strPtr560);
newVect107 = mutateVectConj(newVect107, strPtr443);
newVect107 = mutateVectConj(newVect107, rslt106);
newVect107 = mutateVectConj(newVect107, strPtr444);
newVect107 = mutateVectConj(newVect107, strPtr5);
Value *rslt108 = (Value *)newVect107;

// call-vector
// #line 1041 "toccata.toc"
Vector *newVect109 = empty_vect;
Value *rslt110 = (Value *)newVect109;

// static-variadic
// #line 1042 "toccata.toc"
List *varArgs111 = empty_list;
Value *rslt112 = hash_map_1208(empty_list, (Value *)varArgs111);

// call invoke
// #line 1019 "toccata.toc"
Value *rslt113 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_58, rslt108, rslt110, UnknownType_5361, rslt112);
Value *v_114 = rslt113;
Value *arg7295_115 = arg7291_83;
Value *rslt116 = reified_type_args_22(empty_list, __84);
Value *invoke_fn_117;
Value *tail_118;
Value **destArgs119[2] = {&invoke_fn_117, &tail_118};
destructValue("", "0", (Value *)rslt116, 2, destArgs119);

dec_and_free(invoke_fn_117, 1);

dec_and_free(tail_118, 1);
Value *s_120 = arg7295_115;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect121 = empty_vect;
newVect121 = mutateVectConj(newVect121, v_114);
newVect121 = mutateVectConj(newVect121, s_120);
Value *rslt122 = (Value *)newVect121;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt123 = maybe_4(empty_list, rslt122);
andRslt74 = rslt123;
}
andRslt51 = andRslt74;
}
andRslt29 = andRslt51;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *arityImpl7276(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val27;
Value *val28;
Value *val29;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs40[6] = {&val1, &val17, &val27, &val28, &val29, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs40);

incRef(val17, 1);

incRef(val28, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val29, 1);
dec_and_free(x_6, 1);
dec_and_free(val17, 2);
dec_and_free(val28, 2);
dec_and_free(val27, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7277_13 = ss_10;
Value *arity_sym_14 = v_9;
Value *orRslt15;
Value *andRslt16;

// type-unknown .type-num
// #line 1012 "toccata.toc"
Value *rslt18 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val17, "toccata.toc", 1012);

// static-fixed
// #line 1012 "toccata.toc"
Value *rslt19 = _EQ__557(empty_list, FunctionType_5366, rslt18);
andRslt16 = rslt19;
if (isNothing(andRslt16)) {
dec_and_free(val29, 1);
dec_and_free(val17, 1);
dec_and_free(val28, 1);
dec_and_free(arity_sym_14, 1);
dec_and_free(val27, 1);
} else {
dec_and_free(andRslt16, 1);

// static-fixed
// #line 1013 "toccata.toc"
Value *rslt20 = genlocal_6379(empty_list, strPtr538);
Value *ev_21 = rslt20;
Value *rslt22 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
FnArity *dynArity26 = malloc_fnArity();
dynArity26->count = 1;
dynArity26->variadic = 0;
dynArity26->fn = arityImpl7280;
dynArity26->closures = empty_list;
dynArity26->closures = listCons((Value *)val17, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)arity_sym_14, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)val27, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)val28, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)val29, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)invoke_fn_23, (List *)dynArity26->closures);
Function *anon_7296 = malloc_function(1);
anon_7296->name = "anon";
anon_7296->arityCount = 1;
anon_7296->arities[0] = dynArity26;
Value *fn7279 = (Value *)anon_7296;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7279);

// static-fixed
// #line 1012 "toccata.toc"
Value *rslt31 = maybe_4(empty_list, rslt30);
andRslt16 = rslt31;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val28, 1);

} else {
dec_and_free(orRslt15, 1);

// type-known for zero
// #line 1012 "toccata.toc"
Value *rslt32 = new_sm_zero_2799(empty_list, val28);

// type-unknown zero
// #line 1012 "toccata.toc"
Value *rslt33 = proto1Arg(&zero_Implementations_235, "zero", rslt32, "toccata.toc", 1012);

// static-fixed
// #line 1012 "toccata.toc"
Value *rslt34 = maybe_4(empty_list, rslt33);
orRslt15 = rslt34;
}

// type-known for extract
// #line 1012 "toccata.toc"
Value *rslt35 = Maybe_extract_757(empty_list, orRslt15);

// dynamic unknown type
// #line 1012 "toccata.toc"
Value *rslt39;
if((rslt35)->type != FunctionType) {
rslt39 = invoke_368(empty_list, rslt35, arg7277_13);
} else {
FnArity *arity36 = findFnArity(rslt35, 1);
if(arity36 != (FnArity *)0 && !arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
rslt39 = fn38(arity36->closures, arg7277_13);
} else if(arity36 != (FnArity *)0 && arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
List *dynArgs37 = empty_list;
dynArgs37 = (List *)listCons(arg7277_13, dynArgs37);
rslt39 = fn38(arity36->closures, (Value *)dynArgs37);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt35)->name);
  abort();
}
dec_and_free(rslt35, 1);
}
return(rslt39);
andRslt7 = rslt39;
}

};};
Value *call_dyn_fn_value_7273(List *closures, Value *target_0, Value *args_1, Value *ast_2) {
 while (1) {

// static-fixed
// #line 1011 "toccata.toc"
Value *rslt3 = genlocal_6379(empty_list, strPtr537);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl7276;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)ast_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)args_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)target_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_7297 = malloc_function(1);
anon_7297->name = "anon";
anon_7297->arityCount = 1;
anon_7297->arities[0] = dynArity10;
Value *fn7275 = (Value *)anon_7297;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7275);
return(rslt11);

};};
FnArity call_dyn_fn_value_7298 = {FnArityType, -1, 3, (List *)0, 0, call_dyn_fn_value_7273};
Function call_dyn_fn_value_7299 = {FunctionType, -1, "call-dyn-fn-value", 1, {&call_dyn_fn_value_7298}};
Value *call_dyn_fn_value_7272 = (Value *)&call_dyn_fn_value_7299;


// --------- call-dyn-unknown-type -------------
Value *call_dyn_unknown_type_7301;
SubString sym39 = {SymbolType, -1, 6, 0, 0, "invoke"};
Value *symPtr39 = (Value *)&sym39;
Value *arityImpl7317(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .c-var
// #line 1050 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", v_9, "toccata.toc", 1050);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str561 = {StringType, -1, 23, 0, "// dynamic unknown type"};
Value *strPtr561 = (Value *)&str561;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str562 = {StringType, -1, 4, 0, "if(("};
Value *strPtr562 = (Value *)&str562;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str563 = {StringType, -1, 26, 0, ")->type != FunctionType) {"};
Value *strPtr563 = (Value *)&str563;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str564 = {StringType, -1, 13, 0, "(empty_list, "};
Value *strPtr564 = (Value *)&str564;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str565 = {StringType, -1, 13, 0, "->variadic) {"};
Value *strPtr565 = (Value *)&str565;
Value *arityImpl7327(List *closures, Value *arg_sym_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1070 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)strPtr5, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr442, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr17, varArgs2);
varArgs2 = (List *)listCons((Value *)arg_sym_0, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr535, varArgs2);
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);
return(rslt3);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[53];
} str566 = {StringType, -1, 52, 0, "fprintf(stderr, \"\\n*** no arity found for '%s'.\\n\", "};
Value *strPtr566 = (Value *)&str566;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str567 = {StringType, -1, 7, 0, ")->name"};
Value *strPtr567 = (Value *)&str567;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str568 = {StringType, -1, 10, 0, "  abort();"};
Value *strPtr568 = (Value *)&str568;
Value *arityImpl7305(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val81;
Value *val112;
Value *val135;
Value *val138;
Value *val143;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs177[7] = {&val1, &val81, &val112, &val135, &val138, &val143, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs177);

incRef(val81, 3);

incRef(val138, 1);

incRef(val143, 4);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val138, 2);
dec_and_free(x_6, 1);
dec_and_free(val81, 4);
dec_and_free(val112, 1);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7306_13 = ss_10;
Value *arity_sym_14 = v_9;

incRef(arity_sym_14, 8);
Value *arg7307_16 = arg7306_13;

// static-fixed
// #line 1047 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr538);
Value *ev_17 = rslt15;
Value *arg7308_18 = arg7307_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7308_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val138, 2);
dec_and_free(x_28, 1);
dec_and_free(arity_sym_14, 9);
dec_and_free(val81, 4);
dec_and_free(val112, 1);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7309_35 = ss_32;
Value *variadic_sym_36 = v_31;

incRef(variadic_sym_36, 2);
Value *arg7310_38 = arg7309_35;

// static-fixed
// #line 1048 "toccata.toc"
Value *rslt37 = genlocal_6379(empty_list, strPtr327);
Value *ev_39 = rslt37;
Value *arg7311_40 = arg7310_38;
Value *rslt41 = reified_type_args_22(empty_list, ev_39);
Value *invoke_fn_42;
Value *tail_43;
Value **destArgs44[2] = {&invoke_fn_42, &tail_43};
destructValue("", "0", (Value *)rslt41, 2, destArgs44);

dec_and_free(tail_43, 1);
Value *s_45 = arg7311_40;
Value *rslt49;
if((invoke_fn_42)->type != FunctionType) {
rslt49 = invoke_368(empty_list, invoke_fn_42, s_45);
} else {
FnArity *arity46 = findFnArity(invoke_fn_42, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, s_45);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(s_45, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_42)->name);
  abort();
}
dec_and_free(invoke_fn_42, 1);
}
Value *x_50 = rslt49;

incRef(x_50, 1);
Value *andRslt51;
andRslt51 = x_50;
if (isNothing(andRslt51)) {
dec_and_free(x_50, 1);
dec_and_free(val138, 2);
dec_and_free(arity_sym_14, 9);
dec_and_free(val81, 4);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val112, 1);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
} else {
dec_and_free(andRslt51, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_50, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_53;
Value *ss_54;
Value *tail_55;
Value **destArgs56[3] = {&v_53, &ss_54, &tail_55};
destructValue("", "0", (Value *)rslt52, 3, destArgs56);

dec_and_free(tail_55, 1);
Value *arg7312_57 = ss_54;
Value *fn_sym_58 = v_53;

incRef(fn_sym_58, 3);
Value *arg7313_60 = arg7312_57;

// static-fixed
// #line 1049 "toccata.toc"
Value *rslt59 = genlocal_6379(empty_list, strPtr512);
Value *ev_61 = rslt59;
Value *arg7314_62 = arg7313_60;
Value *rslt63 = reified_type_args_22(empty_list, ev_61);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(tail_65, 1);
Value *s_67 = arg7314_62;
Value *rslt71;
if((invoke_fn_64)->type != FunctionType) {
rslt71 = invoke_368(empty_list, invoke_fn_64, s_67);
} else {
FnArity *arity68 = findFnArity(invoke_fn_64, 1);
if(arity68 != (FnArity *)0 && !arity68->variadic) {
FnType1 *fn70 = (FnType1 *)arity68->fn;
rslt71 = fn70(arity68->closures, s_67);
} else if(arity68 != (FnArity *)0 && arity68->variadic) {
FnType1 *fn70 = (FnType1 *)arity68->fn;
List *dynArgs69 = empty_list;
dynArgs69 = (List *)listCons(s_67, dynArgs69);
rslt71 = fn70(arity68->closures, (Value *)dynArgs69);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_64)->name);
  abort();
}
dec_and_free(invoke_fn_64, 1);
}
Value *x_72 = rslt71;

incRef(x_72, 1);
Value *andRslt73;
andRslt73 = x_72;
if (isNothing(andRslt73)) {
dec_and_free(val138, 2);
dec_and_free(arity_sym_14, 9);
dec_and_free(val81, 4);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val112, 1);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
dec_and_free(x_72, 1);
dec_and_free(fn_sym_58, 4);
} else {
dec_and_free(andRslt73, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt74 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_72, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_75;
Value *ss_76;
Value *tail_77;
Value **destArgs78[3] = {&v_75, &ss_76, &tail_77};
destructValue("", "0", (Value *)rslt74, 3, destArgs78);

dec_and_free(tail_77, 1);
Value *arg7315_79 = ss_76;
Value *result_sym_80 = v_75;

incRef(result_sym_80, 4);
Value *arg7319_91 = arg7315_79;

// static-fixed
// #line 1050 "toccata.toc"
Value *rslt82 = inc_564(empty_list, val81);

// static-fixed
// #line 1050 "toccata.toc"
Value *rslt83 = lookup_core_fn_arity_6637(empty_list, symPtr39, rslt82);
Value *__84 = rslt83;
Value *rslt85 = reified_type_args_22(empty_list, __84);
Value *invoke_fn_86;
Value *tail_87;
Value **destArgs88[2] = {&invoke_fn_86, &tail_87};
destructValue("", "0", (Value *)rslt85, 2, destArgs88);

dec_and_free(tail_87, 1);
FnArity *dynArity89 = malloc_fnArity();
dynArity89->count = 1;
dynArity89->variadic = 0;
dynArity89->fn = arityImpl7317;
dynArity89->closures = empty_list;
dynArity89->closures = listCons((Value *)invoke_fn_86, (List *)dynArity89->closures);
Function *anon_7318 = malloc_function(1);
anon_7318->name = "anon";
anon_7318->arityCount = 1;
anon_7318->arities[0] = dynArity89;
Value *fn7316 = (Value *)anon_7318;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt90 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7316);
Value *ev_92 = rslt90;
Value *arg7320_93 = arg7319_91;
Value *rslt94 = reified_type_args_22(empty_list, ev_92);
Value *invoke_fn_95;
Value *tail_96;
Value **destArgs97[2] = {&invoke_fn_95, &tail_96};
destructValue("", "0", (Value *)rslt94, 2, destArgs97);

dec_and_free(tail_96, 1);
Value *s_98 = arg7320_93;
Value *rslt102;
if((invoke_fn_95)->type != FunctionType) {
rslt102 = invoke_368(empty_list, invoke_fn_95, s_98);
} else {
FnArity *arity99 = findFnArity(invoke_fn_95, 1);
if(arity99 != (FnArity *)0 && !arity99->variadic) {
FnType1 *fn101 = (FnType1 *)arity99->fn;
rslt102 = fn101(arity99->closures, s_98);
} else if(arity99 != (FnArity *)0 && arity99->variadic) {
FnType1 *fn101 = (FnType1 *)arity99->fn;
List *dynArgs100 = empty_list;
dynArgs100 = (List *)listCons(s_98, dynArgs100);
rslt102 = fn101(arity99->closures, (Value *)dynArgs100);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_95)->name);
  abort();
}
dec_and_free(invoke_fn_95, 1);
}
Value *x_103 = rslt102;

incRef(x_103, 1);
Value *andRslt104;
andRslt104 = x_103;
if (isNothing(andRslt104)) {
dec_and_free(val138, 2);
dec_and_free(arity_sym_14, 9);
dec_and_free(result_sym_80, 5);
dec_and_free(val81, 3);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val112, 1);
dec_and_free(x_103, 1);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
dec_and_free(fn_sym_58, 4);
} else {
dec_and_free(andRslt104, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt105 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_103, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_106;
Value *ss_107;
Value *tail_108;
Value **destArgs109[3] = {&v_106, &ss_107, &tail_108};
destructValue("", "0", (Value *)rslt105, 3, destArgs109);

dec_and_free(tail_108, 1);
Value *arg7321_110 = ss_107;
Value *invoke_arity_sym_111 = v_106;
Value *arg7322_114 = arg7321_110;

// static-fixed
// #line 1051 "toccata.toc"
Value *rslt113 = line_macro_5358(empty_list, val112, strPtr561);
Value *ev_115 = rslt113;
Value *arg7323_116 = arg7322_114;
Value *rslt117 = reified_type_args_22(empty_list, ev_115);
Value *invoke_fn_118;
Value *tail_119;
Value **destArgs120[2] = {&invoke_fn_118, &tail_119};
destructValue("", "0", (Value *)rslt117, 2, destArgs120);

dec_and_free(tail_119, 1);
Value *s_121 = arg7323_116;
Value *rslt125;
if((invoke_fn_118)->type != FunctionType) {
rslt125 = invoke_368(empty_list, invoke_fn_118, s_121);
} else {
FnArity *arity122 = findFnArity(invoke_fn_118, 1);
if(arity122 != (FnArity *)0 && !arity122->variadic) {
FnType1 *fn124 = (FnType1 *)arity122->fn;
rslt125 = fn124(arity122->closures, s_121);
} else if(arity122 != (FnArity *)0 && arity122->variadic) {
FnType1 *fn124 = (FnType1 *)arity122->fn;
List *dynArgs123 = empty_list;
dynArgs123 = (List *)listCons(s_121, dynArgs123);
rslt125 = fn124(arity122->closures, (Value *)dynArgs123);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_118)->name);
  abort();
}
dec_and_free(invoke_fn_118, 1);
}
Value *x_126 = rslt125;

incRef(x_126, 1);
Value *andRslt127;
andRslt127 = x_126;
if (isNothing(andRslt127)) {
dec_and_free(val138, 2);
dec_and_free(arity_sym_14, 9);
dec_and_free(result_sym_80, 5);
dec_and_free(val81, 3);
dec_and_free(invoke_arity_sym_111, 1);
dec_and_free(variadic_sym_36, 3);
dec_and_free(val143, 5);
dec_and_free(val135, 1);
dec_and_free(x_126, 1);
dec_and_free(fn_sym_58, 4);
} else {
dec_and_free(andRslt127, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt128 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_126, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_129;
Value *ss_130;
Value *tail_131;
Value **destArgs132[3] = {&v_129, &ss_130, &tail_131};
destructValue("", "0", (Value *)rslt128, 3, destArgs132);

dec_and_free(tail_131, 1);
Value *arg7324_133 = ss_130;
Value *line_134 = v_129;
Value *arg7325_136 = arg7324_133;
Value *__137 = val135;

// static-variadic
// #line 1052 "toccata.toc"
List *varArgs139 = empty_list;
varArgs139 = (List *)listCons((Value *)strPtr540, varArgs139);
varArgs139 = (List *)listCons((Value *)arity_sym_14, varArgs139);
Value *rslt140 = str_526(empty_list, (Value *)varArgs139);

// type-unknown conj
// #line 1052 "toccata.toc"
Value *rslt141 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val138, rslt140, "toccata.toc", 1052);
Value *arg_syms_142 = rslt141;

incRef(arg_syms_142, 1);

// type-unknown .c-var
// #line 1055 "toccata.toc"
Value *rslt144 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val143, "toccata.toc", 1055);

// type-unknown .c-var
// #line 1058 "toccata.toc"
Value *rslt145 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val143, "toccata.toc", 1058);

// type-unknown conj
// #line 1058 "toccata.toc"
Value *rslt146 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val138, rslt145, "toccata.toc", 1058);

// static-fixed
// #line 1058 "toccata.toc"
Value *rslt147 = interpose_503(empty_list, rslt146, strPtr17);

// type-unknown to-str
// #line 1058 "toccata.toc"
Value *rslt148 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt147, "toccata.toc", 1058);

// type-unknown .c-var
// #line 1061 "toccata.toc"
Value *rslt149 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val143, "toccata.toc", 1061);

// static-fixed
// #line 1064 "toccata.toc"
Value *rslt150 = interpose_503(empty_list, arg_syms_142, strPtr17);

// type-unknown to-str
// #line 1064 "toccata.toc"
Value *rslt151 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt150, "toccata.toc", 1064);

// type-unknown rest
// #line 1068 "toccata.toc"
Value *rslt152 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", arg_syms_142, "toccata.toc", 1068);

// type-unknown reverse
// #line 1068 "toccata.toc"
Value *rslt153 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt152, "toccata.toc", 1068);
FnArity *dynArity154 = malloc_fnArity();
dynArity154->count = 1;
dynArity154->variadic = 0;
dynArity154->fn = arityImpl7327;
dynArity154->closures = empty_list;
dynArity154->closures = listCons((Value *)variadic_sym_36, (List *)dynArity154->closures);
Function *anon_7328 = malloc_function(1);
anon_7328->name = "anon";
anon_7328->arityCount = 1;
anon_7328->arities[0] = dynArity154;
Value *fn7326 = (Value *)anon_7328;

// type-unknown map
// #line 1068 "toccata.toc"
Value *rslt155 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt153, fn7326, "toccata.toc", 1068);

// static-variadic
// #line 1072 "toccata.toc"
List *varArgs156 = empty_list;
varArgs156 = (List *)listCons((Value *)arity_sym_14, varArgs156);
Value *rslt157 = str_526(empty_list, (Value *)varArgs156);

// type-unknown .c-var
// #line 1075 "toccata.toc"
Value *rslt158 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val143, "toccata.toc", 1075);

// type-unknown .c-var
// #line 1077 "toccata.toc"
Value *rslt159 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val143, "toccata.toc", 1077);

// call-vector
// #line 1054 "toccata.toc"
Vector *newVect160 = empty_vect;
newVect160 = mutateVectConj(newVect160, line_134);
newVect160 = mutateVectConj(newVect160, strPtr492);
newVect160 = mutateVectConj(newVect160, result_sym_80);
newVect160 = mutateVectConj(newVect160, strPtr303);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr562);
newVect160 = mutateVectConj(newVect160, rslt144);
newVect160 = mutateVectConj(newVect160, strPtr563);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, result_sym_80);
newVect160 = mutateVectConj(newVect160, strPtr500);
newVect160 = mutateVectConj(newVect160, invoke_arity_sym_111);
newVect160 = mutateVectConj(newVect160, strPtr564);
newVect160 = mutateVectConj(newVect160, rslt148);
newVect160 = mutateVectConj(newVect160, strPtr442);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr556);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr541);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr542);
newVect160 = mutateVectConj(newVect160, rslt149);
newVect160 = mutateVectConj(newVect160, strPtr17);
newVect160 = mutateVectConj(newVect160, val81);
newVect160 = mutateVectConj(newVect160, strPtr442);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr543);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr544);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr565);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr546);
newVect160 = mutateVectConj(newVect160, val81);
newVect160 = mutateVectConj(newVect160, strPtr547);
newVect160 = mutateVectConj(newVect160, fn_sym_58);
newVect160 = mutateVectConj(newVect160, strPtr548);
newVect160 = mutateVectConj(newVect160, val81);
newVect160 = mutateVectConj(newVect160, strPtr549);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr550);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, result_sym_80);
newVect160 = mutateVectConj(newVect160, strPtr500);
newVect160 = mutateVectConj(newVect160, fn_sym_58);
newVect160 = mutateVectConj(newVect160, strPtr16);
newVect160 = mutateVectConj(newVect160, rslt151);
newVect160 = mutateVectConj(newVect160, strPtr442);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr551);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr552);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr565);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr553);
newVect160 = mutateVectConj(newVect160, fn_sym_58);
newVect160 = mutateVectConj(newVect160, strPtr554);
newVect160 = mutateVectConj(newVect160, arity_sym_14);
newVect160 = mutateVectConj(newVect160, strPtr550);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr520);
newVect160 = mutateVectConj(newVect160, variadic_sym_36);
newVect160 = mutateVectConj(newVect160, strPtr521);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, rslt155);
newVect160 = mutateVectConj(newVect160, result_sym_80);
newVect160 = mutateVectConj(newVect160, strPtr500);
newVect160 = mutateVectConj(newVect160, fn_sym_58);
newVect160 = mutateVectConj(newVect160, strPtr16);
newVect160 = mutateVectConj(newVect160, rslt157);
newVect160 = mutateVectConj(newVect160, strPtr555);
newVect160 = mutateVectConj(newVect160, variadic_sym_36);
newVect160 = mutateVectConj(newVect160, strPtr442);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr556);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr566);
newVect160 = mutateVectConj(newVect160, strPtr558);
newVect160 = mutateVectConj(newVect160, rslt158);
newVect160 = mutateVectConj(newVect160, strPtr567);
newVect160 = mutateVectConj(newVect160, strPtr442);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr568);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr28);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr443);
newVect160 = mutateVectConj(newVect160, rslt159);
newVect160 = mutateVectConj(newVect160, strPtr444);
newVect160 = mutateVectConj(newVect160, strPtr5);
newVect160 = mutateVectConj(newVect160, strPtr28);
newVect160 = mutateVectConj(newVect160, strPtr5);
Value *rslt161 = (Value *)newVect160;

// call-vector
// #line 1078 "toccata.toc"
Vector *newVect162 = empty_vect;
Value *rslt163 = (Value *)newVect162;

// static-variadic
// #line 1078 "toccata.toc"
List *varArgs164 = empty_list;
Value *rslt165 = hash_map_1208(empty_list, (Value *)varArgs164);

// call invoke
// #line 1053 "toccata.toc"
Value *rslt166 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_80, rslt161, rslt163, UnknownType_5361, rslt165);
Value *v_167 = rslt166;
Value *arg7329_168 = arg7325_136;
Value *rslt169 = reified_type_args_22(empty_list, __137);
Value *invoke_fn_170;
Value *tail_171;
Value **destArgs172[2] = {&invoke_fn_170, &tail_171};
destructValue("", "0", (Value *)rslt169, 2, destArgs172);

dec_and_free(invoke_fn_170, 1);

dec_and_free(tail_171, 1);
Value *s_173 = arg7329_168;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect174 = empty_vect;
newVect174 = mutateVectConj(newVect174, v_167);
newVect174 = mutateVectConj(newVect174, s_173);
Value *rslt175 = (Value *)newVect174;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt176 = maybe_4(empty_list, rslt175);
andRslt127 = rslt176;
}
andRslt104 = andRslt127;
}
andRslt73 = andRslt104;
}
andRslt51 = andRslt73;
}
andRslt29 = andRslt51;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *call_dyn_unknown_type_7302(List *closures, Value *target_0, Value *args_1, Value *ast_2) {
 while (1) {

incRef(args_1, 1);

// type-unknown count
// #line 1045 "toccata.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 1045);
Value *num_args_4 = rslt3;

// static-fixed
// #line 1046 "toccata.toc"
Value *rslt5 = genlocal_6379(empty_list, strPtr537);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl7305;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)target_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)args_1, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ast_2, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)num_args_4, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_7330 = malloc_function(1);
anon_7330->name = "anon";
anon_7330->arityCount = 1;
anon_7330->arities[0] = dynArity12;
Value *fn7304 = (Value *)anon_7330;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7304);
return(rslt13);

};};
FnArity call_dyn_unknown_type_7331 = {FnArityType, -1, 3, (List *)0, 0, call_dyn_unknown_type_7302};
Function call_dyn_unknown_type_7332 = {FunctionType, -1, "call-dyn-unknown-type", 1, {&call_dyn_unknown_type_7331}};
Value *call_dyn_unknown_type_7301 = (Value *)&call_dyn_unknown_type_7332;


// --------- call-invoke -------------
Value *call_invoke_7334;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str569 = {StringType, -1, 14, 0, "// call invoke"};
Value *strPtr569 = (Value *)&str569;
Value *arityImpl7338(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val61;
Value *val84;
Value *val88;
Value *val90;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs112[7] = {&val1, &val16, &val61, &val84, &val88, &val90, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs112);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val90, 1);
dec_and_free(val61, 1);
dec_and_free(x_6, 1);
dec_and_free(val88, 1);
dec_and_free(val16, 1);
dec_and_free(val84, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7339_13 = ss_10;
Value *invoke_info_14 = v_9;
Value *arg7340_18 = arg7339_13;

// type-unknown .c-var
// #line 1083 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", invoke_info_14, "toccata.toc", 1083);

// static-fixed
// #line 1083 "toccata.toc"
Value *rslt17 = lookup_static_arity_6627(empty_list, rslt15, val16);
Value *ev_19 = rslt17;
Value *arg7341_20 = arg7340_18;
Value *rslt21 = reified_type_args_22(empty_list, ev_19);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
Value *s_25 = arg7341_20;
Value *rslt29;
if((invoke_fn_22)->type != FunctionType) {
rslt29 = invoke_368(empty_list, invoke_fn_22, s_25);
} else {
FnArity *arity26 = findFnArity(invoke_fn_22, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, s_25);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(s_25, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_22)->name);
  abort();
}
dec_and_free(invoke_fn_22, 1);
}
Value *x_30 = rslt29;

incRef(x_30, 1);
Value *andRslt31;
andRslt31 = x_30;
if (isNothing(andRslt31)) {
dec_and_free(val90, 1);
dec_and_free(x_30, 1);
dec_and_free(val61, 1);
dec_and_free(val88, 1);
dec_and_free(val84, 1);
} else {
dec_and_free(andRslt31, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_30, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_33;
Value *ss_34;
Value *tail_35;
Value **destArgs36[3] = {&v_33, &ss_34, &tail_35};
destructValue("", "0", (Value *)rslt32, 3, destArgs36);

dec_and_free(tail_35, 1);
Value *arg7342_37 = ss_34;
Value *arity_info_38 = v_33;

incRef(arity_info_38, 1);
Value *arg7343_40 = arg7342_37;

// static-fixed
// #line 1084 "toccata.toc"
Value *rslt39 = genlocal_6379(empty_list, strPtr512);
Value *ev_41 = rslt39;
Value *arg7344_42 = arg7343_40;
Value *rslt43 = reified_type_args_22(empty_list, ev_41);
Value *invoke_fn_44;
Value *tail_45;
Value **destArgs46[2] = {&invoke_fn_44, &tail_45};
destructValue("", "0", (Value *)rslt43, 2, destArgs46);

dec_and_free(tail_45, 1);
Value *s_47 = arg7344_42;
Value *rslt51;
if((invoke_fn_44)->type != FunctionType) {
rslt51 = invoke_368(empty_list, invoke_fn_44, s_47);
} else {
FnArity *arity48 = findFnArity(invoke_fn_44, 1);
if(arity48 != (FnArity *)0 && !arity48->variadic) {
FnType1 *fn50 = (FnType1 *)arity48->fn;
rslt51 = fn50(arity48->closures, s_47);
} else if(arity48 != (FnArity *)0 && arity48->variadic) {
FnType1 *fn50 = (FnType1 *)arity48->fn;
List *dynArgs49 = empty_list;
dynArgs49 = (List *)listCons(s_47, dynArgs49);
rslt51 = fn50(arity48->closures, (Value *)dynArgs49);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_44)->name);
  abort();
}
dec_and_free(invoke_fn_44, 1);
}
Value *x_52 = rslt51;

incRef(x_52, 1);
Value *andRslt53;
andRslt53 = x_52;
if (isNothing(andRslt53)) {
dec_and_free(val90, 1);
dec_and_free(val61, 1);
dec_and_free(arity_info_38, 2);
dec_and_free(x_52, 1);
dec_and_free(val88, 1);
dec_and_free(val84, 1);
} else {
dec_and_free(andRslt53, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt54 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_52, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_55;
Value *ss_56;
Value *tail_57;
Value **destArgs58[3] = {&v_55, &ss_56, &tail_57};
destructValue("", "0", (Value *)rslt54, 3, destArgs58);

dec_and_free(tail_57, 1);
Value *arg7345_59 = ss_56;
Value *result_sym_60 = v_55;

incRef(result_sym_60, 1);
Value *arg7346_63 = arg7345_59;

// static-fixed
// #line 1085 "toccata.toc"
Value *rslt62 = line_macro_5358(empty_list, val61, strPtr569);
Value *ev_64 = rslt62;
Value *arg7347_65 = arg7346_63;
Value *rslt66 = reified_type_args_22(empty_list, ev_64);
Value *invoke_fn_67;
Value *tail_68;
Value **destArgs69[2] = {&invoke_fn_67, &tail_68};
destructValue("", "0", (Value *)rslt66, 2, destArgs69);

dec_and_free(tail_68, 1);
Value *s_70 = arg7347_65;
Value *rslt74;
if((invoke_fn_67)->type != FunctionType) {
rslt74 = invoke_368(empty_list, invoke_fn_67, s_70);
} else {
FnArity *arity71 = findFnArity(invoke_fn_67, 1);
if(arity71 != (FnArity *)0 && !arity71->variadic) {
FnType1 *fn73 = (FnType1 *)arity71->fn;
rslt74 = fn73(arity71->closures, s_70);
} else if(arity71 != (FnArity *)0 && arity71->variadic) {
FnType1 *fn73 = (FnType1 *)arity71->fn;
List *dynArgs72 = empty_list;
dynArgs72 = (List *)listCons(s_70, dynArgs72);
rslt74 = fn73(arity71->closures, (Value *)dynArgs72);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_67)->name);
  abort();
}
dec_and_free(invoke_fn_67, 1);
}
Value *x_75 = rslt74;

incRef(x_75, 1);
Value *andRslt76;
andRslt76 = x_75;
if (isNothing(andRslt76)) {
dec_and_free(val90, 1);
dec_and_free(x_75, 1);
dec_and_free(arity_info_38, 2);
dec_and_free(result_sym_60, 2);
dec_and_free(val88, 1);
dec_and_free(val84, 1);
} else {
dec_and_free(andRslt76, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt77 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_75, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_78;
Value *ss_79;
Value *tail_80;
Value **destArgs81[3] = {&v_78, &ss_79, &tail_80};
destructValue("", "0", (Value *)rslt77, 3, destArgs81);

dec_and_free(tail_80, 1);
Value *arg7348_82 = ss_79;
Value *line_83 = v_78;
Value *arg7349_85 = arg7348_82;
Value *__86 = val84;

// type-unknown .c-var
// #line 1087 "toccata.toc"
Value *rslt87 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_info_38, "toccata.toc", 1087);

// type-unknown .c-var
// #line 1088 "toccata.toc"
Value *rslt89 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val88, "toccata.toc", 1088);

// static-fixed
// #line 1088 "toccata.toc"
Value *rslt91 = cons_275(empty_list, rslt89, val90);

// type-known for conj
// #line 1088 "toccata.toc"
Value *rslt92 = List_conj_837(empty_list, rslt91, strPtr525);

// static-fixed
// #line 1088 "toccata.toc"
Value *rslt93 = interpose_503(empty_list, rslt92, strPtr17);

// call-vector
// #line 1087 "toccata.toc"
Vector *newVect94 = empty_vect;
newVect94 = mutateVectConj(newVect94, line_83);
newVect94 = mutateVectConj(newVect94, strPtr492);
newVect94 = mutateVectConj(newVect94, result_sym_60);
newVect94 = mutateVectConj(newVect94, strPtr500);
newVect94 = mutateVectConj(newVect94, rslt87);
newVect94 = mutateVectConj(newVect94, strPtr16);
newVect94 = mutateVectConj(newVect94, rslt93);
newVect94 = mutateVectConj(newVect94, strPtr442);
newVect94 = mutateVectConj(newVect94, strPtr5);
Value *rslt95 = (Value *)newVect94;

// call-vector
// #line 1089 "toccata.toc"
Vector *newVect96 = empty_vect;
Value *rslt97 = (Value *)newVect96;

// type-unknown .type-num
// #line 1090 "toccata.toc"
Value *rslt98 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", arity_info_38, "toccata.toc", 1090);

// static-variadic
// #line 1091 "toccata.toc"
List *varArgs99 = empty_list;
Value *rslt100 = hash_map_1208(empty_list, (Value *)varArgs99);

// call invoke
// #line 1086 "toccata.toc"
Value *rslt101 = c_init_invoke_6003(empty_list, reifiedPtr6006, result_sym_60, rslt95, rslt97, rslt98, rslt100);
Value *v_102 = rslt101;
Value *arg7350_103 = arg7349_85;
Value *rslt104 = reified_type_args_22(empty_list, __86);
Value *invoke_fn_105;
Value *tail_106;
Value **destArgs107[2] = {&invoke_fn_105, &tail_106};
destructValue("", "0", (Value *)rslt104, 2, destArgs107);

dec_and_free(invoke_fn_105, 1);

dec_and_free(tail_106, 1);
Value *s_108 = arg7350_103;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect109 = empty_vect;
newVect109 = mutateVectConj(newVect109, v_102);
newVect109 = mutateVectConj(newVect109, s_108);
Value *rslt110 = (Value *)newVect109;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt111 = maybe_4(empty_list, rslt110);
andRslt76 = rslt111;
}
andRslt53 = andRslt76;
}
andRslt31 = andRslt53;
}
return(andRslt31);
andRslt7 = andRslt31;
}

};};
Value *call_invoke_7335(List *closures, Value *target_0, Value *args_1, Value *ast_2) {
 while (1) {

incRef(target_0, 1);

incRef(args_1, 1);

// type-unknown count
// #line 1081 "toccata.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", args_1, "toccata.toc", 1081);

// static-fixed
// #line 1081 "toccata.toc"
Value *rslt4 = inc_564(empty_list, rslt3);
Value *num_args_5 = rslt4;

incRef(num_args_5, 1);

// type-unknown .type-num
// #line 1082 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", target_0, "toccata.toc", 1082);

// static-fixed
// #line 1082 "toccata.toc"
Value *rslt7 = get_proto_impl_6346(empty_list, symPtr39, num_args_5, rslt6);
Value *wrapper_8 = rslt7;

incRef(wrapper_8, 1);
Value *ev_9 = wrapper_8;
Value *rslt10 = reified_type_args_22(empty_list, ev_9);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl7338;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)args_1, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)target_0, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)wrapper_8, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)ast_2, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)num_args_5, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)invoke_fn_11, (List *)dynArity14->closures);
Function *anon_7351 = malloc_function(1);
anon_7351->name = "anon";
anon_7351->arityCount = 1;
anon_7351->arities[0] = dynArity14;
Value *fn7337 = (Value *)anon_7351;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7337);
return(rslt15);

};};
FnArity call_invoke_7352 = {FnArityType, -1, 3, (List *)0, 0, call_invoke_7335};
Function call_invoke_7353 = {FunctionType, -1, "call-invoke", 1, {&call_invoke_7352}};
Value *call_invoke_7334 = (Value *)&call_invoke_7353;


// --------- update-last -------------
Value *update_last_7355;
Value *update_last_7356(List *closures, Value *asts_0, Value *f_1) {
 while (1) {

incRef(asts_0, 1);

// type-unknown empty?
// #line 1094 "toccata.toc"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", asts_0, "toccata.toc", 1094);
if (!isNothing(rslt2)) {
dec_and_free(asts_0, 1);
dec_and_free(f_1, 1);
return(maybeExtract(rslt2));
} else {
dec_and_free(rslt2, 1);

// type-unknown filter
// #line 1096 "toccata.toc"
Value *rslt3 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", asts_0, produces_code_QM__5843, "toccata.toc", 1096);

// type-unknown reverse
// #line 1097 "toccata.toc"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt3, "toccata.toc", 1097);
Value *tail_5;
Value *init_6;
Value **destArgs7[2] = {&tail_5, &init_6};
destructValue("toccata.toc", "1095", (Value *)rslt4, 2, destArgs7);

// dynamic unknown type
// #line 1098 "toccata.toc"
Value *rslt11;
if((f_1)->type != FunctionType) {
rslt11 = invoke_368(empty_list, f_1, tail_5);
} else {
FnArity *arity8 = findFnArity(f_1, 1);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
rslt11 = fn10(arity8->closures, tail_5);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(tail_5, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_1)->name);
  abort();
}
dec_and_free(f_1, 1);
}

// static-fixed
// #line 1099 "toccata.toc"
Value *rslt12 = cons_275(empty_list, rslt11, init_6);

// type-known for reverse
// #line 1100 "toccata.toc"
Value *rslt13 = List_reverse_813(empty_list, rslt12);
return(rslt13);
}

};};
FnArity update_last_7357 = {FnArityType, -1, 2, (List *)0, 0, update_last_7356};
Function update_last_7358 = {FunctionType, -1, "update-last", 1, {&update_last_7357}};
Value *update_last_7355 = (Value *)&update_last_7358;


// --------- make-bindings -------------
Value *make_bindings_7360;

// --------- anon -------------
Value *fn7362;
Value *arityImpl7363(List *closures, Value *arg3) {
 while (1) {
Value *param_0;
Value *val_1;
Value *tail_2;
Value **destArgs4[3] = {&param_0, &val_1, &tail_2};
destructValue("toccata.toc", "1104", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// call invoke
// #line 1105 "toccata.toc"
Value *rslt5 = binding_ast_invoke_3277(empty_list, reifiedPtr3280, param_0, val_1);
return(rslt5);

};};
FnArity staticArity7364 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7363};
Function anon_7365 = {FunctionType, -1, "anon", 1, {&staticArity7364}};
Value *fn7362 = (Value *)&anon_7365;

Value *make_bindings_7361(List *closures, Value *params_0, Value *args_1) {
 while (1) {

// type-unknown seq
// #line 1103 "toccata.toc"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", params_0, "toccata.toc", 1103);

// type-unknown seq
// #line 1103 "toccata.toc"
Value *rslt3 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", args_1, "toccata.toc", 1103);

// static-variadic
// #line 1103 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt2, varArgs4);
Value *rslt5 = zip_lists_1783(empty_list, (Value *)varArgs4);

// type-unknown map
// #line 1103 "toccata.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt5, fn7362, "toccata.toc", 1103);
return(rslt6);

};};
FnArity make_bindings_7366 = {FnArityType, -1, 2, (List *)0, 0, make_bindings_7361};
Function make_bindings_7367 = {FunctionType, -1, "make-bindings", 1, {&make_bindings_7366}};
Value *make_bindings_7360 = (Value *)&make_bindings_7367;


// --------- anon -------------
Value *fn7369;
Value *arityImpl7370(List *closures, Value *target_ast_0) {
 while (1) {

incRef(target_ast_0, 2);

// type-unknown rdr/tag
// #line 1116 "toccata.toc"
Value *rslt1 = proto3Arg(&tag_Implementations_4650, "<maybe rdr>/tag", target_ast_0, strPtr0, numPtr0, "toccata.toc", 1116);

// type-known for instance?
// #line 1115 "toccata.toc"
Value *rslt2 = arityImpl163(empty_list, reifiedPtr166, target_ast_0);

// call invoke
// #line 1115 "toccata.toc"
Value *rslt3 = Maybe_invoke_755(empty_list, rslt2, rslt1, target_ast_0);
return(rslt3);

};};
FnArity staticArity7371 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7370};
Function anon_7372 = {FunctionType, -1, "anon", 1, {&staticArity7371}};
Value *fn7369 = (Value *)&anon_7372;

Value *arityImpl7376(List *closures, Value *call_site_0) {
while (1) {

incRef(call_site_0, 4);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 1120 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", call_site_0, "toccata.toc", 1120);

// type-unknown .init
// #line 1120 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5595, "<nothing>/.init", call_site_0, "toccata.toc", 1120);

// type-unknown .decl
// #line 1120 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls5871, "<nothing>/.decl", call_site_0, "toccata.toc", 1120);

// type-unknown .type-num
// #line 1121 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", call_site_0, "toccata.toc", 1121);

// type-unknown .refs-map
// #line 1121 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", call_site_0, "toccata.toc", 1121);

// call invoke
// #line 1120 "toccata.toc"
Value *rslt7 = c_init_invoke_6003(empty_list, reifiedPtr6006, rslt2, rslt3, rslt4, rslt5, rslt6);

// type-unknown wrap
// #line 1119 "toccata.toc"
Value *rslt8 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt7, "toccata.toc", 1119);
return(rslt8);

};};
Value *arityImpl7374(List *closures, Value *new_ast_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// type-unknown emit
// #line 1119 "toccata.toc"
Value *rslt1 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", new_ast_0, "toccata.toc", 1119);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl7376;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)val3, (List *)dynArity2->closures);
Function *anon_7377 = malloc_function(1);
anon_7377->name = "anon";
anon_7377->arityCount = 1;
anon_7377->arities[0] = dynArity2;
Value *fn7375 = (Value *)anon_7377;

// type-unknown flat-map
// #line 1119 "toccata.toc"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt1, fn7375, "toccata.toc", 1119);
return(rslt4);

};};
Value *arityImpl7394(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs29[5] = {&val1, &val15, &val16, &val17, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs29);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7395_13 = ss_10;
Value *call_site_14 = v_9;

// call-vector
// #line 1133 "toccata.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, val17);
newVect18 = mutateVectConj(newVect18, call_site_14);
Value *rslt19 = (Value *)newVect18;

// call-list
// #line 1133 "toccata.toc"
List *newList20 = empty_list;
newList20 = listCons((Value *)rslt19, newList20);
Value *rslt21 = (Value *)newList20;

// type-unknown comp*
// #line 1133 "toccata.toc"
Value *rslt22 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val16, rslt21, "toccata.toc", 1133);

// type-known for comp*
// #line 1133 "toccata.toc"
Value *rslt23 = empty_code_comp_STAR__5916(empty_list, empty_c_code_5928, rslt22);

// type-unknown wrap
// #line 1128 "toccata.toc"
Value *rslt24 = proto2Arg(&wrap_Implementations_248, "wrap", val15, rslt23, "toccata.toc", 1128);

// dynamic unknown type
// #line 1128 "toccata.toc"
Value *rslt28;
if((rslt24)->type != FunctionType) {
rslt28 = invoke_368(empty_list, rslt24, arg7395_13);
} else {
FnArity *arity25 = findFnArity(rslt24, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, arg7395_13);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(arg7395_13, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt24)->name);
  abort();
}
dec_and_free(rslt24, 1);
}
return(rslt28);
andRslt7 = rslt28;
}

};};
Value *arityImpl7391(List *closures, Value *target_0) {
while (1) {

incRef(target_0, 5);
Value *val1;
Value *val4;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs21[4] = {&val1, &val4, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs21);

incRef(val1, 1);

incRef(val4, 4);

dec_and_free(closuresTail, 1);

// type-unknown map
// #line 1127 "toccata.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", val1, dispatchFnPtr5865, "toccata.toc", 1127);
Value *arg_vars_3 = rslt2;

incRef(arg_vars_3, 4);

// static-fixed
// #line 1128 "toccata.toc"
Value *rslt5 = call_static_fixed_7231(empty_list, target_0, arg_vars_3, val4);

// static-fixed
// #line 1129 "toccata.toc"
Value *rslt6 = call_static_variadic_7249(empty_list, target_0, arg_vars_3, val4);

// static-fixed
// #line 1130 "toccata.toc"
Value *rslt7 = call_invoke_7335(empty_list, target_0, arg_vars_3, val4);

// static-fixed
// #line 1131 "toccata.toc"
Value *rslt8 = call_dyn_fn_value_7273(empty_list, target_0, arg_vars_3, val4);

// static-fixed
// #line 1132 "toccata.toc"
Value *rslt9 = call_dyn_unknown_type_7302(empty_list, target_0, arg_vars_3, val4);

// call-list
// #line 1128 "toccata.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt8, newList10);
newList10 = listCons((Value *)rslt7, newList10);
newList10 = listCons((Value *)rslt6, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 1128 "toccata.toc"
Value *rslt12 = new_sm_comp_STAR__2805(empty_list, rslt5, rslt11);
Value *ev_13 = rslt12;
Value *rslt14 = reified_type_args_22(empty_list, ev_13);
Value *invoke_fn_15;
Value *tail_16;
Value **destArgs17[2] = {&invoke_fn_15, &tail_16};
destructValue("", "0", (Value *)rslt14, 2, destArgs17);

dec_and_free(tail_16, 1);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7394;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)target_0, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val1, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)invoke_fn_15, (List *)dynArity18->closures);
Function *anon_7396 = malloc_function(1);
anon_7396->name = "anon";
anon_7396->arityCount = 1;
anon_7396->arities[0] = dynArity18;
Value *fn7393 = (Value *)anon_7396;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7393);
return(rslt20);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str570 = {StringType, -1, 31, 0, "Could not compile call site at:"};
Value *strPtr570 = (Value *)&str570;
Value *arityImpl7398(List *closures, Value *call_site_0) {
while (1) {

incRef(call_site_0, 4);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs9);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 1136 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", call_site_0, "toccata.toc", 1136);

// type-unknown .init
// #line 1136 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5595, "<nothing>/.init", call_site_0, "toccata.toc", 1136);

// type-unknown .decl
// #line 1136 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls5871, "<nothing>/.decl", call_site_0, "toccata.toc", 1136);

// type-unknown .type-num
// #line 1137 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", call_site_0, "toccata.toc", 1137);

// type-unknown .refs-map
// #line 1137 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", call_site_0, "toccata.toc", 1137);

// call invoke
// #line 1136 "toccata.toc"
Value *rslt7 = c_init_invoke_6003(empty_list, reifiedPtr6006, rslt2, rslt3, rslt4, rslt5, rslt6);

// type-unknown wrap
// #line 1125 "toccata.toc"
Value *rslt8 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt7, "toccata.toc", 1125);
return(rslt8);

};};
Value *arityImpl7380(List *closures, Value *args_0) {
while (1) {

incRef(args_0, 1);
Value *val1;
Value *val9;
Value *val10;
Value *val17;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[5] = {&val1, &val9, &val10, &val17, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs19);

incRef(val1, 2);

dec_and_free(closuresTail, 1);

// type-unknown .call-target
// #line 1125 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", val1, "toccata.toc", 1125);

// type-unknown emit-call-expr
// #line 1125 "toccata.toc"
Value *rslt3 = proto2Arg(&emit_call_expr_Implementations_5837, "<nothing>/emit-call-expr", rslt2, args_0, "toccata.toc", 1125);

// type-unknown .call-target
// #line 1126 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", val1, "toccata.toc", 1126);

// type-unknown emit
// #line 1126 "toccata.toc"
Value *rslt5 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt4, "toccata.toc", 1126);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl7391;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)wrapper_6, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val1, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)args_0, (List *)dynArity7->closures);
Function *anon_7397 = malloc_function(1);
anon_7397->name = "anon";
anon_7397->arityCount = 1;
anon_7397->arities[0] = dynArity7;
Value *fn7390 = (Value *)anon_7397;

// type-unknown flat-map
// #line 1126 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_6, fn7390, "toccata.toc", 1126);

// static-variadic
// #line 1134 "toccata.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)val10, varArgs11);
varArgs11 = (List *)listCons((Value *)val9, varArgs11);
varArgs11 = (List *)listCons((Value *)strPtr570, varArgs11);
Value *rslt12 = compilation_error_5400(empty_list, (Value *)varArgs11);

// call-list
// #line 1125 "toccata.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)rslt8, newList13);
Value *rslt14 = (Value *)newList13;

// type-unknown comp*
// #line 1125 "toccata.toc"
Value *rslt15 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt3, rslt14, "toccata.toc", 1125);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl7398;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)val17, (List *)dynArity16->closures);
Function *anon_7399 = malloc_function(1);
anon_7399->name = "anon";
anon_7399->arityCount = 1;
anon_7399->arities[0] = dynArity16;
Value *fn7381 = (Value *)anon_7399;

// type-unknown flat-map
// #line 1125 "toccata.toc"
Value *rslt18 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt15, fn7381, "toccata.toc", 1125);
return(rslt18);

};};
Value *emit_7368(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 2);

// type-known for ast/file-name
// #line 1111 "toccata.toc"
Value *rslt1 = call_ast_file_name_3203(empty_list, ast_0);
Value *file_name_2 = rslt1;

// type-known for ast/line-number
// #line 1112 "toccata.toc"
Value *rslt3 = call_ast_line_number_3205(empty_list, ast_0);
Value *line_number_4 = rslt3;

// call-vector
// #line 1113 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, dispatchFnPtr3168);
Value *rslt6 = (Value *)newVect5;

// static-fixed
// #line 1113 "toccata.toc"
Value *rslt7 = update_in_1266(empty_list, ast_0, rslt6, fn7369);

// type-known for extract
// #line 1113 "toccata.toc"
Value *rslt8 = Maybe_extract_757(empty_list, rslt7);
Value *ast_9 = rslt8;

incRef(ast_9, 3);

// type-unknown .call-target
// #line 1118 "toccata.toc"
Value *rslt10 = proto1Arg(&protoImpls3170, "<nothing>/.call-target", ast_9, "toccata.toc", 1118);

// type-unknown .args
// #line 1118 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls2623, "<nothing>/.args", ast_9, "toccata.toc", 1118);

// type-unknown inline-expr
// #line 1118 "toccata.toc"
Value *rslt12 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", rslt10, rslt11, "toccata.toc", 1118);
Value *wrapper_13 = rslt12;

incRef(wrapper_13, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl7374;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)wrapper_13, (List *)dynArity14->closures);
Function *anon_7378 = malloc_function(1);
anon_7378->name = "anon";
anon_7378->arityCount = 1;
anon_7378->arities[0] = dynArity14;
Value *fn7373 = (Value *)anon_7378;

// type-unknown flat-map
// #line 1118 "toccata.toc"
Value *rslt15 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_13, fn7373, "toccata.toc", 1118);

// type-unknown .args
// #line 1122 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls2623, "<nothing>/.args", ast_9, "toccata.toc", 1122);

// type-unknown filter
// #line 1123 "toccata.toc"
Value *rslt17 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", rslt16, produces_code_QM__5843, "toccata.toc", 1123);

// type-unknown emit
// #line 1124 "toccata.toc"
Value *rslt18 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt17, "toccata.toc", 1124);
Value *wrapper_19 = rslt18;

incRef(wrapper_19, 1);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl7380;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)wrapper_19, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)line_number_4, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)file_name_2, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)ast_9, (List *)dynArity20->closures);
Function *anon_7400 = malloc_function(1);
anon_7400->name = "anon";
anon_7400->arityCount = 1;
anon_7400->arities[0] = dynArity20;
Value *fn7379 = (Value *)anon_7400;

// type-unknown flat-map
// #line 1122 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_19, fn7379, "toccata.toc", 1122);
List *newList22 = empty_list;
newList22 = listCons((Value *)rslt21, newList22);
Value *rslt23 = (Value *)newList22;
Value *rslt24 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt15, rslt23, "", 0);
return(rslt24);

};};
FnArity emit_7401 = {FnArityType, -1, 1, (List *)0, 0, emit_7368};
Value *arityImpl7414(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .c-var
// #line 1143 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", v_9, "toccata.toc", 1143);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str571 = {StringType, -1, 12, 0, "->refs = -1;"};
Value *strPtr571 = (Value *)&str571;
Value *arityImpl7417(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val62;
Value *val67;
Value *val94;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs119[6] = {&val1, &val15, &val62, &val67, &val94, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs119);

incRef(val67, 5);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val94, 1);
dec_and_free(val67, 6);
dec_and_free(val62, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7418_13 = ss_10;
Value *var_14 = v_9;

incRef(var_14, 4);
Value *arg7419_17 = arg7418_13;

// static-fixed
// #line 1145 "toccata.toc"
Value *rslt16 = reset_fn_context_5803(empty_list, val15);
Value *ev_18 = rslt16;
Value *arg7420_19 = arg7419_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg7420_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(var_14, 5);
dec_and_free(val94, 1);
dec_and_free(val67, 6);
dec_and_free(x_29, 1);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg7421_36 = ss_33;
Value *init_fn_context_37 = v_32;
Value *arg7422_41 = arg7421_36;

// call-vector
// #line 1146 "toccata.toc"
Vector *newVect38 = empty_vect;
newVect38 = mutateVectConj(newVect38, dispatchFnPtr5587);
newVect38 = mutateVectConj(newVect38, dispatchFnPtr5469);
Value *rslt39 = (Value *)newVect38;

// static-fixed
// #line 1146 "toccata.toc"
Value *rslt40 = assoc_in_val_3599(empty_list, rslt39, init_fn_context_37);
Value *ev_42 = rslt40;
Value *arg7423_43 = arg7422_41;
Value *rslt44 = reified_type_args_22(empty_list, ev_42);
Value *invoke_fn_45;
Value *tail_46;
Value **destArgs47[2] = {&invoke_fn_45, &tail_46};
destructValue("", "0", (Value *)rslt44, 2, destArgs47);

dec_and_free(tail_46, 1);
Value *s_48 = arg7423_43;
Value *rslt52;
if((invoke_fn_45)->type != FunctionType) {
rslt52 = invoke_368(empty_list, invoke_fn_45, s_48);
} else {
FnArity *arity49 = findFnArity(invoke_fn_45, 1);
if(arity49 != (FnArity *)0 && !arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
rslt52 = fn51(arity49->closures, s_48);
} else if(arity49 != (FnArity *)0 && arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
List *dynArgs50 = empty_list;
dynArgs50 = (List *)listCons(s_48, dynArgs50);
rslt52 = fn51(arity49->closures, (Value *)dynArgs50);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_45)->name);
  abort();
}
dec_and_free(invoke_fn_45, 1);
}
Value *x_53 = rslt52;

incRef(x_53, 1);
Value *andRslt54;
andRslt54 = x_53;
if (isNothing(andRslt54)) {
dec_and_free(x_53, 1);
dec_and_free(var_14, 5);
dec_and_free(val94, 1);
dec_and_free(val67, 6);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt54, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_53, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_56;
Value *ss_57;
Value *tail_58;
Value **destArgs59[3] = {&v_56, &ss_57, &tail_58};
destructValue("", "0", (Value *)rslt55, 3, destArgs59);

dec_and_free(tail_58, 1);
Value *arg7424_60 = ss_57;
Value *arg61 = v_56;

dec_and_free(arg61, 1);
Value *arg7425_73 = arg7424_60;

// call-vector
// #line 1147 "toccata.toc"
Vector *newVect63 = empty_vect;
Value *rslt64 = (Value *)newVect63;

// call-vector
// #line 1147 "toccata.toc"
Vector *newVect65 = empty_vect;
Value *rslt66 = (Value *)newVect65;

// type-unknown .type-num
// #line 1147 "toccata.toc"
Value *rslt68 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val67, "toccata.toc", 1147);

// static-variadic
// #line 1147 "toccata.toc"
List *varArgs69 = empty_list;
Value *rslt70 = hash_map_1208(empty_list, (Value *)varArgs69);

// call invoke
// #line 1147 "toccata.toc"
Value *rslt71 = c_code_invoke_5942(empty_list, reifiedPtr5945, var_14, rslt64, rslt66, rslt68, rslt70);

// static-fixed
// #line 1147 "toccata.toc"
Value *rslt72 = new_module_def_6527(empty_list, val62, rslt71);
Value *ev_74 = rslt72;
Value *arg7426_75 = arg7425_73;
Value *rslt76 = reified_type_args_22(empty_list, ev_74);
Value *invoke_fn_77;
Value *tail_78;
Value **destArgs79[2] = {&invoke_fn_77, &tail_78};
destructValue("", "0", (Value *)rslt76, 2, destArgs79);

dec_and_free(tail_78, 1);
Value *s_80 = arg7426_75;
Value *rslt84;
if((invoke_fn_77)->type != FunctionType) {
rslt84 = invoke_368(empty_list, invoke_fn_77, s_80);
} else {
FnArity *arity81 = findFnArity(invoke_fn_77, 1);
if(arity81 != (FnArity *)0 && !arity81->variadic) {
FnType1 *fn83 = (FnType1 *)arity81->fn;
rslt84 = fn83(arity81->closures, s_80);
} else if(arity81 != (FnArity *)0 && arity81->variadic) {
FnType1 *fn83 = (FnType1 *)arity81->fn;
List *dynArgs82 = empty_list;
dynArgs82 = (List *)listCons(s_80, dynArgs82);
rslt84 = fn83(arity81->closures, (Value *)dynArgs82);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_77)->name);
  abort();
}
dec_and_free(invoke_fn_77, 1);
}
Value *x_85 = rslt84;

incRef(x_85, 1);
Value *andRslt86;
andRslt86 = x_85;
if (isNothing(andRslt86)) {
dec_and_free(var_14, 4);
dec_and_free(val94, 1);
dec_and_free(val67, 5);
dec_and_free(x_85, 1);
} else {
dec_and_free(andRslt86, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt87 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_85, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_88;
Value *ss_89;
Value *tail_90;
Value **destArgs91[3] = {&v_88, &ss_89, &tail_90};
destructValue("", "0", (Value *)rslt87, 3, destArgs91);

dec_and_free(tail_90, 1);
Value *arg7427_92 = ss_89;
Value *arg93 = v_88;

dec_and_free(arg93, 1);
Value *arg7428_95 = arg7427_92;
Value *__96 = val94;

// type-unknown .init
// #line 1148 "toccata.toc"
Value *rslt97 = proto1Arg(&protoImpls5595, "<nothing>/.init", val67, "toccata.toc", 1148);

// type-unknown .c-var
// #line 1149 "toccata.toc"
Value *rslt98 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val67, "toccata.toc", 1149);

// call-vector
// #line 1148 "toccata.toc"
Vector *newVect99 = empty_vect;
newVect99 = mutateVectConj(newVect99, rslt97);
newVect99 = mutateVectConj(newVect99, var_14);
newVect99 = mutateVectConj(newVect99, strPtr500);
newVect99 = mutateVectConj(newVect99, rslt98);
newVect99 = mutateVectConj(newVect99, strPtr303);
newVect99 = mutateVectConj(newVect99, strPtr5);
newVect99 = mutateVectConj(newVect99, var_14);
newVect99 = mutateVectConj(newVect99, strPtr571);
newVect99 = mutateVectConj(newVect99, strPtr5);
Value *rslt100 = (Value *)newVect99;

// type-unknown .decl
// #line 1151 "toccata.toc"
Value *rslt101 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val67, "toccata.toc", 1151);

// call-vector
// #line 1151 "toccata.toc"
Vector *newVect102 = empty_vect;
newVect102 = mutateVectConj(newVect102, rslt101);
newVect102 = mutateVectConj(newVect102, strPtr492);
newVect102 = mutateVectConj(newVect102, var_14);
newVect102 = mutateVectConj(newVect102, strPtr494);
Value *rslt103 = (Value *)newVect102;

// type-unknown .type-num
// #line 1152 "toccata.toc"
Value *rslt104 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val67, "toccata.toc", 1152);

// type-unknown .refs-map
// #line 1152 "toccata.toc"
Value *rslt105 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", val67, "toccata.toc", 1152);

// call invoke
// #line 1148 "toccata.toc"
Value *rslt106 = c_init_invoke_6003(empty_list, reifiedPtr6006, var_14, rslt100, rslt103, rslt104, rslt105);

// call-vector
// #line 1148 "toccata.toc"
Vector *newVect107 = empty_vect;
newVect107 = mutateVectConj(newVect107, rslt106);
Value *rslt108 = (Value *)newVect107;
Value *v_109 = rslt108;
Value *arg7429_110 = arg7428_95;
Value *rslt111 = reified_type_args_22(empty_list, __96);
Value *invoke_fn_112;
Value *tail_113;
Value **destArgs114[2] = {&invoke_fn_112, &tail_113};
destructValue("", "0", (Value *)rslt111, 2, destArgs114);

dec_and_free(invoke_fn_112, 1);

dec_and_free(tail_113, 1);
Value *s_115 = arg7429_110;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect116 = empty_vect;
newVect116 = mutateVectConj(newVect116, v_109);
newVect116 = mutateVectConj(newVect116, s_115);
Value *rslt117 = (Value *)newVect116;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt118 = maybe_4(empty_list, rslt117);
andRslt86 = rslt118;
}
andRslt54 = andRslt86;
}
andRslt30 = andRslt54;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *arityImpl7411(List *closures, Value *value_0) {
while (1) {
Value *val1;
Value *val20;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs23[4] = {&val1, &val20, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs23);

incRef(val1, 2);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1143 "toccata.toc"
Value *rslt2 = lookup_declaration_6542(empty_list, val1);
Value *__3 = rslt2;
Value *rslt4 = reified_type_args_22(empty_list, __3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7414;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7415 = malloc_function(1);
anon_7415->name = "anon";
anon_7415->arityCount = 1;
anon_7415->arities[0] = dynArity8;
Value *fn7413 = (Value *)anon_7415;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7413);

// static-fixed
// #line 1144 "toccata.toc"
Value *rslt10 = global_var_6497(empty_list, val1, strPtr531);

// call-list
// #line 1143 "toccata.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)rslt10, newList11);
Value *rslt12 = (Value *)newList11;

// type-known for comp*
// #line 1143 "toccata.toc"
Value *rslt13 = new_sm_comp_STAR__2805(empty_list, rslt9, rslt12);
Value *ev_14 = rslt13;
Value *rslt15 = reified_type_args_22(empty_list, ev_14);
Value *invoke_fn_16;
Value *tail_17;
Value **destArgs18[2] = {&invoke_fn_16, &tail_17};
destructValue("", "0", (Value *)rslt15, 2, destArgs18);

dec_and_free(tail_17, 1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl7417;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)value_0, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val1, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val21, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)invoke_fn_16, (List *)dynArity19->closures);
Function *anon_7430 = malloc_function(1);
anon_7430->name = "anon";
anon_7430->arityCount = 1;
anon_7430->arities[0] = dynArity19;
Value *fn7416 = (Value *)anon_7430;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7416);
return(rslt22);

};};
Value *arityImpl7405(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val40;
Value *val41;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs47[5] = {&val1, &val37, &val40, &val41, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs47);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val37, 1);
dec_and_free(val40, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7406_13 = ss_10;
Value *init_fn_context_14 = v_9;
Value *arg7407_16 = arg7406_13;

// static-fixed
// #line 1141 "toccata.toc"
Value *rslt15 = reset_fn_context_5803(empty_list, init_fn_context_14);
Value *ev_17 = rslt15;
Value *arg7408_18 = arg7407_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7408_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val41, 1);
dec_and_free(val37, 1);
dec_and_free(x_28, 1);
dec_and_free(val40, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7409_35 = ss_32;
Value *fn_context_36 = v_31;

// type-known for emit
// #line 1142 "toccata.toc"
Value *rslt38 = emit_7368(empty_list, val37);
FnArity *dynArity39 = malloc_fnArity();
dynArity39->count = 1;
dynArity39->variadic = 0;
dynArity39->fn = arityImpl7411;
dynArity39->closures = empty_list;
dynArity39->closures = listCons((Value *)fn_context_36, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val40, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val41, (List *)dynArity39->closures);
Function *anon_7431 = malloc_function(1);
anon_7431->name = "anon";
anon_7431->arityCount = 1;
anon_7431->arities[0] = dynArity39;
Value *fn7410 = (Value *)anon_7431;

// type-unknown flat-map
// #line 1142 "toccata.toc"
Value *rslt42 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt38, fn7410, "toccata.toc", 1142);

// dynamic unknown type
// #line 1142 "toccata.toc"
Value *rslt46;
if((rslt42)->type != FunctionType) {
rslt46 = invoke_368(empty_list, rslt42, arg7409_35);
} else {
FnArity *arity43 = findFnArity(rslt42, 1);
if(arity43 != (FnArity *)0 && !arity43->variadic) {
FnType1 *fn45 = (FnType1 *)arity43->fn;
rslt46 = fn45(arity43->closures, arg7409_35);
} else if(arity43 != (FnArity *)0 && arity43->variadic) {
FnType1 *fn45 = (FnType1 *)arity43->fn;
List *dynArgs44 = empty_list;
dynArgs44 = (List *)listCons(arg7409_35, dynArgs44);
rslt46 = fn45(arity43->closures, (Value *)dynArgs44);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt42)->name);
  abort();
}
dec_and_free(rslt42, 1);
}
andRslt29 = rslt46;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *emit_defined_value_7402(List *closures, Value *fn_val_0, Value *defined_sym_1) {
 while (1) {

// call-vector
// #line 1140 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5587);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 1140 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7405;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)defined_sym_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)fn_val_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7432 = malloc_function(1);
anon_7432->name = "anon";
anon_7432->arityCount = 1;
anon_7432->arities[0] = dynArity11;
Value *fn7404 = (Value *)anon_7432;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7404);
return(rslt12);

};};
FnArity emit_defined_value_7433 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_7402};
Value *tail_call_7434(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// call invoke
// #line 1154 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, ast_0, params_1);
return(rslt2);

};};
FnArity tail_call_7435 = {FnArityType, -1, 2, (List *)0, 0, tail_call_7434};
Value *arityImpl7444(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1159 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, val1, "toccata.toc", 1159);
return(rslt2);

};};
Value *arityImpl7446(List *closures, Value *args_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// call invoke
// #line 1160 "toccata.toc"
Value *rslt3 = call_ast_invoke_3179(empty_list, reifiedPtr3182, val2, args_0);

// type-unknown wrap
// #line 1158 "toccata.toc"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "toccata.toc", 1158);
return(rslt4);

};};
Value *arityImpl7438(List *closures, Value *target_0) {
while (1) {
Value *val1;
Value *val4;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[4] = {&val1, &val4, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs9);

dec_and_free(closuresTail, 1);

// type-known for .args
// #line 1158 "toccata.toc"
Value *rslt2 = call_ast_args_3197(empty_list, val1);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7444;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_7445 = malloc_function(1);
anon_7445->name = "anon";
anon_7445->arityCount = 1;
anon_7445->arities[0] = dynArity3;
Value *fn7440 = (Value *)anon_7445;

// static-fixed
// #line 1158 "toccata.toc"
Value *rslt5 = traverse_6470(empty_list, rslt2, fn7440);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl7446;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)target_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
Function *anon_7447 = malloc_function(1);
anon_7447->name = "anon";
anon_7447->arityCount = 1;
anon_7447->arities[0] = dynArity6;
Value *fn7439 = (Value *)anon_7447;

// type-unknown flat-map
// #line 1158 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt5, fn7439, "toccata.toc", 1158);
return(rslt8);

};};
Value *replace_syms_7436(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);

// type-known for .call-target
// #line 1157 "toccata.toc"
Value *rslt2 = call_ast_call_target_3193(empty_list, ast_0);

// type-unknown replace-syms
// #line 1157 "toccata.toc"
Value *rslt3 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", rslt2, subs_1, "toccata.toc", 1157);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7438;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)subs_1, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)ast_0, (List *)dynArity5->closures);
Function *anon_7448 = malloc_function(1);
anon_7448->name = "anon";
anon_7448->arityCount = 1;
anon_7448->arities[0] = dynArity5;
Value *fn7437 = (Value *)anon_7448;

// type-unknown flat-map
// #line 1157 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn7437, "toccata.toc", 1157);
return(rslt6);

};};
FnArity replace_syms_7449 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_7436};
SubString sym40 = {SymbolType, -1, 6, 0, 0, "new-sm"};
Value *symPtr40 = (Value *)&sym40;
Value *arityImpl7461(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7459(List *closures, Value *new_ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = new_ast_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7461;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_7462 = malloc_function(1);
anon_7462->name = "anon";
anon_7462->arityCount = 1;
anon_7462->arities[0] = dynArity8;
Value *fn7460 = (Value *)anon_7462;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7460);
return(rslt9);

};};
Value *arityImpl7453(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val40;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs49[5] = {&val1, &val15, &val40, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs49);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val43, 1);
dec_and_free(val40, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7454_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7455_19 = arg7454_13;

// type-known for .args
// #line 1165 "toccata.toc"
Value *rslt16 = call_ast_args_3197(empty_list, val15);

// type-unknown first
// #line 1165 "toccata.toc"
Value *rslt17 = proto1Arg(&first_Implementations_320, "<nothing>/first", rslt16, "toccata.toc", 1165);

// static-fixed
// #line 1165 "toccata.toc"
Value *rslt18 = when_4087(empty_list, rslt17);
Value *ev_20 = rslt18;
Value *arg7456_21 = arg7455_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg7456_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(val43, 1);
dec_and_free(x_31, 1);
dec_and_free(val40, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg7457_38 = ss_35;
Value *f_ast_39 = v_34;

// type-unknown inline-expr
// #line 1166 "toccata.toc"
Value *rslt41 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", f_ast_39, val40, "toccata.toc", 1166);
FnArity *dynArity42 = malloc_fnArity();
dynArity42->count = 1;
dynArity42->variadic = 0;
dynArity42->fn = arityImpl7459;
dynArity42->closures = empty_list;
dynArity42->closures = listCons((Value *)val43, (List *)dynArity42->closures);
Function *anon_7463 = malloc_function(1);
anon_7463->name = "anon";
anon_7463->arityCount = 1;
anon_7463->arities[0] = dynArity42;
Value *fn7458 = (Value *)anon_7463;

// type-unknown flat-map
// #line 1166 "toccata.toc"
Value *rslt44 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt41, fn7458, "toccata.toc", 1166);

// dynamic unknown type
// #line 1166 "toccata.toc"
Value *rslt48;
if((rslt44)->type != FunctionType) {
rslt48 = invoke_368(empty_list, rslt44, arg7457_38);
} else {
FnArity *arity45 = findFnArity(rslt44, 1);
if(arity45 != (FnArity *)0 && !arity45->variadic) {
FnType1 *fn47 = (FnType1 *)arity45->fn;
rslt48 = fn47(arity45->closures, arg7457_38);
} else if(arity45 != (FnArity *)0 && arity45->variadic) {
FnType1 *fn47 = (FnType1 *)arity45->fn;
List *dynArgs46 = empty_list;
dynArgs46 = (List *)listCons(arg7457_38, dynArgs46);
rslt48 = fn47(arity45->closures, (Value *)dynArgs46);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt44)->name);
  abort();
}
dec_and_free(rslt44, 1);
}
andRslt32 = rslt48;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *arityImpl7468(List *closures, Value *new_ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 1169 "toccata.toc"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, new_ast_0, "toccata.toc", 1169);
return(rslt2);

};};
Value *arityImpl7466(List *closures, Value *new_call_target_0) {
while (1) {
Value *val1;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// type-unknown inline-expr
// #line 1169 "toccata.toc"
Value *rslt2 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", new_call_target_0, val1, "toccata.toc", 1169);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7468;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_7469 = malloc_function(1);
anon_7469->name = "anon";
anon_7469->arityCount = 1;
anon_7469->arities[0] = dynArity3;
Value *fn7467 = (Value *)anon_7469;

// type-unknown flat-map
// #line 1169 "toccata.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn7467, "toccata.toc", 1169);
return(rslt5);

};};
Value *inline_expr_7450(List *closures, Value *ast_0, Value *arg_asts_1) {
 while (1) {

incRef(ast_0, 3);

incRef(arg_asts_1, 1);

// type-known for .call-target
// #line 1164 "toccata.toc"
Value *rslt2 = call_ast_call_target_3193(empty_list, ast_0);

// static-fixed
// #line 1164 "toccata.toc"
Value *rslt3 = _EQ__557(empty_list, symPtr40, rslt2);

// static-fixed
// #line 1164 "toccata.toc"
Value *rslt4 = when_4087(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7453;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)arg_asts_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)ast_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7464 = malloc_function(1);
anon_7464->name = "anon";
anon_7464->arityCount = 1;
anon_7464->arities[0] = dynArity11;
Value *fn7452 = (Value *)anon_7464;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7452);

// type-known for .call-target
// #line 1168 "toccata.toc"
Value *rslt13 = call_ast_call_target_3193(empty_list, ast_0);

// type-known for .args
// #line 1168 "toccata.toc"
Value *rslt14 = call_ast_args_3197(empty_list, ast_0);

// type-unknown inline-expr
// #line 1168 "toccata.toc"
Value *rslt15 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", rslt13, rslt14, "toccata.toc", 1168);
Value *wrapper_16 = rslt15;

incRef(wrapper_16, 1);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl7466;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)wrapper_16, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)arg_asts_1, (List *)dynArity17->closures);
Function *anon_7470 = malloc_function(1);
anon_7470->name = "anon";
anon_7470->arityCount = 1;
anon_7470->arities[0] = dynArity17;
Value *fn7465 = (Value *)anon_7470;

// type-unknown flat-map
// #line 1168 "toccata.toc"
Value *rslt18 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_16, fn7465, "toccata.toc", 1168);
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
Value *rslt20 = (Value *)newList19;
Value *rslt21 = new_sm_comp_STAR__2805(empty_list, rslt12, rslt20);
return(rslt21);

};};
FnArity inline_expr_7471 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_7450};
Value *arityImpl7474(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1175 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", ast_0, val1, "toccata.toc", 1175);
return(rslt2);

};};
Value *replace_bound_vars_7472(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);

// type-known for .call-target
// #line 1173 "toccata.toc"
Value *rslt2 = call_ast_call_target_3193(empty_list, ast_0);

// type-unknown replace-bound-vars
// #line 1173 "toccata.toc"
Value *rslt3 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt2, subs_1, "toccata.toc", 1173);

// type-known for .args
// #line 1174 "toccata.toc"
Value *rslt4 = call_ast_args_3197(empty_list, ast_0);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7474;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)subs_1, (List *)dynArity5->closures);
Function *anon_7475 = malloc_function(1);
anon_7475->name = "anon";
anon_7475->arityCount = 1;
anon_7475->arities[0] = dynArity5;
Value *fn7473 = (Value *)anon_7475;

// type-unknown map
// #line 1174 "toccata.toc"
Value *rslt6 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, fn7473, "toccata.toc", 1174);

// call invoke
// #line 1173 "toccata.toc"
Value *rslt7 = call_ast_invoke_3179(empty_list, reifiedPtr3182, rslt3, rslt6);
return(rslt7);

};};
FnArity replace_bound_vars_7476 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_7472};

// --------- unpack-arg-list -------------
Value *unpack_arg_list_7478;
Value *arityImpl7483(List *closures, Value *var_0) {
while (1) {

incRef(var_0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs16);

incRef(val2, 1);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1181 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, val2);
Value *rslt4 = (Value *)newVect3;

// call-vector
// #line 1182 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, strPtr492);
newVect5 = mutateVectConj(newVect5, var_0);
newVect5 = mutateVectConj(newVect5, strPtr517);
newVect5 = mutateVectConj(newVect5, val2);
newVect5 = mutateVectConj(newVect5, strPtr303);
newVect5 = mutateVectConj(newVect5, strPtr5);
Value *rslt6 = (Value *)newVect5;

// call-vector
// #line 1183 "toccata.toc"
Vector *newVect7 = empty_vect;
Value *rslt8 = (Value *)newVect7;

// static-variadic
// #line 1183 "toccata.toc"
List *varArgs9 = empty_list;
Value *rslt10 = hash_map_1208(empty_list, (Value *)varArgs9);

// call invoke
// #line 1182 "toccata.toc"
Value *rslt11 = c_init_invoke_6003(empty_list, reifiedPtr6006, var_0, rslt6, rslt8, ListType_5367, rslt10);

// call-vector
// #line 1182 "toccata.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, rslt11);
Value *rslt13 = (Value *)newVect12;

// call invoke
// #line 1181 "toccata.toc"
Value *rslt14 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt4, rslt13);

// type-unknown wrap
// #line 1180 "toccata.toc"
Value *rslt15 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt14, "toccata.toc", 1180);
return(rslt15);

};};
Value *arityImpl7481(List *closures, Value *elem_0) {
while (1) {
Value *val3;
Value *val9;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[4] = {&val3, &val9, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs17);

incRef(val10, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;
Value *andRslt2;

// type-unknown count
// #line 1179 "toccata.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", val3, "toccata.toc", 1179);

// static-fixed
// #line 1179 "toccata.toc"
Value *rslt5 = _EQ__557(empty_list, numPtr1, rslt4);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(elem_0, 1);
dec_and_free(val10, 1);
dec_and_free(val9, 1);
} else {
dec_and_free(andRslt2, 1);

// type-unknown .vars
// #line 1180 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls6427, "<nothing>/.vars", elem_0, "toccata.toc", 1180);

// type-unknown first
// #line 1180 "toccata.toc"
Value *rslt7 = proto1Arg(&first_Implementations_320, "<nothing>/first", rslt6, "toccata.toc", 1180);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7483;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)val9, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val10, (List *)dynArity8->closures);
Function *anon_7484 = malloc_function(1);
anon_7484->name = "anon";
anon_7484->arityCount = 1;
anon_7484->arities[0] = dynArity8;
Value *fn7482 = (Value *)anon_7484;

// type-unknown flat-map
// #line 1180 "toccata.toc"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt7, fn7482, "toccata.toc", 1180);

// static-fixed
// #line 1179 "toccata.toc"
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt2 = rslt12;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(val10, 1);

} else {
dec_and_free(orRslt1, 1);

// type-unknown zero
// #line 1179 "toccata.toc"
Value *rslt13 = proto1Arg(&zero_Implementations_235, "zero", val10, "toccata.toc", 1179);

// type-unknown zero
// #line 1179 "toccata.toc"
Value *rslt14 = proto1Arg(&zero_Implementations_235, "zero", rslt13, "toccata.toc", 1179);

// static-fixed
// #line 1179 "toccata.toc"
Value *rslt15 = maybe_4(empty_list, rslt14);
orRslt1 = rslt15;
}

// type-known for extract
// #line 1179 "toccata.toc"
Value *rslt16 = Maybe_extract_757(empty_list, orRslt1);
return(rslt16);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str572 = {StringType, -1, 8, 0, "destArgs"};
Value *strPtr572 = (Value *)&str572;

// --------- anon -------------
Value *fn7493;
Value *arityImpl7494(List *closures, Value *var_0) {
 while (1) {

// call-vector
// #line 1190 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, strPtr492);
newVect1 = mutateVectConj(newVect1, var_0);
newVect1 = mutateVectConj(newVect1, strPtr303);
newVect1 = mutateVectConj(newVect1, strPtr5);
Value *rslt2 = (Value *)newVect1;
return(rslt2);

};};
FnArity staticArity7495 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7494};
Function anon_7496 = {FunctionType, -1, "anon", 1, {&staticArity7495}};
Value *fn7493 = (Value *)&anon_7496;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str573 = {StringType, -1, 8, 0, "Value **"};
Value *strPtr573 = (Value *)&str573;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str574 = {StringType, -1, 5, 0, "] = {"};
Value *strPtr574 = (Value *)&str574;

// --------- anon -------------
Value *fn7492;
Value *arityImpl7497(List *closures, Value *arg_0) {
 while (1) {

// call-vector
// #line 1192 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, strPtr295);
newVect1 = mutateVectConj(newVect1, arg_0);
Value *rslt2 = (Value *)newVect1;
return(rslt2);

};};
FnArity staticArity7498 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7497};
Function anon_7499 = {FunctionType, -1, "anon", 1, {&staticArity7498}};
Value *fn7492 = (Value *)&anon_7499;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str575 = {StringType, -1, 2, 0, "};"};
Value *strPtr575 = (Value *)&str575;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str576 = {StringType, -1, 15, 0, "destructValue(\""};
Value *strPtr576 = (Value *)&str576;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str577 = {StringType, -1, 4, 0, "\", \""};
Value *strPtr577 = (Value *)&str577;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str578 = {StringType, -1, 12, 0, "\", (Value *)"};
Value *strPtr578 = (Value *)&str578;
Value *arityImpl7500(List *closures, Value *var_0) {
while (1) {

incRef(var_0, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs14);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1198 "toccata.toc"
Vector *newVect1 = empty_vect;
Value *rslt2 = (Value *)newVect1;

// call-vector
// #line 1198 "toccata.toc"
Vector *newVect3 = empty_vect;
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 1199 "toccata.toc"
Value *rslt6 = _EQ__557(empty_list, var_0, val5);

// dynamic unknown type
// #line 1199 "toccata.toc"
Value *rslt10;
if((rslt6)->type != FunctionType) {
rslt10 = invoke_370(empty_list, rslt6, ListType_5367, UnknownType_5361);
} else {
FnArity *arity7 = findFnArity(rslt6, 2);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType2 *fn9 = (FnType2 *)arity7->fn;
rslt10 = fn9(arity7->closures, ListType_5367, UnknownType_5361);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(UnknownType_5361, dynArgs8);
dynArgs8 = (List *)listCons(ListType_5367, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt6)->name);
  abort();
}
dec_and_free(rslt6, 1);
}

// static-variadic
// #line 1200 "toccata.toc"
List *varArgs11 = empty_list;
Value *rslt12 = hash_map_1208(empty_list, (Value *)varArgs11);

// call invoke
// #line 1198 "toccata.toc"
Value *rslt13 = c_init_invoke_6003(empty_list, reifiedPtr6006, var_0, rslt2, rslt4, rslt10, rslt12);
return(rslt13);

};};
Value *arityImpl7488(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val26;
Value *val32;
Value *val33;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs60[7] = {&val1, &val15, &val18, &val26, &val32, &val33, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs60);

incRef(val18, 2);

incRef(val26, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 3);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val26, 3);
dec_and_free(val33, 1);
dec_and_free(val32, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7489_13 = ss_10;
Value *destructArgs_14 = v_9;

incRef(destructArgs_14, 1);
Value *arg7490_16 = arg7489_13;
Value *__17 = val15;

// type-unknown flat-map
// #line 1185 "toccata.toc"
Value *rslt19 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", val18, dispatchFnPtr6425, "toccata.toc", 1185);
Value *elem_c_vars_20 = rslt19;

incRef(elem_c_vars_20, 3);

// type-unknown last
// #line 1186 "toccata.toc"
Value *rslt21 = proto1Arg(&last_Implementations_332, "<nothing>/last", elem_c_vars_20, "toccata.toc", 1186);

// type-unknown extract
// #line 1186 "toccata.toc"
Value *rslt22 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", rslt21, "toccata.toc", 1186);
Value *tail_var_23 = rslt22;

// type-unknown count
// #line 1187 "toccata.toc"
Value *rslt24 = proto1Arg(&count_Implementations_300, "<nothing>/count", val18, "toccata.toc", 1187);
Value *elem_count_25 = rslt24;

incRef(elem_count_25, 1);

// call-vector
// #line 1188 "toccata.toc"
Vector *newVect27 = empty_vect;
newVect27 = mutateVectConj(newVect27, val26);
Value *rslt28 = (Value *)newVect27;

// type-unknown map
// #line 1190 "toccata.toc"
Value *rslt29 = proto2Arg(&map_Implementations_254, "<nothing>/map", elem_c_vars_20, fn7493, "toccata.toc", 1190);

// type-unknown map
// #line 1192 "toccata.toc"
Value *rslt30 = proto2Arg(&map_Implementations_254, "<nothing>/map", elem_c_vars_20, fn7492, "toccata.toc", 1192);

// static-fixed
// #line 1192 "toccata.toc"
Value *rslt31 = interpose_503(empty_list, rslt30, strPtr17);

// call-vector
// #line 1190 "toccata.toc"
Vector *newVect34 = empty_vect;
newVect34 = mutateVectConj(newVect34, rslt29);
newVect34 = mutateVectConj(newVect34, strPtr573);
newVect34 = mutateVectConj(newVect34, destructArgs_14);
newVect34 = mutateVectConj(newVect34, strPtr21);
newVect34 = mutateVectConj(newVect34, elem_count_25);
newVect34 = mutateVectConj(newVect34, strPtr574);
newVect34 = mutateVectConj(newVect34, rslt31);
newVect34 = mutateVectConj(newVect34, strPtr575);
newVect34 = mutateVectConj(newVect34, strPtr5);
newVect34 = mutateVectConj(newVect34, strPtr576);
newVect34 = mutateVectConj(newVect34, val32);
newVect34 = mutateVectConj(newVect34, strPtr577);
newVect34 = mutateVectConj(newVect34, val33);
newVect34 = mutateVectConj(newVect34, strPtr578);
newVect34 = mutateVectConj(newVect34, val26);
newVect34 = mutateVectConj(newVect34, strPtr17);
newVect34 = mutateVectConj(newVect34, elem_count_25);
newVect34 = mutateVectConj(newVect34, strPtr17);
newVect34 = mutateVectConj(newVect34, destructArgs_14);
newVect34 = mutateVectConj(newVect34, strPtr442);
newVect34 = mutateVectConj(newVect34, strPtr5);
Value *rslt35 = (Value *)newVect34;

// call-vector
// #line 1196 "toccata.toc"
Vector *newVect36 = empty_vect;
Value *rslt37 = (Value *)newVect36;

// static-variadic
// #line 1196 "toccata.toc"
List *varArgs38 = empty_list;
varArgs38 = (List *)listCons((Value *)numPtr1, varArgs38);
varArgs38 = (List *)listCons((Value *)val26, varArgs38);
Value *rslt39 = hash_map_1208(empty_list, (Value *)varArgs38);

// call invoke
// #line 1189 "toccata.toc"
Value *rslt40 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt35, rslt37, UnknownType_5361, rslt39);

// call-vector
// #line 1189 "toccata.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, rslt40);
Value *rslt42 = (Value *)newVect41;
FnArity *dynArity43 = malloc_fnArity();
dynArity43->count = 1;
dynArity43->variadic = 0;
dynArity43->fn = arityImpl7500;
dynArity43->closures = empty_list;
dynArity43->closures = listCons((Value *)tail_var_23, (List *)dynArity43->closures);
Function *anon_7501 = malloc_function(1);
anon_7501->name = "anon";
anon_7501->arityCount = 1;
anon_7501->arities[0] = dynArity43;
Value *fn7491 = (Value *)anon_7501;

// type-unknown map
// #line 1197 "toccata.toc"
Value *rslt44 = proto2Arg(&map_Implementations_254, "<nothing>/map", elem_c_vars_20, fn7491, "toccata.toc", 1197);

// type-unknown flat-map
// #line 1201 "toccata.toc"
Value *rslt45 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", val18, dispatchFnPtr6424, "toccata.toc", 1201);

// call-list
// #line 1189 "toccata.toc"
List *newList46 = empty_list;
newList46 = listCons((Value *)rslt45, newList46);
newList46 = listCons((Value *)rslt44, newList46);
Value *rslt47 = (Value *)newList46;

// type-known for comp*
// #line 1189 "toccata.toc"
Value *rslt48 = Vector_comp_STAR__912(empty_list, rslt42, rslt47);

// call invoke
// #line 1188 "toccata.toc"
Value *rslt49 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt28, rslt48);
Value *v_50 = rslt49;
Value *arg7502_51 = arg7490_16;
Value *rslt52 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(invoke_fn_53, 1);

dec_and_free(tail_54, 1);
Value *s_56 = arg7502_51;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect57 = empty_vect;
newVect57 = mutateVectConj(newVect57, v_50);
newVect57 = mutateVectConj(newVect57, s_56);
Value *rslt58 = (Value *)newVect57;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt59 = maybe_4(empty_list, rslt58);
return(rslt59);
andRslt7 = rslt59;
}

};};
Value *unpack_arg_list_7479(List *closures, Value *list_sym_0, Value *elem_vars_1, Value *file_name_2, Value *line_num_3) {
 while (1) {

incRef(list_sym_0, 1);

incRef(elem_vars_1, 2);

// type-unknown first
// #line 1178 "toccata.toc"
Value *rslt4 = proto1Arg(&first_Implementations_320, "<nothing>/first", elem_vars_1, "toccata.toc", 1178);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl7481;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)wrapper_5, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)list_sym_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)elem_vars_1, (List *)dynArity6->closures);
Function *anon_7485 = malloc_function(1);
anon_7485->name = "anon";
anon_7485->arityCount = 1;
anon_7485->arities[0] = dynArity6;
Value *fn7480 = (Value *)anon_7485;

// type-unknown flat-map
// #line 1178 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_5, fn7480, "toccata.toc", 1178);

// static-fixed
// #line 1178 "toccata.toc"
Value *rslt8 = when_4087(empty_list, rslt7);

// static-fixed
// #line 1184 "toccata.toc"
Value *rslt9 = genlocal_6379(empty_list, strPtr572);
Value *wrapper_10 = rslt9;

incRef(wrapper_10, 1);
Value *ev_11 = wrapper_10;
Value *rslt12 = reified_type_args_22(empty_list, ev_11);
Value *invoke_fn_13;
Value *tail_14;
Value **destArgs15[2] = {&invoke_fn_13, &tail_14};
destructValue("", "0", (Value *)rslt12, 2, destArgs15);

dec_and_free(tail_14, 1);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl7488;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)line_num_3, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)file_name_2, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)list_sym_0, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)elem_vars_1, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)wrapper_10, (List *)dynArity16->closures);
dynArity16->closures = listCons((Value *)invoke_fn_13, (List *)dynArity16->closures);
Function *anon_7503 = malloc_function(1);
anon_7503->name = "anon";
anon_7503->arityCount = 1;
anon_7503->arities[0] = dynArity16;
Value *fn7487 = (Value *)anon_7503;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt17 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7487);

// call-list
// #line 1178 "toccata.toc"
List *newList18 = empty_list;
newList18 = listCons((Value *)rslt17, newList18);
Value *rslt19 = (Value *)newList18;

// type-known for comp*
// #line 1178 "toccata.toc"
Value *rslt20 = new_sm_comp_STAR__2805(empty_list, rslt8, rslt19);
return(rslt20);

};};
FnArity unpack_arg_list_7504 = {FnArityType, -1, 4, (List *)0, 0, unpack_arg_list_7479};
Function unpack_arg_list_7505 = {FunctionType, -1, "unpack-arg-list", 1, {&unpack_arg_list_7504}};
Value *unpack_arg_list_7478 = (Value *)&unpack_arg_list_7505;


// proto fn for AllSyms/all-symbols
Value *all_symbols_7506;
ProtoImpls all_symbols_Implementations_7508;
Value *all_symbols_7507(List *closures, Value *arg0);
Value *Default_all_symbols_7509(List *closures, Value *ast_0) {
 while (1) {

// call-list
// #line 1205 "toccata.toc"
List *newList1 = empty_list;
newList1 = listCons((Value *)ast_0, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity Default_all_symbols_7510 = {FnArityType, -1, 1, (List *)0, 0, Default_all_symbols_7509};
Value *all_symbols_7511(List *closures, Value *params_0) {
 while (1) {

incRef(params_0, 1);

// type-known for .fixed
// #line 1210 "toccata.toc"
Value *rslt1 = params_ast_fixed_2347(empty_list, params_0);

// type-unknown flat-map
// #line 1210 "toccata.toc"
Value *rslt2 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt1, all_symbols_7506, "toccata.toc", 1210);

// type-known for .variadic
// #line 1211 "toccata.toc"
Value *rslt4 = params_ast_variadic_2351(empty_list, params_0);

// type-unknown map
// #line 1211 "toccata.toc"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, all_symbols_7506, "toccata.toc", 1211);
Value *eitherRslt3;
if (!isNothing(rslt5)) {
eitherRslt3 = maybeExtract(rslt5);
} else {
dec_and_free(rslt5, 1);
eitherRslt3 = empty_list_0;
}

// call-list
// #line 1210 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)eitherRslt3, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown comp*
// #line 1210 "toccata.toc"
Value *rslt8 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt2, rslt7, "toccata.toc", 1210);
return(rslt8);

};};
FnArity all_symbols_7512 = {FnArityType, -1, 1, (List *)0, 0, all_symbols_7511};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str579 = {StringType, -1, 5, 0, "#tail"};
Value *strPtr579 = (Value *)&str579;
Value *arityImpl7524(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val18;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs56[6] = {&val1, &val15, &val16, &val18, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs56);

incRef(val18, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 2);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val43, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7525_13 = ss_10;
Value *param_var_14 = v_9;
Value *arg7526_22 = arg7525_13;

// type-unknown conj
// #line 1221 "toccata.toc"
Value *rslt17 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val15, val16, "toccata.toc", 1221);

// type-known for ast/file-name
// #line 1222 "toccata.toc"
Value *rslt19 = params_ast_file_name_2359(empty_list, val18);

// type-known for ast/line-number
// #line 1223 "toccata.toc"
Value *rslt20 = params_ast_line_number_2361(empty_list, val18);

// static-fixed
// #line 1221 "toccata.toc"
Value *rslt21 = unpack_arg_list_7479(empty_list, param_var_14, rslt17, rslt19, rslt20);
Value *ev_23 = rslt21;
Value *arg7527_24 = arg7526_22;
Value *rslt25 = reified_type_args_22(empty_list, ev_23);
Value *invoke_fn_26;
Value *tail_27;
Value **destArgs28[2] = {&invoke_fn_26, &tail_27};
destructValue("", "0", (Value *)rslt25, 2, destArgs28);

dec_and_free(tail_27, 1);
Value *s_29 = arg7527_24;
Value *rslt33;
if((invoke_fn_26)->type != FunctionType) {
rslt33 = invoke_368(empty_list, invoke_fn_26, s_29);
} else {
FnArity *arity30 = findFnArity(invoke_fn_26, 1);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
rslt33 = fn32(arity30->closures, s_29);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
dynArgs31 = (List *)listCons(s_29, dynArgs31);
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_26)->name);
  abort();
}
dec_and_free(invoke_fn_26, 1);
}
Value *x_34 = rslt33;

incRef(x_34, 1);
Value *andRslt35;
andRslt35 = x_34;
if (isNothing(andRslt35)) {
dec_and_free(val43, 1);
dec_and_free(x_34, 1);
} else {
dec_and_free(andRslt35, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_34, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_37;
Value *ss_38;
Value *tail_39;
Value **destArgs40[3] = {&v_37, &ss_38, &tail_39};
destructValue("", "0", (Value *)rslt36, 3, destArgs40);

dec_and_free(tail_39, 1);
Value *arg7528_41 = ss_38;
Value *destruct_42 = v_37;
Value *arg7529_44 = arg7528_41;
Value *__45 = val43;
Value *v_46 = destruct_42;
Value *arg7530_47 = arg7529_44;
Value *rslt48 = reified_type_args_22(empty_list, __45);
Value *invoke_fn_49;
Value *tail_50;
Value **destArgs51[2] = {&invoke_fn_49, &tail_50};
destructValue("", "0", (Value *)rslt48, 2, destArgs51);

dec_and_free(invoke_fn_49, 1);

dec_and_free(tail_50, 1);
Value *s_52 = arg7530_47;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect53 = empty_vect;
newVect53 = mutateVectConj(newVect53, v_46);
newVect53 = mutateVectConj(newVect53, s_52);
Value *rslt54 = (Value *)newVect53;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = maybe_4(empty_list, rslt54);
andRslt35 = rslt55;
}
return(andRslt35);
andRslt7 = andRslt35;
}

};};
Value *arityImpl7521(List *closures, Value *tail_var_0) {
while (1) {
Value *val8;
Value *val9;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[4] = {&val8, &val9, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs12);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1220 "toccata.toc"
Value *rslt1 = genlocal_6379(empty_list, strPtr293);
Value *ev_2 = rslt1;
Value *rslt3 = reified_type_args_22(empty_list, ev_2);
Value *invoke_fn_4;
Value *tail_5;
Value **destArgs6[2] = {&invoke_fn_4, &tail_5};
destructValue("", "0", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl7524;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val9, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)tail_var_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val10, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)invoke_fn_4, (List *)dynArity7->closures);
Function *anon_7531 = malloc_function(1);
anon_7531->name = "anon";
anon_7531->arityCount = 1;
anon_7531->arities[0] = dynArity7;
Value *fn7523 = (Value *)anon_7531;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7523);
return(rslt11);

};};
Value *arityImpl7519(List *closures, Value *fixed_vars_0) {
while (1) {
Value *val1;
Value *val4;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[4] = {&val1, &val4, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs7);

dec_and_free(closuresTail, 1);

// type-unknown bind
// #line 1219 "toccata.toc"
Value *rslt2 = proto1Arg(&bind_Implementations_5818, "<nothing>/bind", val1, "toccata.toc", 1219);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7521;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)fixed_vars_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
Function *anon_7532 = malloc_function(1);
anon_7532->name = "anon";
anon_7532->arityCount = 1;
anon_7532->arities[0] = dynArity3;
Value *fn7520 = (Value *)anon_7532;

// type-unknown flat-map
// #line 1219 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn7520, "toccata.toc", 1219);
return(rslt6);

};};
Value *arityImpl7516(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[4] = {&val1, &val15, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs26);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7517_13 = ss_10;
Value *tail_14 = v_9;

// type-known for .fixed
// #line 1218 "toccata.toc"
Value *rslt16 = params_ast_fixed_2347(empty_list, val15);

// static-fixed
// #line 1218 "toccata.toc"
Value *rslt17 = traverse_6470(empty_list, rslt16, bind_5816);

// type-unknown map
// #line 1218 "toccata.toc"
Value *rslt18 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt17, vec_324, "toccata.toc", 1218);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl7519;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val15, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)tail_14, (List *)dynArity19->closures);
Function *anon_7533 = malloc_function(1);
anon_7533->name = "anon";
anon_7533->arityCount = 1;
anon_7533->arities[0] = dynArity19;
Value *fn7518 = (Value *)anon_7533;

// type-unknown flat-map
// #line 1218 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn7518, "toccata.toc", 1218);

// dynamic unknown type
// #line 1218 "toccata.toc"
Value *rslt25;
if((rslt21)->type != FunctionType) {
rslt25 = invoke_368(empty_list, rslt21, arg7517_13);
} else {
FnArity *arity22 = findFnArity(rslt21, 1);
if(arity22 != (FnArity *)0 && !arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
rslt25 = fn24(arity22->closures, arg7517_13);
} else if(arity22 != (FnArity *)0 && arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
List *dynArgs23 = empty_list;
dynArgs23 = (List *)listCons(arg7517_13, dynArgs23);
rslt25 = fn24(arity22->closures, (Value *)dynArgs23);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt21)->name);
  abort();
}
dec_and_free(rslt21, 1);
}
return(rslt25);
andRslt7 = rslt25;
}

};};
Value *bind_7513(List *closures, Value *params_0) {
 while (1) {

incRef(params_0, 1);
Value *orRslt1;

// type-known for .variadic
// #line 1216 "toccata.toc"
Value *rslt2 = params_ast_variadic_2351(empty_list, params_0);
orRslt1 = rslt2;
if (!isNothing(orRslt1)) {

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 1217 "toccata.toc"
Value *rslt3 = symbol_220(empty_list, strPtr579);

// static-fixed
// #line 1217 "toccata.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
orRslt1 = rslt4;
}

// static-fixed
// #line 1216 "toccata.toc"
Value *rslt5 = when_4087(empty_list, orRslt1);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl7516;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)params_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_7534 = malloc_function(1);
anon_7534->name = "anon";
anon_7534->arityCount = 1;
anon_7534->arities[0] = dynArity12;
Value *fn7515 = (Value *)anon_7534;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7515);
return(rslt13);

};};
FnArity bind_7535 = {FnArityType, -1, 1, (List *)0, 0, bind_7513};
Value *arityImpl7547(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val53;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs70[4] = {&val1, &val17, &val53, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs70);

incRef(val17, 3);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val53, 1);
dec_and_free(x_6, 1);
dec_and_free(val17, 4);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7548_13 = ss_10;
Value *destruct_14 = v_9;

incRef(destruct_14, 2);
Value *arg7549_32 = arg7548_13;
Value *orRslt15;
Value *andRslt16;

// type-unknown .init
// #line 1233 "toccata.toc"
Value *rslt18 = proto1Arg(&protoImpls5595, "<nothing>/.init", val17, "toccata.toc", 1233);

// type-unknown empty?
// #line 1233 "toccata.toc"
Value *rslt19 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt18, "toccata.toc", 1233);
andRslt16 = rslt19;
if (isNothing(andRslt16)) {
dec_and_free(val17, 1);
dec_and_free(destruct_14, 1);
} else {
dec_and_free(andRslt16, 1);

// type-unknown .decl
// #line 1234 "toccata.toc"
Value *rslt20 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val17, "toccata.toc", 1234);

// type-unknown empty?
// #line 1234 "toccata.toc"
Value *rslt21 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt20, "toccata.toc", 1234);
andRslt16 = rslt21;
if (isNothing(andRslt16)) {
dec_and_free(destruct_14, 1);
} else {
dec_and_free(andRslt16, 1);

// static-fixed
// #line 1235 "toccata.toc"
Value *rslt22 = maybe_4(empty_list, destruct_14);
andRslt16 = rslt22;
}
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val17, 1);
dec_and_free(destruct_14, 2);

} else {
dec_and_free(orRslt15, 1);

// call-vector
// #line 1237 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, val17);
Value *rslt24 = (Value *)newVect23;

// type-unknown .destruct
// #line 1237 "toccata.toc"
Value *rslt25 = proto1Arg(&protoImpls6431, "<nothing>/.destruct", destruct_14, "toccata.toc", 1237);

// call-list
// #line 1237 "toccata.toc"
List *newList26 = empty_list;
newList26 = listCons((Value *)rslt25, newList26);
Value *rslt27 = (Value *)newList26;

// type-known for comp*
// #line 1237 "toccata.toc"
Value *rslt28 = Vector_comp_STAR__912(empty_list, rslt24, rslt27);

// type-unknown .destruct
// #line 1236 "toccata.toc"
Value *rslt29 = proto2Arg(&protoImpls6433, "<nothing>/.destruct", destruct_14, rslt28, "toccata.toc", 1236);

// static-fixed
// #line 1236 "toccata.toc"
Value *rslt30 = maybe_4(empty_list, rslt29);
orRslt15 = rslt30;
}

// static-fixed
// #line 1233 "toccata.toc"
Value *rslt31 = when_4087(empty_list, orRslt15);
Value *ev_33 = rslt31;
Value *arg7550_34 = arg7549_32;
Value *rslt35 = reified_type_args_22(empty_list, ev_33);
Value *invoke_fn_36;
Value *tail_37;
Value **destArgs38[2] = {&invoke_fn_36, &tail_37};
destructValue("", "0", (Value *)rslt35, 2, destArgs38);

dec_and_free(tail_37, 1);
Value *s_39 = arg7550_34;
Value *rslt43;
if((invoke_fn_36)->type != FunctionType) {
rslt43 = invoke_368(empty_list, invoke_fn_36, s_39);
} else {
FnArity *arity40 = findFnArity(invoke_fn_36, 1);
if(arity40 != (FnArity *)0 && !arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
rslt43 = fn42(arity40->closures, s_39);
} else if(arity40 != (FnArity *)0 && arity40->variadic) {
FnType1 *fn42 = (FnType1 *)arity40->fn;
List *dynArgs41 = empty_list;
dynArgs41 = (List *)listCons(s_39, dynArgs41);
rslt43 = fn42(arity40->closures, (Value *)dynArgs41);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_36)->name);
  abort();
}
dec_and_free(invoke_fn_36, 1);
}
Value *x_44 = rslt43;

incRef(x_44, 1);
Value *andRslt45;
andRslt45 = x_44;
if (isNothing(andRslt45)) {
dec_and_free(val53, 1);
dec_and_free(val17, 1);
dec_and_free(x_44, 1);
} else {
dec_and_free(andRslt45, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt46 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_44, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_47;
Value *ss_48;
Value *tail_49;
Value **destArgs50[3] = {&v_47, &ss_48, &tail_49};
destructValue("", "0", (Value *)rslt46, 3, destArgs50);

dec_and_free(tail_49, 1);
Value *arg7551_51 = ss_48;
Value *destruct_52 = v_47;
Value *arg7552_54 = arg7551_51;
Value *__55 = val53;

// type-unknown .c-var
// #line 1238 "toccata.toc"
Value *rslt56 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val17, "toccata.toc", 1238);

// call-vector
// #line 1238 "toccata.toc"
Vector *newVect57 = empty_vect;
newVect57 = mutateVectConj(newVect57, rslt56);
Value *rslt58 = (Value *)newVect57;

// type-unknown .vars
// #line 1238 "toccata.toc"
Value *rslt59 = proto2Arg(&protoImpls6429, "<nothing>/.vars", destruct_52, rslt58, "toccata.toc", 1238);
Value *v_60 = rslt59;
Value *arg7553_61 = arg7552_54;
Value *rslt62 = reified_type_args_22(empty_list, __55);
Value *invoke_fn_63;
Value *tail_64;
Value **destArgs65[2] = {&invoke_fn_63, &tail_64};
destructValue("", "0", (Value *)rslt62, 2, destArgs65);

dec_and_free(invoke_fn_63, 1);

dec_and_free(tail_64, 1);
Value *s_66 = arg7553_61;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect67 = empty_vect;
newVect67 = mutateVectConj(newVect67, v_60);
newVect67 = mutateVectConj(newVect67, s_66);
Value *rslt68 = (Value *)newVect67;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt69 = maybe_4(empty_list, rslt68);
andRslt45 = rslt69;
}
return(andRslt45);
andRslt7 = andRslt45;
}

};};
Value *arityImpl7544(List *closures, Value *tail_var_0) {
while (1) {
Value *val1;
Value *val3;
Value *val5;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[5] = {&val1, &val3, &val5, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs17);

incRef(val1, 1);

incRef(val5, 1);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 1231 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val1, "toccata.toc", 1231);

// type-unknown conj
// #line 1231 "toccata.toc"
Value *rslt4 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val3, tail_var_0, "toccata.toc", 1231);

// type-known for ast/file-name
// #line 1232 "toccata.toc"
Value *rslt6 = params_ast_file_name_2359(empty_list, val5);

// type-known for ast/line-number
// #line 1232 "toccata.toc"
Value *rslt7 = params_ast_line_number_2361(empty_list, val5);

// static-fixed
// #line 1231 "toccata.toc"
Value *rslt8 = unpack_arg_list_7479(empty_list, rslt2, rslt4, rslt6, rslt7);
Value *ev_9 = rslt8;
Value *rslt10 = reified_type_args_22(empty_list, ev_9);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl7547;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)val15, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)val1, (List *)dynArity14->closures);
dynArity14->closures = listCons((Value *)invoke_fn_11, (List *)dynArity14->closures);
Function *anon_7554 = malloc_function(1);
anon_7554->name = "anon";
anon_7554->arityCount = 1;
anon_7554->arities[0] = dynArity14;
Value *fn7546 = (Value *)anon_7554;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7546);
return(rslt16);

};};
Value *arityImpl7542(List *closures, Value *fixed_vars_0) {
while (1) {
Value *val1;
Value *val4;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[5] = {&val1, &val4, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs8);

dec_and_free(closuresTail, 1);

// type-unknown bind
// #line 1230 "toccata.toc"
Value *rslt2 = proto1Arg(&bind_Implementations_5818, "<nothing>/bind", val1, "toccata.toc", 1230);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7544;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)fixed_vars_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val6, (List *)dynArity3->closures);
Function *anon_7555 = malloc_function(1);
anon_7555->name = "anon";
anon_7555->arityCount = 1;
anon_7555->arities[0] = dynArity3;
Value *fn7543 = (Value *)anon_7555;

// type-unknown flat-map
// #line 1230 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn7543, "toccata.toc", 1230);
return(rslt7);

};};
Value *arityImpl7539(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val20;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[5] = {&val1, &val15, &val20, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs27);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 2);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7540_13 = ss_10;
Value *tail_14 = v_9;

// type-known for .fixed
// #line 1229 "toccata.toc"
Value *rslt16 = params_ast_fixed_2347(empty_list, val15);

// static-fixed
// #line 1229 "toccata.toc"
Value *rslt17 = traverse_6470(empty_list, rslt16, bind_5816);

// type-unknown map
// #line 1229 "toccata.toc"
Value *rslt18 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt17, vec_324, "toccata.toc", 1229);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl7542;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val15, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val21, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)tail_14, (List *)dynArity19->closures);
Function *anon_7556 = malloc_function(1);
anon_7556->name = "anon";
anon_7556->arityCount = 1;
anon_7556->arities[0] = dynArity19;
Value *fn7541 = (Value *)anon_7556;

// type-unknown flat-map
// #line 1229 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn7541, "toccata.toc", 1229);

// dynamic unknown type
// #line 1229 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg7540_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg7540_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg7540_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *bind_7536(List *closures, Value *params_0, Value *evalled_1) {
 while (1) {

incRef(params_0, 1);
Value *orRslt2;

// type-known for .variadic
// #line 1227 "toccata.toc"
Value *rslt3 = params_ast_variadic_2351(empty_list, params_0);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {

} else {
dec_and_free(orRslt2, 1);

// static-fixed
// #line 1228 "toccata.toc"
Value *rslt4 = symbol_220(empty_list, strPtr579);

// static-fixed
// #line 1228 "toccata.toc"
Value *rslt5 = maybe_4(empty_list, rslt4);
orRslt2 = rslt5;
}

// static-fixed
// #line 1227 "toccata.toc"
Value *rslt6 = when_4087(empty_list, orRslt2);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl7539;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)evalled_1, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)params_0, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_7557 = malloc_function(1);
anon_7557->name = "anon";
anon_7557->arityCount = 1;
anon_7557->arities[0] = dynArity13;
Value *fn7538 = (Value *)anon_7557;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7538);
return(rslt14);

};};
FnArity bind_7558 = {FnArityType, -1, 2, (List *)0, 0, bind_7536};
Value *arityImpl7561(List *closures, Value *param_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1242 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", param_0, val1, "toccata.toc", 1242);
return(rslt2);

};};
Value *arityImpl7564(List *closures, Value *v_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1244 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", v_0, val1, "toccata.toc", 1244);
return(rslt2);

};};
Value *replace_bound_vars_7559(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);

// type-known for .fixed
// #line 1241 "toccata.toc"
Value *rslt2 = params_ast_fixed_2347(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7561;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_7562 = malloc_function(1);
anon_7562->name = "anon";
anon_7562->arityCount = 1;
anon_7562->arities[0] = dynArity3;
Value *fn7560 = (Value *)anon_7562;

// type-unknown map
// #line 1241 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn7560, "toccata.toc", 1241);
Value *new_fixed_5 = rslt4;

// type-known for .variadic
// #line 1243 "toccata.toc"
Value *rslt6 = params_ast_variadic_2351(empty_list, ast_0);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl7564;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)subs_1, (List *)dynArity7->closures);
Function *anon_7565 = malloc_function(1);
anon_7565->name = "anon";
anon_7565->arityCount = 1;
anon_7565->arities[0] = dynArity7;
Value *fn7563 = (Value *)anon_7565;

// type-unknown map
// #line 1243 "toccata.toc"
Value *rslt8 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt6, fn7563, "toccata.toc", 1243);

// call invoke
// #line 1243 "toccata.toc"
Value *rslt9 = params_ast_invoke_2333(empty_list, reifiedPtr2336, new_fixed_5, rslt8);
return(rslt9);

};};
FnArity replace_bound_vars_7566 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_7559};
Value *emit_7567(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);

// type-known for .val
// #line 1250 "toccata.toc"
Value *rslt1 = binding_ast_val_3295(empty_list, ast_0);

// type-unknown emit
// #line 1250 "toccata.toc"
Value *rslt2 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt1, "toccata.toc", 1250);

// type-known for .binding
// #line 1251 "toccata.toc"
Value *rslt3 = binding_ast_binding_3291(empty_list, ast_0);

// static-variadic
// #line 1251 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)bind_5816, varArgs4);
Value *rslt5 = partial_969(empty_list, (Value *)varArgs4);

// type-unknown flat-map
// #line 1250 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt2, rslt5, "toccata.toc", 1250);
return(rslt6);

};};
FnArity emit_7568 = {FnArityType, -1, 1, (List *)0, 0, emit_7567};
Value *arityImpl7580(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs42[5] = {&val1, &val15, &val18, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs42);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7581_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7582_16 = arg7581_13;
Value *__17 = val15;

// type-unknown flat-map
// #line 1260 "toccata.toc"
Value *rslt19 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", val18, dispatchFnPtr6424, "toccata.toc", 1260);

// call-list
// #line 1260 "toccata.toc"
List *newList21 = empty_list;
newList21 = listCons((Value *)val20, newList21);
Value *rslt22 = (Value *)newList21;

// type-unknown comp*
// #line 1260 "toccata.toc"
Value *rslt23 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt19, rslt22, "toccata.toc", 1260);

// static-fixed
// #line 1260 "toccata.toc"
Value *rslt24 = collapse_expressions_6058(empty_list, rslt23);
Value *code_25 = rslt24;

incRef(code_25, 4);

// type-unknown .c-var
// #line 1261 "toccata.toc"
Value *rslt26 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", code_25, "toccata.toc", 1261);

// type-unknown .init
// #line 1261 "toccata.toc"
Value *rslt27 = proto1Arg(&protoImpls5595, "<nothing>/.init", code_25, "toccata.toc", 1261);

// type-unknown .decl
// #line 1261 "toccata.toc"
Value *rslt28 = proto1Arg(&protoImpls5871, "<nothing>/.decl", code_25, "toccata.toc", 1261);

// type-unknown .type-num
// #line 1261 "toccata.toc"
Value *rslt29 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", code_25, "toccata.toc", 1261);

// type-unknown .refs-map
// #line 1261 "toccata.toc"
Value *rslt30 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", code_25, "toccata.toc", 1261);

// call invoke
// #line 1261 "toccata.toc"
Value *rslt31 = c_init_invoke_6003(empty_list, reifiedPtr6006, rslt26, rslt27, rslt28, rslt29, rslt30);
Value *v_32 = rslt31;
Value *arg7583_33 = arg7582_16;
Value *rslt34 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_35;
Value *tail_36;
Value **destArgs37[2] = {&invoke_fn_35, &tail_36};
destructValue("", "0", (Value *)rslt34, 2, destArgs37);

dec_and_free(invoke_fn_35, 1);

dec_and_free(tail_36, 1);
Value *s_38 = arg7583_33;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect39 = empty_vect;
newVect39 = mutateVectConj(newVect39, v_32);
newVect39 = mutateVectConj(newVect39, s_38);
Value *rslt40 = (Value *)newVect39;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt41 = maybe_4(empty_list, rslt40);
return(rslt41);
andRslt7 = rslt41;
}

};};
Value *arityImpl7577(List *closures, Value *body_exprs_0) {
while (1) {
Value *val3;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[4] = {&val3, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs14);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1259 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5469);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5721);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 1259 "toccata.toc"
Value *rslt4 = assoc_in_val_3599(empty_list, rslt2, val3);
Value *ev_5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl7580;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)body_exprs_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)val11, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)val12, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_7584 = malloc_function(1);
anon_7584->name = "anon";
anon_7584->arityCount = 1;
anon_7584->arities[0] = dynArity10;
Value *fn7579 = (Value *)anon_7584;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7579);
return(rslt13);

};};
Value *arityImpl7575(List *closures, Value *bindings_0) {
while (1) {
Value *val1;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[4] = {&val1, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs8);

dec_and_free(closuresTail, 1);

// type-known for .body
// #line 1258 "toccata.toc"
Value *rslt2 = let_ast_body_3403(empty_list, val1);

// type-unknown emit
// #line 1258 "toccata.toc"
Value *rslt3 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt2, "toccata.toc", 1258);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl7577;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)val5, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)bindings_0, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)val6, (List *)dynArity4->closures);
Function *anon_7585 = malloc_function(1);
anon_7585->name = "anon";
anon_7585->arityCount = 1;
anon_7585->arities[0] = dynArity4;
Value *fn7576 = (Value *)anon_7585;

// type-unknown flat-map
// #line 1258 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt3, fn7576, "toccata.toc", 1258);
return(rslt7);

};};
Value *arityImpl7572(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val1, &val15, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7573_13 = ss_10;
Value *locals_14 = v_9;

// type-known for .bindings
// #line 1257 "toccata.toc"
Value *rslt16 = let_ast_bindings_3399(empty_list, val15);

// type-unknown emit
// #line 1257 "toccata.toc"
Value *rslt17 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt16, "toccata.toc", 1257);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7575;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)locals_14, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val15, (List *)dynArity18->closures);
Function *anon_7586 = malloc_function(1);
anon_7586->name = "anon";
anon_7586->arityCount = 1;
anon_7586->arities[0] = dynArity18;
Value *fn7574 = (Value *)anon_7586;

// type-unknown flat-map
// #line 1257 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn7574, "toccata.toc", 1257);

// dynamic unknown type
// #line 1257 "toccata.toc"
Value *rslt24;
if((rslt20)->type != FunctionType) {
rslt24 = invoke_368(empty_list, rslt20, arg7573_13);
} else {
FnArity *arity21 = findFnArity(rslt20, 1);
if(arity21 != (FnArity *)0 && !arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
rslt24 = fn23(arity21->closures, arg7573_13);
} else if(arity21 != (FnArity *)0 && arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
List *dynArgs22 = empty_list;
dynArgs22 = (List *)listCons(arg7573_13, dynArgs22);
rslt24 = fn23(arity21->closures, (Value *)dynArgs22);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt20)->name);
  abort();
}
dec_and_free(rslt20, 1);
}
return(rslt24);
andRslt7 = rslt24;
}

};};
Value *emit_7569(List *closures, Value *ast_0) {
 while (1) {

// call-vector
// #line 1256 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5469);
newVect1 = mutateVectConj(newVect1, dispatchFnPtr5721);
Value *rslt2 = (Value *)newVect1;

// static-fixed
// #line 1256 "toccata.toc"
Value *rslt3 = get_in_val_3549(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl7572;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)ast_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_7587 = malloc_function(1);
anon_7587->name = "anon";
anon_7587->arityCount = 1;
anon_7587->arities[0] = dynArity10;
Value *fn7571 = (Value *)anon_7587;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7571);
return(rslt11);

};};
FnArity emit_7588 = {FnArityType, -1, 1, (List *)0, 0, emit_7569};
Value *arityImpl7601(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .c-var
// #line 1267 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", v_9, "toccata.toc", 1267);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
Value *arityImpl7592(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val60;
Value *val170;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs195[5] = {&val1, &val37, &val60, &val170, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs195);

incRef(val60, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val170, 1);
dec_and_free(x_6, 1);
dec_and_free(val37, 1);
dec_and_free(val60, 3);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7593_13 = ss_10;
Value *init_fn_context_14 = v_9;
Value *arg7594_16 = arg7593_13;

// static-fixed
// #line 1265 "toccata.toc"
Value *rslt15 = reset_fn_context_5803(empty_list, init_fn_context_14);
Value *ev_17 = rslt15;
Value *arg7595_18 = arg7594_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7595_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val170, 1);
dec_and_free(val37, 1);
dec_and_free(x_28, 1);
dec_and_free(val60, 3);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7596_35 = ss_32;
Value *fn_context_36 = v_31;
Value *arg7597_39 = arg7596_35;

// type-known for emit
// #line 1266 "toccata.toc"
Value *rslt38 = emit_7569(empty_list, val37);
Value *ev_40 = rslt38;
Value *arg7598_41 = arg7597_39;
Value *rslt42 = reified_type_args_22(empty_list, ev_40);
Value *invoke_fn_43;
Value *tail_44;
Value **destArgs45[2] = {&invoke_fn_43, &tail_44};
destructValue("", "0", (Value *)rslt42, 2, destArgs45);

dec_and_free(tail_44, 1);
Value *s_46 = arg7598_41;
Value *rslt50;
if((invoke_fn_43)->type != FunctionType) {
rslt50 = invoke_368(empty_list, invoke_fn_43, s_46);
} else {
FnArity *arity47 = findFnArity(invoke_fn_43, 1);
if(arity47 != (FnArity *)0 && !arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
rslt50 = fn49(arity47->closures, s_46);
} else if(arity47 != (FnArity *)0 && arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
List *dynArgs48 = empty_list;
dynArgs48 = (List *)listCons(s_46, dynArgs48);
rslt50 = fn49(arity47->closures, (Value *)dynArgs48);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_43)->name);
  abort();
}
dec_and_free(invoke_fn_43, 1);
}
Value *x_51 = rslt50;

incRef(x_51, 1);
Value *andRslt52;
andRslt52 = x_51;
if (isNothing(andRslt52)) {
dec_and_free(val170, 1);
dec_and_free(fn_context_36, 1);
dec_and_free(x_51, 1);
dec_and_free(val60, 3);
} else {
dec_and_free(andRslt52, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_51, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_54;
Value *ss_55;
Value *tail_56;
Value **destArgs57[3] = {&v_54, &ss_55, &tail_56};
destructValue("", "0", (Value *)rslt53, 3, destArgs57);

dec_and_free(tail_56, 1);
Value *arg7599_58 = ss_55;
Value *value_59 = v_54;

incRef(value_59, 5);
Value *arg7603_73 = arg7599_58;

// static-fixed
// #line 1267 "toccata.toc"
Value *rslt61 = lookup_declaration_6542(empty_list, val60);
Value *__62 = rslt61;
Value *rslt63 = reified_type_args_22(empty_list, __62);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(tail_65, 1);
FnArity *dynArity67 = malloc_fnArity();
dynArity67->count = 1;
dynArity67->variadic = 0;
dynArity67->fn = arityImpl7601;
dynArity67->closures = empty_list;
dynArity67->closures = listCons((Value *)invoke_fn_64, (List *)dynArity67->closures);
Function *anon_7602 = malloc_function(1);
anon_7602->name = "anon";
anon_7602->arityCount = 1;
anon_7602->arities[0] = dynArity67;
Value *fn7600 = (Value *)anon_7602;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt68 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7600);

// static-fixed
// #line 1268 "toccata.toc"
Value *rslt69 = global_var_6497(empty_list, val60, strPtr531);

// call-list
// #line 1267 "toccata.toc"
List *newList70 = empty_list;
newList70 = listCons((Value *)rslt69, newList70);
Value *rslt71 = (Value *)newList70;

// type-known for comp*
// #line 1267 "toccata.toc"
Value *rslt72 = new_sm_comp_STAR__2805(empty_list, rslt68, rslt71);
Value *ev_74 = rslt72;
Value *arg7604_75 = arg7603_73;
Value *rslt76 = reified_type_args_22(empty_list, ev_74);
Value *invoke_fn_77;
Value *tail_78;
Value **destArgs79[2] = {&invoke_fn_77, &tail_78};
destructValue("", "0", (Value *)rslt76, 2, destArgs79);

dec_and_free(tail_78, 1);
Value *s_80 = arg7604_75;
Value *rslt84;
if((invoke_fn_77)->type != FunctionType) {
rslt84 = invoke_368(empty_list, invoke_fn_77, s_80);
} else {
FnArity *arity81 = findFnArity(invoke_fn_77, 1);
if(arity81 != (FnArity *)0 && !arity81->variadic) {
FnType1 *fn83 = (FnType1 *)arity81->fn;
rslt84 = fn83(arity81->closures, s_80);
} else if(arity81 != (FnArity *)0 && arity81->variadic) {
FnType1 *fn83 = (FnType1 *)arity81->fn;
List *dynArgs82 = empty_list;
dynArgs82 = (List *)listCons(s_80, dynArgs82);
rslt84 = fn83(arity81->closures, (Value *)dynArgs82);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_77)->name);
  abort();
}
dec_and_free(invoke_fn_77, 1);
}
Value *x_85 = rslt84;

incRef(x_85, 1);
Value *andRslt86;
andRslt86 = x_85;
if (isNothing(andRslt86)) {
dec_and_free(val170, 1);
dec_and_free(fn_context_36, 1);
dec_and_free(val60, 1);
dec_and_free(x_85, 1);
dec_and_free(value_59, 6);
} else {
dec_and_free(andRslt86, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt87 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_85, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_88;
Value *ss_89;
Value *tail_90;
Value **destArgs91[3] = {&v_88, &ss_89, &tail_90};
destructValue("", "0", (Value *)rslt87, 3, destArgs91);

dec_and_free(tail_90, 1);
Value *arg7605_92 = ss_89;
Value *var_93 = v_88;

incRef(var_93, 4);
Value *arg7606_95 = arg7605_92;

// static-fixed
// #line 1269 "toccata.toc"
Value *rslt94 = reset_fn_context_5803(empty_list, fn_context_36);
Value *ev_96 = rslt94;
Value *arg7607_97 = arg7606_95;
Value *rslt98 = reified_type_args_22(empty_list, ev_96);
Value *invoke_fn_99;
Value *tail_100;
Value **destArgs101[2] = {&invoke_fn_99, &tail_100};
destructValue("", "0", (Value *)rslt98, 2, destArgs101);

dec_and_free(tail_100, 1);
Value *s_102 = arg7607_97;
Value *rslt106;
if((invoke_fn_99)->type != FunctionType) {
rslt106 = invoke_368(empty_list, invoke_fn_99, s_102);
} else {
FnArity *arity103 = findFnArity(invoke_fn_99, 1);
if(arity103 != (FnArity *)0 && !arity103->variadic) {
FnType1 *fn105 = (FnType1 *)arity103->fn;
rslt106 = fn105(arity103->closures, s_102);
} else if(arity103 != (FnArity *)0 && arity103->variadic) {
FnType1 *fn105 = (FnType1 *)arity103->fn;
List *dynArgs104 = empty_list;
dynArgs104 = (List *)listCons(s_102, dynArgs104);
rslt106 = fn105(arity103->closures, (Value *)dynArgs104);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_99)->name);
  abort();
}
dec_and_free(invoke_fn_99, 1);
}
Value *x_107 = rslt106;

incRef(x_107, 1);
Value *andRslt108;
andRslt108 = x_107;
if (isNothing(andRslt108)) {
dec_and_free(x_107, 1);
dec_and_free(val170, 1);
dec_and_free(val60, 1);
dec_and_free(var_93, 5);
dec_and_free(value_59, 6);
} else {
dec_and_free(andRslt108, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt109 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_107, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_110;
Value *ss_111;
Value *tail_112;
Value **destArgs113[3] = {&v_110, &ss_111, &tail_112};
destructValue("", "0", (Value *)rslt109, 3, destArgs113);

dec_and_free(tail_112, 1);
Value *arg7608_114 = ss_111;
Value *init_fn_context_115 = v_110;
Value *arg7609_119 = arg7608_114;

// call-vector
// #line 1270 "toccata.toc"
Vector *newVect116 = empty_vect;
newVect116 = mutateVectConj(newVect116, dispatchFnPtr5587);
newVect116 = mutateVectConj(newVect116, dispatchFnPtr5469);
Value *rslt117 = (Value *)newVect116;

// static-fixed
// #line 1270 "toccata.toc"
Value *rslt118 = assoc_in_val_3599(empty_list, rslt117, init_fn_context_115);
Value *ev_120 = rslt118;
Value *arg7610_121 = arg7609_119;
Value *rslt122 = reified_type_args_22(empty_list, ev_120);
Value *invoke_fn_123;
Value *tail_124;
Value **destArgs125[2] = {&invoke_fn_123, &tail_124};
destructValue("", "0", (Value *)rslt122, 2, destArgs125);

dec_and_free(tail_124, 1);
Value *s_126 = arg7610_121;
Value *rslt130;
if((invoke_fn_123)->type != FunctionType) {
rslt130 = invoke_368(empty_list, invoke_fn_123, s_126);
} else {
FnArity *arity127 = findFnArity(invoke_fn_123, 1);
if(arity127 != (FnArity *)0 && !arity127->variadic) {
FnType1 *fn129 = (FnType1 *)arity127->fn;
rslt130 = fn129(arity127->closures, s_126);
} else if(arity127 != (FnArity *)0 && arity127->variadic) {
FnType1 *fn129 = (FnType1 *)arity127->fn;
List *dynArgs128 = empty_list;
dynArgs128 = (List *)listCons(s_126, dynArgs128);
rslt130 = fn129(arity127->closures, (Value *)dynArgs128);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_123)->name);
  abort();
}
dec_and_free(invoke_fn_123, 1);
}
Value *x_131 = rslt130;

incRef(x_131, 1);
Value *andRslt132;
andRslt132 = x_131;
if (isNothing(andRslt132)) {
dec_and_free(x_131, 1);
dec_and_free(val170, 1);
dec_and_free(val60, 1);
dec_and_free(var_93, 5);
dec_and_free(value_59, 6);
} else {
dec_and_free(andRslt132, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt133 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_131, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_134;
Value *ss_135;
Value *tail_136;
Value **destArgs137[3] = {&v_134, &ss_135, &tail_136};
destructValue("", "0", (Value *)rslt133, 3, destArgs137);

dec_and_free(tail_136, 1);
Value *arg7611_138 = ss_135;
Value *arg139 = v_134;

dec_and_free(arg139, 1);
Value *arg7612_149 = arg7611_138;

// call-vector
// #line 1271 "toccata.toc"
Vector *newVect140 = empty_vect;
Value *rslt141 = (Value *)newVect140;

// call-vector
// #line 1271 "toccata.toc"
Vector *newVect142 = empty_vect;
Value *rslt143 = (Value *)newVect142;

// type-unknown .type-num
// #line 1271 "toccata.toc"
Value *rslt144 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", value_59, "toccata.toc", 1271);

// static-variadic
// #line 1271 "toccata.toc"
List *varArgs145 = empty_list;
Value *rslt146 = hash_map_1208(empty_list, (Value *)varArgs145);

// call invoke
// #line 1271 "toccata.toc"
Value *rslt147 = c_code_invoke_5942(empty_list, reifiedPtr5945, var_93, rslt141, rslt143, rslt144, rslt146);

// static-fixed
// #line 1271 "toccata.toc"
Value *rslt148 = new_module_def_6527(empty_list, val60, rslt147);
Value *ev_150 = rslt148;
Value *arg7613_151 = arg7612_149;
Value *rslt152 = reified_type_args_22(empty_list, ev_150);
Value *invoke_fn_153;
Value *tail_154;
Value **destArgs155[2] = {&invoke_fn_153, &tail_154};
destructValue("", "0", (Value *)rslt152, 2, destArgs155);

dec_and_free(tail_154, 1);
Value *s_156 = arg7613_151;
Value *rslt160;
if((invoke_fn_153)->type != FunctionType) {
rslt160 = invoke_368(empty_list, invoke_fn_153, s_156);
} else {
FnArity *arity157 = findFnArity(invoke_fn_153, 1);
if(arity157 != (FnArity *)0 && !arity157->variadic) {
FnType1 *fn159 = (FnType1 *)arity157->fn;
rslt160 = fn159(arity157->closures, s_156);
} else if(arity157 != (FnArity *)0 && arity157->variadic) {
FnType1 *fn159 = (FnType1 *)arity157->fn;
List *dynArgs158 = empty_list;
dynArgs158 = (List *)listCons(s_156, dynArgs158);
rslt160 = fn159(arity157->closures, (Value *)dynArgs158);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_153)->name);
  abort();
}
dec_and_free(invoke_fn_153, 1);
}
Value *x_161 = rslt160;

incRef(x_161, 1);
Value *andRslt162;
andRslt162 = x_161;
if (isNothing(andRslt162)) {
dec_and_free(val170, 1);
dec_and_free(x_161, 1);
dec_and_free(var_93, 4);
dec_and_free(value_59, 5);
} else {
dec_and_free(andRslt162, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt163 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_161, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_164;
Value *ss_165;
Value *tail_166;
Value **destArgs167[3] = {&v_164, &ss_165, &tail_166};
destructValue("", "0", (Value *)rslt163, 3, destArgs167);

dec_and_free(tail_166, 1);
Value *arg7614_168 = ss_165;
Value *arg169 = v_164;

dec_and_free(arg169, 1);
Value *arg7615_171 = arg7614_168;
Value *__172 = val170;

// type-unknown .init
// #line 1272 "toccata.toc"
Value *rslt173 = proto1Arg(&protoImpls5595, "<nothing>/.init", value_59, "toccata.toc", 1272);

// type-unknown .c-var
// #line 1273 "toccata.toc"
Value *rslt174 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_59, "toccata.toc", 1273);

// call-vector
// #line 1272 "toccata.toc"
Vector *newVect175 = empty_vect;
newVect175 = mutateVectConj(newVect175, rslt173);
newVect175 = mutateVectConj(newVect175, var_93);
newVect175 = mutateVectConj(newVect175, strPtr500);
newVect175 = mutateVectConj(newVect175, rslt174);
newVect175 = mutateVectConj(newVect175, strPtr303);
newVect175 = mutateVectConj(newVect175, strPtr5);
newVect175 = mutateVectConj(newVect175, var_93);
newVect175 = mutateVectConj(newVect175, strPtr571);
newVect175 = mutateVectConj(newVect175, strPtr5);
Value *rslt176 = (Value *)newVect175;

// type-unknown .decl
// #line 1275 "toccata.toc"
Value *rslt177 = proto1Arg(&protoImpls5871, "<nothing>/.decl", value_59, "toccata.toc", 1275);

// call-vector
// #line 1275 "toccata.toc"
Vector *newVect178 = empty_vect;
newVect178 = mutateVectConj(newVect178, rslt177);
newVect178 = mutateVectConj(newVect178, strPtr492);
newVect178 = mutateVectConj(newVect178, var_93);
newVect178 = mutateVectConj(newVect178, strPtr494);
Value *rslt179 = (Value *)newVect178;

// type-unknown .type-num
// #line 1276 "toccata.toc"
Value *rslt180 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", value_59, "toccata.toc", 1276);

// type-unknown .refs-map
// #line 1276 "toccata.toc"
Value *rslt181 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", value_59, "toccata.toc", 1276);

// call invoke
// #line 1272 "toccata.toc"
Value *rslt182 = c_init_invoke_6003(empty_list, reifiedPtr6006, var_93, rslt176, rslt179, rslt180, rslt181);

// call-vector
// #line 1272 "toccata.toc"
Vector *newVect183 = empty_vect;
newVect183 = mutateVectConj(newVect183, rslt182);
Value *rslt184 = (Value *)newVect183;
Value *v_185 = rslt184;
Value *arg7616_186 = arg7615_171;
Value *rslt187 = reified_type_args_22(empty_list, __172);
Value *invoke_fn_188;
Value *tail_189;
Value **destArgs190[2] = {&invoke_fn_188, &tail_189};
destructValue("", "0", (Value *)rslt187, 2, destArgs190);

dec_and_free(invoke_fn_188, 1);

dec_and_free(tail_189, 1);
Value *s_191 = arg7616_186;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect192 = empty_vect;
newVect192 = mutateVectConj(newVect192, v_185);
newVect192 = mutateVectConj(newVect192, s_191);
Value *rslt193 = (Value *)newVect192;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt194 = maybe_4(empty_list, rslt193);
andRslt162 = rslt194;
}
andRslt132 = andRslt162;
}
andRslt108 = andRslt132;
}
andRslt86 = andRslt108;
}
andRslt52 = andRslt86;
}
andRslt29 = andRslt52;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *emit_defined_value_7589(List *closures, Value *ast_0, Value *defined_sym_1) {
 while (1) {

// call-vector
// #line 1264 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5587);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 1264 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7592;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)defined_sym_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)ast_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7617 = malloc_function(1);
anon_7617->name = "anon";
anon_7617->arityCount = 1;
anon_7617->arities[0] = dynArity11;
Value *fn7591 = (Value *)anon_7617;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7591);
return(rslt12);

};};
FnArity emit_defined_value_7618 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_7589};
Value *tail_call_7619(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .body
// #line 1280 "toccata.toc"
Value *rslt2 = let_ast_body_3403(empty_list, ast_0);

// type-unknown tail-call
// #line 1281 "toccata.toc"
Value *rslt3 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", rslt2, params_1, "toccata.toc", 1281);

// type-known for .body
// #line 1279 "toccata.toc"
Value *rslt4 = let_ast_body_3401(empty_list, ast_0, rslt3);
return(rslt4);

};};
FnArity tail_call_7620 = {FnArityType, -1, 2, (List *)0, 0, tail_call_7619};

// --------- recur -------------
Value *recur_7623;
Value *arityImpl7634(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7632(List *closures, Value *new_bindings_0) {
while (1) {
Value *val1;
Value *val3;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[4] = {&val1, &val3, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs14);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// type-unknown .val
// #line 1290 "toccata.toc"
Value *rslt5 = proto2Arg(&protoImpls3270, "<nothing>/.val", val3, val4, "toccata.toc", 1290);

// type-unknown conj
// #line 1290 "toccata.toc"
Value *rslt6 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", new_bindings_0, rslt5, "toccata.toc", 1290);
Value *v_7 = rslt6;
Value *rslt8 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(invoke_fn_9, 1);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl7634;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)v_7, (List *)dynArity12->closures);
Function *anon_7635 = malloc_function(1);
anon_7635->name = "anon";
anon_7635->arityCount = 1;
anon_7635->arities[0] = dynArity12;
Value *fn7633 = (Value *)anon_7635;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7633);
return(rslt13);

};};
Value *arityImpl7630(List *closures, Value *new_val_0) {
while (1) {
Value *val1;
Value *val4;
Value *val7;
Value *val9;
Value *val10;
Value *val16;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs18[7] = {&val1, &val4, &val7, &val9, &val10, &val16, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs18);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown .binding
// #line 1287 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls3264, "<nothing>/.binding", val1, "toccata.toc", 1287);

// type-unknown all-symbols
// #line 1287 "toccata.toc"
Value *rslt3 = proto1Arg(&all_symbols_Implementations_7508, "<nothing>/all-symbols", rslt2, "toccata.toc", 1287);

// type-unknown reduce
// #line 1287 "toccata.toc"
Value *rslt5 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt3, val4, dissoc_1023, "toccata.toc", 1287);
Value *new_subs_6 = rslt5;

// type-unknown rest
// #line 1289 "toccata.toc"
Value *rslt8 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val7, "toccata.toc", 1289);
Value *rslt14;
FnArity *arity11 = findFnArity(val10, 3);
if(arity11 != (FnArity *)0 && !arity11->variadic) { FnType3 *fn13 = (FnType3 *)arity11->fn;


// dynamic fn type
// #line 1289 "toccata.toc"
rslt14 = fn13(arity11->closures, rslt8, val9, new_subs_6);
} else if(arity11 != (FnArity *)0 && arity11->variadic) { FnType1 *fn13 = (FnType1 *)arity11->fn;
List *dynArgs12 = empty_list;
dynArgs12 = (List *)listCons(new_subs_6, dynArgs12);
dynArgs12 = (List *)listCons(val9, dynArgs12);
dynArgs12 = (List *)listCons(rslt8, dynArgs12);

// dynamic fn type
// #line 1289 "toccata.toc"
rslt14 = fn13(arity11->closures, (Value *)dynArgs12);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val10)->name, "toccata.toc", 1289);
  abort();
}
dec_and_free(val10, 1);
FnArity *dynArity15 = malloc_fnArity();
dynArity15->count = 1;
dynArity15->variadic = 0;
dynArity15->fn = arityImpl7632;
dynArity15->closures = empty_list;
dynArity15->closures = listCons((Value *)new_val_0, (List *)dynArity15->closures);
dynArity15->closures = listCons((Value *)val1, (List *)dynArity15->closures);
dynArity15->closures = listCons((Value *)val16, (List *)dynArity15->closures);
Function *anon_7636 = malloc_function(1);
anon_7636->name = "anon";
anon_7636->arityCount = 1;
anon_7636->arities[0] = dynArity15;
Value *fn7631 = (Value *)anon_7636;

// type-unknown flat-map
// #line 1289 "toccata.toc"
Value *rslt17 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt14, fn7631, "toccata.toc", 1289);
return(rslt17);

};};
Value *arityImpl7627(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val19;
Value *val20;
Value *val21;
Value *val22;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[7] = {&val1, &val16, &val19, &val20, &val21, &val22, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs28);

incRef(val16, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val16, 2);
dec_and_free(val21, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7628_13 = ss_10;
Value *binding_ast_14 = v_9;

incRef(binding_ast_14, 1);

// type-unknown .val
// #line 1286 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls3268, "<nothing>/.val", binding_ast_14, "toccata.toc", 1286);

// type-unknown replace-syms
// #line 1286 "toccata.toc"
Value *rslt17 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", rslt15, val16, "toccata.toc", 1286);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7630;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val20, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val21, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val22, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val16, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)binding_ast_14, (List *)dynArity18->closures);
Function *anon_7637 = malloc_function(1);
anon_7637->name = "anon";
anon_7637->arityCount = 1;
anon_7637->arities[0] = dynArity18;
Value *fn7629 = (Value *)anon_7637;

// type-unknown flat-map
// #line 1286 "toccata.toc"
Value *rslt23 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn7629, "toccata.toc", 1286);

// dynamic unknown type
// #line 1286 "toccata.toc"
Value *rslt27;
if((rslt23)->type != FunctionType) {
rslt27 = invoke_368(empty_list, rslt23, arg7628_13);
} else {
FnArity *arity24 = findFnArity(rslt23, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, arg7628_13);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(arg7628_13, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt23)->name);
  abort();
}
dec_and_free(rslt23, 1);
}
return(rslt27);
andRslt7 = rslt27;
}

};};
Value *recur_7624(List *closures, Value *bindings_0, Value *new_bindings_1, Value *subs_2) {
 while (1) {

incRef(bindings_0, 1);

incRef(new_bindings_1, 1);

// type-unknown first
// #line 1285 "toccata.toc"
Value *rslt3 = proto1Arg(&first_Implementations_320, "<nothing>/first", bindings_0, "toccata.toc", 1285);

// static-fixed
// #line 1285 "toccata.toc"
Value *rslt4 = when_4087(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7627;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)bindings_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)new_bindings_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)recur_7623, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)subs_2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7638 = malloc_function(1);
anon_7638->name = "anon";
anon_7638->arityCount = 1;
anon_7638->arities[0] = dynArity11;
Value *fn7626 = (Value *)anon_7638;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7626);

// call invoke
// #line 1291 "toccata.toc"
Value *rslt13 = arityImpl2933(empty_list, reifiedPtr2939, new_bindings_1);
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
Value *rslt15 = (Value *)newList14;
Value *rslt16 = new_sm_comp_STAR__2805(empty_list, rslt12, rslt15);
return(rslt16);

};};
FnArity recur_7639 = {FnArityType, -1, 3, (List *)0, 0, recur_7624};
Function recur_7640 = {FunctionType, -1, "recur", 1, {&recur_7639}};
Value *recur_7623 = (Value *)&recur_7640;

Value *arityImpl7648(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1294 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, val1, "toccata.toc", 1294);
return(rslt2);

};};
Value *arityImpl7650(List *closures, Value *new_body_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// type-unknown seq
// #line 1295 "toccata.toc"
Value *rslt3 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", val2, "toccata.toc", 1295);

// call invoke
// #line 1295 "toccata.toc"
Value *rslt4 = let_ast_invoke_3385(empty_list, reifiedPtr3388, rslt3, new_body_0);

// type-unknown wrap
// #line 1293 "toccata.toc"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "toccata.toc", 1293);
return(rslt5);

};};
Value *arityImpl7642(List *closures, Value *new_bindings_0) {
while (1) {
Value *val1;
Value *val4;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[4] = {&val1, &val4, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs9);

dec_and_free(closuresTail, 1);

// type-known for .body
// #line 1293 "toccata.toc"
Value *rslt2 = let_ast_body_3403(empty_list, val1);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl7648;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_7649 = malloc_function(1);
anon_7649->name = "anon";
anon_7649->arityCount = 1;
anon_7649->arities[0] = dynArity3;
Value *fn7644 = (Value *)anon_7649;

// static-fixed
// #line 1293 "toccata.toc"
Value *rslt5 = traverse_6470(empty_list, rslt2, fn7644);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl7650;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)new_bindings_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
Function *anon_7651 = malloc_function(1);
anon_7651->name = "anon";
anon_7651->arityCount = 1;
anon_7651->arities[0] = dynArity6;
Value *fn7643 = (Value *)anon_7651;

// type-unknown flat-map
// #line 1293 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt5, fn7643, "toccata.toc", 1293);
return(rslt8);

};};
Value *replace_syms_7621(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);
Value *f_2 = recur_7623;

// type-known for .bindings
// #line 1292 "toccata.toc"
Value *rslt3 = let_ast_bindings_3399(empty_list, ast_0);

// call-vector
// #line 1292 "toccata.toc"
Vector *newVect4 = empty_vect;
Value *rslt5 = (Value *)newVect4;
Value *rslt9;
FnArity *arity6 = findFnArity(f_2, 3);
if(arity6 != (FnArity *)0 && !arity6->variadic) { FnType3 *fn8 = (FnType3 *)arity6->fn;


// dynamic fn type
// #line 1292 "toccata.toc"
rslt9 = fn8(arity6->closures, rslt3, rslt5, subs_1);
} else if(arity6 != (FnArity *)0 && arity6->variadic) { FnType1 *fn8 = (FnType1 *)arity6->fn;
List *dynArgs7 = empty_list;
dynArgs7 = (List *)listCons(subs_1, dynArgs7);
dynArgs7 = (List *)listCons(rslt5, dynArgs7);
dynArgs7 = (List *)listCons(rslt3, dynArgs7);

// dynamic fn type
// #line 1292 "toccata.toc"
rslt9 = fn8(arity6->closures, (Value *)dynArgs7);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)f_2)->name, "toccata.toc", 1292);
  abort();
}
dec_and_free(f_2, 1);
Value *wrapper_10 = rslt9;

incRef(wrapper_10, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7642;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_10, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)subs_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)ast_0, (List *)dynArity11->closures);
Function *anon_7652 = malloc_function(1);
anon_7652->name = "anon";
anon_7652->arityCount = 1;
anon_7652->arities[0] = dynArity11;
Value *fn7641 = (Value *)anon_7652;

// type-unknown flat-map
// #line 1292 "toccata.toc"
Value *rslt12 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_10, fn7641, "toccata.toc", 1292);
return(rslt12);

};};
FnArity replace_syms_7653 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_7621};

// --------- anon -------------
Value *fn7655;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str580 = {StringType, -1, 4, 0, "#arg"};
Value *strPtr580 = (Value *)&str580;
Value *arityImpl7656(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// static-fixed
// #line 1298 "toccata.toc"
Value *rslt1 = gensym_1675(empty_list, strPtr580);
return(rslt1);

};};
FnArity staticArity7657 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7656};
Function anon_7658 = {FunctionType, -1, "anon", 1, {&staticArity7657}};
Value *fn7655 = (Value *)&anon_7658;

Value *arityImpl7660(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// call invoke
// #line 1303 "toccata.toc"
Value *rslt2 = call_ast_invoke_3179(empty_list, reifiedPtr3182, ast_0, val1);
return(rslt2);

};};
Value *inline_expr_7654(List *closures, Value *ast_0, Value *arg_asts_1) {
 while (1) {

incRef(ast_0, 2);

incRef(arg_asts_1, 1);

// type-unknown map
// #line 1298 "toccata.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", arg_asts_1, fn7655, "toccata.toc", 1298);
Value *unique_syms_3 = rslt2;

incRef(unique_syms_3, 1);

// static-fixed
// #line 1300 "toccata.toc"
Value *rslt4 = make_bindings_7361(empty_list, unique_syms_3, arg_asts_1);

// type-known for .bindings
// #line 1301 "toccata.toc"
Value *rslt5 = let_ast_bindings_3399(empty_list, ast_0);

// call-list
// #line 1300 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
Value *rslt7 = (Value *)newList6;

// type-unknown comp*
// #line 1300 "toccata.toc"
Value *rslt8 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt4, rslt7, "toccata.toc", 1300);

// type-known for .bindings
// #line 1300 "toccata.toc"
Value *rslt9 = let_ast_bindings_3397(empty_list, ast_0, rslt8);

// type-known for .body
// #line 1302 "toccata.toc"
Value *rslt10 = let_ast_body_3403(empty_list, ast_0);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7660;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)unique_syms_3, (List *)dynArity11->closures);
Function *anon_7661 = malloc_function(1);
anon_7661->name = "anon";
anon_7661->arityCount = 1;
anon_7661->arities[0] = dynArity11;
Value *fn7659 = (Value *)anon_7661;

// static-fixed
// #line 1302 "toccata.toc"
Value *rslt12 = update_last_7356(empty_list, rslt10, fn7659);

// type-unknown .body
// #line 1302 "toccata.toc"
Value *rslt13 = proto2Arg(&protoImpls2426, "<nothing>/.body", rslt9, rslt12, "toccata.toc", 1302);

// call invoke
// #line 1304 "toccata.toc"
Value *rslt14 = arityImpl2933(empty_list, reifiedPtr2939, rslt13);
return(rslt14);

};};
FnArity inline_expr_7662 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_7654};

// --------- recur -------------
Value *recur_7665;

// --------- anon -------------
Value *fn7669;
Value *arityImpl7670(List *closures, Value *new_subs_0, Value *sym_1) {
 while (1) {

incRef(sym_1, 1);

// static-variadic
// #line 1312 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)sym_1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr462, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);

// static-fixed
// #line 1312 "toccata.toc"
Value *rslt4 = symbol_220(empty_list, rslt3);

// static-fixed
// #line 1312 "toccata.toc"
Value *rslt5 = assoc_1033(empty_list, new_subs_0, sym_1, rslt4);
return(rslt5);

};};
FnArity staticArity7671 = {FnArityType, -1, 2, (List *)0, 0, arityImpl7670};
Function anon_7672 = {FunctionType, -1, "anon", 1, {&staticArity7671}};
Value *fn7669 = (Value *)&anon_7672;

Value *arityImpl7668(List *closures, Value *binding_ast_0) {
while (1) {

incRef(binding_ast_0, 2);
Value *val1;
Value *val3;
Value *val10;
Value *val12;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs29[6] = {&val1, &val3, &val10, &val12, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs29);

incRef(val3, 1);

dec_and_free(closuresTail, 1);

// type-unknown .val
// #line 1309 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls3268, "<nothing>/.val", binding_ast_0, "toccata.toc", 1309);

// type-unknown replace-bound-vars
// #line 1309 "toccata.toc"
Value *rslt4 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt2, val3, "toccata.toc", 1309);
Value *new_val_5 = rslt4;

// type-unknown .binding
// #line 1310 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls3264, "<nothing>/.binding", binding_ast_0, "toccata.toc", 1310);

// type-unknown all-symbols
// #line 1310 "toccata.toc"
Value *rslt7 = proto1Arg(&all_symbols_Implementations_7508, "<nothing>/all-symbols", rslt6, "toccata.toc", 1310);

// type-unknown reduce
// #line 1310 "toccata.toc"
Value *rslt8 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt7, val3, fn7669, "toccata.toc", 1310);
Value *new_subs_9 = rslt8;

// type-unknown rest
// #line 1313 "toccata.toc"
Value *rslt11 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", val10, "toccata.toc", 1313);
Value *rslt17;
FnArity *arity14 = findFnArity(val13, 3);
if(arity14 != (FnArity *)0 && !arity14->variadic) { FnType3 *fn16 = (FnType3 *)arity14->fn;


// dynamic fn type
// #line 1313 "toccata.toc"
rslt17 = fn16(arity14->closures, rslt11, val12, new_subs_9);
} else if(arity14 != (FnArity *)0 && arity14->variadic) { FnType1 *fn16 = (FnType1 *)arity14->fn;
List *dynArgs15 = empty_list;
dynArgs15 = (List *)listCons(new_subs_9, dynArgs15);
dynArgs15 = (List *)listCons(val12, dynArgs15);
dynArgs15 = (List *)listCons(rslt11, dynArgs15);

// dynamic fn type
// #line 1313 "toccata.toc"
rslt17 = fn16(arity14->closures, (Value *)dynArgs15);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)val13)->name, "toccata.toc", 1313);
  abort();
}
dec_and_free(val13, 1);
Value *new_bindings_18;
Value *new_subs_19;
Value *tail_20;
Value **destArgs21[3] = {&new_bindings_18, &new_subs_19, &tail_20};
destructValue("toccata.toc", "1313", (Value *)rslt17, 3, destArgs21);

incRef(new_subs_19, 1);

dec_and_free(tail_20, 1);

// type-unknown .binding
// #line 1315 "toccata.toc"
Value *rslt22 = proto1Arg(&protoImpls3264, "<nothing>/.binding", binding_ast_0, "toccata.toc", 1315);

// type-unknown replace-bound-vars
// #line 1315 "toccata.toc"
Value *rslt23 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt22, new_subs_19, "toccata.toc", 1315);

// call invoke
// #line 1315 "toccata.toc"
Value *rslt24 = binding_ast_invoke_3277(empty_list, reifiedPtr3280, rslt23, new_val_5);

// type-unknown conj
// #line 1314 "toccata.toc"
Value *rslt25 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", new_bindings_18, rslt24, "toccata.toc", 1314);

// call-vector
// #line 1314 "toccata.toc"
Vector *newVect26 = empty_vect;
newVect26 = mutateVectConj(newVect26, rslt25);
newVect26 = mutateVectConj(newVect26, new_subs_19);
Value *rslt27 = (Value *)newVect26;

// type-unknown wrap
// #line 1308 "toccata.toc"
Value *rslt28 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt27, "toccata.toc", 1308);
return(rslt28);

};};
Value *recur_7666(List *closures, Value *bindings_0, Value *new_bindings_1, Value *subs_2) {
 while (1) {

incRef(bindings_0, 1);

incRef(new_bindings_1, 1);

incRef(subs_2, 1);

// type-unknown first
// #line 1308 "toccata.toc"
Value *rslt3 = proto1Arg(&first_Implementations_320, "<nothing>/first", bindings_0, "toccata.toc", 1308);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7668;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)recur_7665, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)new_bindings_1, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)bindings_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)subs_2, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
Function *anon_7673 = malloc_function(1);
anon_7673->name = "anon";
anon_7673->arityCount = 1;
anon_7673->arities[0] = dynArity5;
Value *fn7667 = (Value *)anon_7673;

// type-unknown flat-map
// #line 1308 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn7667, "toccata.toc", 1308);
if (!isNothing(rslt6)) {
dec_and_free(new_bindings_1, 1);
dec_and_free(subs_2, 1);
return(maybeExtract(rslt6));
} else {
dec_and_free(rslt6, 1);

// call-vector
// #line 1319 "toccata.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, new_bindings_1);
newVect7 = mutateVectConj(newVect7, subs_2);
Value *rslt8 = (Value *)newVect7;
return(rslt8);
}

};};
FnArity recur_7674 = {FnArityType, -1, 3, (List *)0, 0, recur_7666};
Function recur_7675 = {FunctionType, -1, "recur", 1, {&recur_7674}};
Value *recur_7665 = (Value *)&recur_7675;

Value *arityImpl7677(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1322 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", ast_0, val1, "toccata.toc", 1322);
return(rslt2);

};};
Value *replace_bound_vars_7663(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);
Value *f_2 = recur_7665;

// type-known for .bindings
// #line 1320 "toccata.toc"
Value *rslt3 = let_ast_bindings_3399(empty_list, ast_0);
Value *rslt7;
FnArity *arity4 = findFnArity(f_2, 3);
if(arity4 != (FnArity *)0 && !arity4->variadic) { FnType3 *fn6 = (FnType3 *)arity4->fn;


// dynamic fn type
// #line 1320 "toccata.toc"
rslt7 = fn6(arity4->closures, rslt3, empty_list_0, subs_1);
} else if(arity4 != (FnArity *)0 && arity4->variadic) { FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(subs_1, dynArgs5);
dynArgs5 = (List *)listCons(empty_list_0, dynArgs5);
dynArgs5 = (List *)listCons(rslt3, dynArgs5);

// dynamic fn type
// #line 1320 "toccata.toc"
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)f_2)->name, "toccata.toc", 1320);
  abort();
}
dec_and_free(f_2, 1);
Value *new_bindings_8;
Value *new_subs_9;
Value *tail_10;
Value **destArgs11[3] = {&new_bindings_8, &new_subs_9, &tail_10};
destructValue("toccata.toc", "1320", (Value *)rslt7, 3, destArgs11);

dec_and_free(tail_10, 1);

// type-known for .body
// #line 1321 "toccata.toc"
Value *rslt12 = let_ast_body_3403(empty_list, ast_0);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl7677;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)new_subs_9, (List *)dynArity13->closures);
Function *anon_7678 = malloc_function(1);
anon_7678->name = "anon";
anon_7678->arityCount = 1;
anon_7678->arities[0] = dynArity13;
Value *fn7676 = (Value *)anon_7678;

// type-unknown map
// #line 1321 "toccata.toc"
Value *rslt14 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt12, fn7676, "toccata.toc", 1321);
Value *new_body_15 = rslt14;

// type-unknown seq
// #line 1323 "toccata.toc"
Value *rslt16 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", new_bindings_8, "toccata.toc", 1323);

// call invoke
// #line 1323 "toccata.toc"
Value *rslt17 = let_ast_invoke_3385(empty_list, reifiedPtr3388, rslt16, new_body_15);
return(rslt17);

};};
FnArity replace_bound_vars_7679 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_7663};

// --------- index -------------
Value *index_7681;
Value *index_7682(List *closures, Value *coll_0) {
 while (1) {

// type-unknown seq
// #line 1327 "toccata.toc"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", coll_0, "toccata.toc", 1327);
Value *coll_2 = rslt1;

incRef(coll_2, 1);

// type-unknown count
// #line 1328 "toccata.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", coll_2, "toccata.toc", 1328);

// static-fixed
// #line 1328 "toccata.toc"
Value *rslt4 = range_795(empty_list, rslt3);

// static-variadic
// #line 1328 "toccata.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)coll_2, varArgs5);
varArgs5 = (List *)listCons((Value *)rslt4, varArgs5);
Value *rslt6 = zip_lists_1783(empty_list, (Value *)varArgs5);
return(rslt6);

};};
FnArity index_7683 = {FnArityType, -1, 1, (List *)0, 0, index_7682};
Function index_7684 = {FunctionType, -1, "index", 1, {&index_7683}};
Value *index_7681 = (Value *)&index_7684;


// --------- closure-reified-value -------------
Value *closure_reified_value_7686;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str581 = {StringType, -1, 10, 0, "reifiedDyn"};
Value *strPtr581 = (Value *)&str581;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str582 = {StringType, -1, 27, 0, " = (Value *)malloc_reified("};
Value *strPtr582 = (Value *)&str582;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str583 = {StringType, -1, 15, 0, "((ReifiedVal *)"};
Value *strPtr583 = (Value *)&str583;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str584 = {StringType, -1, 10, 0, ")->type = "};
Value *strPtr584 = (Value *)&str584;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str585 = {StringType, -1, 15, 0, ")->implCount = "};
Value *strPtr585 = (Value *)&str585;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str586 = {StringType, -1, 25, 0, ")->typeArgs = (Value *)0;"};
Value *strPtr586 = (Value *)&str586;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str587 = {StringType, -1, 9, 0, ")->impls["};
Value *strPtr587 = (Value *)&str587;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str588 = {StringType, -1, 13, 0, "] = (Value *)"};
Value *strPtr588 = (Value *)&str588;
Value *arityImpl7706(List *closures, Value *arg3) {
while (1) {
Value *index_0;
Value *sym_1;
Value *tail_2;
Value **destArgs4[3] = {&index_0, &sym_1, &tail_2};
destructValue("toccata.toc", "1345", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1346 "toccata.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, strPtr583);
newVect6 = mutateVectConj(newVect6, val5);
newVect6 = mutateVectConj(newVect6, strPtr587);
newVect6 = mutateVectConj(newVect6, index_0);
newVect6 = mutateVectConj(newVect6, strPtr588);
newVect6 = mutateVectConj(newVect6, sym_1);
newVect6 = mutateVectConj(newVect6, strPtr303);
newVect6 = mutateVectConj(newVect6, strPtr5);
Value *rslt7 = (Value *)newVect6;
return(rslt7);

};};
Value *arityImpl7709(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7713(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7711(List *closures, Value *x_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = x_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7713;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_7714 = malloc_function(1);
anon_7714->name = "anon";
anon_7714->arityCount = 1;
anon_7714->arities[0] = dynArity8;
Value *fn7712 = (Value *)anon_7714;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7712);
return(rslt9);

};};
Value *arityImpl7690(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val17;
Value *val19;
Value *val23;
Value *val27;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs60[6] = {&val1, &val17, &val19, &val23, &val27, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs60);

incRef(val17, 1);

incRef(val19, 2);

incRef(val23, 3);

incRef(val27, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 3);
dec_and_free(val23, 4);
dec_and_free(x_6, 1);
dec_and_free(val17, 2);
dec_and_free(val27, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7691_13 = ss_10;
Value *reified_sym_14 = v_9;

incRef(reified_sym_14, 5);
Value *orRslt15;
Value *andRslt16;

// static-fixed
// #line 1334 "toccata.toc"
Value *rslt18 = every_977(empty_list, val17, empty_QM__292);
andRslt16 = rslt18;
if (isNothing(andRslt16)) {
dec_and_free(val19, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for zero
// #line 1334 "toccata.toc"
Value *rslt20 = new_sm_zero_2799(empty_list, val19);

// static-fixed
// #line 1334 "toccata.toc"
Value *rslt21 = maybe_4(empty_list, rslt20);
andRslt16 = rslt21;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val19, 1);
dec_and_free(val23, 4);
dec_and_free(reified_sym_14, 6);
dec_and_free(val17, 1);
dec_and_free(val27, 2);

} else {
dec_and_free(orRslt15, 1);
Value *__22 = val19;

// type-unknown map
// #line 1335 "toccata.toc"
Value *rslt24 = proto2Arg(&map_Implementations_254, "<nothing>/map", val23, dispatchFnPtr5865, "toccata.toc", 1335);
Value *impls_syms_25 = rslt24;

incRef(impls_syms_25, 1);

// type-unknown count
// #line 1339 "toccata.toc"
Value *rslt26 = proto1Arg(&count_Implementations_300, "<nothing>/count", impls_syms_25, "toccata.toc", 1339);

// type-unknown count
// #line 1342 "toccata.toc"
Value *rslt28 = proto1Arg(&count_Implementations_300, "<nothing>/count", val23, "toccata.toc", 1342);

// call-vector
// #line 1338 "toccata.toc"
Vector *newVect29 = empty_vect;
newVect29 = mutateVectConj(newVect29, strPtr492);
newVect29 = mutateVectConj(newVect29, reified_sym_14);
newVect29 = mutateVectConj(newVect29, strPtr582);
newVect29 = mutateVectConj(newVect29, rslt26);
newVect29 = mutateVectConj(newVect29, strPtr442);
newVect29 = mutateVectConj(newVect29, strPtr5);
newVect29 = mutateVectConj(newVect29, strPtr583);
newVect29 = mutateVectConj(newVect29, reified_sym_14);
newVect29 = mutateVectConj(newVect29, strPtr584);
newVect29 = mutateVectConj(newVect29, val27);
newVect29 = mutateVectConj(newVect29, strPtr303);
newVect29 = mutateVectConj(newVect29, strPtr5);
newVect29 = mutateVectConj(newVect29, strPtr583);
newVect29 = mutateVectConj(newVect29, reified_sym_14);
newVect29 = mutateVectConj(newVect29, strPtr585);
newVect29 = mutateVectConj(newVect29, rslt28);
newVect29 = mutateVectConj(newVect29, strPtr303);
newVect29 = mutateVectConj(newVect29, strPtr5);
newVect29 = mutateVectConj(newVect29, strPtr583);
newVect29 = mutateVectConj(newVect29, reified_sym_14);
newVect29 = mutateVectConj(newVect29, strPtr586);
newVect29 = mutateVectConj(newVect29, strPtr5);
Value *rslt30 = (Value *)newVect29;

// static-fixed
// #line 1344 "toccata.toc"
Value *rslt31 = index_7682(empty_list, impls_syms_25);
FnArity *dynArity32 = malloc_fnArity();
dynArity32->count = 1;
dynArity32->variadic = 0;
dynArity32->fn = arityImpl7706;
dynArity32->closures = empty_list;
dynArity32->closures = listCons((Value *)reified_sym_14, (List *)dynArity32->closures);
Function *anon_7707 = malloc_function(1);
anon_7707->name = "anon";
anon_7707->arityCount = 1;
anon_7707->arities[0] = dynArity32;
Value *fn7705 = (Value *)anon_7707;

// type-unknown flat-map
// #line 1344 "toccata.toc"
Value *rslt33 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt31, fn7705, "toccata.toc", 1344);

// call-vector
// #line 1337 "toccata.toc"
Vector *newVect34 = empty_vect;
newVect34 = mutateVectConj(newVect34, val17);
newVect34 = mutateVectConj(newVect34, rslt30);
newVect34 = mutateVectConj(newVect34, rslt33);
Value *rslt35 = (Value *)newVect34;

// type-unknown map
// #line 1348 "toccata.toc"
Value *rslt36 = proto2Arg(&map_Implementations_254, "<nothing>/map", val23, dispatchFnPtr5863, "toccata.toc", 1348);
Value *f_37 = merge_with_1316;

// type-unknown map
// #line 1350 "toccata.toc"
Value *rslt38 = proto2Arg(&map_Implementations_254, "<nothing>/map", val23, dispatchFnPtr5676, "toccata.toc", 1350);

// call-list
// #line 1350 "toccata.toc"
List *newList39 = empty_list;
newList39 = listCons((Value *)rslt38, newList39);
newList39 = listCons((Value *)_PLUS__454, newList39);
Value *rslt40 = (Value *)newList39;
Value *args_41 = rslt40;

// static-fixed
// #line 737 "core"
Value *rslt42 = fn_apply_98(empty_list, list_STAR__478, args_41);

// static-fixed
// #line 737 "core"
Value *rslt43 = fn_apply_98(empty_list, f_37, rslt42);

// call invoke
// #line 1336 "toccata.toc"
Value *rslt44 = c_init_invoke_6003(empty_list, reifiedPtr6006, reified_sym_14, rslt35, rslt36, val27, rslt43);
Value *v_45 = rslt44;
Value *rslt46 = reified_type_args_22(empty_list, __22);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
FnArity *dynArity50 = malloc_fnArity();
dynArity50->count = 1;
dynArity50->variadic = 0;
dynArity50->fn = arityImpl7709;
dynArity50->closures = empty_list;
dynArity50->closures = listCons((Value *)v_45, (List *)dynArity50->closures);
Function *anon_7710 = malloc_function(1);
anon_7710->name = "anon";
anon_7710->arityCount = 1;
anon_7710->arities[0] = dynArity50;
Value *fn7708 = (Value *)anon_7710;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt51 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7708);

// static-fixed
// #line 1334 "toccata.toc"
Value *rslt52 = maybe_4(empty_list, rslt51);
orRslt15 = rslt52;
}

// type-known for extract
// #line 1334 "toccata.toc"
Value *rslt53 = Maybe_extract_757(empty_list, orRslt15);
FnArity *dynArity54 = malloc_fnArity();
dynArity54->count = 1;
dynArity54->variadic = 0;
dynArity54->fn = arityImpl7711;
dynArity54->closures = empty_list;
dynArity54->closures = listCons((Value *)val19, (List *)dynArity54->closures);
Function *anon_7715 = malloc_function(1);
anon_7715->name = "anon";
anon_7715->arityCount = 1;
anon_7715->arities[0] = dynArity54;
Value *fn7698 = (Value *)anon_7715;

// type-unknown flat-map
// #line 1334 "toccata.toc"
Value *rslt55 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt53, fn7698, "toccata.toc", 1334);

// dynamic unknown type
// #line 1334 "toccata.toc"
Value *rslt59;
if((rslt55)->type != FunctionType) {
rslt59 = invoke_368(empty_list, rslt55, arg7691_13);
} else {
FnArity *arity56 = findFnArity(rslt55, 1);
if(arity56 != (FnArity *)0 && !arity56->variadic) {
FnType1 *fn58 = (FnType1 *)arity56->fn;
rslt59 = fn58(arity56->closures, arg7691_13);
} else if(arity56 != (FnArity *)0 && arity56->variadic) {
FnType1 *fn58 = (FnType1 *)arity56->fn;
List *dynArgs57 = empty_list;
dynArgs57 = (List *)listCons(arg7691_13, dynArgs57);
rslt59 = fn58(arity56->closures, (Value *)dynArgs57);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt55)->name);
  abort();
}
dec_and_free(rslt55, 1);
}
return(rslt59);
andRslt7 = rslt59;
}

};};
Value *closure_reified_value_7687(List *closures, Value *type_num_0, Value *impl_fns_1) {
 while (1) {

incRef(impl_fns_1, 1);

// type-unknown map
// #line 1332 "toccata.toc"
Value *rslt2 = proto2Arg(&map_Implementations_254, "<nothing>/map", impl_fns_1, dispatchFnPtr5587, "toccata.toc", 1332);
Value *inits_3 = rslt2;

// static-fixed
// #line 1333 "toccata.toc"
Value *rslt4 = genlocal_6379(empty_list, strPtr581);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7690;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)type_num_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)impl_fns_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)inits_3, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7716 = malloc_function(1);
anon_7716->name = "anon";
anon_7716->arityCount = 1;
anon_7716->arities[0] = dynArity11;
Value *fn7689 = (Value *)anon_7716;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7689);
return(rslt12);

};};
FnArity closure_reified_value_7717 = {FnArityType, -1, 2, (List *)0, 0, closure_reified_value_7687};
Function closure_reified_value_7718 = {FunctionType, -1, "closure-reified-value", 1, {&closure_reified_value_7717}};
Value *closure_reified_value_7686 = (Value *)&closure_reified_value_7718;


// --------- static-reified-value -------------
Value *static_reified_value_7720;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str589 = {StringType, -1, 13, 0, "reifiedStatic"};
Value *strPtr589 = (Value *)&str589;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str590 = {StringType, -1, 10, 0, "reifiedPtr"};
Value *strPtr590 = (Value *)&str590;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str591 = {StringType, -1, 11, 0, "ReifiedVal "};
Value *strPtr591 = (Value *)&str591;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str592 = {StringType, -1, 4, 0, " = {"};
Value *strPtr592 = (Value *)&str592;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str593 = {StringType, -1, 25, 0, ", -1, (Value *)0, 0, {}};"};
Value *strPtr593 = (Value *)&str593;
Value *arityImpl7724(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val42;
Value *val44;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs60[5] = {&val1, &val37, &val42, &val44, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs60);

incRef(val44, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val37, 1);
dec_and_free(val42, 1);
dec_and_free(val44, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7725_13 = ss_10;
Value *reified_sym_14 = v_9;

incRef(reified_sym_14, 1);
Value *arg7726_16 = arg7725_13;

// static-fixed
// #line 1354 "toccata.toc"
Value *rslt15 = global_var_6495(empty_list, strPtr590);
Value *ev_17 = rslt15;
Value *arg7727_18 = arg7726_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7727_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(reified_sym_14, 2);
dec_and_free(val37, 1);
dec_and_free(x_28, 1);
dec_and_free(val42, 1);
dec_and_free(val44, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7728_35 = ss_32;
Value *reified_ptr_36 = v_31;

incRef(reified_ptr_36, 1);
Value *arg7729_38 = arg7728_35;
Value *__39 = val37;

// call-vector
// #line 1356 "toccata.toc"
Vector *newVect40 = empty_vect;
Value *rslt41 = (Value *)newVect40;

// type-unknown map
// #line 1357 "toccata.toc"
Value *rslt43 = proto2Arg(&map_Implementations_254, "<nothing>/map", val42, dispatchFnPtr5863, "toccata.toc", 1357);

// call-vector
// #line 1357 "toccata.toc"
Vector *newVect45 = empty_vect;
newVect45 = mutateVectConj(newVect45, rslt43);
newVect45 = mutateVectConj(newVect45, strPtr591);
newVect45 = mutateVectConj(newVect45, reified_sym_14);
newVect45 = mutateVectConj(newVect45, strPtr592);
newVect45 = mutateVectConj(newVect45, val44);
newVect45 = mutateVectConj(newVect45, strPtr593);
newVect45 = mutateVectConj(newVect45, strPtr5);
newVect45 = mutateVectConj(newVect45, strPtr492);
newVect45 = mutateVectConj(newVect45, reified_ptr_36);
newVect45 = mutateVectConj(newVect45, strPtr493);
newVect45 = mutateVectConj(newVect45, reified_sym_14);
newVect45 = mutateVectConj(newVect45, strPtr303);
newVect45 = mutateVectConj(newVect45, strPtr5);
Value *rslt46 = (Value *)newVect45;

// static-variadic
// #line 1361 "toccata.toc"
List *varArgs47 = empty_list;
Value *rslt48 = hash_map_1208(empty_list, (Value *)varArgs47);

// call invoke
// #line 1355 "toccata.toc"
Value *rslt49 = c_code_invoke_5942(empty_list, reifiedPtr5945, reified_ptr_36, rslt41, rslt46, val44, rslt48);
Value *v_50 = rslt49;
Value *arg7730_51 = arg7729_38;
Value *rslt52 = reified_type_args_22(empty_list, __39);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(invoke_fn_53, 1);

dec_and_free(tail_54, 1);
Value *s_56 = arg7730_51;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect57 = empty_vect;
newVect57 = mutateVectConj(newVect57, v_50);
newVect57 = mutateVectConj(newVect57, s_56);
Value *rslt58 = (Value *)newVect57;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt59 = maybe_4(empty_list, rslt58);
andRslt29 = rslt59;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *static_reified_value_7721(List *closures, Value *type_num_0, Value *impl_fns_1) {
 while (1) {

// static-fixed
// #line 1353 "toccata.toc"
Value *rslt2 = global_var_6495(empty_list, strPtr589);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl7724;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)type_num_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)impl_fns_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_7731 = malloc_function(1);
anon_7731->name = "anon";
anon_7731->arityCount = 1;
anon_7731->arities[0] = dynArity9;
Value *fn7723 = (Value *)anon_7731;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7723);
return(rslt10);

};};
FnArity static_reified_value_7732 = {FnArityType, -1, 2, (List *)0, 0, static_reified_value_7721};
Function static_reified_value_7733 = {FunctionType, -1, "static-reified-value", 1, {&static_reified_value_7732}};
Value *static_reified_value_7720 = (Value *)&static_reified_value_7733;


// proto fn for ArityType/closure-arity?
Value *closure_arity_QM__7734;
ProtoImpls closure_arity_QM__Implementations_7736;
Value *closure_arity_QM__7735(List *closures, Value *arg0);
Value *Default_closure_arity_QM__7737(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(nothing_7);

};};
FnArity Default_closure_arity_QM__7738 = {FnArityType, -1, 1, (List *)0, 0, Default_closure_arity_QM__7737};

// proto fn for ArityType/reify-arity
Value *reify_arity_7739;
ProtoImpls reify_arity_Implementations_7741;
Value *reify_arity_7740(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3);
Value *type_val_7742_7743;
ProtoImpls protoImpls7749;
ProtoImpls protoImpls7751;
Value *dispatchFnPtr7747;
Value *protoImpl7748(List *closures, Value *arg);
Value *protoImpl7750(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls7753;
ProtoImpls protoImpls7755;
Value *dispatchFnPtr7746;
Value *protoImpl7752(List *closures, Value *arg);
Value *protoImpl7754(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls7757;
ProtoImpls protoImpls7759;
Value *dispatchFnPtr7745;
Value *protoImpl7756(List *closures, Value *arg);
Value *protoImpl7758(List *closures, Value *arg1, Value *arg2);
ProtoImpls protoImpls7761;
ProtoImpls protoImpls7763;
Value *dispatchFnPtr7744;
Value *protoImpl7760(List *closures, Value *arg);
Value *protoImpl7762(List *closures, Value *arg1, Value *arg2);
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str594 = {StringType, -1, 11, 0, "StaticArity"};
Value *strPtr594 = (Value *)&str594;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[49];
} str595 = {StringType, -1, 48, 0, "arity-fn-var, param-count, return-type, var-info"};
Value *strPtr595 = (Value *)&str595;
Value *arityImpl7764(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr595, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr594, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity7765 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7764};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str596 = {StringType, -1, 25, 0, "*StaticArity constructor*"};
Value *strPtr596 = (Value *)&str596;
Value *StaticArity_const_type_name_7766(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr596);

};};
FnArity StaticArity_const_type_name_7767 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_const_type_name_7766};
Value *StaticArity_instance_QMARK__7768(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_7742_7743, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity StaticArity_instance_QMARK__7769 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_instance_QMARK__7768};
Value *StaticArity_invoke_7770(List *closures, Value *arg0, Value *arity_fn_var_1, Value *param_count_2, Value *return_type_3, Value *var_info_4) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, arity_fn_var_1);
newVect5 = mutateVectConj(newVect5, param_count_2);
newVect5 = mutateVectConj(newVect5, return_type_3);
newVect5 = mutateVectConj(newVect5, var_info_4);
Value *rslt6 = (Value *)newVect5;
Value *rslt7 = new_type_value_53(empty_list, type_val_7742_7743, rslt6);
return(rslt7);

};};
FnArity StaticArity_invoke_7771 = {FnArityType, -1, 5, (List *)0, 0, StaticArity_invoke_7770};
ReifiedVal reifiedStatic7772 = {176, -1, (Value *)0, 0, {}};
Value *reifiedPtr7773 = (Value *)&reifiedStatic7772;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str597 = {StringType, -1, 13, 0, "<StaticArity "};
Value *strPtr597 = (Value *)&str597;
Value *StaticArity_string_list_7774(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *arity_fn_var_2;
Value *param_count_3;
Value *return_type_4;
Value *var_info_5;
Value *tail_6;
Value **destArgs7[5] = {&arity_fn_var_2, &param_count_3, &return_type_4, &var_info_5, &tail_6};
destructValue("toccata.toc", "1367", (Value *)rslt1, 5, destArgs7);

dec_and_free(tail_6, 1);

// static-variadic
// #line 1370 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)arity_fn_var_2, varArgs8);
Value *rslt9 = str_526(empty_list, (Value *)varArgs8);

// static-variadic
// #line 1370 "toccata.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)param_count_3, varArgs10);
Value *rslt11 = str_526(empty_list, (Value *)varArgs10);

// static-fixed
// #line 1371 "toccata.toc"
Value *rslt12 = target_type_name_5384(empty_list, return_type_4);

// call-list
// #line 1370 "toccata.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)strPtr4, newList13);
newList13 = listCons((Value *)rslt12, newList13);
newList13 = listCons((Value *)strPtr4, newList13);
newList13 = listCons((Value *)rslt11, newList13);
newList13 = listCons((Value *)strPtr4, newList13);
newList13 = listCons((Value *)rslt9, newList13);
newList13 = listCons((Value *)strPtr597, newList13);
Value *rslt14 = (Value *)newList13;

// type-unknown string-list
// #line 1372 "toccata.toc"
Value *rslt15 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", var_info_5, "toccata.toc", 1372);

// call-list
// #line 1370 "toccata.toc"
List *newList16 = empty_list;
newList16 = listCons((Value *)rslt15, newList16);
Value *rslt17 = (Value *)newList16;

// type-known for comp*
// #line 1370 "toccata.toc"
Value *rslt18 = List_comp_STAR__825(empty_list, rslt14, rslt17);
return(rslt18);

};};
FnArity StaticArity_string_list_7775 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_string_list_7774};
Value *StaticArity_EQ_STAR__7776(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity StaticArity_EQ_STAR__7777 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_EQ_STAR__7776};
Value *StaticArity_type_name_7778(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr594);

};};
FnArity StaticArity_type_name_7779 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_type_name_7778};
Value *StaticArity_has_field_7780(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 3);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr7747, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 3);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr7746, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr7745, field_1);
orRslt2 = rslt5;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt6 = identical_421(empty_list, dispatchFnPtr7744, field_1);
return(rslt6);
orRslt2 = rslt6;
}
}
}

};};
FnArity StaticArity_has_field_7781 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_has_field_7780};
Value *StaticArity_arity_fn_var_7782(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity StaticArity_arity_fn_var_7783 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_arity_fn_var_7782};
Value *StaticArity_arity_fn_var_7784(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity StaticArity_arity_fn_var_7785 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_arity_fn_var_7784};
Value *StaticArity_param_count_7786(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity StaticArity_param_count_7787 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_param_count_7786};
Value *StaticArity_param_count_7788(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity StaticArity_param_count_7789 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_param_count_7788};
Value *StaticArity_return_type_7790(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity StaticArity_return_type_7791 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_return_type_7790};
Value *StaticArity_return_type_7792(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity StaticArity_return_type_7793 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_return_type_7792};
Value *StaticArity_var_info_7794(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr4, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity StaticArity_var_info_7795 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_var_info_7794};
Value *StaticArity_var_info_7796(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr4);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity StaticArity_var_info_7797 = {FnArityType, -1, 1, (List *)0, 0, StaticArity_var_info_7796};
Value *StaticArity_get_7798(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity StaticArity_get_7799 = {FnArityType, -1, 2, (List *)0, 0, StaticArity_get_7798};
Value *StaticArity_assoc_STAR__7800(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity StaticArity_assoc_STAR__7801 = {FnArityType, -1, 5, (List *)0, 0, StaticArity_assoc_STAR__7800};
Value *arityImpl7805(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val17;
Value *val18;
Value *val19;
Value *val42;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs55[7] = {&val1, &val15, &val17, &val18, &val19, &val42, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs55);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val17, 1);
dec_and_free(val42, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7806_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7807_21 = arg7806_13;

// type-unknown .c-var
// #line 1377 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val15, "toccata.toc", 1377);

// static-fixed
// #line 1377 "toccata.toc"
Value *rslt20 = new_static_arity_6632(empty_list, rslt16, val17, val18, val19);
Value *ev_22 = rslt20;
Value *arg7808_23 = arg7807_21;
Value *rslt24 = reified_type_args_22(empty_list, ev_22);
Value *invoke_fn_25;
Value *tail_26;
Value **destArgs27[2] = {&invoke_fn_25, &tail_26};
destructValue("", "0", (Value *)rslt24, 2, destArgs27);

dec_and_free(tail_26, 1);
Value *s_28 = arg7808_23;
Value *rslt32;
if((invoke_fn_25)->type != FunctionType) {
rslt32 = invoke_368(empty_list, invoke_fn_25, s_28);
} else {
FnArity *arity29 = findFnArity(invoke_fn_25, 1);
if(arity29 != (FnArity *)0 && !arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
rslt32 = fn31(arity29->closures, s_28);
} else if(arity29 != (FnArity *)0 && arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
List *dynArgs30 = empty_list;
dynArgs30 = (List *)listCons(s_28, dynArgs30);
rslt32 = fn31(arity29->closures, (Value *)dynArgs30);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_25)->name);
  abort();
}
dec_and_free(invoke_fn_25, 1);
}
Value *x_33 = rslt32;

incRef(x_33, 1);
Value *andRslt34;
andRslt34 = x_33;
if (isNothing(andRslt34)) {
dec_and_free(val15, 1);
dec_and_free(val42, 1);
dec_and_free(x_33, 1);
} else {
dec_and_free(andRslt34, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt35 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_33, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_36;
Value *ss_37;
Value *tail_38;
Value **destArgs39[3] = {&v_36, &ss_37, &tail_38};
destructValue("", "0", (Value *)rslt35, 3, destArgs39);

dec_and_free(tail_38, 1);
Value *arg7809_40 = ss_37;
Value *arg41 = v_36;

dec_and_free(arg41, 1);
Value *arg7810_43 = arg7809_40;
Value *__44 = val42;
Value *v_45 = val15;
Value *arg7811_46 = arg7810_43;
Value *rslt47 = reified_type_args_22(empty_list, __44);
Value *invoke_fn_48;
Value *tail_49;
Value **destArgs50[2] = {&invoke_fn_48, &tail_49};
destructValue("", "0", (Value *)rslt47, 2, destArgs50);

dec_and_free(invoke_fn_48, 1);

dec_and_free(tail_49, 1);
Value *s_51 = arg7811_46;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect52 = empty_vect;
newVect52 = mutateVectConj(newVect52, v_45);
newVect52 = mutateVectConj(newVect52, s_51);
Value *rslt53 = (Value *)newVect52;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt54 = maybe_4(empty_list, rslt53);
andRslt34 = rslt54;
}
return(andRslt34);
andRslt7 = andRslt34;
}

};};
Value *StaticArity_reify_arity_7802(List *closures, Value *arg0, Value *dispatch_type_num_1, Value *arity_ast_2, Value *fn_name_3) {
 while (1) {
Value *rslt4 = reified_type_args_22(empty_list, arg0);
Value *arity_fn_var_5;
Value *param_count_6;
Value *return_type_7;
Value *var_info_8;
Value *tail_9;
Value **destArgs10[5] = {&arity_fn_var_5, &param_count_6, &return_type_7, &var_info_8, &tail_9};
destructValue("toccata.toc", "1367", (Value *)rslt4, 5, destArgs10);

incRef(param_count_6, 1);

incRef(var_info_8, 1);

dec_and_free(tail_9, 1);

// static-fixed
// #line 1376 "toccata.toc"
Value *rslt11 = new_proto_impl_6331(empty_list, fn_name_3, param_count_6, dispatch_type_num_1, var_info_8, arity_ast_2);
Value *wrapper_12 = rslt11;

incRef(wrapper_12, 1);
Value *ev_13 = wrapper_12;
Value *rslt14 = reified_type_args_22(empty_list, ev_13);
Value *invoke_fn_15;
Value *tail_16;
Value **destArgs17[2] = {&invoke_fn_15, &tail_16};
destructValue("", "0", (Value *)rslt14, 2, destArgs17);

dec_and_free(tail_16, 1);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7805;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)wrapper_12, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)return_type_7, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)arity_fn_var_5, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)param_count_6, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)var_info_8, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)invoke_fn_15, (List *)dynArity18->closures);
Function *anon_7812 = malloc_function(1);
anon_7812->name = "anon";
anon_7812->arityCount = 1;
anon_7812->arities[0] = dynArity18;
Value *fn7804 = (Value *)anon_7812;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7804);
return(rslt19);

};};
FnArity StaticArity_reify_arity_7813 = {FnArityType, -1, 4, (List *)0, 0, StaticArity_reify_arity_7802};
ReifiedVal reifiedStatic7814 = {177, -1, (Value *)0, 0, {}};
Value *reifiedPtr7815 = (Value *)&reifiedStatic7814;
Value *type_val_7816_7817;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str598 = {StringType, -1, 12, 0, "ClosureArity"};
Value *strPtr598 = (Value *)&str598;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str599 = {StringType, -1, 30, 0, "arity-fn-var, params, var-info"};
Value *strPtr599 = (Value *)&str599;
Value *arityImpl7821(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr599, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr598, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity7822 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7821};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str600 = {StringType, -1, 26, 0, "*ClosureArity constructor*"};
Value *strPtr600 = (Value *)&str600;
Value *ClosureArity_const_type_name_7823(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr600);

};};
FnArity ClosureArity_const_type_name_7824 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_const_type_name_7823};
Value *ClosureArity_instance_QMARK__7825(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_7816_7817, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity ClosureArity_instance_QMARK__7826 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_instance_QMARK__7825};
Value *ClosureArity_invoke_7827(List *closures, Value *arg0, Value *arity_fn_var_1, Value *params_2, Value *var_info_3) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, arity_fn_var_1);
newVect4 = mutateVectConj(newVect4, params_2);
newVect4 = mutateVectConj(newVect4, var_info_3);
Value *rslt5 = (Value *)newVect4;
Value *rslt6 = new_type_value_53(empty_list, type_val_7816_7817, rslt5);
return(rslt6);

};};
FnArity ClosureArity_invoke_7828 = {FnArityType, -1, 4, (List *)0, 0, ClosureArity_invoke_7827};
ReifiedVal reifiedStatic7829 = {178, -1, (Value *)0, 0, {}};
Value *reifiedPtr7830 = (Value *)&reifiedStatic7829;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str601 = {StringType, -1, 14, 0, "<ClosureArity "};
Value *strPtr601 = (Value *)&str601;
Value *ClosureArity_string_list_7831(List *closures, Value *arg0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, arg0);
Value *arity_fn_var_2;
Value *params_3;
Value *var_info_4;
Value *tail_5;
Value **destArgs6[4] = {&arity_fn_var_2, &params_3, &var_info_4, &tail_5};
destructValue("toccata.toc", "1380", (Value *)rslt1, 4, destArgs6);

dec_and_free(tail_5, 1);

// static-variadic
// #line 1383 "toccata.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)arity_fn_var_2, varArgs7);
Value *rslt8 = str_526(empty_list, (Value *)varArgs7);

// static-variadic
// #line 1383 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)params_3, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// call-list
// #line 1383 "toccata.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)strPtr4, newList11);
newList11 = listCons((Value *)rslt10, newList11);
newList11 = listCons((Value *)strPtr4, newList11);
newList11 = listCons((Value *)rslt8, newList11);
newList11 = listCons((Value *)strPtr601, newList11);
Value *rslt12 = (Value *)newList11;

// type-unknown string-list
// #line 1384 "toccata.toc"
Value *rslt13 = proto1Arg(&string_list_Implementations_395, "<nothing>/string-list", var_info_4, "toccata.toc", 1384);

// call-list
// #line 1383 "toccata.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
Value *rslt15 = (Value *)newList14;

// type-known for comp*
// #line 1383 "toccata.toc"
Value *rslt16 = List_comp_STAR__825(empty_list, rslt12, rslt15);
return(rslt16);

};};
FnArity ClosureArity_string_list_7832 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_string_list_7831};
Value *ClosureArity_EQ_STAR__7833(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ClosureArity_EQ_STAR__7834 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_EQ_STAR__7833};
Value *ClosureArity_type_name_7835(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr598);

};};
FnArity ClosureArity_type_name_7836 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_type_name_7835};
Value *ClosureArity_has_field_7837(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 2);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr7747, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 2);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr2418, field_1);
orRslt2 = rslt4;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt5 = identical_421(empty_list, dispatchFnPtr7744, field_1);
return(rslt5);
orRslt2 = rslt5;
}
}

};};
FnArity ClosureArity_has_field_7838 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_has_field_7837};
Value *ClosureArity_arity_fn_var_7839(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ClosureArity_arity_fn_var_7840 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_arity_fn_var_7839};
Value *ClosureArity_arity_fn_var_7841(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ClosureArity_arity_fn_var_7842 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_arity_fn_var_7841};
Value *ClosureArity_params_7843(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ClosureArity_params_7844 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_params_7843};
Value *ClosureArity_params_7845(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ClosureArity_params_7846 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_params_7845};
Value *ClosureArity_var_info_7847(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr2, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity ClosureArity_var_info_7848 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_var_info_7847};
Value *ClosureArity_var_info_7849(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr2);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity ClosureArity_var_info_7850 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_var_info_7849};
Value *ClosureArity_get_7851(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity ClosureArity_get_7852 = {FnArityType, -1, 2, (List *)0, 0, ClosureArity_get_7851};
Value *ClosureArity_assoc_STAR__7853(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity ClosureArity_assoc_STAR__7854 = {FnArityType, -1, 5, (List *)0, 0, ClosureArity_assoc_STAR__7853};
Value *ClosureArity_closure_arity_QM__7855(List *closures, Value *arity_0) {
 while (1) {

incRef(arity_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, arity_0);
Value *arity_fn_var_2;
Value *params_3;
Value *var_info_4;
Value *tail_5;
Value **destArgs6[4] = {&arity_fn_var_2, &params_3, &var_info_4, &tail_5};
destructValue("toccata.toc", "1380", (Value *)rslt1, 4, destArgs6);

dec_and_free(arity_fn_var_2, 1);

dec_and_free(params_3, 1);

dec_and_free(var_info_4, 1);

dec_and_free(tail_5, 1);

// static-fixed
// #line 1387 "toccata.toc"
Value *rslt7 = maybe_4(empty_list, arity_0);
return(rslt7);

};};
FnArity ClosureArity_closure_arity_QM__7856 = {FnArityType, -1, 1, (List *)0, 0, ClosureArity_closure_arity_QM__7855};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str602 = {StringType, -1, 12, 0, "protoFnArity"};
Value *strPtr602 = (Value *)&str602;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str603 = {StringType, -1, 9, 0, "protoImpl"};
Value *strPtr603 = (Value *)&str603;

// --------- anon -------------
Value *fn7867;
Value *arityImpl7872(List *closures, Value *arg_0) {
 while (1) {

// static-fixed
// #line 1393 "toccata.toc"
Value *rslt1 = genlocal_6391(empty_list, arg_0, strPtr293);
return(rslt1);

};};
FnArity staticArity7873 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7872};
Function anon_7874 = {FunctionType, -1, "anon", 1, {&staticArity7873}};
Value *fn7867 = (Value *)&anon_7874;


// --------- anon -------------
Value *fn7877;
Value *arityImpl7878(List *closures, Value *arg_0) {
 while (1) {

// static-variadic
// #line 1395 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)arg_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr492, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity7879 = {FnArityType, -1, 1, (List *)0, 0, arityImpl7878};
Function anon_7880 = {FunctionType, -1, "anon", 1, {&staticArity7879}};
Value *fn7877 = (Value *)&anon_7880;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str604 = {StringType, -1, 14, 0, "List *closures"};
Value *strPtr604 = (Value *)&str604;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str605 = {StringType, -1, 8, 0, "closures"};
Value *strPtr605 = (Value *)&str605;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str606 = {StringType, -1, 21, 0, "// implementation of "};
Value *strPtr606 = (Value *)&str606;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str607 = {StringType, -1, 3, 0, ") {"};
Value *strPtr607 = (Value *)&str607;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[47];
} str608 = {StringType, -1, 46, 0, "FnArity *arityPtr = (FnArity *)((ReifiedVal *)"};
Value *strPtr608 = (Value *)&str608;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str609 = {StringType, -1, 2, 0, "];"};
Value *strPtr609 = (Value *)&str609;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str610 = {StringType, -1, 22, 0, "Value *rval = ((FnType"};
Value *strPtr610 = (Value *)&str610;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str611 = {StringType, -1, 27, 0, " *)arityPtr->fn)(arityPtr->"};
Value *strPtr611 = (Value *)&str611;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str612 = {StringType, -1, 13, 0, "return(rval);"};
Value *strPtr612 = (Value *)&str612;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str613 = {StringType, -1, 4, 0, "};\n\n"};
Value *strPtr613 = (Value *)&str613;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str614 = {StringType, -1, 8, 0, "FnArity "};
Value *strPtr614 = (Value *)&str614;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str615 = {StringType, -1, 21, 0, " = {FnArityType, -1, "};
Value *strPtr615 = (Value *)&str615;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str616 = {StringType, -1, 16, 0, ", (List *)0, 0, "};
Value *strPtr616 = (Value *)&str616;
Value *arityImpl7883(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val39;
Value *val44;
Value *val45;
Value *val46;
Value *val47;
Value *val48;
Value *val49;
Value *val50;
Value *val51;
Value *val58;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs72[12] = {&val1, &val39, &val44, &val45, &val46, &val47, &val48, &val49, &val50, &val51, &val58, &closuresTail};
destructValue("", "", (Value *)closures, 12, destArgs72);

incRef(val45, 1);

incRef(val47, 2);

incRef(val49, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val49, 2);
dec_and_free(val48, 1);
dec_and_free(val58, 1);
dec_and_free(val39, 1);
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val47, 3);
dec_and_free(val45, 2);
dec_and_free(val44, 1);
dec_and_free(val51, 1);
dec_and_free(val50, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7884_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7885_18 = arg7884_13;

// call-vector
// #line 1401 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5582);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 1401 "toccata.toc"
Value *rslt17 = update_in_val_3782(empty_list, rslt16, inc_563);
Value *ev_19 = rslt17;
Value *arg7886_20 = arg7885_18;
Value *rslt21 = reified_type_args_22(empty_list, ev_19);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
Value *s_25 = arg7886_20;
Value *rslt29;
if((invoke_fn_22)->type != FunctionType) {
rslt29 = invoke_368(empty_list, invoke_fn_22, s_25);
} else {
FnArity *arity26 = findFnArity(invoke_fn_22, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, s_25);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(s_25, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_22)->name);
  abort();
}
dec_and_free(invoke_fn_22, 1);
}
Value *x_30 = rslt29;

incRef(x_30, 1);
Value *andRslt31;
andRslt31 = x_30;
if (isNothing(andRslt31)) {
dec_and_free(x_30, 1);
dec_and_free(val49, 2);
dec_and_free(val48, 1);
dec_and_free(val58, 1);
dec_and_free(val39, 1);
dec_and_free(val46, 1);
dec_and_free(val47, 3);
dec_and_free(val45, 2);
dec_and_free(val44, 1);
dec_and_free(val51, 1);
dec_and_free(val50, 1);
} else {
dec_and_free(andRslt31, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_30, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_33;
Value *ss_34;
Value *tail_35;
Value **destArgs36[3] = {&v_33, &ss_34, &tail_35};
destructValue("", "0", (Value *)rslt32, 3, destArgs36);

dec_and_free(tail_35, 1);
Value *arg7887_37 = ss_34;
Value *arg38 = v_33;

dec_and_free(arg38, 1);
Value *arg7888_40 = arg7887_37;
Value *__41 = val39;

// call-vector
// #line 1402 "toccata.toc"
Vector *newVect42 = empty_vect;
Value *rslt43 = (Value *)newVect42;

// call-vector
// #line 1403 "toccata.toc"
Vector *newVect52 = empty_vect;
newVect52 = mutateVectConj(newVect52, strPtr606);
newVect52 = mutateVectConj(newVect52, val44);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr492);
newVect52 = mutateVectConj(newVect52, val45);
newVect52 = mutateVectConj(newVect52, strPtr16);
newVect52 = mutateVectConj(newVect52, val46);
newVect52 = mutateVectConj(newVect52, strPtr607);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr608);
newVect52 = mutateVectConj(newVect52, val47);
newVect52 = mutateVectConj(newVect52, strPtr587);
newVect52 = mutateVectConj(newVect52, val48);
newVect52 = mutateVectConj(newVect52, strPtr609);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr441);
newVect52 = mutateVectConj(newVect52, val47);
newVect52 = mutateVectConj(newVect52, strPtr444);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr610);
newVect52 = mutateVectConj(newVect52, val49);
newVect52 = mutateVectConj(newVect52, strPtr611);
newVect52 = mutateVectConj(newVect52, val50);
newVect52 = mutateVectConj(newVect52, strPtr442);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr443);
newVect52 = mutateVectConj(newVect52, val47);
newVect52 = mutateVectConj(newVect52, strPtr444);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr612);
newVect52 = mutateVectConj(newVect52, strPtr5);
newVect52 = mutateVectConj(newVect52, strPtr613);
newVect52 = mutateVectConj(newVect52, strPtr614);
newVect52 = mutateVectConj(newVect52, val51);
newVect52 = mutateVectConj(newVect52, strPtr615);
newVect52 = mutateVectConj(newVect52, val49);
newVect52 = mutateVectConj(newVect52, strPtr616);
newVect52 = mutateVectConj(newVect52, val45);
newVect52 = mutateVectConj(newVect52, strPtr575);
newVect52 = mutateVectConj(newVect52, strPtr5);
Value *rslt53 = (Value *)newVect52;

// static-variadic
// #line 1416 "toccata.toc"
List *varArgs54 = empty_list;
Value *rslt55 = hash_map_1208(empty_list, (Value *)varArgs54);

// call invoke
// #line 1402 "toccata.toc"
Value *rslt56 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt43, rslt53, UnknownType_5361, rslt55);
Value *reified_fn_57 = rslt56;

// call-list
// #line 1417 "toccata.toc"
List *newList59 = empty_list;
newList59 = listCons((Value *)val58, newList59);
Value *rslt60 = (Value *)newList59;

// type-known for comp*
// #line 1417 "toccata.toc"
Value *rslt61 = c_code_comp_STAR__5978(empty_list, reified_fn_57, rslt60);
Value *v_62 = rslt61;
Value *arg7889_63 = arg7888_40;
Value *rslt64 = reified_type_args_22(empty_list, __41);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(invoke_fn_65, 1);

dec_and_free(tail_66, 1);
Value *s_68 = arg7889_63;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect69 = empty_vect;
newVect69 = mutateVectConj(newVect69, v_62);
newVect69 = mutateVectConj(newVect69, s_68);
Value *rslt70 = (Value *)newVect69;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt71 = maybe_4(empty_list, rslt70);
andRslt31 = rslt71;
}
return(andRslt31);
andRslt7 = andRslt31;
}

};};
Value *arityImpl7875(List *closures, Value *arg2) {
while (1) {
Value *dispArg_0;
Value *args_1;
Value **destArgs3[2] = {&dispArg_0, &args_1};
destructValue("toccata.toc", "1393", (Value *)arg2, 2, destArgs3);

incRef(dispArg_0, 2);

incRef(args_1, 1);
Value *val21;
Value *val22;
Value *val23;
Value *val24;
Value *val34;
Value *val42;
Value *val43;
Value *val44;
Value *val45;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs47[10] = {&val21, &val22, &val23, &val24, &val34, &val42, &val43, &val44, &val45, &closuresTail};
destructValue("", "", (Value *)closures, 10, destArgs47);

incRef(val21, 1);

incRef(val22, 1);

incRef(val24, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1394 "toccata.toc"
Value *rslt4 = cons_275(empty_list, dispArg_0, args_1);
Value *l_5 = rslt4;

// static-fixed
// #line 1051 "core"
Value *rslt6 = list_map_73(empty_list, l_5, fn7877);

// static-variadic
// #line 1396 "toccata.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)strPtr604, varArgs7);
Value *rslt8 = str_526(empty_list, (Value *)varArgs7);

// type-known for conj
// #line 1394 "toccata.toc"
Value *rslt9 = List_conj_837(empty_list, rslt6, rslt8);

// static-fixed
// #line 1394 "toccata.toc"
Value *rslt10 = interpose_503(empty_list, rslt9, strPtr17);

// type-unknown to-str
// #line 1394 "toccata.toc"
Value *rslt11 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt10, "toccata.toc", 1394);
Value *arg_decls_12 = rslt11;

// call-vector
// #line 1398 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, strPtr605);
newVect13 = mutateVectConj(newVect13, dispArg_0);
Value *rslt14 = (Value *)newVect13;

// call-list
// #line 1398 "toccata.toc"
List *newList15 = empty_list;
newList15 = listCons((Value *)args_1, newList15);
Value *rslt16 = (Value *)newList15;

// type-known for comp*
// #line 1398 "toccata.toc"
Value *rslt17 = Vector_comp_STAR__912(empty_list, rslt14, rslt16);

// static-fixed
// #line 1398 "toccata.toc"
Value *rslt18 = interpose_503(empty_list, rslt17, strPtr17);

// type-unknown to-str
// #line 1398 "toccata.toc"
Value *rslt19 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt18, "toccata.toc", 1398);
Value *args_20 = rslt19;

// static-variadic
// #line 1400 "toccata.toc"
List *varArgs25 = empty_list;
varArgs25 = (List *)listCons((Value *)val24, varArgs25);
varArgs25 = (List *)listCons((Value *)strPtr295, varArgs25);
Value *rslt26 = str_526(empty_list, (Value *)varArgs25);

// call-vector
// #line 1400 "toccata.toc"
Vector *newVect27 = empty_vect;
Value *rslt28 = (Value *)newVect27;

// call-vector
// #line 1400 "toccata.toc"
Vector *newVect29 = empty_vect;
Value *rslt30 = (Value *)newVect29;

// static-variadic
// #line 1400 "toccata.toc"
List *varArgs31 = empty_list;
Value *rslt32 = hash_map_1208(empty_list, (Value *)varArgs31);

// call invoke
// #line 1400 "toccata.toc"
Value *rslt33 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt26, rslt28, rslt30, FunctionType_5366, rslt32);

// static-fixed
// #line 1399 "toccata.toc"
Value *rslt35 = new_proto_impl_6331(empty_list, val21, val22, val23, rslt33, val34);
Value *ev_36 = rslt35;
Value *rslt37 = reified_type_args_22(empty_list, ev_36);
Value *invoke_fn_38;
Value *tail_39;
Value **destArgs40[2] = {&invoke_fn_38, &tail_39};
destructValue("", "0", (Value *)rslt37, 2, destArgs40);

dec_and_free(tail_39, 1);
FnArity *dynArity41 = malloc_fnArity();
dynArity41->count = 1;
dynArity41->variadic = 0;
dynArity41->fn = arityImpl7883;
dynArity41->closures = empty_list;
dynArity41->closures = listCons((Value *)val42, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val24, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)args_20, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val22, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val43, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)dispArg_0, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)arg_decls_12, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val44, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val21, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)val45, (List *)dynArity41->closures);
dynArity41->closures = listCons((Value *)invoke_fn_38, (List *)dynArity41->closures);
Function *anon_7890 = malloc_function(1);
anon_7890->name = "anon";
anon_7890->arityCount = 1;
anon_7890->arities[0] = dynArity41;
Value *fn7882 = (Value *)anon_7890;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt46 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7882);
return(rslt46);

};};
Value *arityImpl7860(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *val20;
Value *val21;
Value *val22;
Value *val23;
Value *val24;
Value *val25;
Value *val26;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs32[11] = {&val1, &val15, &val19, &val20, &val21, &val22, &val23, &val24, &val25, &val26, &closuresTail};
destructValue("", "", (Value *)closures, 11, destArgs32);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val23, 1);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
dec_and_free(val26, 1);
dec_and_free(val24, 1);
dec_and_free(val21, 1);
dec_and_free(val25, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7861_13 = ss_10;
Value *reify_fn_index_14 = v_9;

// type-unknown .fixed
// #line 1393 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", val15, "toccata.toc", 1393);

// static-fixed
// #line 1393 "toccata.toc"
Value *rslt17 = traverse_6470(empty_list, rslt16, fn7867);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl7875;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val20, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)reify_fn_index_14, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val21, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val22, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val23, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val24, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val25, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val26, (List *)dynArity18->closures);
Function *anon_7891 = malloc_function(1);
anon_7891->name = "anon";
anon_7891->arityCount = 1;
anon_7891->arities[0] = dynArity18;
Value *fn7866 = (Value *)anon_7891;

// type-unknown flat-map
// #line 1393 "toccata.toc"
Value *rslt27 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn7866, "toccata.toc", 1393);

// dynamic unknown type
// #line 1393 "toccata.toc"
Value *rslt31;
if((rslt27)->type != FunctionType) {
rslt31 = invoke_368(empty_list, rslt27, arg7861_13);
} else {
FnArity *arity28 = findFnArity(rslt27, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, arg7861_13);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(arg7861_13, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt27)->name);
  abort();
}
dec_and_free(rslt27, 1);
}
return(rslt31);
andRslt7 = rslt31;
}

};};
Value *ClosureArity_reify_arity_7857(List *closures, Value *arg0, Value *dispatch_type_num_1, Value *arity_ast_2, Value *fn_name_3) {
 while (1) {
Value *rslt4 = reified_type_args_22(empty_list, arg0);
Value *arity_fn_var_5;
Value *params_6;
Value *var_info_7;
Value *tail_8;
Value **destArgs9[4] = {&arity_fn_var_5, &params_6, &var_info_7, &tail_8};
destructValue("toccata.toc", "1380", (Value *)rslt4, 4, destArgs9);

dec_and_free(arity_fn_var_5, 1);

incRef(params_6, 1);

dec_and_free(tail_8, 1);

// type-unknown count
// #line 1389 "toccata.toc"
Value *rslt10 = proto1Arg(&count_Implementations_300, "<nothing>/count", params_6, "toccata.toc", 1389);
Value *param_count_11 = rslt10;

// static-fixed
// #line 1390 "toccata.toc"
Value *rslt12 = gensym_1675(empty_list, strPtr602);
Value *fn_arity_sym_13 = rslt12;

// static-fixed
// #line 1391 "toccata.toc"
Value *rslt14 = gensym_1675(empty_list, strPtr603);
Value *impl_fn_sym_15 = rslt14;

// static-fixed
// #line 1392 "toccata.toc"
Value *rslt16 = get_val_3323(empty_list, dispatchFnPtr5582);
Value *wrapper_17 = rslt16;

incRef(wrapper_17, 1);
Value *ev_18 = wrapper_17;
Value *rslt19 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
FnArity *dynArity23 = malloc_fnArity();
dynArity23->count = 1;
dynArity23->variadic = 0;
dynArity23->fn = arityImpl7860;
dynArity23->closures = empty_list;
dynArity23->closures = listCons((Value *)fn_name_3, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)param_count_11, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)dispatch_type_num_1, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)fn_arity_sym_13, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)arity_ast_2, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)var_info_7, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)impl_fn_sym_15, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)wrapper_17, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)params_6, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)invoke_fn_20, (List *)dynArity23->closures);
Function *anon_7892 = malloc_function(1);
anon_7892->name = "anon";
anon_7892->arityCount = 1;
anon_7892->arities[0] = dynArity23;
Value *fn7859 = (Value *)anon_7892;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt24 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7859);
return(rslt24);

};};
FnArity ClosureArity_reify_arity_7893 = {FnArityType, -1, 4, (List *)0, 0, ClosureArity_reify_arity_7857};
ReifiedVal reifiedStatic7894 = {179, -1, (Value *)0, 0, {}};
Value *reifiedPtr7895 = (Value *)&reifiedStatic7894;

// --------- emit-reified-fn -------------
Value *emit_reified_fn_7897;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str617 = {StringType, -1, 20, 0, "Invalid protocol fn:"};
Value *strPtr617 = (Value *)&str617;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str618 = {StringType, -1, 4, 0, "' in"};
Value *strPtr618 = (Value *)&str618;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str619 = {StringType, -1, 30, 0, "Could not compile protocol fn:"};
Value *strPtr619 = (Value *)&str619;
Value *arityImpl7908(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl7906(List *closures, Value *reified_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = reified_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7908;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_7909 = malloc_function(1);
anon_7909->name = "anon";
anon_7909->arityCount = 1;
anon_7909->arities[0] = dynArity8;
Value *fn7907 = (Value *)anon_7909;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7907);
return(rslt9);

};};
Value *arityImpl7904(List *closures, Value *arity_info_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[5] = {&val1, &val2, &val3, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs8);

dec_and_free(closuresTail, 1);

// type-unknown reify-arity
// #line 1430 "toccata.toc"
Value *rslt4 = proto4Arg(&reify_arity_Implementations_7741, "<nothing>/reify-arity", arity_info_0, val1, val2, val3, "toccata.toc", 1430);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7906;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)val6, (List *)dynArity5->closures);
Function *anon_7910 = malloc_function(1);
anon_7910->name = "anon";
anon_7910->arityCount = 1;
anon_7910->arities[0] = dynArity5;
Value *fn7905 = (Value *)anon_7910;

// type-unknown flat-map
// #line 1430 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt4, fn7905, "toccata.toc", 1430);
return(rslt7);

};};
Value *arityImpl7901(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val17;
Value *val30;
Value *val31;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs37[6] = {&val1, &val15, &val17, &val30, &val31, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs37);

incRef(val15, 1);

incRef(val17, 3);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val30, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val17, 4);
dec_and_free(val31, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7902_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// type-unknown emit
// #line 1425 "toccata.toc"
Value *rslt16 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", val15, "toccata.toc", 1425);

// static-variadic
// #line 1427 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)strPtr618, varArgs18);
varArgs18 = (List *)listCons((Value *)val17, varArgs18);
varArgs18 = (List *)listCons((Value *)strPtr10, varArgs18);
Value *rslt19 = str_526(empty_list, (Value *)varArgs18);

// type-unknown ast/file-name
// #line 1428 "toccata.toc"
Value *rslt20 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val17, "toccata.toc", 1428);

// static-variadic
// #line 1428 "toccata.toc"
List *varArgs21 = empty_list;
varArgs21 = (List *)listCons((Value *)strPtr181, varArgs21);
varArgs21 = (List *)listCons((Value *)rslt20, varArgs21);
Value *rslt22 = str_526(empty_list, (Value *)varArgs21);

// type-unknown ast/line-number
// #line 1429 "toccata.toc"
Value *rslt23 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val17, "toccata.toc", 1429);

// static-variadic
// #line 1426 "toccata.toc"
List *varArgs24 = empty_list;
varArgs24 = (List *)listCons((Value *)rslt23, varArgs24);
varArgs24 = (List *)listCons((Value *)rslt22, varArgs24);
varArgs24 = (List *)listCons((Value *)rslt19, varArgs24);
varArgs24 = (List *)listCons((Value *)strPtr619, varArgs24);
Value *rslt25 = compilation_error_5400(empty_list, (Value *)varArgs24);

// call-list
// #line 1425 "toccata.toc"
List *newList26 = empty_list;
newList26 = listCons((Value *)rslt25, newList26);
Value *rslt27 = (Value *)newList26;

// type-unknown comp*
// #line 1425 "toccata.toc"
Value *rslt28 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt16, rslt27, "toccata.toc", 1425);
FnArity *dynArity29 = malloc_fnArity();
dynArity29->count = 1;
dynArity29->variadic = 0;
dynArity29->fn = arityImpl7904;
dynArity29->closures = empty_list;
dynArity29->closures = listCons((Value *)val30, (List *)dynArity29->closures);
dynArity29->closures = listCons((Value *)val17, (List *)dynArity29->closures);
dynArity29->closures = listCons((Value *)val15, (List *)dynArity29->closures);
dynArity29->closures = listCons((Value *)val31, (List *)dynArity29->closures);
Function *anon_7911 = malloc_function(1);
anon_7911->name = "anon";
anon_7911->arityCount = 1;
anon_7911->arities[0] = dynArity29;
Value *fn7903 = (Value *)anon_7911;

// type-unknown flat-map
// #line 1425 "toccata.toc"
Value *rslt32 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt28, fn7903, "toccata.toc", 1425);

// dynamic unknown type
// #line 1425 "toccata.toc"
Value *rslt36;
if((rslt32)->type != FunctionType) {
rslt36 = invoke_368(empty_list, rslt32, arg7902_13);
} else {
FnArity *arity33 = findFnArity(rslt32, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, arg7902_13);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(arg7902_13, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt32)->name);
  abort();
}
dec_and_free(rslt32, 1);
}
return(rslt36);
andRslt7 = rslt36;
}

};};
Value *emit_reified_fn_7898(List *closures, Value *reified_type_num_0, Value *arg4) {
 while (1) {
Value *fn_name_1;
Value *arity_ast_2;
Value *tail_3;
Value **destArgs5[3] = {&fn_name_1, &arity_ast_2, &tail_3};
destructValue("toccata.toc", "1419", (Value *)arg4, 3, destArgs5);

incRef(fn_name_1, 4);

incRef(arity_ast_2, 1);

dec_and_free(tail_3, 1);

// type-unknown .params
// #line 1420 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls2420, "<nothing>/.params", arity_ast_2, "toccata.toc", 1420);

// type-unknown count
// #line 1420 "toccata.toc"
Value *rslt7 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt6, "toccata.toc", 1420);

// static-fixed
// #line 1420 "toccata.toc"
Value *rslt8 = get_protocol_dispatcher_6267(empty_list, fn_name_1, rslt7);

// static-variadic
// #line 1422 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)strPtr618, varArgs9);
varArgs9 = (List *)listCons((Value *)fn_name_1, varArgs9);
varArgs9 = (List *)listCons((Value *)strPtr10, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// type-unknown ast/file-name
// #line 1423 "toccata.toc"
Value *rslt11 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_name_1, "toccata.toc", 1423);

// static-variadic
// #line 1423 "toccata.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)strPtr181, varArgs12);
varArgs12 = (List *)listCons((Value *)rslt11, varArgs12);
Value *rslt13 = str_526(empty_list, (Value *)varArgs12);

// type-unknown ast/line-number
// #line 1424 "toccata.toc"
Value *rslt14 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", fn_name_1, "toccata.toc", 1424);

// static-variadic
// #line 1421 "toccata.toc"
List *varArgs15 = empty_list;
varArgs15 = (List *)listCons((Value *)rslt14, varArgs15);
varArgs15 = (List *)listCons((Value *)rslt13, varArgs15);
varArgs15 = (List *)listCons((Value *)rslt10, varArgs15);
varArgs15 = (List *)listCons((Value *)strPtr617, varArgs15);
Value *rslt16 = compilation_error_5400(empty_list, (Value *)varArgs15);

// call-list
// #line 1420 "toccata.toc"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
Value *rslt18 = (Value *)newList17;

// type-known for comp*
// #line 1420 "toccata.toc"
Value *rslt19 = new_sm_comp_STAR__2805(empty_list, rslt8, rslt18);
Value *wrapper_20 = rslt19;

incRef(wrapper_20, 1);
Value *ev_21 = wrapper_20;
Value *rslt22 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
FnArity *dynArity26 = malloc_fnArity();
dynArity26->count = 1;
dynArity26->variadic = 0;
dynArity26->fn = arityImpl7901;
dynArity26->closures = empty_list;
dynArity26->closures = listCons((Value *)reified_type_num_0, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)wrapper_20, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)fn_name_1, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)arity_ast_2, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)invoke_fn_23, (List *)dynArity26->closures);
Function *anon_7912 = malloc_function(1);
anon_7912->name = "anon";
anon_7912->arityCount = 1;
anon_7912->arities[0] = dynArity26;
Value *fn7900 = (Value *)anon_7912;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt27 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7900);
return(rslt27);

};};
FnArity emit_reified_fn_7913 = {FnArityType, -1, 2, (List *)0, 0, emit_reified_fn_7898};
Function emit_reified_fn_7914 = {FunctionType, -1, "emit-reified-fn", 1, {&emit_reified_fn_7913}};
Value *emit_reified_fn_7897 = (Value *)&emit_reified_fn_7914;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str620 = {StringType, -1, 17, 0, "Invalid protocol:"};
Value *strPtr620 = (Value *)&str620;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str621 = {StringType, -1, 2, 0, "in"};
Value *strPtr621 = (Value *)&str621;
Value *arityImpl7931(List *closures, Value *protocol_name_0) {
while (1) {

incRef(protocol_name_0, 2);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs12);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1441 "toccata.toc"
Value *rslt1 = get_protocol_6097(empty_list, protocol_name_0);

// type-known for ast/file-name
// #line 1443 "toccata.toc"
Value *rslt3 = reify_ast_file_name_4383(empty_list, val2);

// static-variadic
// #line 1443 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)strPtr181, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
Value *rslt5 = str_526(empty_list, (Value *)varArgs4);

// type-unknown ast/line-number
// #line 1444 "toccata.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", protocol_name_0, "toccata.toc", 1444);

// static-variadic
// #line 1442 "toccata.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)rslt6, varArgs7);
varArgs7 = (List *)listCons((Value *)rslt5, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr621, varArgs7);
varArgs7 = (List *)listCons((Value *)protocol_name_0, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr620, varArgs7);
Value *rslt8 = compilation_error_5400(empty_list, (Value *)varArgs7);

// call-list
// #line 1441 "toccata.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)rslt8, newList9);
Value *rslt10 = (Value *)newList9;

// type-known for comp*
// #line 1441 "toccata.toc"
Value *rslt11 = new_sm_comp_STAR__2805(empty_list, rslt1, rslt10);
return(rslt11);

};};
Value *arityImpl7949(List *closures, Value *impl_arity_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1448 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, val2);
newVect3 = mutateVectConj(newVect3, impl_arity_0);
Value *rslt4 = (Value *)newVect3;

// type-unknown wrap
// #line 1447 "toccata.toc"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "toccata.toc", 1447);
return(rslt5);

};};
Value *arityImpl7947(List *closures, Value *arg3) {
while (1) {
Value *fn_name_0;
Value *arities_1;
Value *tail_2;
Value **destArgs4[3] = {&fn_name_0, &arities_1, &tail_2};
destructValue("toccata.toc", "1446", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7949;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)fn_name_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)val6, (List *)dynArity5->closures);
Function *anon_7950 = malloc_function(1);
anon_7950->name = "anon";
anon_7950->arityCount = 1;
anon_7950->arities[0] = dynArity5;
Value *fn7948 = (Value *)anon_7950;

// type-unknown flat-map
// #line 1447 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", arities_1, fn7948, "toccata.toc", 1447);
return(rslt7);

};};
Value *arityImpl7945(List *closures, Value *impl_fns_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// type-unknown seq
// #line 1446 "toccata.toc"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", impl_fns_0, "toccata.toc", 1446);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl7947;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)val3, (List *)dynArity2->closures);
Function *anon_7951 = malloc_function(1);
anon_7951->name = "anon";
anon_7951->arityCount = 1;
anon_7951->arities[0] = dynArity2;
Value *fn7946 = (Value *)anon_7951;

// type-unknown flat-map
// #line 1446 "toccata.toc"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt1, fn7946, "toccata.toc", 1446);
return(rslt4);

};};
Value *arityImpl7956(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs56[5] = {&val1, &val15, &val16, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs56);

incRef(val15, 1);

incRef(val16, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val43, 1);
dec_and_free(val16, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7957_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg7958_22 = arg7957_13;

// static-fixed
// #line 1451 "toccata.toc"
Value *rslt17 = closure_reified_value_7687(empty_list, val15, val16);

// static-fixed
// #line 1452 "toccata.toc"
Value *rslt18 = static_reified_value_7721(empty_list, val15, val16);

// call-list
// #line 1451 "toccata.toc"
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
Value *rslt20 = (Value *)newList19;

// type-known for comp*
// #line 1451 "toccata.toc"
Value *rslt21 = new_sm_comp_STAR__2805(empty_list, rslt17, rslt20);
Value *ev_23 = rslt21;
Value *arg7959_24 = arg7958_22;
Value *rslt25 = reified_type_args_22(empty_list, ev_23);
Value *invoke_fn_26;
Value *tail_27;
Value **destArgs28[2] = {&invoke_fn_26, &tail_27};
destructValue("", "0", (Value *)rslt25, 2, destArgs28);

dec_and_free(tail_27, 1);
Value *s_29 = arg7959_24;
Value *rslt33;
if((invoke_fn_26)->type != FunctionType) {
rslt33 = invoke_368(empty_list, invoke_fn_26, s_29);
} else {
FnArity *arity30 = findFnArity(invoke_fn_26, 1);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
rslt33 = fn32(arity30->closures, s_29);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
dynArgs31 = (List *)listCons(s_29, dynArgs31);
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_26)->name);
  abort();
}
dec_and_free(invoke_fn_26, 1);
}
Value *x_34 = rslt33;

incRef(x_34, 1);
Value *andRslt35;
andRslt35 = x_34;
if (isNothing(andRslt35)) {
dec_and_free(val43, 1);
dec_and_free(x_34, 1);
} else {
dec_and_free(andRslt35, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_34, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_37;
Value *ss_38;
Value *tail_39;
Value **destArgs40[3] = {&v_37, &ss_38, &tail_39};
destructValue("", "0", (Value *)rslt36, 3, destArgs40);

dec_and_free(tail_39, 1);
Value *arg7960_41 = ss_38;
Value *reified_result_42 = v_37;
Value *arg7961_44 = arg7960_41;
Value *__45 = val43;
Value *v_46 = reified_result_42;
Value *arg7962_47 = arg7961_44;
Value *rslt48 = reified_type_args_22(empty_list, __45);
Value *invoke_fn_49;
Value *tail_50;
Value **destArgs51[2] = {&invoke_fn_49, &tail_50};
destructValue("", "0", (Value *)rslt48, 2, destArgs51);

dec_and_free(invoke_fn_49, 1);

dec_and_free(tail_50, 1);
Value *s_52 = arg7962_47;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect53 = empty_vect;
newVect53 = mutateVectConj(newVect53, v_46);
newVect53 = mutateVectConj(newVect53, s_52);
Value *rslt54 = (Value *)newVect53;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = maybe_4(empty_list, rslt54);
andRslt35 = rslt55;
}
return(andRslt35);
andRslt7 = andRslt35;
}

};};
Value *arityImpl7953(List *closures, Value *impl_fns_0) {
while (1) {
Value *val1;
Value *val9;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[4] = {&val1, &val9, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs12);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1450 "toccata.toc"
Value *rslt2 = set_val_3417(empty_list, dispatchFnPtr5582, val1);
Value *ev_3 = rslt2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl7956;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)val9, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)impl_fns_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val10, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_7963 = malloc_function(1);
anon_7963->name = "anon";
anon_7963->arityCount = 1;
anon_7963->arities[0] = dynArity8;
Value *fn7955 = (Value *)anon_7963;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7955);
return(rslt11);

};};
Value *arityImpl7933(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val7;
Value *val12;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[5] = {&val1, &val7, &val12, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs15);

incRef(val7, 1);

dec_and_free(closuresTail, 1);

// type-known for .impls
// #line 1445 "toccata.toc"
Value *rslt2 = reify_ast_impls_4377(empty_list, val1);

// type-unknown vals
// #line 1445 "toccata.toc"
Value *rslt3 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", rslt2, "toccata.toc", 1445);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl7945;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)wrapper_4, (List *)dynArity5->closures);
Function *anon_7952 = malloc_function(1);
anon_7952->name = "anon";
anon_7952->arityCount = 1;
anon_7952->arities[0] = dynArity5;
Value *fn7944 = (Value *)anon_7952;

// type-unknown flat-map
// #line 1445 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_4, fn7944, "toccata.toc", 1445);

// static-variadic
// #line 1449 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)val7, varArgs8);
varArgs8 = (List *)listCons((Value *)emit_reified_fn_7897, varArgs8);
Value *rslt9 = partial_969(empty_list, (Value *)varArgs8);

// static-fixed
// #line 1445 "toccata.toc"
Value *rslt10 = traverse_6470(empty_list, rslt6, rslt9);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7953;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)val7, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val12, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val13, (List *)dynArity11->closures);
Function *anon_7964 = malloc_function(1);
anon_7964->name = "anon";
anon_7964->arityCount = 1;
anon_7964->arities[0] = dynArity11;
Value *fn7934 = (Value *)anon_7964;

// type-unknown flat-map
// #line 1445 "toccata.toc"
Value *rslt14 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt10, fn7934, "toccata.toc", 1445);
return(rslt14);

};};
Value *arityImpl7918(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val43;
Value *val44;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs50[5] = {&val1, &val37, &val43, &val44, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs50);

incRef(val37, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val37, 3);
dec_and_free(val43, 1);
dec_and_free(val44, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7919_13 = ss_10;
Value *reify_fn_index_14 = v_9;
Value *arg7920_16 = arg7919_13;

// static-fixed
// #line 1438 "toccata.toc"
Value *rslt15 = set_val_3417(empty_list, dispatchFnPtr5582, numPtr0);
Value *ev_17 = rslt15;
Value *arg7921_18 = arg7920_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7921_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val37, 3);
dec_and_free(val43, 1);
dec_and_free(x_28, 1);
dec_and_free(reify_fn_index_14, 1);
dec_and_free(val44, 1);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7922_35 = ss_32;
Value *arg36 = v_31;

dec_and_free(arg36, 1);

// type-known for .impls
// #line 1439 "toccata.toc"
Value *rslt38 = reify_ast_impls_4377(empty_list, val37);

// type-unknown keys
// #line 1439 "toccata.toc"
Value *rslt39 = proto1Arg(&keys_Implementations_359, "<nothing>/keys", rslt38, "toccata.toc", 1439);
FnArity *dynArity40 = malloc_fnArity();
dynArity40->count = 1;
dynArity40->variadic = 0;
dynArity40->fn = arityImpl7931;
dynArity40->closures = empty_list;
dynArity40->closures = listCons((Value *)val37, (List *)dynArity40->closures);
Function *anon_7932 = malloc_function(1);
anon_7932->name = "anon";
anon_7932->arityCount = 1;
anon_7932->arities[0] = dynArity40;
Value *fn7927 = (Value *)anon_7932;

// static-fixed
// #line 1439 "toccata.toc"
Value *rslt41 = traverse_6470(empty_list, rslt39, fn7927);
FnArity *dynArity42 = malloc_fnArity();
dynArity42->count = 1;
dynArity42->variadic = 0;
dynArity42->fn = arityImpl7933;
dynArity42->closures = empty_list;
dynArity42->closures = listCons((Value *)reify_fn_index_14, (List *)dynArity42->closures);
dynArity42->closures = listCons((Value *)val43, (List *)dynArity42->closures);
dynArity42->closures = listCons((Value *)val44, (List *)dynArity42->closures);
dynArity42->closures = listCons((Value *)val37, (List *)dynArity42->closures);
Function *anon_7965 = malloc_function(1);
anon_7965->name = "anon";
anon_7965->arityCount = 1;
anon_7965->arities[0] = dynArity42;
Value *fn7926 = (Value *)anon_7965;

// type-unknown flat-map
// #line 1439 "toccata.toc"
Value *rslt45 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt41, fn7926, "toccata.toc", 1439);

// dynamic unknown type
// #line 1439 "toccata.toc"
Value *rslt49;
if((rslt45)->type != FunctionType) {
rslt49 = invoke_368(empty_list, rslt45, arg7922_35);
} else {
FnArity *arity46 = findFnArity(rslt45, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, arg7922_35);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(arg7922_35, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt45)->name);
  abort();
}
dec_and_free(rslt45, 1);
}
andRslt29 = rslt49;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *emit_7915(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);

// type-known for .type-num
// #line 1436 "toccata.toc"
Value *rslt1 = reify_ast_type_num_4373(empty_list, ast_0);
Value *reified_type_num_2 = rslt1;

// static-fixed
// #line 1437 "toccata.toc"
Value *rslt3 = get_val_3323(empty_list, dispatchFnPtr5582);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl7918;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)reified_type_num_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)ast_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_7966 = malloc_function(1);
anon_7966->name = "anon";
anon_7966->arityCount = 1;
anon_7966->arities[0] = dynArity10;
Value *fn7917 = (Value *)anon_7966;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7917);
return(rslt11);

};};
FnArity emit_7967 = {FnArityType, -1, 1, (List *)0, 0, emit_7915};
Value *arityImpl7987(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val14;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[3] = {&val1, &val14, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs28);

incRef(val14, 5);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val14, 6);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *c_info_13 = v_9;

// type-unknown .c-var
// #line 1463 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val14, "toccata.toc", 1463);

// type-unknown .init
// #line 1463 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5595, "<nothing>/.init", val14, "toccata.toc", 1463);

// type-unknown .c-var
// #line 1463 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", c_info_13, "toccata.toc", 1463);

// type-unknown .c-var
// #line 1464 "toccata.toc"
Value *rslt18 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val14, "toccata.toc", 1464);

// call-vector
// #line 1463 "toccata.toc"
Vector *newVect19 = empty_vect;
newVect19 = mutateVectConj(newVect19, rslt16);
newVect19 = mutateVectConj(newVect19, strPtr5);
newVect19 = mutateVectConj(newVect19, rslt17);
newVect19 = mutateVectConj(newVect19, strPtr500);
newVect19 = mutateVectConj(newVect19, rslt18);
newVect19 = mutateVectConj(newVect19, strPtr303);
newVect19 = mutateVectConj(newVect19, strPtr5);
Value *rslt20 = (Value *)newVect19;

// type-unknown .decl
// #line 1465 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val14, "toccata.toc", 1465);

// type-unknown .type-num
// #line 1465 "toccata.toc"
Value *rslt22 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val14, "toccata.toc", 1465);

// type-unknown .refs-map
// #line 1465 "toccata.toc"
Value *rslt23 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", val14, "toccata.toc", 1465);

// call invoke
// #line 1463 "toccata.toc"
Value *rslt24 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt15, rslt20, rslt21, rslt22, rslt23);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, rslt24);
newVect25 = mutateVectConj(newVect25, new_s_10);
Value *rslt26 = (Value *)newVect25;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
return(rslt27);
andRslt7 = rslt27;
}

};};
Value *arityImpl7971(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val106;
Value *val171;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs186[5] = {&val1, &val37, &val106, &val171, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs186);

incRef(val106, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val37, 1);
dec_and_free(val171, 1);
dec_and_free(val106, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg7972_13 = ss_10;
Value *init_fn_context_14 = v_9;
Value *arg7973_16 = arg7972_13;

// static-fixed
// #line 1457 "toccata.toc"
Value *rslt15 = reset_fn_context_5803(empty_list, init_fn_context_14);
Value *ev_17 = rslt15;
Value *arg7974_18 = arg7973_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg7974_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val37, 1);
dec_and_free(val171, 1);
dec_and_free(x_28, 1);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg7975_35 = ss_32;
Value *fn_context_36 = v_31;
Value *arg7976_39 = arg7975_35;

// type-known for emit
// #line 1458 "toccata.toc"
Value *rslt38 = emit_7915(empty_list, val37);
Value *ev_40 = rslt38;
Value *arg7977_41 = arg7976_39;
Value *rslt42 = reified_type_args_22(empty_list, ev_40);
Value *invoke_fn_43;
Value *tail_44;
Value **destArgs45[2] = {&invoke_fn_43, &tail_44};
destructValue("", "0", (Value *)rslt42, 2, destArgs45);

dec_and_free(tail_44, 1);
Value *s_46 = arg7977_41;
Value *rslt50;
if((invoke_fn_43)->type != FunctionType) {
rslt50 = invoke_368(empty_list, invoke_fn_43, s_46);
} else {
FnArity *arity47 = findFnArity(invoke_fn_43, 1);
if(arity47 != (FnArity *)0 && !arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
rslt50 = fn49(arity47->closures, s_46);
} else if(arity47 != (FnArity *)0 && arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
List *dynArgs48 = empty_list;
dynArgs48 = (List *)listCons(s_46, dynArgs48);
rslt50 = fn49(arity47->closures, (Value *)dynArgs48);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_43)->name);
  abort();
}
dec_and_free(invoke_fn_43, 1);
}
Value *x_51 = rslt50;

incRef(x_51, 1);
Value *andRslt52;
andRslt52 = x_51;
if (isNothing(andRslt52)) {
dec_and_free(fn_context_36, 1);
dec_and_free(val171, 1);
dec_and_free(x_51, 1);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt52, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_51, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_54;
Value *ss_55;
Value *tail_56;
Value **destArgs57[3] = {&v_54, &ss_55, &tail_56};
destructValue("", "0", (Value *)rslt53, 3, destArgs57);

dec_and_free(tail_56, 1);
Value *arg7978_58 = ss_55;
Value *value_59 = v_54;

incRef(value_59, 1);
Value *arg7979_61 = arg7978_58;

// static-fixed
// #line 1459 "toccata.toc"
Value *rslt60 = reset_fn_context_5803(empty_list, fn_context_36);
Value *ev_62 = rslt60;
Value *arg7980_63 = arg7979_61;
Value *rslt64 = reified_type_args_22(empty_list, ev_62);
Value *invoke_fn_65;
Value *tail_66;
Value **destArgs67[2] = {&invoke_fn_65, &tail_66};
destructValue("", "0", (Value *)rslt64, 2, destArgs67);

dec_and_free(tail_66, 1);
Value *s_68 = arg7980_63;
Value *rslt72;
if((invoke_fn_65)->type != FunctionType) {
rslt72 = invoke_368(empty_list, invoke_fn_65, s_68);
} else {
FnArity *arity69 = findFnArity(invoke_fn_65, 1);
if(arity69 != (FnArity *)0 && !arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
rslt72 = fn71(arity69->closures, s_68);
} else if(arity69 != (FnArity *)0 && arity69->variadic) {
FnType1 *fn71 = (FnType1 *)arity69->fn;
List *dynArgs70 = empty_list;
dynArgs70 = (List *)listCons(s_68, dynArgs70);
rslt72 = fn71(arity69->closures, (Value *)dynArgs70);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_65)->name);
  abort();
}
dec_and_free(invoke_fn_65, 1);
}
Value *x_73 = rslt72;

incRef(x_73, 1);
Value *andRslt74;
andRslt74 = x_73;
if (isNothing(andRslt74)) {
dec_and_free(val171, 1);
dec_and_free(x_73, 1);
dec_and_free(value_59, 2);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt74, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt75 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_73, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_76;
Value *ss_77;
Value *tail_78;
Value **destArgs79[3] = {&v_76, &ss_77, &tail_78};
destructValue("", "0", (Value *)rslt75, 3, destArgs79);

dec_and_free(tail_78, 1);
Value *arg7981_80 = ss_77;
Value *init_fn_context_81 = v_76;
Value *arg7982_85 = arg7981_80;

// call-vector
// #line 1460 "toccata.toc"
Vector *newVect82 = empty_vect;
newVect82 = mutateVectConj(newVect82, dispatchFnPtr5587);
newVect82 = mutateVectConj(newVect82, dispatchFnPtr5469);
Value *rslt83 = (Value *)newVect82;

// static-fixed
// #line 1460 "toccata.toc"
Value *rslt84 = assoc_in_val_3599(empty_list, rslt83, init_fn_context_81);
Value *ev_86 = rslt84;
Value *arg7983_87 = arg7982_85;
Value *rslt88 = reified_type_args_22(empty_list, ev_86);
Value *invoke_fn_89;
Value *tail_90;
Value **destArgs91[2] = {&invoke_fn_89, &tail_90};
destructValue("", "0", (Value *)rslt88, 2, destArgs91);

dec_and_free(tail_90, 1);
Value *s_92 = arg7983_87;
Value *rslt96;
if((invoke_fn_89)->type != FunctionType) {
rslt96 = invoke_368(empty_list, invoke_fn_89, s_92);
} else {
FnArity *arity93 = findFnArity(invoke_fn_89, 1);
if(arity93 != (FnArity *)0 && !arity93->variadic) {
FnType1 *fn95 = (FnType1 *)arity93->fn;
rslt96 = fn95(arity93->closures, s_92);
} else if(arity93 != (FnArity *)0 && arity93->variadic) {
FnType1 *fn95 = (FnType1 *)arity93->fn;
List *dynArgs94 = empty_list;
dynArgs94 = (List *)listCons(s_92, dynArgs94);
rslt96 = fn95(arity93->closures, (Value *)dynArgs94);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_89)->name);
  abort();
}
dec_and_free(invoke_fn_89, 1);
}
Value *x_97 = rslt96;

incRef(x_97, 1);
Value *andRslt98;
andRslt98 = x_97;
if (isNothing(andRslt98)) {
dec_and_free(val171, 1);
dec_and_free(x_97, 1);
dec_and_free(value_59, 2);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt98, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt99 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_97, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_100;
Value *ss_101;
Value *tail_102;
Value **destArgs103[3] = {&v_100, &ss_101, &tail_102};
destructValue("", "0", (Value *)rslt99, 3, destArgs103);

dec_and_free(tail_102, 1);
Value *arg7984_104 = ss_101;
Value *arg105 = v_100;

dec_and_free(arg105, 1);
Value *arg7989_119 = arg7984_104;

// static-fixed
// #line 1461 "toccata.toc"
Value *rslt107 = lookup_declaration_6542(empty_list, val106);
Value *__108 = rslt107;
Value *rslt109 = reified_type_args_22(empty_list, __108);
Value *invoke_fn_110;
Value *tail_111;
Value **destArgs112[2] = {&invoke_fn_110, &tail_111};
destructValue("", "0", (Value *)rslt109, 2, destArgs112);

dec_and_free(tail_111, 1);
FnArity *dynArity113 = malloc_fnArity();
dynArity113->count = 1;
dynArity113->variadic = 0;
dynArity113->fn = arityImpl7987;
dynArity113->closures = empty_list;
dynArity113->closures = listCons((Value *)value_59, (List *)dynArity113->closures);
dynArity113->closures = listCons((Value *)invoke_fn_110, (List *)dynArity113->closures);
Function *anon_7988 = malloc_function(1);
anon_7988->name = "anon";
anon_7988->arityCount = 1;
anon_7988->arities[0] = dynArity113;
Value *fn7986 = (Value *)anon_7988;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt114 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7986);

// call invoke
// #line 1466 "toccata.toc"
Value *rslt115 = arityImpl2933(empty_list, reifiedPtr2939, value_59);

// call-list
// #line 1461 "toccata.toc"
List *newList116 = empty_list;
newList116 = listCons((Value *)rslt115, newList116);
Value *rslt117 = (Value *)newList116;

// type-known for comp*
// #line 1461 "toccata.toc"
Value *rslt118 = new_sm_comp_STAR__2805(empty_list, rslt114, rslt117);
Value *ev_120 = rslt118;
Value *arg7990_121 = arg7989_119;
Value *rslt122 = reified_type_args_22(empty_list, ev_120);
Value *invoke_fn_123;
Value *tail_124;
Value **destArgs125[2] = {&invoke_fn_123, &tail_124};
destructValue("", "0", (Value *)rslt122, 2, destArgs125);

dec_and_free(tail_124, 1);
Value *s_126 = arg7990_121;
Value *rslt130;
if((invoke_fn_123)->type != FunctionType) {
rslt130 = invoke_368(empty_list, invoke_fn_123, s_126);
} else {
FnArity *arity127 = findFnArity(invoke_fn_123, 1);
if(arity127 != (FnArity *)0 && !arity127->variadic) {
FnType1 *fn129 = (FnType1 *)arity127->fn;
rslt130 = fn129(arity127->closures, s_126);
} else if(arity127 != (FnArity *)0 && arity127->variadic) {
FnType1 *fn129 = (FnType1 *)arity127->fn;
List *dynArgs128 = empty_list;
dynArgs128 = (List *)listCons(s_126, dynArgs128);
rslt130 = fn129(arity127->closures, (Value *)dynArgs128);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_123)->name);
  abort();
}
dec_and_free(invoke_fn_123, 1);
}
Value *x_131 = rslt130;

incRef(x_131, 1);
Value *andRslt132;
andRslt132 = x_131;
if (isNothing(andRslt132)) {
dec_and_free(x_131, 1);
dec_and_free(val171, 1);
dec_and_free(val106, 1);
} else {
dec_and_free(andRslt132, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt133 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_131, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_134;
Value *ss_135;
Value *tail_136;
Value **destArgs137[3] = {&v_134, &ss_135, &tail_136};
destructValue("", "0", (Value *)rslt133, 3, destArgs137);

dec_and_free(tail_136, 1);
Value *arg7991_138 = ss_135;
Value *value_139 = v_134;

incRef(value_139, 2);
Value *arg7992_150 = arg7991_138;

// type-unknown .c-var
// #line 1467 "toccata.toc"
Value *rslt140 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_139, "toccata.toc", 1467);

// call-vector
// #line 1467 "toccata.toc"
Vector *newVect141 = empty_vect;
Value *rslt142 = (Value *)newVect141;

// call-vector
// #line 1467 "toccata.toc"
Vector *newVect143 = empty_vect;
Value *rslt144 = (Value *)newVect143;

// type-unknown .type-num
// #line 1467 "toccata.toc"
Value *rslt145 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", value_139, "toccata.toc", 1467);

// static-variadic
// #line 1467 "toccata.toc"
List *varArgs146 = empty_list;
Value *rslt147 = hash_map_1208(empty_list, (Value *)varArgs146);

// call invoke
// #line 1467 "toccata.toc"
Value *rslt148 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt140, rslt142, rslt144, rslt145, rslt147);

// static-fixed
// #line 1467 "toccata.toc"
Value *rslt149 = new_module_def_6527(empty_list, val106, rslt148);
Value *ev_151 = rslt149;
Value *arg7993_152 = arg7992_150;
Value *rslt153 = reified_type_args_22(empty_list, ev_151);
Value *invoke_fn_154;
Value *tail_155;
Value **destArgs156[2] = {&invoke_fn_154, &tail_155};
destructValue("", "0", (Value *)rslt153, 2, destArgs156);

dec_and_free(tail_155, 1);
Value *s_157 = arg7993_152;
Value *rslt161;
if((invoke_fn_154)->type != FunctionType) {
rslt161 = invoke_368(empty_list, invoke_fn_154, s_157);
} else {
FnArity *arity158 = findFnArity(invoke_fn_154, 1);
if(arity158 != (FnArity *)0 && !arity158->variadic) {
FnType1 *fn160 = (FnType1 *)arity158->fn;
rslt161 = fn160(arity158->closures, s_157);
} else if(arity158 != (FnArity *)0 && arity158->variadic) {
FnType1 *fn160 = (FnType1 *)arity158->fn;
List *dynArgs159 = empty_list;
dynArgs159 = (List *)listCons(s_157, dynArgs159);
rslt161 = fn160(arity158->closures, (Value *)dynArgs159);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_154)->name);
  abort();
}
dec_and_free(invoke_fn_154, 1);
}
Value *x_162 = rslt161;

incRef(x_162, 1);
Value *andRslt163;
andRslt163 = x_162;
if (isNothing(andRslt163)) {
dec_and_free(value_139, 1);
dec_and_free(val171, 1);
dec_and_free(x_162, 1);
} else {
dec_and_free(andRslt163, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt164 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_162, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_165;
Value *ss_166;
Value *tail_167;
Value **destArgs168[3] = {&v_165, &ss_166, &tail_167};
destructValue("", "0", (Value *)rslt164, 3, destArgs168);

dec_and_free(tail_167, 1);
Value *arg7994_169 = ss_166;
Value *arg170 = v_165;

dec_and_free(arg170, 1);
Value *arg7995_172 = arg7994_169;
Value *__173 = val171;

// call-vector
// #line 1468 "toccata.toc"
Vector *newVect174 = empty_vect;
newVect174 = mutateVectConj(newVect174, value_139);
Value *rslt175 = (Value *)newVect174;
Value *v_176 = rslt175;
Value *arg7996_177 = arg7995_172;
Value *rslt178 = reified_type_args_22(empty_list, __173);
Value *invoke_fn_179;
Value *tail_180;
Value **destArgs181[2] = {&invoke_fn_179, &tail_180};
destructValue("", "0", (Value *)rslt178, 2, destArgs181);

dec_and_free(invoke_fn_179, 1);

dec_and_free(tail_180, 1);
Value *s_182 = arg7996_177;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect183 = empty_vect;
newVect183 = mutateVectConj(newVect183, v_176);
newVect183 = mutateVectConj(newVect183, s_182);
Value *rslt184 = (Value *)newVect183;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt185 = maybe_4(empty_list, rslt184);
andRslt163 = rslt185;
}
andRslt132 = andRslt163;
}
andRslt98 = andRslt132;
}
andRslt74 = andRslt98;
}
andRslt52 = andRslt74;
}
andRslt29 = andRslt52;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *emit_defined_value_7968(List *closures, Value *ast_0, Value *defined_sym_1) {
 while (1) {

// call-vector
// #line 1456 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5587);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 1456 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl7971;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)defined_sym_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)ast_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_7997 = malloc_function(1);
anon_7997->name = "anon";
anon_7997->arityCount = 1;
anon_7997->arities[0] = dynArity11;
Value *fn7970 = (Value *)anon_7997;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn7970);
return(rslt12);

};};
FnArity emit_defined_value_7998 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_7968};
Value *tail_call_7999(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// call invoke
// #line 1470 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, ast_0, params_1);
return(rslt2);

};};
FnArity tail_call_8000 = {FnArityType, -1, 2, (List *)0, 0, tail_call_7999};

// --------- filter-vals -------------
Value *filter_vals_8002;
Value *arityImpl8007(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[4] = {&val1, &val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs5);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1476 "toccata.toc"
Value *rslt4 = assoc_1033(empty_list, val1, val2, val3);
return(rslt4);

};};
Value *arityImpl8005(List *closures, Value *m_0, Value *arg4) {
while (1) {

incRef(m_0, 1);
Value *k_1;
Value *v_2;
Value *tail_3;
Value **destArgs5[3] = {&k_1, &v_2, &tail_3};
destructValue("toccata.toc", "1475", (Value *)arg4, 3, destArgs5);

incRef(v_2, 1);

dec_and_free(tail_3, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs13);

dec_and_free(closuresTail, 1);

// dynamic unknown type
// #line 1476 "toccata.toc"
Value *rslt10;
if((val6)->type != FunctionType) {
rslt10 = invoke_368(empty_list, val6, v_2);
} else {
FnArity *arity7 = findFnArity(val6, 1);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
rslt10 = fn9(arity7->closures, v_2);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(v_2, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val6)->name);
  abort();
}
dec_and_free(val6, 1);
}
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl8007;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)v_2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)k_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)m_0, (List *)dynArity11->closures);
Function *anon_8008 = malloc_function(1);
anon_8008->name = "anon";
anon_8008->arityCount = 1;
anon_8008->arities[0] = dynArity11;
Value *fn8006 = (Value *)anon_8008;

// type-unknown map
// #line 1476 "toccata.toc"
Value *rslt12 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt10, fn8006, "toccata.toc", 1476);
if (!isNothing(rslt12)) {
dec_and_free(m_0, 1);
return(maybeExtract(rslt12));
} else {
dec_and_free(rslt12, 1);
return(m_0);
}

};};
Value *filter_vals_8003(List *closures, Value *m_0, Value *f_1) {
 while (1) {

// type-unknown seq
// #line 1474 "toccata.toc"
Value *rslt2 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", m_0, "toccata.toc", 1474);

// static-variadic
// #line 1474 "toccata.toc"
List *varArgs3 = empty_list;
Value *rslt4 = hash_map_1208(empty_list, (Value *)varArgs3);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 2;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl8005;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)f_1, (List *)dynArity5->closures);
Function *anon_8009 = malloc_function(1);
anon_8009->name = "anon";
anon_8009->arityCount = 1;
anon_8009->arities[0] = dynArity5;
Value *fn8004 = (Value *)anon_8009;

// type-unknown reduce
// #line 1474 "toccata.toc"
Value *rslt6 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt2, rslt4, fn8004, "toccata.toc", 1474);
return(rslt6);

};};
FnArity filter_vals_8010 = {FnArityType, -1, 2, (List *)0, 0, filter_vals_8003};
Function filter_vals_8011 = {FunctionType, -1, "filter-vals", 1, {&filter_vals_8010}};
Value *filter_vals_8002 = (Value *)&filter_vals_8011;


// --------- decrement-refs -------------
Value *decrement_refs_8013;
Value *arityImpl8016(List *closures, Value *refs_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs4);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1481 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)val1, varArgs2);
varArgs2 = (List *)listCons((Value *)refs_0, varArgs2);
Value *rslt3 = _MINUS__573(empty_list, (Value *)varArgs2);
return(rslt3);

};};
Value *decrement_refs_8014(List *closures, Value *refs_map_0, Value *arg4) {
 while (1) {

incRef(refs_map_0, 1);
Value *var_1;
Value *var_refs_2;
Value *tail_3;
Value **destArgs5[3] = {&var_1, &var_refs_2, &tail_3};
destructValue("toccata.toc", "1479", (Value *)arg4, 3, destArgs5);

dec_and_free(tail_3, 1);

// call-vector
// #line 1480 "toccata.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, var_1);
Value *rslt7 = (Value *)newVect6;
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8016;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)var_refs_2, (List *)dynArity8->closures);
Function *anon_8017 = malloc_function(1);
anon_8017->name = "anon";
anon_8017->arityCount = 1;
anon_8017->arities[0] = dynArity8;
Value *fn8015 = (Value *)anon_8017;

// static-fixed
// #line 1480 "toccata.toc"
Value *rslt9 = update_in_1266(empty_list, refs_map_0, rslt7, fn8015);
if (!isNothing(rslt9)) {
dec_and_free(refs_map_0, 1);
return(maybeExtract(rslt9));
} else {
dec_and_free(rslt9, 1);
return(refs_map_0);
}

};};
FnArity decrement_refs_8018 = {FnArityType, -1, 2, (List *)0, 0, decrement_refs_8014};
Function decrement_refs_8019 = {FunctionType, -1, "decrement-refs", 1, {&decrement_refs_8018}};
Value *decrement_refs_8013 = (Value *)&decrement_refs_8019;


// --------- cond-clause-init -------------
Value *cond_clause_init_8021;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str622 = {StringType, -1, 4, 0, ")) {"};
Value *strPtr622 = (Value *)&str622;

// --------- anon -------------
Value *fn8023;
Value *arityImpl8024(List *closures, Value *arg3) {
 while (1) {
Value *c_sym_0;
Value *remaining_1;
Value *tail_2;
Value **destArgs4[3] = {&c_sym_0, &remaining_1, &tail_2};
destructValue("toccata.toc", "1493", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// call-vector
// #line 1494 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, strPtr443);
newVect5 = mutateVectConj(newVect5, c_sym_0);
newVect5 = mutateVectConj(newVect5, strPtr17);
newVect5 = mutateVectConj(newVect5, remaining_1);
newVect5 = mutateVectConj(newVect5, strPtr442);
newVect5 = mutateVectConj(newVect5, strPtr5);
Value *rslt6 = (Value *)newVect5;
return(rslt6);

};};
FnArity staticArity8025 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8024};
Function anon_8026 = {FunctionType, -1, "anon", 1, {&staticArity8025}};
Value *fn8023 = (Value *)&anon_8026;

Value *cond_clause_init_8022(List *closures, Value *cond_test_0, Value *expr_result_1, Value *arg5, Value *clause_7) {
 while (1) {

incRef(expr_result_1, 1);

incRef(clause_7, 2);
Value *init_2;
Value *refs_map_3;
Value *tail_4;
Value **destArgs6[3] = {&init_2, &refs_map_3, &tail_4};
destructValue("toccata.toc", "1484", (Value *)arg5, 3, destArgs6);

dec_and_free(tail_4, 1);

// type-unknown .refs-map
// #line 1485 "toccata.toc"
Value *rslt8 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", clause_7, "toccata.toc", 1485);

// type-unknown seq
// #line 1486 "toccata.toc"
Value *rslt9 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt8, "toccata.toc", 1486);

// type-unknown reduce
// #line 1487 "toccata.toc"
Value *rslt10 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt9, refs_map_3, decrement_refs_8013, "toccata.toc", 1487);

// static-variadic
// #line 1488 "toccata.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)numPtr0, varArgs11);
varArgs11 = (List *)listCons((Value *)_LT__530, varArgs11);
Value *rslt12 = partial_969(empty_list, (Value *)varArgs11);

// static-fixed
// #line 1488 "toccata.toc"
Value *rslt13 = filter_vals_8003(empty_list, rslt10, rslt12);
Value *refs_map_14 = rslt13;

incRef(refs_map_14, 1);

// type-unknown vec
// #line 1489 "toccata.toc"
Value *rslt15 = proto1Arg(&vec_Implementations_326, "<nothing>/vec", init_2, "toccata.toc", 1489);

// type-unknown .init
// #line 1490 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5595, "<nothing>/.init", clause_7, "toccata.toc", 1490);

// type-unknown .c-var
// #line 1491 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", clause_7, "toccata.toc", 1491);

// type-unknown seq
// #line 1493 "toccata.toc"
Value *rslt18 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", refs_map_14, "toccata.toc", 1493);

// type-unknown map
// #line 1493 "toccata.toc"
Value *rslt19 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt18, fn8023, "toccata.toc", 1493);

// call-vector
// #line 1490 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt16);
newVect20 = mutateVectConj(newVect20, expr_result_1);
newVect20 = mutateVectConj(newVect20, strPtr500);
newVect20 = mutateVectConj(newVect20, rslt17);
newVect20 = mutateVectConj(newVect20, strPtr303);
newVect20 = mutateVectConj(newVect20, strPtr5);
newVect20 = mutateVectConj(newVect20, cond_test_0);
newVect20 = mutateVectConj(newVect20, expr_result_1);
newVect20 = mutateVectConj(newVect20, strPtr622);
newVect20 = mutateVectConj(newVect20, strPtr5);
newVect20 = mutateVectConj(newVect20, rslt19);
Value *rslt21 = (Value *)newVect20;

// type-unknown conj
// #line 1489 "toccata.toc"
Value *rslt22 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", rslt15, rslt21, "toccata.toc", 1489);

// call-vector
// #line 1489 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, rslt22);
newVect23 = mutateVectConj(newVect23, refs_map_14);
Value *rslt24 = (Value *)newVect23;
return(rslt24);

};};
FnArity cond_clause_init_8027 = {FnArityType, -1, 4, (List *)0, 0, cond_clause_init_8022};
Function cond_clause_init_8028 = {FunctionType, -1, "cond-clause-init", 1, {&cond_clause_init_8027}};
Value *cond_clause_init_8021 = (Value *)&cond_clause_init_8028;


// --------- emit-cond-expr -------------
Value *emit_cond_expr_8030;

// --------- anon -------------
Value *fn8038;
Value *arityImpl8043(List *closures, Value *c_0) {
 while (1) {

// type-unknown .init
// #line 1503 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5595, "<nothing>/.init", c_0, "toccata.toc", 1503);

// type-unknown empty?
// #line 1503 "toccata.toc"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt1, "toccata.toc", 1503);
return(rslt2);

};};
FnArity staticArity8044 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8043};
Function anon_8045 = {FunctionType, -1, "anon", 1, {&staticArity8044}};
Value *fn8038 = (Value *)&anon_8045;

Value *arityImpl8036(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val39;
Value *val40;
Value *val61;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs79[7] = {&val1, &val15, &val16, &val39, &val40, &val61, &closuresTail};
destructValue("", "", (Value *)closures, 7, destArgs79);

incRef(val16, 4);

incRef(val40, 4);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val61, 1);
dec_and_free(val39, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val16, 5);
dec_and_free(val40, 5);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8037_13 = ss_10;
Value *last_clause_14 = v_9;

incRef(last_clause_14, 3);

// static-fixed
// #line 1503 "toccata.toc"
Value *rslt17 = remove_1488(empty_list, val16, fn8038);

// type-unknown map
// #line 1504 "toccata.toc"
Value *rslt18 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt17, dispatchFnPtr5865, "toccata.toc", 1504);

// static-fixed
// #line 1505 "toccata.toc"
Value *rslt19 = set_1603(empty_list, rslt18);
Value *clause_vars_20 = rslt19;

// type-unknown map
// #line 1506 "toccata.toc"
Value *rslt21 = proto2Arg(&map_Implementations_254, "<nothing>/map", val16, dispatchFnPtr5676, "toccata.toc", 1506);
Value *refs_maps_22 = rslt21;
Value *f_23 = merge_with_1316;

// call-list
// #line 1507 "toccata.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)refs_maps_22, newList24);
newList24 = listCons((Value *)_PLUS__454, newList24);
Value *rslt25 = (Value *)newList24;
Value *args_26 = rslt25;

// static-fixed
// #line 737 "core"
Value *rslt27 = fn_apply_98(empty_list, list_STAR__478, args_26);

// static-fixed
// #line 737 "core"
Value *rslt28 = fn_apply_98(empty_list, f_23, rslt27);

// static-fixed
// #line 1508 "toccata.toc"
Value *rslt29 = remove_keys_1228(empty_list, rslt28, clause_vars_20);

// static-variadic
// #line 1509 "toccata.toc"
List *varArgs30 = empty_list;
varArgs30 = (List *)listCons((Value *)numPtr0, varArgs30);
varArgs30 = (List *)listCons((Value *)_LT__530, varArgs30);
Value *rslt31 = partial_969(empty_list, (Value *)varArgs30);

// static-fixed
// #line 1509 "toccata.toc"
Value *rslt32 = filter_vals_8003(empty_list, rslt29, rslt31);
Value *refs_map_33 = rslt32;

incRef(refs_map_33, 1);

// type-unknown butlast
// #line 1510 "toccata.toc"
Value *rslt34 = proto1Arg(&butlast_Implementations_323, "<nothing>/butlast", val16, "toccata.toc", 1510);

// call-vector
// #line 1511 "toccata.toc"
Vector *newVect35 = empty_vect;
Value *rslt36 = (Value *)newVect35;

// call-vector
// #line 1511 "toccata.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, rslt36);
newVect37 = mutateVectConj(newVect37, refs_map_33);
Value *rslt38 = (Value *)newVect37;

// static-variadic
// #line 1512 "toccata.toc"
List *varArgs41 = empty_list;
varArgs41 = (List *)listCons((Value *)val40, varArgs41);
varArgs41 = (List *)listCons((Value *)val39, varArgs41);
varArgs41 = (List *)listCons((Value *)cond_clause_init_8021, varArgs41);
Value *rslt42 = partial_969(empty_list, (Value *)varArgs41);

// type-unknown reduce
// #line 1511 "toccata.toc"
Value *rslt43 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt34, rslt38, rslt42, "toccata.toc", 1511);
Value *clause_inits_44;
Value *tail_45;
Value **destArgs46[2] = {&clause_inits_44, &tail_45};
destructValue("toccata.toc", "1510", (Value *)rslt43, 2, destArgs46);

dec_and_free(tail_45, 1);

// type-unknown .init
// #line 1514 "toccata.toc"
Value *rslt47 = proto1Arg(&protoImpls5595, "<nothing>/.init", last_clause_14, "toccata.toc", 1514);

// type-unknown .init
// #line 1515 "toccata.toc"
Value *rslt48 = proto1Arg(&protoImpls5595, "<nothing>/.init", last_clause_14, "toccata.toc", 1515);

// type-unknown .c-var
// #line 1516 "toccata.toc"
Value *rslt49 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", last_clause_14, "toccata.toc", 1516);

// call-vector
// #line 1515 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt48);
newVect50 = mutateVectConj(newVect50, val40);
newVect50 = mutateVectConj(newVect50, strPtr500);
newVect50 = mutateVectConj(newVect50, rslt49);
newVect50 = mutateVectConj(newVect50, strPtr303);
newVect50 = mutateVectConj(newVect50, strPtr5);
Value *rslt51 = (Value *)newVect50;

// type-unknown .c-var
// #line 1513 "toccata.toc"
Value *rslt52 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", last_clause_14, "toccata.toc", 1513);

// static-fixed
// #line 1513 "toccata.toc"
Value *rslt53 = _EQ__557(empty_list, strPtr0, rslt52);

// dynamic unknown type
// #line 1513 "toccata.toc"
Value *rslt57;
if((rslt53)->type != FunctionType) {
rslt57 = invoke_370(empty_list, rslt53, rslt47, rslt51);
} else {
FnArity *arity54 = findFnArity(rslt53, 2);
if(arity54 != (FnArity *)0 && !arity54->variadic) {
FnType2 *fn56 = (FnType2 *)arity54->fn;
rslt57 = fn56(arity54->closures, rslt47, rslt51);
} else if(arity54 != (FnArity *)0 && arity54->variadic) {
FnType1 *fn56 = (FnType1 *)arity54->fn;
List *dynArgs55 = empty_list;
dynArgs55 = (List *)listCons(rslt51, dynArgs55);
dynArgs55 = (List *)listCons(rslt47, dynArgs55);
rslt57 = fn56(arity54->closures, (Value *)dynArgs55);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt53)->name);
  abort();
}
dec_and_free(rslt53, 1);
}
Value *last_init_58 = rslt57;

// type-unknown conj
// #line 1517 "toccata.toc"
Value *rslt59 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", clause_inits_44, last_init_58, "toccata.toc", 1517);
Value *clause_inits_60 = rslt59;

// call-vector
// #line 1520 "toccata.toc"
Vector *newVect62 = empty_vect;
newVect62 = mutateVectConj(newVect62, val61);
newVect62 = mutateVectConj(newVect62, strPtr556);
newVect62 = mutateVectConj(newVect62, strPtr5);
newVect62 = mutateVectConj(newVect62, strPtr443);
newVect62 = mutateVectConj(newVect62, val40);
newVect62 = mutateVectConj(newVect62, strPtr444);
newVect62 = mutateVectConj(newVect62, strPtr5);
Value *rslt63 = (Value *)newVect62;

// static-fixed
// #line 1520 "toccata.toc"
Value *rslt64 = interpose_503(empty_list, clause_inits_60, rslt63);

// type-unknown count
// #line 1523 "toccata.toc"
Value *rslt65 = proto1Arg(&count_Implementations_300, "<nothing>/count", val16, "toccata.toc", 1523);

// static-fixed
// #line 1524 "toccata.toc"
Value *rslt66 = dec_578(empty_list, rslt65);

// static-variadic
// #line 1525 "toccata.toc"
List *varArgs67 = empty_list;
varArgs67 = (List *)listCons((Value *)strPtr5, varArgs67);
varArgs67 = (List *)listCons((Value *)strPtr28, varArgs67);
Value *rslt68 = str_526(empty_list, (Value *)varArgs67);

// static-fixed
// #line 1525 "toccata.toc"
Value *rslt69 = repeat_1496(empty_list, rslt66, rslt68);

// call-vector
// #line 1519 "toccata.toc"
Vector *newVect70 = empty_vect;
newVect70 = mutateVectConj(newVect70, strPtr492);
newVect70 = mutateVectConj(newVect70, val40);
newVect70 = mutateVectConj(newVect70, strPtr303);
newVect70 = mutateVectConj(newVect70, strPtr5);
newVect70 = mutateVectConj(newVect70, rslt64);
newVect70 = mutateVectConj(newVect70, rslt69);
Value *rslt71 = (Value *)newVect70;

// type-unknown map
// #line 1526 "toccata.toc"
Value *rslt72 = proto2Arg(&map_Implementations_254, "<nothing>/map", val16, dispatchFnPtr5863, "toccata.toc", 1526);

// call invoke
// #line 1518 "toccata.toc"
Value *rslt73 = c_init_invoke_6003(empty_list, reifiedPtr6006, val40, rslt71, rslt72, MaybeType_5368, refs_map_33);

// type-unknown wrap
// #line 1501 "toccata.toc"
Value *rslt74 = proto2Arg(&wrap_Implementations_248, "wrap", val15, rslt73, "toccata.toc", 1501);

// dynamic unknown type
// #line 1501 "toccata.toc"
Value *rslt78;
if((rslt74)->type != FunctionType) {
rslt78 = invoke_368(empty_list, rslt74, arg8037_13);
} else {
FnArity *arity75 = findFnArity(rslt74, 1);
if(arity75 != (FnArity *)0 && !arity75->variadic) {
FnType1 *fn77 = (FnType1 *)arity75->fn;
rslt78 = fn77(arity75->closures, arg8037_13);
} else if(arity75 != (FnArity *)0 && arity75->variadic) {
FnType1 *fn77 = (FnType1 *)arity75->fn;
List *dynArgs76 = empty_list;
dynArgs76 = (List *)listCons(arg8037_13, dynArgs76);
rslt78 = fn77(arity75->closures, (Value *)dynArgs76);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt74)->name);
  abort();
}
dec_and_free(rslt74, 1);
}
return(rslt78);
andRslt7 = rslt78;
}

};};
Value *arityImpl8033(List *closures, Value *evalled_clauses_0) {
while (1) {

incRef(evalled_clauses_0, 1);
Value *val9;
Value *val10;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[5] = {&val9, &val10, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs14);

dec_and_free(closuresTail, 1);

// type-unknown last
// #line 1501 "toccata.toc"
Value *rslt1 = proto1Arg(&last_Implementations_332, "<nothing>/last", evalled_clauses_0, "toccata.toc", 1501);

// static-fixed
// #line 1501 "toccata.toc"
Value *rslt2 = when_4087(empty_list, rslt1);
Value *ev_3 = rslt2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8036;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)val9, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val10, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val11, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)evalled_clauses_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)val12, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_8046 = malloc_function(1);
anon_8046->name = "anon";
anon_8046->arityCount = 1;
anon_8046->arities[0] = dynArity8;
Value *fn8035 = (Value *)anon_8046;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8035);
return(rslt13);

};};
Value *emit_cond_expr_8031(List *closures, Value *result_var_0, Value *clauses_1, Value *cond_test_2, Value *tail_return_3) {
 while (1) {

// type-unknown filter
// #line 1499 "toccata.toc"
Value *rslt4 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", clauses_1, produces_code_QM__5843, "toccata.toc", 1499);

// type-unknown emit
// #line 1500 "toccata.toc"
Value *rslt5 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt4, "toccata.toc", 1500);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8033;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)wrapper_6, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)cond_test_2, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)result_var_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)tail_return_3, (List *)dynArity7->closures);
Function *anon_8047 = malloc_function(1);
anon_8047->name = "anon";
anon_8047->arityCount = 1;
anon_8047->arities[0] = dynArity7;
Value *fn8032 = (Value *)anon_8047;

// type-unknown flat-map
// #line 1498 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_6, fn8032, "toccata.toc", 1498);
return(rslt8);

};};
FnArity emit_cond_expr_8048 = {FnArityType, -1, 4, (List *)0, 0, emit_cond_expr_8031};
Function emit_cond_expr_8049 = {FunctionType, -1, "emit-cond-expr", 1, {&emit_cond_expr_8048}};
Value *emit_cond_expr_8030 = (Value *)&emit_cond_expr_8049;

Value *type_val_8050_8051;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str623 = {StringType, -1, 7, 0, "TailAnd"};
Value *strPtr623 = (Value *)&str623;
Value *arityImpl8053(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr164, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr623, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity8054 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8053};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str624 = {StringType, -1, 21, 0, "*TailAnd constructor*"};
Value *strPtr624 = (Value *)&str624;
Value *TailAnd_const_type_name_8055(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr624);

};};
FnArity TailAnd_const_type_name_8056 = {FnArityType, -1, 1, (List *)0, 0, TailAnd_const_type_name_8055};
Value *TailAnd_instance_QMARK__8057(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_8050_8051, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity TailAnd_instance_QMARK__8058 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_instance_QMARK__8057};
Value *TailAnd_invoke_8059(List *closures, Value *arg0, Value *clauses_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, clauses_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_8050_8051, rslt3);
return(rslt4);

};};
FnArity TailAnd_invoke_8060 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_invoke_8059};
ReifiedVal reifiedStatic8061 = {180, -1, (Value *)0, 0, {}};
Value *reifiedPtr8062 = (Value *)&reifiedStatic8061;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str625 = {StringType, -1, 9, 0, "<TailAnd "};
Value *strPtr625 = (Value *)&str625;
Value *TailAnd_string_list_8063(List *closures, Value *expr_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, expr_0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("toccata.toc", "1529", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 1532 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr625, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown flat-map
// #line 1532 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", clauses_2, string_list_393, "toccata.toc", 1532);

// call-list
// #line 1532 "toccata.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 1532 "toccata.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 1532 "toccata.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity TailAnd_string_list_8064 = {FnArityType, -1, 1, (List *)0, 0, TailAnd_string_list_8063};
Value *TailAnd_EQ_STAR__8065(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailAnd_EQ_STAR__8066 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_EQ_STAR__8065};
Value *TailAnd_type_name_8067(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr623);

};};
FnArity TailAnd_type_name_8068 = {FnArityType, -1, 1, (List *)0, 0, TailAnd_type_name_8067};
Value *TailAnd_has_field_8069(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity TailAnd_has_field_8070 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_has_field_8069};
Value *TailAnd_clauses_8071(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailAnd_clauses_8072 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_clauses_8071};
Value *TailAnd_clauses_8073(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailAnd_clauses_8074 = {FnArityType, -1, 1, (List *)0, 0, TailAnd_clauses_8073};
Value *TailAnd_get_8075(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailAnd_get_8076 = {FnArityType, -1, 2, (List *)0, 0, TailAnd_get_8075};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str626 = {StringType, -1, 7, 0, "andRslt"};
Value *strPtr626 = (Value *)&str626;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str627 = {StringType, -1, 14, 0, "if (isNothing("};
Value *strPtr627 = (Value *)&str627;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str628 = {StringType, -1, 16, 0, "return(nothing);"};
Value *strPtr628 = (Value *)&str628;
Value *arityImpl8085(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8083(List *closures, Value *expr_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = expr_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8085;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8086 = malloc_function(1);
anon_8086->name = "anon";
anon_8086->arityCount = 1;
anon_8086->arities[0] = dynArity8;
Value *fn8084 = (Value *)anon_8086;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8084);
return(rslt9);

};};
Value *arityImpl8080(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[4] = {&val1, &val15, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs27);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8081_13 = ss_10;
Value *result_var_14 = v_9;

// type-unknown .clauses
// #line 1537 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls3502, "<nothing>/.clauses", val15, "toccata.toc", 1537);

// static-variadic
// #line 1538 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)strPtr5, varArgs17);
varArgs17 = (List *)listCons((Value *)strPtr628, varArgs17);
Value *rslt18 = str_526(empty_list, (Value *)varArgs17);

// static-fixed
// #line 1537 "toccata.toc"
Value *rslt19 = emit_cond_expr_8031(empty_list, result_var_14, rslt16, strPtr627, rslt18);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl8083;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)val21, (List *)dynArity20->closures);
Function *anon_8087 = malloc_function(1);
anon_8087->name = "anon";
anon_8087->arityCount = 1;
anon_8087->arities[0] = dynArity20;
Value *fn8082 = (Value *)anon_8087;

// type-unknown flat-map
// #line 1537 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt19, fn8082, "toccata.toc", 1537);

// dynamic unknown type
// #line 1537 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg8081_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg8081_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg8081_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *TailAnd_emit_8077(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, ast_0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("toccata.toc", "1529", (Value *)rslt1, 2, destArgs4);

dec_and_free(clauses_2, 1);

dec_and_free(tail_3, 1);

// static-fixed
// #line 1536 "toccata.toc"
Value *rslt5 = genlocal_6379(empty_list, strPtr626);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8080;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ast_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8088 = malloc_function(1);
anon_8088->name = "anon";
anon_8088->arityCount = 1;
anon_8088->arities[0] = dynArity12;
Value *fn8079 = (Value *)anon_8088;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8079);
return(rslt13);

};};
FnArity TailAnd_emit_8089 = {FnArityType, -1, 1, (List *)0, 0, TailAnd_emit_8077};
Value *TailAnd_assoc_STAR__8090(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity TailAnd_assoc_STAR__8091 = {FnArityType, -1, 5, (List *)0, 0, TailAnd_assoc_STAR__8090};
ReifiedVal reifiedStatic8092 = {181, -1, (Value *)0, 0, {}};
Value *reifiedPtr8093 = (Value *)&reifiedStatic8092;
Value *arityImpl8102(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8100(List *closures, Value *expr_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = expr_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8102;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8103 = malloc_function(1);
anon_8103->name = "anon";
anon_8103->arityCount = 1;
anon_8103->arities[0] = dynArity8;
Value *fn8101 = (Value *)anon_8103;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8101);
return(rslt9);

};};
Value *arityImpl8097(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val1, &val15, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8098_13 = ss_10;
Value *result_var_14 = v_9;

// type-known for .clauses
// #line 1546 "toccata.toc"
Value *rslt16 = and_ast_clauses_3525(empty_list, val15);

// static-fixed
// #line 1546 "toccata.toc"
Value *rslt17 = emit_cond_expr_8031(empty_list, result_var_14, rslt16, strPtr627, strPtr0);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl8100;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
Function *anon_8104 = malloc_function(1);
anon_8104->name = "anon";
anon_8104->arityCount = 1;
anon_8104->arities[0] = dynArity18;
Value *fn8099 = (Value *)anon_8104;

// type-unknown flat-map
// #line 1546 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn8099, "toccata.toc", 1546);

// dynamic unknown type
// #line 1546 "toccata.toc"
Value *rslt24;
if((rslt20)->type != FunctionType) {
rslt24 = invoke_368(empty_list, rslt20, arg8098_13);
} else {
FnArity *arity21 = findFnArity(rslt20, 1);
if(arity21 != (FnArity *)0 && !arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
rslt24 = fn23(arity21->closures, arg8098_13);
} else if(arity21 != (FnArity *)0 && arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
List *dynArgs22 = empty_list;
dynArgs22 = (List *)listCons(arg8098_13, dynArgs22);
rslt24 = fn23(arity21->closures, (Value *)dynArgs22);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt20)->name);
  abort();
}
dec_and_free(rslt20, 1);
}
return(rslt24);
andRslt7 = rslt24;
}

};};
Value *emit_8094(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 1545 "toccata.toc"
Value *rslt1 = genlocal_6379(empty_list, strPtr626);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8097;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)ast_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_8105 = malloc_function(1);
anon_8105->name = "anon";
anon_8105->arityCount = 1;
anon_8105->arities[0] = dynArity8;
Value *fn8096 = (Value *)anon_8105;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8096);
return(rslt9);

};};
FnArity emit_8106 = {FnArityType, -1, 1, (List *)0, 0, emit_8094};
Value *tail_call_8107(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// type-known for .clauses
// #line 1550 "toccata.toc"
Value *rslt2 = and_ast_clauses_3525(empty_list, ast_0);

// type-unknown seq
// #line 1550 "toccata.toc"
Value *rslt3 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt2, "toccata.toc", 1550);

// type-unknown reverse
// #line 1550 "toccata.toc"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt3, "toccata.toc", 1550);
Value *last_clause_5;
Value *clauses_6;
Value **destArgs7[2] = {&last_clause_5, &clauses_6};
destructValue("toccata.toc", "1550", (Value *)rslt4, 2, destArgs7);

// type-unknown tail-call
// #line 1551 "toccata.toc"
Value *rslt8 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", last_clause_5, params_1, "toccata.toc", 1551);

// static-fixed
// #line 1552 "toccata.toc"
Value *rslt9 = cons_275(empty_list, rslt8, clauses_6);

// type-known for reverse
// #line 1553 "toccata.toc"
Value *rslt10 = List_reverse_813(empty_list, rslt9);

// call invoke
// #line 1551 "toccata.toc"
Value *rslt11 = TailAnd_invoke_8059(empty_list, reifiedPtr8062, rslt10);
return(rslt11);

};};
FnArity tail_call_8108 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8107};
Value *arityImpl8111(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1558 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, val1, "toccata.toc", 1558);
return(rslt2);

};};
Value *arityImpl8114(List *closures, Value *new_clauses_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-known for .clauses
// #line 1559 "toccata.toc"
Value *rslt3 = and_ast_clauses_3523(empty_list, val2, new_clauses_0);

// type-unknown wrap
// #line 1556 "toccata.toc"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "toccata.toc", 1556);
return(rslt4);

};};
Value *replace_syms_8109(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .clauses
// #line 1556 "toccata.toc"
Value *rslt2 = and_ast_clauses_3525(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8111;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8112 = malloc_function(1);
anon_8112->name = "anon";
anon_8112->arityCount = 1;
anon_8112->arities[0] = dynArity3;
Value *fn8110 = (Value *)anon_8112;

// static-fixed
// #line 1556 "toccata.toc"
Value *rslt4 = traverse_6470(empty_list, rslt2, fn8110);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl8114;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)ast_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)wrapper_5, (List *)dynArity6->closures);
Function *anon_8115 = malloc_function(1);
anon_8115->name = "anon";
anon_8115->arityCount = 1;
anon_8115->arities[0] = dynArity6;
Value *fn8113 = (Value *)anon_8115;

// type-unknown flat-map
// #line 1556 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_5, fn8113, "toccata.toc", 1556);
return(rslt7);

};};
FnArity replace_syms_8116 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_8109};
Value *arityImpl8119(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1563 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", ast_0, val1, "toccata.toc", 1563);
return(rslt2);

};};
Value *replace_bound_vars_8117(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

// type-known for .clauses
// #line 1562 "toccata.toc"
Value *rslt2 = and_ast_clauses_3525(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8119;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8120 = malloc_function(1);
anon_8120->name = "anon";
anon_8120->arityCount = 1;
anon_8120->arities[0] = dynArity3;
Value *fn8118 = (Value *)anon_8120;

// type-unknown map
// #line 1562 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn8118, "toccata.toc", 1562);

// call invoke
// #line 1562 "toccata.toc"
Value *rslt5 = and_ast_invoke_3511(empty_list, reifiedPtr3514, rslt4);
return(rslt5);

};};
FnArity replace_bound_vars_8121 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_8117};
Value *type_val_8122_8123;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str629 = {StringType, -1, 6, 0, "TailOr"};
Value *strPtr629 = (Value *)&str629;
Value *arityImpl8125(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr164, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr629, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity8126 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8125};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str630 = {StringType, -1, 20, 0, "*TailOr constructor*"};
Value *strPtr630 = (Value *)&str630;
Value *TailOr_const_type_name_8127(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr630);

};};
FnArity TailOr_const_type_name_8128 = {FnArityType, -1, 1, (List *)0, 0, TailOr_const_type_name_8127};
Value *TailOr_instance_QMARK__8129(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_8122_8123, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity TailOr_instance_QMARK__8130 = {FnArityType, -1, 2, (List *)0, 0, TailOr_instance_QMARK__8129};
Value *TailOr_invoke_8131(List *closures, Value *arg0, Value *clauses_1) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, clauses_1);
Value *rslt3 = (Value *)newVect2;
Value *rslt4 = new_type_value_53(empty_list, type_val_8122_8123, rslt3);
return(rslt4);

};};
FnArity TailOr_invoke_8132 = {FnArityType, -1, 2, (List *)0, 0, TailOr_invoke_8131};
ReifiedVal reifiedStatic8133 = {182, -1, (Value *)0, 0, {}};
Value *reifiedPtr8134 = (Value *)&reifiedStatic8133;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str631 = {StringType, -1, 8, 0, "<TailOr "};
Value *strPtr631 = (Value *)&str631;
Value *TailOr_string_list_8135(List *closures, Value *expr_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, expr_0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("toccata.toc", "1565", (Value *)rslt1, 2, destArgs4);

dec_and_free(tail_3, 1);

// call-list
// #line 1568 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)strPtr631, newList5);
Value *rslt6 = (Value *)newList5;

// type-unknown flat-map
// #line 1568 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", clauses_2, string_list_393, "toccata.toc", 1568);

// call-list
// #line 1568 "toccata.toc"
List *newList8 = empty_list;
newList8 = listCons((Value *)strPtr2, newList8);
Value *rslt9 = (Value *)newList8;

// call-list
// #line 1568 "toccata.toc"
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
newList10 = listCons((Value *)rslt7, newList10);
Value *rslt11 = (Value *)newList10;

// type-known for comp*
// #line 1568 "toccata.toc"
Value *rslt12 = List_comp_STAR__825(empty_list, rslt6, rslt11);
return(rslt12);

};};
FnArity TailOr_string_list_8136 = {FnArityType, -1, 1, (List *)0, 0, TailOr_string_list_8135};
Value *TailOr_EQ_STAR__8137(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailOr_EQ_STAR__8138 = {FnArityType, -1, 2, (List *)0, 0, TailOr_EQ_STAR__8137};
Value *TailOr_type_name_8139(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr629);

};};
FnArity TailOr_type_name_8140 = {FnArityType, -1, 1, (List *)0, 0, TailOr_type_name_8139};
Value *TailOr_has_field_8141(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3500, field_1);
return(rslt3);
orRslt2 = rslt3;

};};
FnArity TailOr_has_field_8142 = {FnArityType, -1, 2, (List *)0, 0, TailOr_has_field_8141};
Value *TailOr_clauses_8143(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailOr_clauses_8144 = {FnArityType, -1, 2, (List *)0, 0, TailOr_clauses_8143};
Value *TailOr_clauses_8145(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailOr_clauses_8146 = {FnArityType, -1, 1, (List *)0, 0, TailOr_clauses_8145};
Value *TailOr_get_8147(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailOr_get_8148 = {FnArityType, -1, 2, (List *)0, 0, TailOr_get_8147};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str632 = {StringType, -1, 6, 0, "orRslt"};
Value *strPtr632 = (Value *)&str632;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str633 = {StringType, -1, 15, 0, "if (!isNothing("};
Value *strPtr633 = (Value *)&str633;
Value *arityImpl8157(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8155(List *closures, Value *expr_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = expr_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8157;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8158 = malloc_function(1);
anon_8158->name = "anon";
anon_8158->arityCount = 1;
anon_8158->arities[0] = dynArity8;
Value *fn8156 = (Value *)anon_8158;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8156);
return(rslt9);

};};
Value *arityImpl8152(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[4] = {&val1, &val15, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs27);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8153_13 = ss_10;
Value *result_var_14 = v_9;

incRef(result_var_14, 1);

// type-unknown .clauses
// #line 1573 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls3502, "<nothing>/.clauses", val15, "toccata.toc", 1573);

// static-variadic
// #line 1574 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)strPtr5, varArgs17);
varArgs17 = (List *)listCons((Value *)strPtr442, varArgs17);
varArgs17 = (List *)listCons((Value *)result_var_14, varArgs17);
varArgs17 = (List *)listCons((Value *)strPtr501, varArgs17);
Value *rslt18 = str_526(empty_list, (Value *)varArgs17);

// static-fixed
// #line 1573 "toccata.toc"
Value *rslt19 = emit_cond_expr_8031(empty_list, result_var_14, rslt16, strPtr633, rslt18);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl8155;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)val21, (List *)dynArity20->closures);
Function *anon_8159 = malloc_function(1);
anon_8159->name = "anon";
anon_8159->arityCount = 1;
anon_8159->arities[0] = dynArity20;
Value *fn8154 = (Value *)anon_8159;

// type-unknown flat-map
// #line 1573 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt19, fn8154, "toccata.toc", 1573);

// dynamic unknown type
// #line 1573 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg8153_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg8153_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg8153_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *TailOr_emit_8149(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);
Value *rslt1 = reified_type_args_22(empty_list, ast_0);
Value *clauses_2;
Value *tail_3;
Value **destArgs4[2] = {&clauses_2, &tail_3};
destructValue("toccata.toc", "1565", (Value *)rslt1, 2, destArgs4);

dec_and_free(clauses_2, 1);

dec_and_free(tail_3, 1);

// static-fixed
// #line 1572 "toccata.toc"
Value *rslt5 = genlocal_6379(empty_list, strPtr632);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8152;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ast_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8160 = malloc_function(1);
anon_8160->name = "anon";
anon_8160->arityCount = 1;
anon_8160->arities[0] = dynArity12;
Value *fn8151 = (Value *)anon_8160;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8151);
return(rslt13);

};};
FnArity TailOr_emit_8161 = {FnArityType, -1, 1, (List *)0, 0, TailOr_emit_8149};
Value *TailOr_assoc_STAR__8162(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity TailOr_assoc_STAR__8163 = {FnArityType, -1, 5, (List *)0, 0, TailOr_assoc_STAR__8162};
ReifiedVal reifiedStatic8164 = {183, -1, (Value *)0, 0, {}};
Value *reifiedPtr8165 = (Value *)&reifiedStatic8164;
Value *arityImpl8169(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs22[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs22);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8170_13 = ss_10;
Value *result_var_14 = v_9;

// type-known for .clauses
// #line 1582 "toccata.toc"
Value *rslt16 = or_ast_clauses_3633(empty_list, val15);

// static-fixed
// #line 1582 "toccata.toc"
Value *rslt17 = emit_cond_expr_8031(empty_list, result_var_14, rslt16, strPtr633, strPtr5);

// dynamic unknown type
// #line 1582 "toccata.toc"
Value *rslt21;
if((rslt17)->type != FunctionType) {
rslt21 = invoke_368(empty_list, rslt17, arg8170_13);
} else {
FnArity *arity18 = findFnArity(rslt17, 1);
if(arity18 != (FnArity *)0 && !arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
rslt21 = fn20(arity18->closures, arg8170_13);
} else if(arity18 != (FnArity *)0 && arity18->variadic) {
FnType1 *fn20 = (FnType1 *)arity18->fn;
List *dynArgs19 = empty_list;
dynArgs19 = (List *)listCons(arg8170_13, dynArgs19);
rslt21 = fn20(arity18->closures, (Value *)dynArgs19);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt17)->name);
  abort();
}
dec_and_free(rslt17, 1);
}
return(rslt21);
andRslt7 = rslt21;
}

};};
Value *emit_8166(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 1580 "toccata.toc"
Value *rslt1 = genlocal_6379(empty_list, strPtr632);
Value *ev_2 = rslt1;
Value *rslt3 = reified_type_args_22(empty_list, ev_2);
Value *invoke_fn_4;
Value *tail_5;
Value **destArgs6[2] = {&invoke_fn_4, &tail_5};
destructValue("", "0", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8169;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)ast_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)invoke_fn_4, (List *)dynArity7->closures);
Function *anon_8171 = malloc_function(1);
anon_8171->name = "anon";
anon_8171->arityCount = 1;
anon_8171->arities[0] = dynArity7;
Value *fn8168 = (Value *)anon_8171;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8168);
return(rslt8);

};};
FnArity emit_8172 = {FnArityType, -1, 1, (List *)0, 0, emit_8166};
Value *tail_call_8173(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

// type-known for .clauses
// #line 1585 "toccata.toc"
Value *rslt2 = or_ast_clauses_3633(empty_list, ast_0);

// type-unknown seq
// #line 1585 "toccata.toc"
Value *rslt3 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt2, "toccata.toc", 1585);

// type-unknown reverse
// #line 1585 "toccata.toc"
Value *rslt4 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", rslt3, "toccata.toc", 1585);
Value *last_clause_5;
Value *clauses_6;
Value **destArgs7[2] = {&last_clause_5, &clauses_6};
destructValue("toccata.toc", "1585", (Value *)rslt4, 2, destArgs7);

// type-unknown tail-call
// #line 1586 "toccata.toc"
Value *rslt8 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", last_clause_5, params_1, "toccata.toc", 1586);

// static-fixed
// #line 1587 "toccata.toc"
Value *rslt9 = cons_275(empty_list, rslt8, clauses_6);

// type-known for reverse
// #line 1588 "toccata.toc"
Value *rslt10 = List_reverse_813(empty_list, rslt9);

// call invoke
// #line 1586 "toccata.toc"
Value *rslt11 = TailOr_invoke_8131(empty_list, reifiedPtr8134, rslt10);
return(rslt11);

};};
FnArity tail_call_8174 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8173};
Value *arityImpl8177(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1593 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, val1, "toccata.toc", 1593);
return(rslt2);

};};
Value *arityImpl8180(List *closures, Value *new_clauses_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-known for .clauses
// #line 1594 "toccata.toc"
Value *rslt3 = or_ast_clauses_3631(empty_list, val2, new_clauses_0);

// type-unknown wrap
// #line 1591 "toccata.toc"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "toccata.toc", 1591);
return(rslt4);

};};
Value *replace_syms_8175(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .clauses
// #line 1591 "toccata.toc"
Value *rslt2 = or_ast_clauses_3633(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8177;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8178 = malloc_function(1);
anon_8178->name = "anon";
anon_8178->arityCount = 1;
anon_8178->arities[0] = dynArity3;
Value *fn8176 = (Value *)anon_8178;

// static-fixed
// #line 1591 "toccata.toc"
Value *rslt4 = traverse_6470(empty_list, rslt2, fn8176);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl8180;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)ast_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)wrapper_5, (List *)dynArity6->closures);
Function *anon_8181 = malloc_function(1);
anon_8181->name = "anon";
anon_8181->arityCount = 1;
anon_8181->arities[0] = dynArity6;
Value *fn8179 = (Value *)anon_8181;

// type-unknown flat-map
// #line 1591 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_5, fn8179, "toccata.toc", 1591);
return(rslt7);

};};
FnArity replace_syms_8182 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_8175};
Value *arityImpl8185(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1598 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", ast_0, val1, "toccata.toc", 1598);
return(rslt2);

};};
Value *replace_bound_vars_8183(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

// type-known for .clauses
// #line 1597 "toccata.toc"
Value *rslt2 = or_ast_clauses_3633(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8185;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8186 = malloc_function(1);
anon_8186->name = "anon";
anon_8186->arityCount = 1;
anon_8186->arities[0] = dynArity3;
Value *fn8184 = (Value *)anon_8186;

// type-unknown map
// #line 1597 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn8184, "toccata.toc", 1597);

// call invoke
// #line 1597 "toccata.toc"
Value *rslt5 = or_ast_invoke_3619(empty_list, reifiedPtr3622, rslt4);
return(rslt5);

};};
FnArity replace_bound_vars_8187 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_8183};
Value *type_val_8188_8189;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str634 = {StringType, -1, 10, 0, "TailEither"};
Value *strPtr634 = (Value *)&str634;
Value *arityImpl8192(List *closures, Value *z_0) {
 while (1) {

dec_and_free(z_0, 1);
List *newList1 = empty_list;
newList1 = listCons((Value *)strPtr45, newList1);
newList1 = listCons((Value *)strPtr178, newList1);
newList1 = listCons((Value *)strPtr43, newList1);
newList1 = listCons((Value *)strPtr634, newList1);
newList1 = listCons((Value *)strPtr41, newList1);
Value *rslt2 = (Value *)newList1;
return(rslt2);

};};
FnArity staticArity8193 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8192};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str635 = {StringType, -1, 24, 0, "*TailEither constructor*"};
Value *strPtr635 = (Value *)&str635;
Value *TailEither_const_type_name_8194(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);
return(strPtr635);

};};
FnArity TailEither_const_type_name_8195 = {FnArityType, -1, 1, (List *)0, 0, TailEither_const_type_name_8194};
Value *TailEither_instance_QMARK__8196(List *closures, Value *x_0, Value *y_1) {
 while (1) {

dec_and_free(x_0, 1);
Value *rslt2 = proto1Arg(&get_type_Implementations_37, "get-type", type_val_8188_8189, "", 0);
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt4 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt2, rslt3, "", 0);
return(rslt4);

};};
FnArity TailEither_instance_QMARK__8197 = {FnArityType, -1, 2, (List *)0, 0, TailEither_instance_QMARK__8196};
Value *TailEither_invoke_8198(List *closures, Value *arg0, Value *clause_1, Value *alt_2) {
 while (1) {

dec_and_free(arg0, 1);
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, clause_1);
newVect3 = mutateVectConj(newVect3, alt_2);
Value *rslt4 = (Value *)newVect3;
Value *rslt5 = new_type_value_53(empty_list, type_val_8188_8189, rslt4);
return(rslt5);

};};
FnArity TailEither_invoke_8199 = {FnArityType, -1, 3, (List *)0, 0, TailEither_invoke_8198};
ReifiedVal reifiedStatic8200 = {184, -1, (Value *)0, 0, {}};
Value *reifiedPtr8201 = (Value *)&reifiedStatic8200;
Value *TailEither_EQ_STAR__8202(List *closures, Value *x_0, Value *y_1) {
 while (1) {

incRef(x_0, 1);

incRef(y_1, 1);
Value *andRslt2;
Value *rslt3 = proto1Arg(&get_type_Implementations_37, "get-type", x_0, "", 0);
Value *rslt4 = proto1Arg(&get_type_Implementations_37, "get-type", y_1, "", 0);
Value *rslt5 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt3, rslt4, "", 0);
andRslt2 = rslt5;
if (isNothing(andRslt2)) {
dec_and_free(y_1, 1);
dec_and_free(x_0, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt6 = proto1Arg(&type_args_Implementations_32, "type-args", x_0, "", 0);
Value *rslt7 = proto1Arg(&type_args_Implementations_32, "type-args", y_1, "", 0);
Value *rslt8 = proto2Arg(&_EQ__STAR__Implementations_386, "=*", rslt6, rslt7, "", 0);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailEither_EQ_STAR__8203 = {FnArityType, -1, 2, (List *)0, 0, TailEither_EQ_STAR__8202};
Value *TailEither_type_name_8204(List *closures, Value *x_0) {
 while (1) {

dec_and_free(x_0, 1);
return(strPtr634);

};};
FnArity TailEither_type_name_8205 = {FnArityType, -1, 1, (List *)0, 0, TailEither_type_name_8204};
Value *TailEither_has_field_8206(List *closures, Value *x_0, Value *field_1) {
 while (1) {

dec_and_free(x_0, 1);

incRef(field_1, 1);
Value *orRslt2;
Value *rslt3 = identical_421(empty_list, dispatchFnPtr3699, field_1);
orRslt2 = rslt3;
if (!isNothing(orRslt2)) {
dec_and_free(field_1, 1);
return(orRslt2);
} else {
dec_and_free(orRslt2, 1);
Value *rslt4 = identical_421(empty_list, dispatchFnPtr3698, field_1);
return(rslt4);
orRslt2 = rslt4;
}

};};
FnArity TailEither_has_field_8207 = {FnArityType, -1, 2, (List *)0, 0, TailEither_has_field_8206};
Value *TailEither_clause_8208(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr0, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailEither_clause_8209 = {FnArityType, -1, 2, (List *)0, 0, TailEither_clause_8208};
Value *TailEither_clause_8210(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr0);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailEither_clause_8211 = {FnArityType, -1, 1, (List *)0, 0, TailEither_clause_8210};
Value *TailEither_alt_8212(List *closures, Value *value_0, Value *new_value_1) {
 while (1) {

incRef(value_0, 1);
Value *rslt2 = reified_type_args_22(empty_list, value_0);
Value *rslt3 = Vector_store_920(empty_list, rslt2, numPtr1, new_value_1);
Value *rslt4 = proto1Arg(&extract_Implementations_269, "extract", rslt3, "", 0);
Value *rslt5 = make_value_58(empty_list, value_0, rslt4);
return(rslt5);

};};
FnArity TailEither_alt_8213 = {FnArityType, -1, 2, (List *)0, 0, TailEither_alt_8212};
Value *TailEither_alt_8214(List *closures, Value *value_0) {
 while (1) {
Value *rslt1 = reified_type_args_22(empty_list, value_0);
Value *rslt2 = Vector_nth_918(empty_list, rslt1, numPtr1);
Value *rslt3 = proto1Arg(&extract_Implementations_269, "extract", rslt2, "", 0);
return(rslt3);

};};
FnArity TailEither_alt_8215 = {FnArityType, -1, 1, (List *)0, 0, TailEither_alt_8214};
Value *TailEither_get_8216(List *closures, Value *x_0, Value *field_1) {
 while (1) {

incRef(x_0, 1);

incRef(field_1, 1);
Value *andRslt2;
Value *rslt3 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
return(nothing);
} else {
dec_and_free(andRslt2, 1);
Value *rslt7;
if((field_1)->type != FunctionType) {
rslt7 = invoke_368(empty_list, field_1, x_0);
} else {
FnArity *arity4 = findFnArity(field_1, 1);
if(arity4 != (FnArity *)0 && !arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
rslt7 = fn6(arity4->closures, x_0);
} else if(arity4 != (FnArity *)0 && arity4->variadic) {
FnType1 *fn6 = (FnType1 *)arity4->fn;
List *dynArgs5 = empty_list;
dynArgs5 = (List *)listCons(x_0, dynArgs5);
rslt7 = fn6(arity4->closures, (Value *)dynArgs5);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt8 = maybe_4(empty_list, rslt7);
return(rslt8);
andRslt2 = rslt8;
}

};};
FnArity TailEither_get_8217 = {FnArityType, -1, 2, (List *)0, 0, TailEither_get_8216};

// --------- anon -------------
Value *fn8223;
Value *arityImpl8224(List *closures, Value *arg3) {
 while (1) {
Value *var_0;
Value *refs_1;
Value *tail_2;
Value **destArgs4[3] = {&var_0, &refs_1, &tail_2};
destructValue("toccata.toc", "1615", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// call-vector
// #line 1616 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, strPtr443);
newVect5 = mutateVectConj(newVect5, var_0);
newVect5 = mutateVectConj(newVect5, strPtr17);
newVect5 = mutateVectConj(newVect5, refs_1);
newVect5 = mutateVectConj(newVect5, strPtr442);
newVect5 = mutateVectConj(newVect5, strPtr5);
Value *rslt6 = (Value *)newVect5;
return(rslt6);

};};
FnArity staticArity8225 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8224};
Function anon_8226 = {FunctionType, -1, "anon", 1, {&staticArity8225}};
Value *fn8223 = (Value *)&anon_8226;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str636 = {StringType, -1, 20, 0, "return(maybeExtract("};
Value *strPtr636 = (Value *)&str636;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str637 = {StringType, -1, 3, 0, "));"};
Value *strPtr637 = (Value *)&str637;
Value *arityImpl8222(List *closures, Value *alt_val_0) {
while (1) {

incRef(alt_val_0, 4);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs31[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs31);

incRef(val2, 3);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 1605 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val2, "toccata.toc", 1605);
Value *cond_rslt_4 = rslt3;

incRef(cond_rslt_4, 2);

// type-unknown .refs-map
// #line 1606 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", val2, "toccata.toc", 1606);

// type-unknown .refs-map
// #line 1607 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", alt_val_0, "toccata.toc", 1607);

// static-variadic
// #line 1606 "toccata.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)rslt6, varArgs7);
varArgs7 = (List *)listCons((Value *)rslt5, varArgs7);
varArgs7 = (List *)listCons((Value *)_PLUS__454, varArgs7);
Value *rslt8 = merge_with_1317(empty_list, (Value *)varArgs7);

// static-variadic
// #line 1608 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)numPtr0, varArgs9);
varArgs9 = (List *)listCons((Value *)_LT__530, varArgs9);
Value *rslt10 = partial_969(empty_list, (Value *)varArgs9);

// static-fixed
// #line 1608 "toccata.toc"
Value *rslt11 = filter_vals_8003(empty_list, rslt8, rslt10);
Value *refs_map_12 = rslt11;

// type-unknown .init
// #line 1610 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5595, "<nothing>/.init", val2, "toccata.toc", 1610);

// type-unknown .refs-map
// #line 1612 "toccata.toc"
Value *rslt14 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", alt_val_0, "toccata.toc", 1612);

// static-variadic
// #line 1613 "toccata.toc"
List *varArgs15 = empty_list;
varArgs15 = (List *)listCons((Value *)numPtr0, varArgs15);
varArgs15 = (List *)listCons((Value *)_LT__530, varArgs15);
Value *rslt16 = partial_969(empty_list, (Value *)varArgs15);

// static-fixed
// #line 1613 "toccata.toc"
Value *rslt17 = filter_vals_8003(empty_list, rslt14, rslt16);

// type-unknown seq
// #line 1614 "toccata.toc"
Value *rslt18 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt17, "toccata.toc", 1614);

// type-unknown map
// #line 1615 "toccata.toc"
Value *rslt19 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt18, fn8223, "toccata.toc", 1615);

// type-unknown .init
// #line 1620 "toccata.toc"
Value *rslt20 = proto1Arg(&protoImpls5595, "<nothing>/.init", alt_val_0, "toccata.toc", 1620);

// type-unknown .c-var
// #line 1621 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", alt_val_0, "toccata.toc", 1621);

// call-vector
// #line 1610 "toccata.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, rslt13);
newVect22 = mutateVectConj(newVect22, strPtr633);
newVect22 = mutateVectConj(newVect22, cond_rslt_4);
newVect22 = mutateVectConj(newVect22, strPtr622);
newVect22 = mutateVectConj(newVect22, strPtr5);
newVect22 = mutateVectConj(newVect22, rslt19);
newVect22 = mutateVectConj(newVect22, strPtr636);
newVect22 = mutateVectConj(newVect22, cond_rslt_4);
newVect22 = mutateVectConj(newVect22, strPtr637);
newVect22 = mutateVectConj(newVect22, strPtr5);
newVect22 = mutateVectConj(newVect22, strPtr556);
newVect22 = mutateVectConj(newVect22, strPtr5);
newVect22 = mutateVectConj(newVect22, strPtr443);
newVect22 = mutateVectConj(newVect22, cond_rslt_4);
newVect22 = mutateVectConj(newVect22, strPtr444);
newVect22 = mutateVectConj(newVect22, strPtr5);
newVect22 = mutateVectConj(newVect22, rslt20);
newVect22 = mutateVectConj(newVect22, strPtr501);
newVect22 = mutateVectConj(newVect22, rslt21);
newVect22 = mutateVectConj(newVect22, strPtr442);
newVect22 = mutateVectConj(newVect22, strPtr5);
newVect22 = mutateVectConj(newVect22, strPtr28);
newVect22 = mutateVectConj(newVect22, strPtr5);
Value *rslt23 = (Value *)newVect22;

// type-unknown .decl
// #line 1623 "toccata.toc"
Value *rslt24 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val2, "toccata.toc", 1623);

// type-unknown .decl
// #line 1623 "toccata.toc"
Value *rslt25 = proto1Arg(&protoImpls5871, "<nothing>/.decl", alt_val_0, "toccata.toc", 1623);

// call-list
// #line 1623 "toccata.toc"
List *newList26 = empty_list;
newList26 = listCons((Value *)rslt25, newList26);
Value *rslt27 = (Value *)newList26;

// type-unknown comp*
// #line 1623 "toccata.toc"
Value *rslt28 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt24, rslt27, "toccata.toc", 1623);

// call invoke
// #line 1609 "toccata.toc"
Value *rslt29 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt23, rslt28, UnknownType_5361, refs_map_12);

// type-unknown wrap
// #line 1604 "toccata.toc"
Value *rslt30 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt29, "toccata.toc", 1604);
return(rslt30);

};};
Value *arityImpl8220(List *closures, Value *cond_val_0) {
while (1) {
Value *val1;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val1, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

dec_and_free(closuresTail, 1);

// type-unknown .alt
// #line 1604 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls3705, "<nothing>/.alt", val1, "toccata.toc", 1604);

// type-unknown emit
// #line 1604 "toccata.toc"
Value *rslt3 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt2, "toccata.toc", 1604);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl8222;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)cond_val_0, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)val5, (List *)dynArity4->closures);
Function *anon_8227 = malloc_function(1);
anon_8227->name = "anon";
anon_8227->arityCount = 1;
anon_8227->arities[0] = dynArity4;
Value *fn8221 = (Value *)anon_8227;

// type-unknown flat-map
// #line 1604 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt3, fn8221, "toccata.toc", 1604);
return(rslt6);

};};
Value *TailEither_emit_8218(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 2);
Value *rslt1 = reified_type_args_22(empty_list, ast_0);
Value *clause_2;
Value *alt_3;
Value *tail_4;
Value **destArgs5[3] = {&clause_2, &alt_3, &tail_4};
destructValue("toccata.toc", "1600", (Value *)rslt1, 3, destArgs5);

dec_and_free(clause_2, 1);

dec_and_free(alt_3, 1);

dec_and_free(tail_4, 1);

// type-unknown .clause
// #line 1603 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls3701, "<nothing>/.clause", ast_0, "toccata.toc", 1603);

// type-unknown emit
// #line 1603 "toccata.toc"
Value *rslt7 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt6, "toccata.toc", 1603);
Value *wrapper_8 = rslt7;

incRef(wrapper_8, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl8220;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_8, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)ast_0, (List *)dynArity9->closures);
Function *anon_8228 = malloc_function(1);
anon_8228->name = "anon";
anon_8228->arityCount = 1;
anon_8228->arities[0] = dynArity9;
Value *fn8219 = (Value *)anon_8228;

// type-unknown flat-map
// #line 1603 "toccata.toc"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_8, fn8219, "toccata.toc", 1603);
return(rslt10);

};};
FnArity TailEither_emit_8229 = {FnArityType, -1, 1, (List *)0, 0, TailEither_emit_8218};
Value *TailEither_assoc_STAR__8230(List *closures, Value *x_0, Value *field_1, Value *new_value_2, Value *arg3, Value *arg4) {
 while (1) {

incRef(x_0, 2);

incRef(field_1, 1);

dec_and_free(arg3, 1);

dec_and_free(arg4, 1);
Value *orRslt5;
Value *andRslt6;
Value *rslt7 = proto2Arg(&has_field_Implementations_45, "has-field", x_0, field_1, "", 0);
andRslt6 = rslt7;
if (isNothing(andRslt6)) {
dec_and_free(new_value_2, 1);
dec_and_free(x_0, 1);
dec_and_free(field_1, 1);
} else {
dec_and_free(andRslt6, 1);
Value *rslt11;
if((field_1)->type != FunctionType) {
rslt11 = invoke_370(empty_list, field_1, x_0, new_value_2);
} else {
FnArity *arity8 = findFnArity(field_1, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, x_0, new_value_2);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(new_value_2, dynArgs9);
dynArgs9 = (List *)listCons(x_0, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)field_1)->name);
  abort();
}
dec_and_free(field_1, 1);
}
Value *rslt12 = maybe_4(empty_list, rslt11);
andRslt6 = rslt12;
}
orRslt5 = andRslt6;
if (!isNothing(orRslt5)) {
dec_and_free(x_0, 1);

} else {
dec_and_free(orRslt5, 1);
Value *rslt13 = maybe_4(empty_list, x_0);
orRslt5 = rslt13;
}
Value *rslt14 = Maybe_extract_757(empty_list, orRslt5);
return(rslt14);

};};
FnArity TailEither_assoc_STAR__8231 = {FnArityType, -1, 5, (List *)0, 0, TailEither_assoc_STAR__8230};
ReifiedVal reifiedStatic8232 = {185, -1, (Value *)0, 0, {}};
Value *reifiedPtr8233 = (Value *)&reifiedStatic8232;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str638 = {StringType, -1, 10, 0, "eitherRslt"};
Value *strPtr638 = (Value *)&str638;

// --------- anon -------------
Value *fn8243;
Value *arityImpl8244(List *closures, Value *arg3) {
 while (1) {
Value *var_0;
Value *refs_1;
Value *tail_2;
Value **destArgs4[3] = {&var_0, &refs_1, &tail_2};
destructValue("toccata.toc", "1644", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// call-vector
// #line 1645 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, strPtr443);
newVect5 = mutateVectConj(newVect5, var_0);
newVect5 = mutateVectConj(newVect5, strPtr17);
newVect5 = mutateVectConj(newVect5, refs_1);
newVect5 = mutateVectConj(newVect5, strPtr442);
newVect5 = mutateVectConj(newVect5, strPtr5);
Value *rslt6 = (Value *)newVect5;
return(rslt6);

};};
FnArity staticArity8245 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8244};
Function anon_8246 = {FunctionType, -1, "anon", 1, {&staticArity8245}};
Value *fn8243 = (Value *)&anon_8246;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str639 = {StringType, -1, 16, 0, " = maybeExtract("};
Value *strPtr639 = (Value *)&str639;
Value *arityImpl8248(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8242(List *closures, Value *alt_val_0) {
while (1) {

incRef(alt_val_0, 4);
Value *val1;
Value *val3;
Value *val14;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs39[4] = {&val1, &val3, &val14, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs39);

incRef(val3, 3);

incRef(val14, 3);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// type-unknown .c-var
// #line 1633 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", val3, "toccata.toc", 1633);
Value *cond_rslt_5 = rslt4;

incRef(cond_rslt_5, 2);

// type-unknown .refs-map
// #line 1634 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", val3, "toccata.toc", 1634);

// type-unknown .refs-map
// #line 1635 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", alt_val_0, "toccata.toc", 1635);

// static-variadic
// #line 1634 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)rslt7, varArgs8);
varArgs8 = (List *)listCons((Value *)rslt6, varArgs8);
varArgs8 = (List *)listCons((Value *)_PLUS__454, varArgs8);
Value *rslt9 = merge_with_1317(empty_list, (Value *)varArgs8);

// static-variadic
// #line 1636 "toccata.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)numPtr0, varArgs10);
varArgs10 = (List *)listCons((Value *)_LT__530, varArgs10);
Value *rslt11 = partial_969(empty_list, (Value *)varArgs10);

// static-fixed
// #line 1636 "toccata.toc"
Value *rslt12 = filter_vals_8003(empty_list, rslt9, rslt11);
Value *refs_map_13 = rslt12;

// type-unknown .init
// #line 1638 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5595, "<nothing>/.init", val3, "toccata.toc", 1638);

// type-unknown .refs-map
// #line 1641 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5683, "<nothing>/.refs-map", alt_val_0, "toccata.toc", 1641);

// static-variadic
// #line 1642 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)numPtr0, varArgs17);
varArgs17 = (List *)listCons((Value *)_LT__530, varArgs17);
Value *rslt18 = partial_969(empty_list, (Value *)varArgs17);

// static-fixed
// #line 1642 "toccata.toc"
Value *rslt19 = filter_vals_8003(empty_list, rslt16, rslt18);

// type-unknown seq
// #line 1643 "toccata.toc"
Value *rslt20 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt19, "toccata.toc", 1643);

// type-unknown map
// #line 1644 "toccata.toc"
Value *rslt21 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt20, fn8243, "toccata.toc", 1644);

// type-unknown .init
// #line 1649 "toccata.toc"
Value *rslt22 = proto1Arg(&protoImpls5595, "<nothing>/.init", alt_val_0, "toccata.toc", 1649);

// type-unknown .c-var
// #line 1650 "toccata.toc"
Value *rslt23 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", alt_val_0, "toccata.toc", 1650);

// call-vector
// #line 1638 "toccata.toc"
Vector *newVect24 = empty_vect;
newVect24 = mutateVectConj(newVect24, rslt15);
newVect24 = mutateVectConj(newVect24, strPtr492);
newVect24 = mutateVectConj(newVect24, val14);
newVect24 = mutateVectConj(newVect24, strPtr303);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr633);
newVect24 = mutateVectConj(newVect24, cond_rslt_5);
newVect24 = mutateVectConj(newVect24, strPtr622);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, rslt21);
newVect24 = mutateVectConj(newVect24, val14);
newVect24 = mutateVectConj(newVect24, strPtr639);
newVect24 = mutateVectConj(newVect24, cond_rslt_5);
newVect24 = mutateVectConj(newVect24, strPtr442);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr556);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr443);
newVect24 = mutateVectConj(newVect24, cond_rslt_5);
newVect24 = mutateVectConj(newVect24, strPtr444);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, rslt22);
newVect24 = mutateVectConj(newVect24, val14);
newVect24 = mutateVectConj(newVect24, strPtr500);
newVect24 = mutateVectConj(newVect24, rslt23);
newVect24 = mutateVectConj(newVect24, strPtr303);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr28);
newVect24 = mutateVectConj(newVect24, strPtr5);
Value *rslt25 = (Value *)newVect24;

// type-unknown .decl
// #line 1652 "toccata.toc"
Value *rslt26 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val3, "toccata.toc", 1652);

// type-unknown .decl
// #line 1652 "toccata.toc"
Value *rslt27 = proto1Arg(&protoImpls5871, "<nothing>/.decl", alt_val_0, "toccata.toc", 1652);

// call-list
// #line 1652 "toccata.toc"
List *newList28 = empty_list;
newList28 = listCons((Value *)rslt27, newList28);
Value *rslt29 = (Value *)newList28;

// type-unknown comp*
// #line 1652 "toccata.toc"
Value *rslt30 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt26, rslt29, "toccata.toc", 1652);

// call invoke
// #line 1637 "toccata.toc"
Value *rslt31 = c_init_invoke_6003(empty_list, reifiedPtr6006, val14, rslt25, rslt30, UnknownType_5361, refs_map_13);
Value *v_32 = rslt31;
Value *rslt33 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_34;
Value *tail_35;
Value **destArgs36[2] = {&invoke_fn_34, &tail_35};
destructValue("", "0", (Value *)rslt33, 2, destArgs36);

dec_and_free(invoke_fn_34, 1);

dec_and_free(tail_35, 1);
FnArity *dynArity37 = malloc_fnArity();
dynArity37->count = 1;
dynArity37->variadic = 0;
dynArity37->fn = arityImpl8248;
dynArity37->closures = empty_list;
dynArity37->closures = listCons((Value *)v_32, (List *)dynArity37->closures);
Function *anon_8249 = malloc_function(1);
anon_8249->name = "anon";
anon_8249->arityCount = 1;
anon_8249->arities[0] = dynArity37;
Value *fn8247 = (Value *)anon_8249;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8247);
return(rslt38);

};};
Value *arityImpl8240(List *closures, Value *cond_val_0) {
while (1) {
Value *val1;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[4] = {&val1, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs8);

dec_and_free(closuresTail, 1);

// type-known for .alt
// #line 1632 "toccata.toc"
Value *rslt2 = either_ast_alt_3732(empty_list, val1);

// type-unknown emit
// #line 1632 "toccata.toc"
Value *rslt3 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt2, "toccata.toc", 1632);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl8242;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)val5, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)cond_val_0, (List *)dynArity4->closures);
dynArity4->closures = listCons((Value *)val6, (List *)dynArity4->closures);
Function *anon_8250 = malloc_function(1);
anon_8250->name = "anon";
anon_8250->arityCount = 1;
anon_8250->arities[0] = dynArity4;
Value *fn8241 = (Value *)anon_8250;

// type-unknown flat-map
// #line 1632 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt3, fn8241, "toccata.toc", 1632);
return(rslt7);

};};
Value *arityImpl8237(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val1, &val15, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8238_13 = ss_10;
Value *result_var_14 = v_9;

// type-known for .clause
// #line 1631 "toccata.toc"
Value *rslt16 = either_ast_clause_3728(empty_list, val15);

// type-unknown emit
// #line 1631 "toccata.toc"
Value *rslt17 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt16, "toccata.toc", 1631);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl8240;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)result_var_14, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)val15, (List *)dynArity18->closures);
Function *anon_8251 = malloc_function(1);
anon_8251->name = "anon";
anon_8251->arityCount = 1;
anon_8251->arities[0] = dynArity18;
Value *fn8239 = (Value *)anon_8251;

// type-unknown flat-map
// #line 1631 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn8239, "toccata.toc", 1631);

// dynamic unknown type
// #line 1631 "toccata.toc"
Value *rslt24;
if((rslt20)->type != FunctionType) {
rslt24 = invoke_368(empty_list, rslt20, arg8238_13);
} else {
FnArity *arity21 = findFnArity(rslt20, 1);
if(arity21 != (FnArity *)0 && !arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
rslt24 = fn23(arity21->closures, arg8238_13);
} else if(arity21 != (FnArity *)0 && arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
List *dynArgs22 = empty_list;
dynArgs22 = (List *)listCons(arg8238_13, dynArgs22);
rslt24 = fn23(arity21->closures, (Value *)dynArgs22);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt20)->name);
  abort();
}
dec_and_free(rslt20, 1);
}
return(rslt24);
andRslt7 = rslt24;
}

};};
Value *emit_8234(List *closures, Value *ast_0) {
 while (1) {

// static-fixed
// #line 1630 "toccata.toc"
Value *rslt1 = genlocal_6379(empty_list, strPtr638);
Value *wrapper_2 = rslt1;

incRef(wrapper_2, 1);
Value *ev_3 = wrapper_2;
Value *rslt4 = reified_type_args_22(empty_list, ev_3);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8237;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)wrapper_2, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)ast_0, (List *)dynArity8->closures);
dynArity8->closures = listCons((Value *)invoke_fn_5, (List *)dynArity8->closures);
Function *anon_8252 = malloc_function(1);
anon_8252->name = "anon";
anon_8252->arityCount = 1;
anon_8252->arities[0] = dynArity8;
Value *fn8236 = (Value *)anon_8252;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8236);
return(rslt9);

};};
FnArity emit_8253 = {FnArityType, -1, 1, (List *)0, 0, emit_8234};
Value *tail_call_8254(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

incRef(ast_0, 1);

dec_and_free(params_1, 1);

// type-known for .clause
// #line 1657 "toccata.toc"
Value *rslt2 = either_ast_clause_3728(empty_list, ast_0);

// type-known for .alt
// #line 1657 "toccata.toc"
Value *rslt3 = either_ast_alt_3732(empty_list, ast_0);

// call invoke
// #line 1657 "toccata.toc"
Value *rslt4 = TailEither_invoke_8198(empty_list, reifiedPtr8201, rslt2, rslt3);
return(rslt4);

};};
FnArity tail_call_8255 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8254};
Value *replace_syms_8256(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);

// type-known for .clause
// #line 1660 "toccata.toc"
Value *rslt2 = either_ast_clause_3728(empty_list, ast_0);

// type-unknown replace-syms
// #line 1660 "toccata.toc"
Value *rslt3 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", rslt2, subs_1, "toccata.toc", 1660);

// type-known for .alt
// #line 1661 "toccata.toc"
Value *rslt4 = either_ast_alt_3732(empty_list, ast_0);

// type-unknown replace-syms
// #line 1661 "toccata.toc"
Value *rslt5 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", rslt4, subs_1, "toccata.toc", 1661);

// call invoke
// #line 1660 "toccata.toc"
Value *rslt6 = either_ast_invoke_3714(empty_list, reifiedPtr3717, rslt3, rslt5);
return(rslt6);

};};
FnArity replace_syms_8257 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_8256};
Value *replace_bound_vars_8258(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

incRef(subs_1, 1);

// type-known for .clause
// #line 1664 "toccata.toc"
Value *rslt2 = either_ast_clause_3728(empty_list, ast_0);

// type-unknown replace-bound-vars
// #line 1664 "toccata.toc"
Value *rslt3 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt2, subs_1, "toccata.toc", 1664);

// type-known for .alt
// #line 1665 "toccata.toc"
Value *rslt4 = either_ast_alt_3732(empty_list, ast_0);

// type-unknown replace-bound-vars
// #line 1665 "toccata.toc"
Value *rslt5 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt4, subs_1, "toccata.toc", 1665);

// call invoke
// #line 1664 "toccata.toc"
Value *rslt6 = either_ast_invoke_3714(empty_list, reifiedPtr3717, rslt3, rslt5);
return(rslt6);

};};
FnArity replace_bound_vars_8259 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_8258};
Value *produces_code_QM__8260(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);
return(nothing_7);

};};
FnArity produces_code_QM__8261 = {FnArityType, -1, 1, (List *)0, 0, produces_code_QM__8260};
Value *emit_8262(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);

// call invoke
// #line 1673 "toccata.toc"
Value *rslt1 = arityImpl2933(empty_list, reifiedPtr2939, empty_c_code_5928);
return(rslt1);

};};
FnArity emit_8263 = {FnArityType, -1, 1, (List *)0, 0, emit_8262};
Value *tail_call_8264(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

dec_and_free(params_1, 1);
return(ast_0);

};};
FnArity tail_call_8265 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8264};
Value *produces_code_QM__8266(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);
return(nothing_7);

};};
FnArity produces_code_QM__8267 = {FnArityType, -1, 1, (List *)0, 0, produces_code_QM__8266};
Value *emit_8268(List *closures, Value *ast_0) {
 while (1) {

dec_and_free(ast_0, 1);

// call invoke
// #line 1683 "toccata.toc"
Value *rslt1 = arityImpl2933(empty_list, reifiedPtr2939, empty_c_code_5928);
return(rslt1);

};};
FnArity emit_8269 = {FnArityType, -1, 1, (List *)0, 0, emit_8268};
Value *tail_call_8270(List *closures, Value *ast_0, Value *params_1) {
 while (1) {

dec_and_free(params_1, 1);
return(ast_0);

};};
FnArity tail_call_8271 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8270};

// --------- emit-closures -------------
Value *emit_closures_8273;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str640 = {StringType, -1, 12, 0, "closuresTail"};
Value *strPtr640 = (Value *)&str640;

// --------- anon -------------
Value *fn8286;
Value *arityImpl8287(List *closures, Value *arg2) {
 while (1) {
Value *arg_0;
Value *tail_1;
Value **destArgs3[2] = {&arg_0, &tail_1};
destructValue("toccata.toc", "1693", (Value *)arg2, 2, destArgs3);

dec_and_free(tail_1, 1);

// call-vector
// #line 1693 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, strPtr492);
newVect4 = mutateVectConj(newVect4, arg_0);
newVect4 = mutateVectConj(newVect4, strPtr303);
newVect4 = mutateVectConj(newVect4, strPtr5);
Value *rslt5 = (Value *)newVect4;
return(rslt5);

};};
FnArity staticArity8288 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8287};
Function anon_8289 = {FunctionType, -1, "anon", 1, {&staticArity8288}};
Value *fn8286 = (Value *)&anon_8289;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str641 = {StringType, -1, 29, 0, "incRef((Value *)closures, 1);"};
Value *strPtr641 = (Value *)&str641;

// --------- anon -------------
Value *fn8285;
Value *arityImpl8290(List *closures, Value *arg2) {
 while (1) {
Value *arg_0;
Value *tail_1;
Value **destArgs3[2] = {&arg_0, &tail_1};
destructValue("toccata.toc", "1696", (Value *)arg2, 2, destArgs3);

dec_and_free(tail_1, 1);

// call-vector
// #line 1696 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, strPtr295);
newVect4 = mutateVectConj(newVect4, arg_0);
Value *rslt5 = (Value *)newVect4;
return(rslt5);

};};
FnArity staticArity8291 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8290};
Function anon_8292 = {FunctionType, -1, "anon", 1, {&staticArity8291}};
Value *fn8285 = (Value *)&anon_8292;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[40];
} str642 = {StringType, -1, 39, 0, "destructValue(\"\", \"\", (Value *)closures"};
Value *strPtr642 = (Value *)&str642;

// --------- anon -------------
Value *fn8284;
Value *arityImpl8293(List *closures, Value *arg2) {
 while (1) {
Value *arg_0;
Value *tail_1;
Value **destArgs3[2] = {&arg_0, &tail_1};
destructValue("toccata.toc", "1701", (Value *)arg2, 2, destArgs3);

dec_and_free(tail_1, 1);

// call-vector
// #line 1701 "toccata.toc"
Vector *newVect4 = empty_vect;
Value *rslt5 = (Value *)newVect4;

// call-vector
// #line 1701 "toccata.toc"
Vector *newVect6 = empty_vect;
Value *rslt7 = (Value *)newVect6;

// static-variadic
// #line 1701 "toccata.toc"
List *varArgs8 = empty_list;
Value *rslt9 = hash_map_1208(empty_list, (Value *)varArgs8);

// call invoke
// #line 1701 "toccata.toc"
Value *rslt10 = c_init_invoke_6003(empty_list, reifiedPtr6006, arg_0, rslt5, rslt7, UnknownType_5361, rslt9);
return(rslt10);

};};
FnArity staticArity8294 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8293};
Function anon_8295 = {FunctionType, -1, "anon", 1, {&staticArity8294}};
Value *fn8284 = (Value *)&anon_8295;

Value *arityImpl8281(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs43[4] = {&val1, &val15, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs43);

incRef(val18, 4);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 5);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8282_13 = ss_10;
Value *destructArgs_14 = v_9;

incRef(destructArgs_14, 1);
Value *arg8283_16 = arg8282_13;
Value *__17 = val15;

// type-unknown map
// #line 1693 "toccata.toc"
Value *rslt19 = proto2Arg(&map_Implementations_254, "<nothing>/map", val18, fn8286, "toccata.toc", 1693);

// type-unknown count
// #line 1695 "toccata.toc"
Value *rslt20 = proto1Arg(&count_Implementations_300, "<nothing>/count", val18, "toccata.toc", 1695);

// type-unknown map
// #line 1696 "toccata.toc"
Value *rslt21 = proto2Arg(&map_Implementations_254, "<nothing>/map", val18, fn8285, "toccata.toc", 1696);

// static-fixed
// #line 1696 "toccata.toc"
Value *rslt22 = interpose_503(empty_list, rslt21, strPtr17);

// type-unknown count
// #line 1698 "toccata.toc"
Value *rslt23 = proto1Arg(&count_Implementations_300, "<nothing>/count", val18, "toccata.toc", 1698);

// call-vector
// #line 1693 "toccata.toc"
Vector *newVect24 = empty_vect;
newVect24 = mutateVectConj(newVect24, rslt19);
newVect24 = mutateVectConj(newVect24, strPtr641);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr573);
newVect24 = mutateVectConj(newVect24, destructArgs_14);
newVect24 = mutateVectConj(newVect24, strPtr21);
newVect24 = mutateVectConj(newVect24, rslt20);
newVect24 = mutateVectConj(newVect24, strPtr574);
newVect24 = mutateVectConj(newVect24, rslt22);
newVect24 = mutateVectConj(newVect24, strPtr575);
newVect24 = mutateVectConj(newVect24, strPtr5);
newVect24 = mutateVectConj(newVect24, strPtr642);
newVect24 = mutateVectConj(newVect24, strPtr17);
newVect24 = mutateVectConj(newVect24, rslt23);
newVect24 = mutateVectConj(newVect24, strPtr17);
newVect24 = mutateVectConj(newVect24, destructArgs_14);
newVect24 = mutateVectConj(newVect24, strPtr442);
newVect24 = mutateVectConj(newVect24, strPtr5);
Value *rslt25 = (Value *)newVect24;

// call-vector
// #line 1699 "toccata.toc"
Vector *newVect26 = empty_vect;
Value *rslt27 = (Value *)newVect26;

// static-variadic
// #line 1700 "toccata.toc"
List *varArgs28 = empty_list;
Value *rslt29 = hash_map_1208(empty_list, (Value *)varArgs28);

// call invoke
// #line 1692 "toccata.toc"
Value *rslt30 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt25, rslt27, UnknownType_5361, rslt29);

// type-unknown map
// #line 1701 "toccata.toc"
Value *rslt31 = proto2Arg(&map_Implementations_254, "<nothing>/map", val18, fn8284, "toccata.toc", 1701);

// static-fixed
// #line 1692 "toccata.toc"
Value *rslt32 = cons_275(empty_list, rslt30, rslt31);
Value *v_33 = rslt32;
Value *arg8296_34 = arg8283_16;
Value *rslt35 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_36;
Value *tail_37;
Value **destArgs38[2] = {&invoke_fn_36, &tail_37};
destructValue("", "0", (Value *)rslt35, 2, destArgs38);

dec_and_free(invoke_fn_36, 1);

dec_and_free(tail_37, 1);
Value *s_39 = arg8296_34;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, v_33);
newVect40 = mutateVectConj(newVect40, s_39);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = maybe_4(empty_list, rslt41);
return(rslt42);
andRslt7 = rslt42;
}

};};
Value *arityImpl8277(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs45[3] = {&val1, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs45);

incRef(val18, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 2);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8278_13 = ss_10;
Value *closures_14 = v_9;

incRef(closures_14, 1);
Value *orRslt15;
Value *andRslt16;

// type-unknown empty?
// #line 1689 "toccata.toc"
Value *rslt17 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", closures_14, "toccata.toc", 1689);
andRslt16 = rslt17;
if (isNothing(andRslt16)) {
dec_and_free(val18, 1);
} else {
dec_and_free(andRslt16, 1);

// type-known for zero
// #line 1689 "toccata.toc"
Value *rslt19 = new_sm_zero_2799(empty_list, val18);

// type-unknown zero
// #line 1689 "toccata.toc"
Value *rslt20 = proto1Arg(&zero_Implementations_235, "zero", rslt19, "toccata.toc", 1689);

// static-fixed
// #line 1689 "toccata.toc"
Value *rslt21 = maybe_4(empty_list, rslt20);
andRslt16 = rslt21;
}
orRslt15 = andRslt16;
if (!isNothing(orRslt15)) {
dec_and_free(val18, 1);
dec_and_free(closures_14, 1);

} else {
dec_and_free(orRslt15, 1);

// type-unknown reverse
// #line 1690 "toccata.toc"
Value *rslt22 = proto1Arg(&reverse_Implementations_314, "<nothing>/reverse", closures_14, "toccata.toc", 1690);

// call-vector
// #line 1690 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, strPtr640);
newVect23 = mutateVectConj(newVect23, strPtr0);
Value *rslt24 = (Value *)newVect23;

// call-vector
// #line 1690 "toccata.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, rslt24);
Value *rslt26 = (Value *)newVect25;

// call-list
// #line 1690 "toccata.toc"
List *newList27 = empty_list;
newList27 = listCons((Value *)rslt26, newList27);
Value *rslt28 = (Value *)newList27;

// type-unknown comp*
// #line 1690 "toccata.toc"
Value *rslt29 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt22, rslt28, "toccata.toc", 1690);
Value *closures_30 = rslt29;

// static-fixed
// #line 1691 "toccata.toc"
Value *rslt31 = genlocal_6379(empty_list, strPtr572);
Value *ev_32 = rslt31;
Value *rslt33 = reified_type_args_22(empty_list, ev_32);
Value *invoke_fn_34;
Value *tail_35;
Value **destArgs36[2] = {&invoke_fn_34, &tail_35};
destructValue("", "0", (Value *)rslt33, 2, destArgs36);

dec_and_free(tail_35, 1);
FnArity *dynArity37 = malloc_fnArity();
dynArity37->count = 1;
dynArity37->variadic = 0;
dynArity37->fn = arityImpl8281;
dynArity37->closures = empty_list;
dynArity37->closures = listCons((Value *)closures_30, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)val18, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)invoke_fn_34, (List *)dynArity37->closures);
Function *anon_8297 = malloc_function(1);
anon_8297->name = "anon";
anon_8297->arityCount = 1;
anon_8297->arities[0] = dynArity37;
Value *fn8280 = (Value *)anon_8297;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8280);

// static-fixed
// #line 1689 "toccata.toc"
Value *rslt39 = maybe_4(empty_list, rslt38);
orRslt15 = rslt39;
}

// type-known for extract
// #line 1689 "toccata.toc"
Value *rslt40 = Maybe_extract_757(empty_list, orRslt15);

// dynamic unknown type
// #line 1689 "toccata.toc"
Value *rslt44;
if((rslt40)->type != FunctionType) {
rslt44 = invoke_368(empty_list, rslt40, arg8278_13);
} else {
FnArity *arity41 = findFnArity(rslt40, 1);
if(arity41 != (FnArity *)0 && !arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
rslt44 = fn43(arity41->closures, arg8278_13);
} else if(arity41 != (FnArity *)0 && arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
List *dynArgs42 = empty_list;
dynArgs42 = (List *)listCons(arg8278_13, dynArgs42);
rslt44 = fn43(arity41->closures, (Value *)dynArgs42);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt40)->name);
  abort();
}
dec_and_free(rslt40, 1);
}
return(rslt44);
andRslt7 = rslt44;
}

};};
Value *emit_closures_8274(List *closures) {
 while (1) {

// call-vector
// #line 1688 "toccata.toc"
Vector *newVect0 = empty_vect;
newVect0 = mutateVectConj(newVect0, dispatchFnPtr5469);
newVect0 = mutateVectConj(newVect0, dispatchFnPtr5719);
newVect0 = mutateVectConj(newVect0, dispatchFnPtr5677);
Value *rslt1 = (Value *)newVect0;

// static-fixed
// #line 1688 "toccata.toc"
Value *rslt2 = get_in_val_3549(empty_list, rslt1);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl8277;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_8298 = malloc_function(1);
anon_8298->name = "anon";
anon_8298->arityCount = 1;
anon_8298->arities[0] = dynArity9;
Value *fn8276 = (Value *)anon_8298;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8276);

// call-vector
// #line 1702 "toccata.toc"
Vector *newVect11 = empty_vect;
Value *rslt12 = (Value *)newVect11;

// call invoke
// #line 1702 "toccata.toc"
Value *rslt13 = arityImpl2933(empty_list, reifiedPtr2939, rslt12);
List *newList14 = empty_list;
newList14 = listCons((Value *)rslt13, newList14);
Value *rslt15 = (Value *)newList14;
Value *rslt16 = new_sm_comp_STAR__2805(empty_list, rslt10, rslt15);
return(rslt16);

};};
FnArity emit_closures_8299 = {FnArityType, -1, 0, (List *)0, 0, emit_closures_8274};
Function emit_closures_8300 = {FunctionType, -1, "emit-closures", 1, {&emit_closures_8299}};
Value *emit_closures_8273 = (Value *)&emit_closures_8300;


// --------- closures-init -------------
Value *closures_init_8302;

// --------- anon -------------
Value *fn8313;
Value *arityImpl8318(List *closures, Value *arg3) {
 while (1) {
Value *arg0;
Value *sym_1;
Value *tail_2;
Value **destArgs4[3] = {&arg0, &sym_1, &tail_2};
destructValue("toccata.toc", "1706", (Value *)arg3, 3, destArgs4);

dec_and_free(arg0, 1);

dec_and_free(tail_2, 1);

// static-fixed
// #line 1706 "toccata.toc"
Value *rslt5 = lookup_sym_6612(empty_list, sym_1);
return(rslt5);

};};
FnArity staticArity8319 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8318};
Function anon_8320 = {FunctionType, -1, "anon", 1, {&staticArity8319}};
Value *fn8313 = (Value *)&anon_8320;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str643 = {StringType, -1, 31, 0, "->closures = listCons((Value *)"};
Value *strPtr643 = (Value *)&str643;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str644 = {StringType, -1, 10, 0, ", (List *)"};
Value *strPtr644 = (Value *)&str644;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str645 = {StringType, -1, 12, 0, "->closures);"};
Value *strPtr645 = (Value *)&str645;
Value *arityImpl8324(List *closures, Value *closure_0) {
while (1) {

incRef(closure_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs11);

incRef(val1, 2);

dec_and_free(closuresTail, 1);

// type-unknown .c-var
// #line 1711 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", closure_0, "toccata.toc", 1711);

// call-vector
// #line 1710 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, val1);
newVect3 = mutateVectConj(newVect3, strPtr643);
newVect3 = mutateVectConj(newVect3, rslt2);
newVect3 = mutateVectConj(newVect3, strPtr644);
newVect3 = mutateVectConj(newVect3, val1);
newVect3 = mutateVectConj(newVect3, strPtr645);
newVect3 = mutateVectConj(newVect3, strPtr5);
Value *rslt4 = (Value *)newVect3;

// call-vector
// #line 1712 "toccata.toc"
Vector *newVect5 = empty_vect;
Value *rslt6 = (Value *)newVect5;

// type-unknown .c-var
// #line 1714 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", closure_0, "toccata.toc", 1714);

// static-variadic
// #line 1714 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)numPtr1, varArgs8);
varArgs8 = (List *)listCons((Value *)rslt7, varArgs8);
Value *rslt9 = hash_map_1208(empty_list, (Value *)varArgs8);

// call invoke
// #line 1709 "toccata.toc"
Value *rslt10 = c_code_invoke_5942(empty_list, reifiedPtr5945, val1, rslt4, rslt6, ListType_5367, rslt9);
return(rslt10);

};};
Value *arityImpl8327(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8321(List *closures, Value *closure_vars_0) {
while (1) {
Value *val1;
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[3] = {&val1, &val4, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs13);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8324;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_8325 = malloc_function(1);
anon_8325->name = "anon";
anon_8325->arityCount = 1;
anon_8325->arities[0] = dynArity3;
Value *fn8323 = (Value *)anon_8325;

// type-unknown map
// #line 1707 "toccata.toc"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", closure_vars_0, fn8323, "toccata.toc", 1707);
Value *v_6 = rslt5;
Value *rslt7 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(invoke_fn_8, 1);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl8327;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)v_6, (List *)dynArity11->closures);
Function *anon_8328 = malloc_function(1);
anon_8328->name = "anon";
anon_8328->arityCount = 1;
anon_8328->arities[0] = dynArity11;
Value *fn8326 = (Value *)anon_8328;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8326);
return(rslt12);

};};
Value *arityImpl8306(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[5] = {&val1, &val15, &val18, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs25);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8307_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// static-fixed
// #line 1706 "toccata.toc"
Value *rslt16 = traverse_6470(empty_list, val15, fn8313);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl8321;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)val18, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)val19, (List *)dynArity17->closures);
Function *anon_8329 = malloc_function(1);
anon_8329->name = "anon";
anon_8329->arityCount = 1;
anon_8329->arities[0] = dynArity17;
Value *fn8312 = (Value *)anon_8329;

// type-unknown flat-map
// #line 1706 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt16, fn8312, "toccata.toc", 1706);

// dynamic unknown type
// #line 1706 "toccata.toc"
Value *rslt24;
if((rslt20)->type != FunctionType) {
rslt24 = invoke_368(empty_list, rslt20, arg8307_13);
} else {
FnArity *arity21 = findFnArity(rslt20, 1);
if(arity21 != (FnArity *)0 && !arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
rslt24 = fn23(arity21->closures, arg8307_13);
} else if(arity21 != (FnArity *)0 && arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
List *dynArgs22 = empty_list;
dynArgs22 = (List *)listCons(arg8307_13, dynArgs22);
rslt24 = fn23(arity21->closures, (Value *)dynArgs22);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt20)->name);
  abort();
}
dec_and_free(rslt20, 1);
}
return(rslt24);
andRslt7 = rslt24;
}

};};
Value *closures_init_8303(List *closures, Value *closures_0, Value *arity_sym_1) {
 while (1) {

incRef(closures_0, 1);

// type-unknown empty?
// #line 1705 "toccata.toc"
Value *rslt2 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", closures_0, "toccata.toc", 1705);

// static-fixed
// #line 1705 "toccata.toc"
Value *rslt3 = when_not_4103(empty_list, rslt2);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8306;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)arity_sym_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)closures_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_8330 = malloc_function(1);
anon_8330->name = "anon";
anon_8330->arityCount = 1;
anon_8330->arities[0] = dynArity10;
Value *fn8305 = (Value *)anon_8330;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8305);
return(rslt11);

};};
FnArity closures_init_8331 = {FnArityType, -1, 2, (List *)0, 0, closures_init_8303};
Function closures_init_8332 = {FunctionType, -1, "closures-init", 1, {&closures_init_8331}};
Value *closures_init_8302 = (Value *)&closures_init_8332;


// --------- set-type -------------
Value *set_type_8334;
Value *arityImpl8338(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val41;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[5] = {&val1, &val15, &val18, &val41, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs54);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8339_13 = ss_10;
Value *sym_info_14 = v_9;

dec_and_free(sym_info_14, 1);
Value *arg8340_20 = arg8339_13;

// call-vector
// #line 1718 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5469);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5721);
newVect16 = mutateVectConj(newVect16, val15);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr4348);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 1718 "toccata.toc"
Value *rslt19 = assoc_in_val_3599(empty_list, rslt17, val18);
Value *ev_21 = rslt19;
Value *arg8341_22 = arg8340_20;
Value *rslt23 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_24;
Value *tail_25;
Value **destArgs26[2] = {&invoke_fn_24, &tail_25};
destructValue("", "0", (Value *)rslt23, 2, destArgs26);

dec_and_free(tail_25, 1);
Value *s_27 = arg8341_22;
Value *rslt31;
if((invoke_fn_24)->type != FunctionType) {
rslt31 = invoke_368(empty_list, invoke_fn_24, s_27);
} else {
FnArity *arity28 = findFnArity(invoke_fn_24, 1);
if(arity28 != (FnArity *)0 && !arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
rslt31 = fn30(arity28->closures, s_27);
} else if(arity28 != (FnArity *)0 && arity28->variadic) {
FnType1 *fn30 = (FnType1 *)arity28->fn;
List *dynArgs29 = empty_list;
dynArgs29 = (List *)listCons(s_27, dynArgs29);
rslt31 = fn30(arity28->closures, (Value *)dynArgs29);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_24)->name);
  abort();
}
dec_and_free(invoke_fn_24, 1);
}
Value *x_32 = rslt31;

incRef(x_32, 1);
Value *andRslt33;
andRslt33 = x_32;
if (isNothing(andRslt33)) {
dec_and_free(x_32, 1);
dec_and_free(val41, 1);
} else {
dec_and_free(andRslt33, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_32, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_35;
Value *ss_36;
Value *tail_37;
Value **destArgs38[3] = {&v_35, &ss_36, &tail_37};
destructValue("", "0", (Value *)rslt34, 3, destArgs38);

dec_and_free(tail_37, 1);
Value *arg8342_39 = ss_36;
Value *arg40 = v_35;

dec_and_free(arg40, 1);
Value *arg8343_42 = arg8342_39;
Value *__43 = val41;
Value *v_44 = strPtr0;
Value *arg8344_45 = arg8343_42;
Value *rslt46 = reified_type_args_22(empty_list, __43);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg8344_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
andRslt33 = rslt53;
}
return(andRslt33);
andRslt7 = andRslt33;
}

};};
Value *set_type_8335(List *closures, Value *sym_0, Value *type_num_1) {
 while (1) {

incRef(sym_0, 1);

// call-vector
// #line 1717 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5721);
newVect2 = mutateVectConj(newVect2, sym_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 1717 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl8338;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)type_num_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)sym_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_8345 = malloc_function(1);
anon_8345->name = "anon";
anon_8345->arityCount = 1;
anon_8345->arities[0] = dynArity11;
Value *fn8337 = (Value *)anon_8345;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8337);
List *newList13 = empty_list;
newList13 = listCons((Value *)sm_space_5388, newList13);
Value *rslt14 = (Value *)newList13;
Value *rslt15 = new_sm_comp_STAR__2805(empty_list, rslt12, rslt14);
return(rslt15);

};};
FnArity set_type_8346 = {FnArityType, -1, 2, (List *)0, 0, set_type_8335};
Function set_type_8347 = {FunctionType, -1, "set-type", 1, {&set_type_8346}};
Value *set_type_8334 = (Value *)&set_type_8347;


// --------- emit-fn-arity -------------
Value *emit_fn_arity_8349;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str646 = {StringType, -1, 9, 0, "arityImpl"};
Value *strPtr646 = (Value *)&str646;
Value *arityImpl8377(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val38;
Value *val40;
Value *val65;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs78[6] = {&val1, &val37, &val38, &val40, &val65, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs78);

incRef(val40, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(x_6, 1);
dec_and_free(val37, 1);
dec_and_free(val65, 1);
dec_and_free(val40, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8378_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8379_16 = arg8378_13;

// static-fixed
// #line 1737 "toccata.toc"
Value *rslt15 = genlocal_6379(empty_list, strPtr293);
Value *ev_17 = rslt15;
Value *arg8380_18 = arg8379_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg8380_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val38, 1);
dec_and_free(val37, 1);
dec_and_free(x_28, 1);
dec_and_free(val65, 1);
dec_and_free(val40, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg8381_35 = ss_32;
Value *param_var_36 = v_31;
Value *arg8382_44 = arg8381_35;

// type-unknown conj
// #line 1738 "toccata.toc"
Value *rslt39 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", val37, val38, "toccata.toc", 1738);

// type-unknown ast/file-name
// #line 1739 "toccata.toc"
Value *rslt41 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val40, "toccata.toc", 1739);

// type-unknown ast/line-number
// #line 1740 "toccata.toc"
Value *rslt42 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val40, "toccata.toc", 1740);

// static-fixed
// #line 1738 "toccata.toc"
Value *rslt43 = unpack_arg_list_7479(empty_list, param_var_36, rslt39, rslt41, rslt42);
Value *ev_45 = rslt43;
Value *arg8383_46 = arg8382_44;
Value *rslt47 = reified_type_args_22(empty_list, ev_45);
Value *invoke_fn_48;
Value *tail_49;
Value **destArgs50[2] = {&invoke_fn_48, &tail_49};
destructValue("", "0", (Value *)rslt47, 2, destArgs50);

dec_and_free(tail_49, 1);
Value *s_51 = arg8383_46;
Value *rslt55;
if((invoke_fn_48)->type != FunctionType) {
rslt55 = invoke_368(empty_list, invoke_fn_48, s_51);
} else {
FnArity *arity52 = findFnArity(invoke_fn_48, 1);
if(arity52 != (FnArity *)0 && !arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
rslt55 = fn54(arity52->closures, s_51);
} else if(arity52 != (FnArity *)0 && arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
List *dynArgs53 = empty_list;
dynArgs53 = (List *)listCons(s_51, dynArgs53);
rslt55 = fn54(arity52->closures, (Value *)dynArgs53);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_48)->name);
  abort();
}
dec_and_free(invoke_fn_48, 1);
}
Value *x_56 = rslt55;

incRef(x_56, 1);
Value *andRslt57;
andRslt57 = x_56;
if (isNothing(andRslt57)) {
dec_and_free(x_56, 1);
dec_and_free(val65, 1);
} else {
dec_and_free(andRslt57, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt58 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_56, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_59;
Value *ss_60;
Value *tail_61;
Value **destArgs62[3] = {&v_59, &ss_60, &tail_61};
destructValue("", "0", (Value *)rslt58, 3, destArgs62);

dec_and_free(tail_61, 1);
Value *arg8384_63 = ss_60;
Value *destruct_64 = v_59;
Value *arg8385_66 = arg8384_63;
Value *__67 = val65;
Value *v_68 = destruct_64;
Value *arg8386_69 = arg8385_66;
Value *rslt70 = reified_type_args_22(empty_list, __67);
Value *invoke_fn_71;
Value *tail_72;
Value **destArgs73[2] = {&invoke_fn_71, &tail_72};
destructValue("", "0", (Value *)rslt70, 2, destArgs73);

dec_and_free(invoke_fn_71, 1);

dec_and_free(tail_72, 1);
Value *s_74 = arg8386_69;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect75 = empty_vect;
newVect75 = mutateVectConj(newVect75, v_68);
newVect75 = mutateVectConj(newVect75, s_74);
Value *rslt76 = (Value *)newVect75;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt77 = maybe_4(empty_list, rslt76);
andRslt57 = rslt77;
}
andRslt29 = andRslt57;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *arityImpl8374(List *closures, Value *tail_var_0) {
while (1) {
Value *val1;
Value *val11;
Value *val12;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[5] = {&val1, &val11, &val12, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs15);

dec_and_free(closuresTail, 1);

// call-vector
// #line 1736 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5469);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5721);
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr4348);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 1736 "toccata.toc"
Value *rslt4 = assoc_in_val_3599(empty_list, rslt3, ListType_5367);
Value *ev_5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8377;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)val11, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)val12, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)tail_var_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)val13, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_8387 = malloc_function(1);
anon_8387->name = "anon";
anon_8387->arityCount = 1;
anon_8387->arities[0] = dynArity10;
Value *fn8376 = (Value *)anon_8387;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8376);
return(rslt14);

};};
Value *arityImpl8372(List *closures, Value *fixed_vars_0) {
while (1) {
Value *val1;
Value *val4;
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[4] = {&val1, &val4, &val5, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs7);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-unknown bind
// #line 1735 "toccata.toc"
Value *rslt2 = proto1Arg(&bind_Implementations_5818, "<nothing>/bind", val1, "toccata.toc", 1735);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8374;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)fixed_vars_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val5, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)val1, (List *)dynArity3->closures);
Function *anon_8388 = malloc_function(1);
anon_8388->name = "anon";
anon_8388->arityCount = 1;
anon_8388->arities[0] = dynArity3;
Value *fn8373 = (Value *)anon_8388;

// type-unknown flat-map
// #line 1735 "toccata.toc"
Value *rslt6 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn8373, "toccata.toc", 1735);
return(rslt6);

};};
Value *arityImpl8369(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[4] = {&val1, &val15, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs26);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8370_13 = ss_10;
Value *tail_14 = v_9;

// type-unknown .fixed
// #line 1734 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", val15, "toccata.toc", 1734);

// static-fixed
// #line 1734 "toccata.toc"
Value *rslt17 = traverse_6470(empty_list, rslt16, bind_5816);

// type-unknown map
// #line 1734 "toccata.toc"
Value *rslt18 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt17, vec_324, "toccata.toc", 1734);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl8372;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val15, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)tail_14, (List *)dynArity19->closures);
Function *anon_8389 = malloc_function(1);
anon_8389->name = "anon";
anon_8389->arityCount = 1;
anon_8389->arities[0] = dynArity19;
Value *fn8371 = (Value *)anon_8389;

// type-unknown flat-map
// #line 1734 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn8371, "toccata.toc", 1734);

// dynamic unknown type
// #line 1734 "toccata.toc"
Value *rslt25;
if((rslt21)->type != FunctionType) {
rslt25 = invoke_368(empty_list, rslt21, arg8370_13);
} else {
FnArity *arity22 = findFnArity(rslt21, 1);
if(arity22 != (FnArity *)0 && !arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
rslt25 = fn24(arity22->closures, arg8370_13);
} else if(arity22 != (FnArity *)0 && arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
List *dynArgs23 = empty_list;
dynArgs23 = (List *)listCons(arg8370_13, dynArgs23);
rslt25 = fn24(arity22->closures, (Value *)dynArgs23);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt21)->name);
  abort();
}
dec_and_free(rslt21, 1);
}
return(rslt25);
andRslt7 = rslt25;
}

};};

// --------- anon -------------
Value *fn8394;
Value *arityImpl8395(List *closures, Value *var_0) {
 while (1) {

// call-vector
// #line 1749 "toccata.toc"
Vector *newVect1 = empty_vect;
Value *rslt2 = (Value *)newVect1;

// call-vector
// #line 1749 "toccata.toc"
Vector *newVect3 = empty_vect;
Value *rslt4 = (Value *)newVect3;

// static-variadic
// #line 1751 "toccata.toc"
List *varArgs5 = empty_list;
Value *rslt6 = hash_map_1208(empty_list, (Value *)varArgs5);

// call invoke
// #line 1749 "toccata.toc"
Value *rslt7 = c_init_invoke_6003(empty_list, reifiedPtr6006, var_0, rslt2, rslt4, UnknownType_5361, rslt6);
return(rslt7);

};};
FnArity staticArity8396 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8395};
Function anon_8397 = {FunctionType, -1, "anon", 1, {&staticArity8396}};
Value *fn8394 = (Value *)&anon_8397;

Value *arityImpl8399(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs24[4] = {&val1, &val15, &val16, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs24);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8400_13 = ss_10;
Value *param_destruct_14 = v_9;

// type-unknown .vars
// #line 1753 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls6427, "<nothing>/.vars", val16, "toccata.toc", 1753);

// call invoke
// #line 1753 "toccata.toc"
Value *rslt18 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt17, param_destruct_14);

// type-unknown wrap
// #line 1746 "toccata.toc"
Value *rslt19 = proto2Arg(&wrap_Implementations_248, "wrap", val15, rslt18, "toccata.toc", 1746);

// dynamic unknown type
// #line 1746 "toccata.toc"
Value *rslt23;
if((rslt19)->type != FunctionType) {
rslt23 = invoke_368(empty_list, rslt19, arg8400_13);
} else {
FnArity *arity20 = findFnArity(rslt19, 1);
if(arity20 != (FnArity *)0 && !arity20->variadic) {
FnType1 *fn22 = (FnType1 *)arity20->fn;
rslt23 = fn22(arity20->closures, arg8400_13);
} else if(arity20 != (FnArity *)0 && arity20->variadic) {
FnType1 *fn22 = (FnType1 *)arity20->fn;
List *dynArgs21 = empty_list;
dynArgs21 = (List *)listCons(arg8400_13, dynArgs21);
rslt23 = fn22(arity20->closures, (Value *)dynArgs21);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt19)->name);
  abort();
}
dec_and_free(rslt19, 1);
}
return(rslt23);
andRslt7 = rslt23;
}

};};
Value *arityImpl8392(List *closures, Value *vars_0) {
while (1) {

incRef(vars_0, 1);
Value *val4;
Value *val8;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs42[3] = {&val4, &val8, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs42);

incRef(val4, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;
Value *andRslt2;

// type-unknown empty?
// #line 1743 "toccata.toc"
Value *rslt3 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", vars_0, "toccata.toc", 1743);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(val4, 1);
} else {
dec_and_free(andRslt2, 1);

// type-unknown zero
// #line 1743 "toccata.toc"
Value *rslt5 = proto1Arg(&zero_Implementations_235, "zero", val4, "toccata.toc", 1743);

// type-unknown zero
// #line 1743 "toccata.toc"
Value *rslt6 = proto1Arg(&zero_Implementations_235, "zero", rslt5, "toccata.toc", 1743);

// static-fixed
// #line 1743 "toccata.toc"
Value *rslt7 = maybe_4(empty_list, rslt6);
andRslt2 = rslt7;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(val8, 1);
dec_and_free(val4, 1);
dec_and_free(vars_0, 1);

} else {
dec_and_free(orRslt1, 1);

// static-variadic
// #line 1744 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)reifiedPtr2154, varArgs9);
varArgs9 = (List *)listCons((Value *)instance_QM__40, varArgs9);
Value *rslt10 = partial_969(empty_list, (Value *)varArgs9);

// static-fixed
// #line 1744 "toccata.toc"
Value *rslt11 = some_769(empty_list, val8, rslt10);
Value *inline_body_QM__12 = rslt11;
Value *f_13 = comp_240;

// call-list
// #line 1745 "toccata.toc"
List *newList14 = empty_list;
newList14 = listCons((Value *)vars_0, newList14);
Value *rslt15 = (Value *)newList14;
Value *args_16 = rslt15;

// static-fixed
// #line 737 "core"
Value *rslt17 = fn_apply_98(empty_list, list_STAR__478, args_16);

// static-fixed
// #line 737 "core"
Value *rslt18 = fn_apply_98(empty_list, f_13, rslt17);
Value *param_vars_19 = rslt18;

incRef(param_vars_19, 2);
Value *orRslt20;
Value *andRslt21;
andRslt21 = inline_body_QM__12;
if (isNothing(andRslt21)) {
} else {
dec_and_free(andRslt21, 1);

// call-vector
// #line 1746 "toccata.toc"
Vector *newVect22 = empty_vect;
Value *rslt23 = (Value *)newVect22;

// static-fixed
// #line 1746 "toccata.toc"
Value *rslt24 = maybe_4(empty_list, rslt23);
andRslt21 = rslt24;
}
orRslt20 = andRslt21;
if (!isNothing(orRslt20)) {
dec_and_free(param_vars_19, 2);

} else {
dec_and_free(orRslt20, 1);

// type-unknown .vars
// #line 1747 "toccata.toc"
Value *rslt25 = proto1Arg(&protoImpls6427, "<nothing>/.vars", param_vars_19, "toccata.toc", 1747);

// type-unknown map
// #line 1747 "toccata.toc"
Value *rslt26 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt25, fn8394, "toccata.toc", 1747);

// type-unknown .destruct
// #line 1752 "toccata.toc"
Value *rslt27 = proto1Arg(&protoImpls6431, "<nothing>/.destruct", param_vars_19, "toccata.toc", 1752);

// call-list
// #line 1747 "toccata.toc"
List *newList28 = empty_list;
newList28 = listCons((Value *)rslt27, newList28);
Value *rslt29 = (Value *)newList28;

// type-unknown comp*
// #line 1747 "toccata.toc"
Value *rslt30 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt26, rslt29, "toccata.toc", 1747);

// static-fixed
// #line 1747 "toccata.toc"
Value *rslt31 = maybe_4(empty_list, rslt30);
orRslt20 = rslt31;
}

// static-fixed
// #line 1746 "toccata.toc"
Value *rslt32 = when_4087(empty_list, orRslt20);
Value *ev_33 = rslt32;
Value *rslt34 = reified_type_args_22(empty_list, ev_33);
Value *invoke_fn_35;
Value *tail_36;
Value **destArgs37[2] = {&invoke_fn_35, &tail_36};
destructValue("", "0", (Value *)rslt34, 2, destArgs37);

dec_and_free(tail_36, 1);
FnArity *dynArity38 = malloc_fnArity();
dynArity38->count = 1;
dynArity38->variadic = 0;
dynArity38->fn = arityImpl8399;
dynArity38->closures = empty_list;
dynArity38->closures = listCons((Value *)param_vars_19, (List *)dynArity38->closures);
dynArity38->closures = listCons((Value *)val4, (List *)dynArity38->closures);
dynArity38->closures = listCons((Value *)invoke_fn_35, (List *)dynArity38->closures);
Function *anon_8401 = malloc_function(1);
anon_8401->name = "anon";
anon_8401->arityCount = 1;
anon_8401->arities[0] = dynArity38;
Value *fn8398 = (Value *)anon_8401;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8398);

// static-fixed
// #line 1743 "toccata.toc"
Value *rslt40 = maybe_4(empty_list, rslt39);
orRslt1 = rslt40;
}

// type-known for extract
// #line 1743 "toccata.toc"
Value *rslt41 = Maybe_extract_757(empty_list, orRslt1);
return(rslt41);

};};

// --------- anon -------------
Value *fn8411;
Value *arityImpl8416(List *closures, Value *arg3) {
 while (1) {
Value *var_0;
Value *type_num_1;
Value *tail_2;
Value **destArgs4[3] = {&var_0, &type_num_1, &tail_2};
destructValue("toccata.toc", "1756", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// static-fixed
// #line 1756 "toccata.toc"
Value *rslt5 = set_type_8335(empty_list, var_0, type_num_1);
return(rslt5);

};};
FnArity staticArity8417 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8416};
Function anon_8418 = {FunctionType, -1, "anon", 1, {&staticArity8417}};
Value *fn8411 = (Value *)&anon_8418;


// --------- anon -------------
Value *fn8434;
Value *arityImpl8435(List *closures, Value *param_0) {
 while (1) {

// static-variadic
// #line 1768 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)param_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr492, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity8436 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8435};
Function anon_8437 = {FunctionType, -1, "anon", 1, {&staticArity8436}};
Value *fn8434 = (Value *)&anon_8437;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str647 = {StringType, -1, 4, 0, ") {\n"};
Value *strPtr647 = (Value *)&str647;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str648 = {StringType, -1, 7, 0, "nothing"};
Value *strPtr648 = (Value *)&str648;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str649 = {StringType, -1, 8, 0, "dynArity"};
Value *strPtr649 = (Value *)&str649;

// --------- anon -------------
Value *fn8450;
Value *arityImpl8455(List *closures, Value *arg3) {
 while (1) {
Value *arg0;
Value *sym_1;
Value *tail_2;
Value **destArgs4[3] = {&arg0, &sym_1, &tail_2};
destructValue("toccata.toc", "1781", (Value *)arg3, 3, destArgs4);

dec_and_free(arg0, 1);

dec_and_free(tail_2, 1);

// static-fixed
// #line 1782 "toccata.toc"
Value *rslt5 = lookup_sym_6612(empty_list, sym_1);
return(rslt5);

};};
FnArity staticArity8456 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8455};
Function anon_8457 = {FunctionType, -1, "anon", 1, {&staticArity8456}};
Value *fn8450 = (Value *)&anon_8457;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str650 = {StringType, -1, 20, 0, " = malloc_fnArity();"};
Value *strPtr650 = (Value *)&str650;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str651 = {StringType, -1, 10, 0, "->count = "};
Value *strPtr651 = (Value *)&str651;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str652 = {StringType, -1, 13, 0, "->variadic = "};
Value *strPtr652 = (Value *)&str652;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[2];
} str653 = {StringType, -1, 1, 0, "1"};
Value *strPtr653 = (Value *)&str653;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str654 = {StringType, -1, 7, 0, "->fn = "};
Value *strPtr654 = (Value *)&str654;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str655 = {StringType, -1, 24, 0, "->closures = empty_list;"};
Value *strPtr655 = (Value *)&str655;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str656 = {StringType, -1, 12, 0, "while (1) {\n"};
Value *strPtr656 = (Value *)&str656;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str657 = {StringType, -1, 5, 0, "};};\n"};
Value *strPtr657 = (Value *)&str657;
Value *arityImpl8460(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8458(List *closures, Value *closure_vars_0) {
while (1) {

dec_and_free(closure_vars_0, 1);
Value *val1;
Value *val3;
Value *val4;
Value *val5;
Value *val6;
Value *val14;
Value *val16;
Value *val25;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs35[9] = {&val1, &val3, &val4, &val5, &val6, &val14, &val16, &val25, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs35);

incRef(val3, 1);

incRef(val4, 1);

incRef(val5, 5);

incRef(val14, 1);

incRef(val16, 1);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// type-unknown .variadic
// #line 1790 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls2324, "<nothing>/.variadic", val4, "toccata.toc", 1790);

// dynamic unknown type
// #line 1790 "toccata.toc"
Value *rslt11;
if((rslt7)->type != FunctionType) {
rslt11 = invoke_370(empty_list, rslt7, strPtr653, strPtr39);
} else {
FnArity *arity8 = findFnArity(rslt7, 2);
if(arity8 != (FnArity *)0 && !arity8->variadic) {
FnType2 *fn10 = (FnType2 *)arity8->fn;
rslt11 = fn10(arity8->closures, strPtr653, strPtr39);
} else if(arity8 != (FnArity *)0 && arity8->variadic) {
FnType1 *fn10 = (FnType1 *)arity8->fn;
List *dynArgs9 = empty_list;
dynArgs9 = (List *)listCons(strPtr39, dynArgs9);
dynArgs9 = (List *)listCons(strPtr653, dynArgs9);
rslt11 = fn10(arity8->closures, (Value *)dynArgs9);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt7)->name);
  abort();
}
dec_and_free(rslt7, 1);
}

// call-vector
// #line 1785 "toccata.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, strPtr541);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr650);
newVect12 = mutateVectConj(newVect12, strPtr5);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr651);
newVect12 = mutateVectConj(newVect12, val6);
newVect12 = mutateVectConj(newVect12, strPtr303);
newVect12 = mutateVectConj(newVect12, strPtr5);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr652);
newVect12 = mutateVectConj(newVect12, rslt11);
newVect12 = mutateVectConj(newVect12, strPtr303);
newVect12 = mutateVectConj(newVect12, strPtr5);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr654);
newVect12 = mutateVectConj(newVect12, val3);
newVect12 = mutateVectConj(newVect12, strPtr303);
newVect12 = mutateVectConj(newVect12, strPtr5);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr655);
newVect12 = mutateVectConj(newVect12, strPtr5);
Value *rslt13 = (Value *)newVect12;

// type-unknown .decl
// #line 1793 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val14, "toccata.toc", 1793);

// type-known for .decl
// #line 1794 "toccata.toc"
Value *rslt17 = c_code_decl_5964(empty_list, val16);

// type-known for .init
// #line 1795 "toccata.toc"
Value *rslt18 = c_code_init_5960(empty_list, val16);

// type-unknown .init
// #line 1797 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls5595, "<nothing>/.init", val14, "toccata.toc", 1797);

// call-vector
// #line 1793 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt15);
newVect20 = mutateVectConj(newVect20, rslt17);
newVect20 = mutateVectConj(newVect20, rslt18);
newVect20 = mutateVectConj(newVect20, strPtr656);
newVect20 = mutateVectConj(newVect20, rslt19);
newVect20 = mutateVectConj(newVect20, strPtr5);
newVect20 = mutateVectConj(newVect20, strPtr657);
Value *rslt21 = (Value *)newVect20;

// static-variadic
// #line 1799 "toccata.toc"
List *varArgs22 = empty_list;
Value *rslt23 = hash_map_1208(empty_list, (Value *)varArgs22);

// call invoke
// #line 1784 "toccata.toc"
Value *rslt24 = c_init_invoke_6003(empty_list, reifiedPtr6006, val5, rslt13, rslt21, FnArityType_5365, rslt23);

// type-known for comp*
// #line 1784 "toccata.toc"
Value *rslt26 = c_init_comp_STAR__6039(empty_list, rslt24, val25);

// call invoke
// #line 1783 "toccata.toc"
Value *rslt27 = ClosureArity_invoke_7827(empty_list, reifiedPtr7830, val3, val4, rslt26);
Value *v_28 = rslt27;
Value *rslt29 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_30;
Value *tail_31;
Value **destArgs32[2] = {&invoke_fn_30, &tail_31};
destructValue("", "0", (Value *)rslt29, 2, destArgs32);

dec_and_free(invoke_fn_30, 1);

dec_and_free(tail_31, 1);
FnArity *dynArity33 = malloc_fnArity();
dynArity33->count = 1;
dynArity33->variadic = 0;
dynArity33->fn = arityImpl8460;
dynArity33->closures = empty_list;
dynArity33->closures = listCons((Value *)v_28, (List *)dynArity33->closures);
Function *anon_8461 = malloc_function(1);
anon_8461->name = "anon";
anon_8461->arityCount = 1;
anon_8461->arities[0] = dynArity33;
Value *fn8459 = (Value *)anon_8461;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt34 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8459);
return(rslt34);

};};
Value *arityImpl8440(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val40;
Value *val41;
Value *val42;
Value *val43;
Value *val44;
Value *val45;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs51[9] = {&val1, &val15, &val40, &val41, &val42, &val43, &val44, &val45, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs51);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 2);
dec_and_free(val43, 1);
dec_and_free(val42, 1);
dec_and_free(val45, 1);
dec_and_free(val40, 1);
dec_and_free(val44, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8441_13 = ss_10;
Value *arity_var_14 = v_9;

incRef(arity_var_14, 1);
Value *arg8442_17 = arg8441_13;

// static-fixed
// #line 1779 "toccata.toc"
Value *rslt16 = closures_init_8303(empty_list, val15, arity_var_14);
Value *ev_18 = rslt16;
Value *arg8443_19 = arg8442_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg8443_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(arity_var_14, 1);
dec_and_free(val41, 1);
dec_and_free(val15, 1);
dec_and_free(val43, 1);
dec_and_free(x_29, 1);
dec_and_free(val42, 1);
dec_and_free(val45, 1);
dec_and_free(val40, 1);
dec_and_free(val44, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg8444_36 = ss_33;
Value *closed_over_37 = v_32;

// static-fixed
// #line 1780 "toccata.toc"
Value *rslt38 = traverse_6470(empty_list, val15, fn8450);
FnArity *dynArity39 = malloc_fnArity();
dynArity39->count = 1;
dynArity39->variadic = 0;
dynArity39->fn = arityImpl8458;
dynArity39->closures = empty_list;
dynArity39->closures = listCons((Value *)closed_over_37, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val40, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val41, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val42, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)arity_var_14, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val43, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val44, (List *)dynArity39->closures);
dynArity39->closures = listCons((Value *)val45, (List *)dynArity39->closures);
Function *anon_8462 = malloc_function(1);
anon_8462->name = "anon";
anon_8462->arityCount = 1;
anon_8462->arities[0] = dynArity39;
Value *fn8449 = (Value *)anon_8462;

// type-unknown flat-map
// #line 1780 "toccata.toc"
Value *rslt46 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt38, fn8449, "toccata.toc", 1780);

// dynamic unknown type
// #line 1780 "toccata.toc"
Value *rslt50;
if((rslt46)->type != FunctionType) {
rslt50 = invoke_368(empty_list, rslt46, arg8444_36);
} else {
FnArity *arity47 = findFnArity(rslt46, 1);
if(arity47 != (FnArity *)0 && !arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
rslt50 = fn49(arity47->closures, arg8444_36);
} else if(arity47 != (FnArity *)0 && arity47->variadic) {
FnType1 *fn49 = (FnType1 *)arity47->fn;
List *dynArgs48 = empty_list;
dynArgs48 = (List *)listCons(arg8444_36, dynArgs48);
rslt50 = fn49(arity47->closures, (Value *)dynArgs48);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt46)->name);
  abort();
}
dec_and_free(rslt46, 1);
}
andRslt30 = rslt50;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str658 = {StringType, -1, 11, 0, "staticArity"};
Value *strPtr658 = (Value *)&str658;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str659 = {StringType, -1, 13, 0, " while (1) {\n"};
Value *strPtr659 = (Value *)&str659;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str660 = {StringType, -1, 4, 0, "};};"};
Value *strPtr660 = (Value *)&str660;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str661 = {StringType, -1, 9, 0, "\nFnArity "};
Value *strPtr661 = (Value *)&str661;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str662 = {StringType, -1, 13, 0, ", (List *)0, "};
Value *strPtr662 = (Value *)&str662;
Value *arityImpl8466(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val19;
Value *val20;
Value *val27;
Value *val31;
Value *val32;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs54[9] = {&val1, &val15, &val18, &val19, &val20, &val27, &val31, &val32, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs54);

incRef(val18, 1);

incRef(val20, 2);

incRef(val27, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(val18, 2);
dec_and_free(x_6, 1);
dec_and_free(val20, 3);
dec_and_free(val15, 1);
dec_and_free(val31, 1);
dec_and_free(val27, 2);
dec_and_free(val32, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8467_13 = ss_10;
Value *arity_var_14 = v_9;

incRef(arity_var_14, 1);
Value *arg8468_16 = arg8467_13;
Value *__17 = val15;

// type-unknown .type-num
// #line 1802 "toccata.toc"
Value *rslt21 = proto1Arg(&protoImpls4350, "<nothing>/.type-num", val20, "toccata.toc", 1802);

// static-variadic
// #line 1803 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)arity_var_14, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr295, varArgs22);
Value *rslt23 = str_526(empty_list, (Value *)varArgs22);

// call-vector
// #line 1804 "toccata.toc"
Vector *newVect24 = empty_vect;
Value *rslt25 = (Value *)newVect24;

// type-unknown .decl
// #line 1805 "toccata.toc"
Value *rslt26 = proto1Arg(&protoImpls5871, "<nothing>/.decl", val20, "toccata.toc", 1805);

// type-known for .decl
// #line 1806 "toccata.toc"
Value *rslt28 = c_code_decl_5964(empty_list, val27);

// type-known for .init
// #line 1807 "toccata.toc"
Value *rslt29 = c_code_init_5960(empty_list, val27);

// type-unknown .init
// #line 1809 "toccata.toc"
Value *rslt30 = proto1Arg(&protoImpls5595, "<nothing>/.init", val20, "toccata.toc", 1809);

// type-unknown .variadic
// #line 1813 "toccata.toc"
Value *rslt33 = proto1Arg(&protoImpls2324, "<nothing>/.variadic", val32, "toccata.toc", 1813);

// dynamic unknown type
// #line 1813 "toccata.toc"
Value *rslt37;
if((rslt33)->type != FunctionType) {
rslt37 = invoke_370(empty_list, rslt33, strPtr653, strPtr39);
} else {
FnArity *arity34 = findFnArity(rslt33, 2);
if(arity34 != (FnArity *)0 && !arity34->variadic) {
FnType2 *fn36 = (FnType2 *)arity34->fn;
rslt37 = fn36(arity34->closures, strPtr653, strPtr39);
} else if(arity34 != (FnArity *)0 && arity34->variadic) {
FnType1 *fn36 = (FnType1 *)arity34->fn;
List *dynArgs35 = empty_list;
dynArgs35 = (List *)listCons(strPtr39, dynArgs35);
dynArgs35 = (List *)listCons(strPtr653, dynArgs35);
rslt37 = fn36(arity34->closures, (Value *)dynArgs35);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt33)->name);
  abort();
}
dec_and_free(rslt33, 1);
}

// call-vector
// #line 1805 "toccata.toc"
Vector *newVect38 = empty_vect;
newVect38 = mutateVectConj(newVect38, rslt26);
newVect38 = mutateVectConj(newVect38, rslt28);
newVect38 = mutateVectConj(newVect38, rslt29);
newVect38 = mutateVectConj(newVect38, strPtr659);
newVect38 = mutateVectConj(newVect38, rslt30);
newVect38 = mutateVectConj(newVect38, strPtr5);
newVect38 = mutateVectConj(newVect38, strPtr660);
newVect38 = mutateVectConj(newVect38, strPtr661);
newVect38 = mutateVectConj(newVect38, arity_var_14);
newVect38 = mutateVectConj(newVect38, strPtr615);
newVect38 = mutateVectConj(newVect38, val31);
newVect38 = mutateVectConj(newVect38, strPtr662);
newVect38 = mutateVectConj(newVect38, rslt37);
newVect38 = mutateVectConj(newVect38, strPtr17);
newVect38 = mutateVectConj(newVect38, val18);
newVect38 = mutateVectConj(newVect38, strPtr575);
newVect38 = mutateVectConj(newVect38, strPtr5);
Value *rslt39 = (Value *)newVect38;

// static-variadic
// #line 1815 "toccata.toc"
List *varArgs40 = empty_list;
Value *rslt41 = hash_map_1208(empty_list, (Value *)varArgs40);

// call invoke
// #line 1803 "toccata.toc"
Value *rslt42 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt23, rslt25, rslt39, FnArityType_5365, rslt41);

// call invoke
// #line 1802 "toccata.toc"
Value *rslt43 = StaticArity_invoke_7770(empty_list, reifiedPtr7773, val18, val19, rslt21, rslt42);
Value *v_44 = rslt43;
Value *arg8469_45 = arg8468_16;
Value *rslt46 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(invoke_fn_47, 1);

dec_and_free(tail_48, 1);
Value *s_50 = arg8469_45;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect51 = empty_vect;
newVect51 = mutateVectConj(newVect51, v_44);
newVect51 = mutateVectConj(newVect51, s_50);
Value *rslt52 = (Value *)newVect51;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt53 = maybe_4(empty_list, rslt52);
return(rslt53);
andRslt7 = rslt53;
}

};};
Value *arityImpl8424(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val18;
Value *val49;
Value *val79;
Value *val106;
Value *val108;
Value *val117;
Value *val143;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs156[10] = {&val1, &val16, &val18, &val49, &val79, &val106, &val108, &val117, &val143, &closuresTail};
destructValue("", "", (Value *)closures, 10, destArgs156);

incRef(val16, 2);

incRef(val79, 2);

incRef(val106, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val79, 3);
dec_and_free(val49, 1);
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val108, 1);
dec_and_free(val16, 3);
dec_and_free(val117, 1);
dec_and_free(val143, 1);
dec_and_free(val106, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8425_13 = ss_10;
Value *destruct_closures_14 = v_9;
Value *arg8426_15 = arg8425_13;

// type-unknown .destruct
// #line 1761 "toccata.toc"
Value *rslt17 = proto1Arg(&protoImpls6431, "<nothing>/.destruct", val16, "toccata.toc", 1761);

// call-list
// #line 1761 "toccata.toc"
List *newList19 = empty_list;
newList19 = listCons((Value *)val18, newList19);
newList19 = listCons((Value *)destruct_closures_14, newList19);
Value *rslt20 = (Value *)newList19;

// type-unknown comp*
// #line 1761 "toccata.toc"
Value *rslt21 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt17, rslt20, "toccata.toc", 1761);
Value *exprs_22 = rslt21;

// static-fixed
// #line 1764 "toccata.toc"
Value *rslt23 = collapse_expressions_6058(empty_list, exprs_22);
Value *body_24 = rslt23;

incRef(body_24, 3);
Value *arg8427_28 = arg8426_15;

// call-vector
// #line 1765 "toccata.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, dispatchFnPtr5469);
newVect25 = mutateVectConj(newVect25, dispatchFnPtr5719);
newVect25 = mutateVectConj(newVect25, dispatchFnPtr5677);
Value *rslt26 = (Value *)newVect25;

// static-fixed
// #line 1765 "toccata.toc"
Value *rslt27 = get_in_val_3549(empty_list, rslt26);
Value *ev_29 = rslt27;
Value *arg8428_30 = arg8427_28;
Value *rslt31 = reified_type_args_22(empty_list, ev_29);
Value *invoke_fn_32;
Value *tail_33;
Value **destArgs34[2] = {&invoke_fn_32, &tail_33};
destructValue("", "0", (Value *)rslt31, 2, destArgs34);

dec_and_free(tail_33, 1);
Value *s_35 = arg8428_30;
Value *rslt39;
if((invoke_fn_32)->type != FunctionType) {
rslt39 = invoke_368(empty_list, invoke_fn_32, s_35);
} else {
FnArity *arity36 = findFnArity(invoke_fn_32, 1);
if(arity36 != (FnArity *)0 && !arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
rslt39 = fn38(arity36->closures, s_35);
} else if(arity36 != (FnArity *)0 && arity36->variadic) {
FnType1 *fn38 = (FnType1 *)arity36->fn;
List *dynArgs37 = empty_list;
dynArgs37 = (List *)listCons(s_35, dynArgs37);
rslt39 = fn38(arity36->closures, (Value *)dynArgs37);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_32)->name);
  abort();
}
dec_and_free(invoke_fn_32, 1);
}
Value *x_40 = rslt39;

incRef(x_40, 1);
Value *andRslt41;
andRslt41 = x_40;
if (isNothing(andRslt41)) {
dec_and_free(val79, 3);
dec_and_free(body_24, 4);
dec_and_free(val49, 1);
dec_and_free(x_40, 1);
dec_and_free(val108, 1);
dec_and_free(val16, 2);
dec_and_free(val117, 1);
dec_and_free(val143, 1);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt41, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt42 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_40, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_43;
Value *ss_44;
Value *tail_45;
Value **destArgs46[3] = {&v_43, &ss_44, &tail_45};
destructValue("", "0", (Value *)rslt42, 3, destArgs46);

dec_and_free(tail_45, 1);
Value *arg8429_47 = ss_44;
Value *closures_48 = v_43;
Value *arg8430_51 = arg8429_47;

// static-fixed
// #line 1766 "toccata.toc"
Value *rslt50 = reset_fn_context_5803(empty_list, val49);
Value *ev_52 = rslt50;
Value *arg8431_53 = arg8430_51;
Value *rslt54 = reified_type_args_22(empty_list, ev_52);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(tail_56, 1);
Value *s_58 = arg8431_53;
Value *rslt62;
if((invoke_fn_55)->type != FunctionType) {
rslt62 = invoke_368(empty_list, invoke_fn_55, s_58);
} else {
FnArity *arity59 = findFnArity(invoke_fn_55, 1);
if(arity59 != (FnArity *)0 && !arity59->variadic) {
FnType1 *fn61 = (FnType1 *)arity59->fn;
rslt62 = fn61(arity59->closures, s_58);
} else if(arity59 != (FnArity *)0 && arity59->variadic) {
FnType1 *fn61 = (FnType1 *)arity59->fn;
List *dynArgs60 = empty_list;
dynArgs60 = (List *)listCons(s_58, dynArgs60);
rslt62 = fn61(arity59->closures, (Value *)dynArgs60);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_55)->name);
  abort();
}
dec_and_free(invoke_fn_55, 1);
}
Value *x_63 = rslt62;

incRef(x_63, 1);
Value *andRslt64;
andRslt64 = x_63;
if (isNothing(andRslt64)) {
dec_and_free(val79, 3);
dec_and_free(body_24, 4);
dec_and_free(closures_48, 1);
dec_and_free(val108, 1);
dec_and_free(val16, 2);
dec_and_free(val117, 1);
dec_and_free(val143, 1);
dec_and_free(x_63, 1);
dec_and_free(val106, 2);
} else {
dec_and_free(andRslt64, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt65 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_63, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_66;
Value *ss_67;
Value *tail_68;
Value **destArgs69[3] = {&v_66, &ss_67, &tail_68};
destructValue("", "0", (Value *)rslt65, 3, destArgs69);

dec_and_free(tail_68, 1);
Value *arg8432_70 = ss_67;
Value *arg71 = v_66;

dec_and_free(arg71, 1);
Value *arg8433_72 = arg8432_70;

// type-unknown .vars
// #line 1767 "toccata.toc"
Value *rslt73 = proto1Arg(&protoImpls6427, "<nothing>/.vars", val16, "toccata.toc", 1767);

// type-unknown map
// #line 1767 "toccata.toc"
Value *rslt74 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt73, fn8434, "toccata.toc", 1767);

// type-unknown seq
// #line 1767 "toccata.toc"
Value *rslt75 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt74, "toccata.toc", 1767);
Value *param_decls_76 = rslt75;

// call-vector
// #line 1769 "toccata.toc"
Vector *newVect77 = empty_vect;
Value *rslt78 = (Value *)newVect77;

// static-fixed
// #line 1771 "toccata.toc"
Value *rslt80 = cons_275(empty_list, strPtr604, param_decls_76);

// static-fixed
// #line 1771 "toccata.toc"
Value *rslt81 = interpose_503(empty_list, rslt80, strPtr17);

// call-vector
// #line 1770 "toccata.toc"
Vector *newVect82 = empty_vect;
newVect82 = mutateVectConj(newVect82, strPtr492);
newVect82 = mutateVectConj(newVect82, val79);
newVect82 = mutateVectConj(newVect82, strPtr16);
newVect82 = mutateVectConj(newVect82, rslt81);
newVect82 = mutateVectConj(newVect82, strPtr647);
Value *rslt83 = (Value *)newVect82;

// static-variadic
// #line 1773 "toccata.toc"
List *varArgs84 = empty_list;
Value *rslt85 = hash_map_1208(empty_list, (Value *)varArgs84);

// call invoke
// #line 1769 "toccata.toc"
Value *rslt86 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt78, rslt83, FnArityType_5365, rslt85);
Value *fn_expr_87 = rslt86;

incRef(fn_expr_87, 1);
Value *andRslt89;

// type-unknown .c-var
// #line 1774 "toccata.toc"
Value *rslt90 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", body_24, "toccata.toc", 1774);

// static-fixed
// #line 1774 "toccata.toc"
Value *rslt91 = _EQ__557(empty_list, strPtr0, rslt90);
andRslt89 = rslt91;
if (isNothing(andRslt89)) {
} else {
dec_and_free(andRslt89, 1);

// static-fixed
// #line 1775 "toccata.toc"
Value *rslt92 = maybe_4(empty_list, strPtr648);
andRslt89 = rslt92;
}
Value *eitherRslt88;
if (!isNothing(andRslt89)) {
dec_and_free(body_24, 1);
eitherRslt88 = maybeExtract(andRslt89);
} else {
dec_and_free(andRslt89, 1);

// type-unknown .c-var
// #line 1776 "toccata.toc"
Value *rslt93 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", body_24, "toccata.toc", 1776);
eitherRslt88 = rslt93;
}
Value *fn_result_94 = eitherRslt88;

dec_and_free(fn_result_94, 1);

// type-unknown .vars
// #line 1777 "toccata.toc"
Value *rslt95 = proto1Arg(&protoImpls6427, "<nothing>/.vars", val16, "toccata.toc", 1777);

// type-unknown count
// #line 1777 "toccata.toc"
Value *rslt96 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt95, "toccata.toc", 1777);
Value *arg_count_97 = rslt96;

incRef(arg_count_97, 1);
Value *arg8471_122 = arg8433_72;

// static-fixed
// #line 1778 "toccata.toc"
Value *rslt98 = genlocal_6379(empty_list, strPtr649);
Value *wrapper_99 = rslt98;

incRef(wrapper_99, 1);
Value *ev_100 = wrapper_99;
Value *rslt101 = reified_type_args_22(empty_list, ev_100);
Value *invoke_fn_102;
Value *tail_103;
Value **destArgs104[2] = {&invoke_fn_102, &tail_103};
destructValue("", "0", (Value *)rslt101, 2, destArgs104);

dec_and_free(tail_103, 1);
FnArity *dynArity105 = malloc_fnArity();
dynArity105->count = 1;
dynArity105->variadic = 0;
dynArity105->fn = arityImpl8440;
dynArity105->closures = empty_list;
dynArity105->closures = listCons((Value *)wrapper_99, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)val79, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)val106, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)arg_count_97, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)body_24, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)fn_expr_87, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)closures_48, (List *)dynArity105->closures);
dynArity105->closures = listCons((Value *)invoke_fn_102, (List *)dynArity105->closures);
Function *anon_8463 = malloc_function(1);
anon_8463->name = "anon";
anon_8463->arityCount = 1;
anon_8463->arities[0] = dynArity105;
Value *fn8439 = (Value *)anon_8463;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt107 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8439);

// static-fixed
// #line 1801 "toccata.toc"
Value *rslt109 = global_var_6497(empty_list, val108, strPtr658);
Value *wrapper_110 = rslt109;

incRef(wrapper_110, 1);
Value *ev_111 = wrapper_110;
Value *rslt112 = reified_type_args_22(empty_list, ev_111);
Value *invoke_fn_113;
Value *tail_114;
Value **destArgs115[2] = {&invoke_fn_113, &tail_114};
destructValue("", "0", (Value *)rslt112, 2, destArgs115);

dec_and_free(tail_114, 1);
FnArity *dynArity116 = malloc_fnArity();
dynArity116->count = 1;
dynArity116->variadic = 0;
dynArity116->fn = arityImpl8466;
dynArity116->closures = empty_list;
dynArity116->closures = listCons((Value *)val106, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)arg_count_97, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)fn_expr_87, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)body_24, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)val117, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)val79, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)wrapper_110, (List *)dynArity116->closures);
dynArity116->closures = listCons((Value *)invoke_fn_113, (List *)dynArity116->closures);
Function *anon_8470 = malloc_function(1);
anon_8470->name = "anon";
anon_8470->arityCount = 1;
anon_8470->arities[0] = dynArity116;
Value *fn8465 = (Value *)anon_8470;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt118 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8465);
List *newList119 = empty_list;
newList119 = listCons((Value *)rslt118, newList119);
Value *rslt120 = (Value *)newList119;
Value *rslt121 = new_sm_comp_STAR__2805(empty_list, rslt107, rslt120);
Value *ev_123 = rslt121;
Value *arg8472_124 = arg8471_122;
Value *rslt125 = reified_type_args_22(empty_list, ev_123);
Value *invoke_fn_126;
Value *tail_127;
Value **destArgs128[2] = {&invoke_fn_126, &tail_127};
destructValue("", "0", (Value *)rslt125, 2, destArgs128);

dec_and_free(tail_127, 1);
Value *s_129 = arg8472_124;
Value *rslt133;
if((invoke_fn_126)->type != FunctionType) {
rslt133 = invoke_368(empty_list, invoke_fn_126, s_129);
} else {
FnArity *arity130 = findFnArity(invoke_fn_126, 1);
if(arity130 != (FnArity *)0 && !arity130->variadic) {
FnType1 *fn132 = (FnType1 *)arity130->fn;
rslt133 = fn132(arity130->closures, s_129);
} else if(arity130 != (FnArity *)0 && arity130->variadic) {
FnType1 *fn132 = (FnType1 *)arity130->fn;
List *dynArgs131 = empty_list;
dynArgs131 = (List *)listCons(s_129, dynArgs131);
rslt133 = fn132(arity130->closures, (Value *)dynArgs131);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_126)->name);
  abort();
}
dec_and_free(invoke_fn_126, 1);
}
Value *x_134 = rslt133;

incRef(x_134, 1);
Value *andRslt135;
andRslt135 = x_134;
if (isNothing(andRslt135)) {
dec_and_free(x_134, 1);
dec_and_free(val143, 1);
} else {
dec_and_free(andRslt135, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt136 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_134, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_137;
Value *ss_138;
Value *tail_139;
Value **destArgs140[3] = {&v_137, &ss_138, &tail_139};
destructValue("", "0", (Value *)rslt136, 3, destArgs140);

dec_and_free(tail_139, 1);
Value *arg8473_141 = ss_138;
Value *arity_info_142 = v_137;
Value *arg8474_144 = arg8473_141;
Value *__145 = val143;
Value *v_146 = arity_info_142;
Value *arg8475_147 = arg8474_144;
Value *rslt148 = reified_type_args_22(empty_list, __145);
Value *invoke_fn_149;
Value *tail_150;
Value **destArgs151[2] = {&invoke_fn_149, &tail_150};
destructValue("", "0", (Value *)rslt148, 2, destArgs151);

dec_and_free(invoke_fn_149, 1);

dec_and_free(tail_150, 1);
Value *s_152 = arg8475_147;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect153 = empty_vect;
newVect153 = mutateVectConj(newVect153, v_146);
newVect153 = mutateVectConj(newVect153, s_152);
Value *rslt154 = (Value *)newVect153;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt155 = maybe_4(empty_list, rslt154);
andRslt135 = rslt155;
}
andRslt64 = andRslt135;
}
andRslt41 = andRslt64;
}
return(andRslt41);
andRslt7 = andRslt41;
}

};};
Value *arityImpl8421(List *closures, Value *body_exprs_0) {
while (1) {
Value *val8;
Value *val9;
Value *val10;
Value *val11;
Value *val12;
Value *val13;
Value *val14;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[8] = {&val8, &val9, &val10, &val11, &val12, &val13, &val14, &closuresTail};
destructValue("", "", (Value *)closures, 8, destArgs16);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1760 "toccata.toc"
Value *rslt1 = emit_closures_8274(empty_list);
Value *ev_2 = rslt1;
Value *rslt3 = reified_type_args_22(empty_list, ev_2);
Value *invoke_fn_4;
Value *tail_5;
Value **destArgs6[2] = {&invoke_fn_4, &tail_5};
destructValue("", "0", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8424;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val9, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val10, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val11, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val12, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val13, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)body_exprs_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val14, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)invoke_fn_4, (List *)dynArity7->closures);
Function *anon_8476 = malloc_function(1);
anon_8476->name = "anon";
anon_8476->arityCount = 1;
anon_8476->arities[0] = dynArity7;
Value *fn8423 = (Value *)anon_8476;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8423);
return(rslt15);

};};
Value *arityImpl8419(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *val7;
Value *val8;
Value *val9;
Value *val10;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[9] = {&val1, &val2, &val7, &val8, &val9, &val10, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs14);

incRef(val2, 1);

dec_and_free(closuresTail, 1);

// type-unknown .vars
// #line 1758 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls6427, "<nothing>/.vars", val2, "toccata.toc", 1758);

// type-unknown tail-call
// #line 1758 "toccata.toc"
Value *rslt4 = proto2Arg(&tail_call_Implementations_5850, "<nothing>/tail-call", val1, rslt3, "toccata.toc", 1758);

// type-unknown emit
// #line 1759 "toccata.toc"
Value *rslt5 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt4, "toccata.toc", 1759);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl8421;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)val2, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val8, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val9, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val10, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val11, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val12, (List *)dynArity6->closures);
Function *anon_8477 = malloc_function(1);
anon_8477->name = "anon";
anon_8477->arityCount = 1;
anon_8477->arities[0] = dynArity6;
Value *fn8420 = (Value *)anon_8477;

// type-unknown flat-map
// #line 1757 "toccata.toc"
Value *rslt13 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt5, fn8420, "toccata.toc", 1757);
return(rslt13);

};};
Value *arityImpl8353(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val37;
Value *val40;
Value *val92;
Value *val129;
Value *val144;
Value *val178;
Value *val184;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs190[9] = {&val1, &val37, &val40, &val92, &val129, &val144, &val178, &val184, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs190);

incRef(val37, 2);

incRef(val40, 1);

incRef(val92, 2);

incRef(val129, 4);

incRef(val144, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 5);
dec_and_free(x_6, 1);
dec_and_free(val37, 3);
dec_and_free(val92, 3);
dec_and_free(val40, 2);
dec_and_free(val144, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8354_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8355_16 = arg8354_13;

// static-fixed
// #line 1726 "toccata.toc"
Value *rslt15 = reset_fn_context_5790(empty_list);
Value *ev_17 = rslt15;
Value *arg8356_18 = arg8355_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg8356_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 5);
dec_and_free(val37, 3);
dec_and_free(x_28, 1);
dec_and_free(val92, 3);
dec_and_free(val40, 2);
dec_and_free(val144, 2);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg8357_35 = ss_32;
Value *fn_context_36 = v_31;
Value *arg8358_49 = arg8357_35;

// call-vector
// #line 1727 "toccata.toc"
Vector *newVect38 = empty_vect;
newVect38 = mutateVectConj(newVect38, dispatchFnPtr5469);
newVect38 = mutateVectConj(newVect38, dispatchFnPtr5721);
newVect38 = mutateVectConj(newVect38, val37);
Value *rslt39 = (Value *)newVect38;

// call-vector
// #line 1727 "toccata.toc"
Vector *newVect41 = empty_vect;
Value *rslt42 = (Value *)newVect41;

// call-vector
// #line 1727 "toccata.toc"
Vector *newVect43 = empty_vect;
Value *rslt44 = (Value *)newVect43;

// static-variadic
// #line 1727 "toccata.toc"
List *varArgs45 = empty_list;
Value *rslt46 = hash_map_1208(empty_list, (Value *)varArgs45);

// call invoke
// #line 1727 "toccata.toc"
Value *rslt47 = c_code_invoke_5942(empty_list, reifiedPtr5945, val40, rslt42, rslt44, FunctionType_5366, rslt46);

// static-fixed
// #line 1727 "toccata.toc"
Value *rslt48 = assoc_in_val_3599(empty_list, rslt39, rslt47);
Value *ev_50 = rslt48;
Value *arg8359_51 = arg8358_49;
Value *rslt52 = reified_type_args_22(empty_list, ev_50);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(tail_54, 1);
Value *s_56 = arg8359_51;
Value *rslt60;
if((invoke_fn_53)->type != FunctionType) {
rslt60 = invoke_368(empty_list, invoke_fn_53, s_56);
} else {
FnArity *arity57 = findFnArity(invoke_fn_53, 1);
if(arity57 != (FnArity *)0 && !arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
rslt60 = fn59(arity57->closures, s_56);
} else if(arity57 != (FnArity *)0 && arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
List *dynArgs58 = empty_list;
dynArgs58 = (List *)listCons(s_56, dynArgs58);
rslt60 = fn59(arity57->closures, (Value *)dynArgs58);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_53)->name);
  abort();
}
dec_and_free(invoke_fn_53, 1);
}
Value *x_61 = rslt60;

incRef(x_61, 1);
Value *andRslt62;
andRslt62 = x_61;
if (isNothing(andRslt62)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 5);
dec_and_free(val37, 2);
dec_and_free(fn_context_36, 1);
dec_and_free(val92, 3);
dec_and_free(x_61, 1);
dec_and_free(val40, 1);
dec_and_free(val144, 2);
} else {
dec_and_free(andRslt62, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt63 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_61, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_64;
Value *ss_65;
Value *tail_66;
Value **destArgs67[3] = {&v_64, &ss_65, &tail_66};
destructValue("", "0", (Value *)rslt63, 3, destArgs67);

dec_and_free(tail_66, 1);
Value *arg8360_68 = ss_65;
Value *arg69 = v_64;

dec_and_free(arg69, 1);
Value *arg8361_71 = arg8360_68;

// static-fixed
// #line 1728 "toccata.toc"
Value *rslt70 = global_var_6497(empty_list, val37, strPtr646);
Value *ev_72 = rslt70;
Value *arg8362_73 = arg8361_71;
Value *rslt74 = reified_type_args_22(empty_list, ev_72);
Value *invoke_fn_75;
Value *tail_76;
Value **destArgs77[2] = {&invoke_fn_75, &tail_76};
destructValue("", "0", (Value *)rslt74, 2, destArgs77);

dec_and_free(tail_76, 1);
Value *s_78 = arg8362_73;
Value *rslt82;
if((invoke_fn_75)->type != FunctionType) {
rslt82 = invoke_368(empty_list, invoke_fn_75, s_78);
} else {
FnArity *arity79 = findFnArity(invoke_fn_75, 1);
if(arity79 != (FnArity *)0 && !arity79->variadic) {
FnType1 *fn81 = (FnType1 *)arity79->fn;
rslt82 = fn81(arity79->closures, s_78);
} else if(arity79 != (FnArity *)0 && arity79->variadic) {
FnType1 *fn81 = (FnType1 *)arity79->fn;
List *dynArgs80 = empty_list;
dynArgs80 = (List *)listCons(s_78, dynArgs80);
rslt82 = fn81(arity79->closures, (Value *)dynArgs80);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_75)->name);
  abort();
}
dec_and_free(invoke_fn_75, 1);
}
Value *x_83 = rslt82;

incRef(x_83, 1);
Value *andRslt84;
andRslt84 = x_83;
if (isNothing(andRslt84)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 5);
dec_and_free(val37, 1);
dec_and_free(fn_context_36, 1);
dec_and_free(val92, 3);
dec_and_free(x_83, 1);
dec_and_free(val40, 1);
dec_and_free(val144, 2);
} else {
dec_and_free(andRslt84, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt85 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_83, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_86;
Value *ss_87;
Value *tail_88;
Value **destArgs89[3] = {&v_86, &ss_87, &tail_88};
destructValue("", "0", (Value *)rslt85, 3, destArgs89);

dec_and_free(tail_88, 1);
Value *arg8363_90 = ss_87;
Value *arity_fn_var_91 = v_86;

incRef(arity_fn_var_91, 1);
Value *arg8364_108 = arg8363_90;

// static-fixed
// #line 1730 "toccata.toc"
Value *rslt93 = _EQ__557(empty_list, symPtr38, val92);

// static-fixed
// #line 1730 "toccata.toc"
Value *rslt94 = when_4087(empty_list, rslt93);

// call-vector
// #line 1731 "toccata.toc"
Vector *newVect95 = empty_vect;
newVect95 = mutateVectConj(newVect95, dispatchFnPtr5469);
newVect95 = mutateVectConj(newVect95, dispatchFnPtr5723);
newVect95 = mutateVectConj(newVect95, val40);
newVect95 = mutateVectConj(newVect95, val92);
Value *rslt96 = (Value *)newVect95;

// call-vector
// #line 1732 "toccata.toc"
Vector *newVect97 = empty_vect;
Value *rslt98 = (Value *)newVect97;

// call-vector
// #line 1732 "toccata.toc"
Vector *newVect99 = empty_vect;
Value *rslt100 = (Value *)newVect99;

// static-variadic
// #line 1732 "toccata.toc"
List *varArgs101 = empty_list;
Value *rslt102 = hash_map_1208(empty_list, (Value *)varArgs101);

// call invoke
// #line 1732 "toccata.toc"
Value *rslt103 = c_code_invoke_5942(empty_list, reifiedPtr5945, arity_fn_var_91, rslt98, rslt100, UnknownType_5361, rslt102);

// static-fixed
// #line 1731 "toccata.toc"
Value *rslt104 = assoc_in_val_3599(empty_list, rslt96, rslt103);

// call-list
// #line 1730 "toccata.toc"
List *newList105 = empty_list;
newList105 = listCons((Value *)rslt104, newList105);
Value *rslt106 = (Value *)newList105;

// type-known for comp*
// #line 1730 "toccata.toc"
Value *rslt107 = new_sm_comp_STAR__2805(empty_list, rslt94, rslt106);
Value *ev_109 = rslt107;
Value *arg8365_110 = arg8364_108;
Value *rslt111 = reified_type_args_22(empty_list, ev_109);
Value *invoke_fn_112;
Value *tail_113;
Value **destArgs114[2] = {&invoke_fn_112, &tail_113};
destructValue("", "0", (Value *)rslt111, 2, destArgs114);

dec_and_free(tail_113, 1);
Value *s_115 = arg8365_110;
Value *rslt119;
if((invoke_fn_112)->type != FunctionType) {
rslt119 = invoke_368(empty_list, invoke_fn_112, s_115);
} else {
FnArity *arity116 = findFnArity(invoke_fn_112, 1);
if(arity116 != (FnArity *)0 && !arity116->variadic) {
FnType1 *fn118 = (FnType1 *)arity116->fn;
rslt119 = fn118(arity116->closures, s_115);
} else if(arity116 != (FnArity *)0 && arity116->variadic) {
FnType1 *fn118 = (FnType1 *)arity116->fn;
List *dynArgs117 = empty_list;
dynArgs117 = (List *)listCons(s_115, dynArgs117);
rslt119 = fn118(arity116->closures, (Value *)dynArgs117);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_112)->name);
  abort();
}
dec_and_free(invoke_fn_112, 1);
}
Value *x_120 = rslt119;

incRef(x_120, 1);
Value *andRslt121;
andRslt121 = x_120;
if (isNothing(andRslt121)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 5);
dec_and_free(val37, 1);
dec_and_free(fn_context_36, 1);
dec_and_free(val92, 1);
dec_and_free(arity_fn_var_91, 1);
dec_and_free(x_120, 1);
dec_and_free(val144, 2);
} else {
dec_and_free(andRslt121, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt122 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_120, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_123;
Value *ss_124;
Value *tail_125;
Value **destArgs126[3] = {&v_123, &ss_124, &tail_125};
destructValue("", "0", (Value *)rslt122, 3, destArgs126);

dec_and_free(tail_125, 1);
Value *arg8366_127 = ss_124;
Value *arg128 = v_123;

dec_and_free(arg128, 1);
Value *arg8403_155 = arg8366_127;

// type-unknown .variadic
// #line 1733 "toccata.toc"
Value *rslt130 = proto1Arg(&protoImpls2324, "<nothing>/.variadic", val129, "toccata.toc", 1733);

// static-fixed
// #line 1733 "toccata.toc"
Value *rslt131 = when_4087(empty_list, rslt130);
Value *wrapper_132 = rslt131;

incRef(wrapper_132, 1);
Value *ev_133 = wrapper_132;
Value *rslt134 = reified_type_args_22(empty_list, ev_133);
Value *invoke_fn_135;
Value *tail_136;
Value **destArgs137[2] = {&invoke_fn_135, &tail_136};
destructValue("", "0", (Value *)rslt134, 2, destArgs137);

dec_and_free(tail_136, 1);
FnArity *dynArity138 = malloc_fnArity();
dynArity138->count = 1;
dynArity138->variadic = 0;
dynArity138->fn = arityImpl8369;
dynArity138->closures = empty_list;
dynArity138->closures = listCons((Value *)wrapper_132, (List *)dynArity138->closures);
dynArity138->closures = listCons((Value *)val129, (List *)dynArity138->closures);
dynArity138->closures = listCons((Value *)invoke_fn_135, (List *)dynArity138->closures);
Function *anon_8390 = malloc_function(1);
anon_8390->name = "anon";
anon_8390->arityCount = 1;
anon_8390->arities[0] = dynArity138;
Value *fn8368 = (Value *)anon_8390;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt139 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8368);

// type-unknown .fixed
// #line 1742 "toccata.toc"
Value *rslt140 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", val129, "toccata.toc", 1742);

// static-fixed
// #line 1742 "toccata.toc"
Value *rslt141 = traverse_6470(empty_list, rslt140, bind_5816);
Value *wrapper_142 = rslt141;

incRef(wrapper_142, 1);
FnArity *dynArity143 = malloc_fnArity();
dynArity143->count = 1;
dynArity143->variadic = 0;
dynArity143->fn = arityImpl8392;
dynArity143->closures = empty_list;
dynArity143->closures = listCons((Value *)val144, (List *)dynArity143->closures);
dynArity143->closures = listCons((Value *)wrapper_142, (List *)dynArity143->closures);
Function *anon_8402 = malloc_function(1);
anon_8402->name = "anon";
anon_8402->arityCount = 1;
anon_8402->arities[0] = dynArity143;
Value *fn8391 = (Value *)anon_8402;

// type-unknown flat-map
// #line 1742 "toccata.toc"
Value *rslt145 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_142, fn8391, "toccata.toc", 1742);

// call-vector
// #line 1754 "toccata.toc"
Vector *newVect146 = empty_vect;
Value *rslt147 = (Value *)newVect146;

// call-vector
// #line 1754 "toccata.toc"
Vector *newVect148 = empty_vect;
Value *rslt149 = (Value *)newVect148;

// call invoke
// #line 1754 "toccata.toc"
Value *rslt150 = ParamBinding_invoke_6440(empty_list, reifiedPtr6443, rslt147, rslt149);

// call invoke
// #line 1754 "toccata.toc"
Value *rslt151 = arityImpl2933(empty_list, reifiedPtr2939, rslt150);
List *newList152 = empty_list;
newList152 = listCons((Value *)rslt151, newList152);
newList152 = listCons((Value *)rslt145, newList152);
Value *rslt153 = (Value *)newList152;
Value *rslt154 = new_sm_comp_STAR__2805(empty_list, rslt139, rslt153);
Value *ev_156 = rslt154;
Value *arg8404_157 = arg8403_155;
Value *rslt158 = reified_type_args_22(empty_list, ev_156);
Value *invoke_fn_159;
Value *tail_160;
Value **destArgs161[2] = {&invoke_fn_159, &tail_160};
destructValue("", "0", (Value *)rslt158, 2, destArgs161);

dec_and_free(tail_160, 1);
Value *s_162 = arg8404_157;
Value *rslt166;
if((invoke_fn_159)->type != FunctionType) {
rslt166 = invoke_368(empty_list, invoke_fn_159, s_162);
} else {
FnArity *arity163 = findFnArity(invoke_fn_159, 1);
if(arity163 != (FnArity *)0 && !arity163->variadic) {
FnType1 *fn165 = (FnType1 *)arity163->fn;
rslt166 = fn165(arity163->closures, s_162);
} else if(arity163 != (FnArity *)0 && arity163->variadic) {
FnType1 *fn165 = (FnType1 *)arity163->fn;
List *dynArgs164 = empty_list;
dynArgs164 = (List *)listCons(s_162, dynArgs164);
rslt166 = fn165(arity163->closures, (Value *)dynArgs164);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_159)->name);
  abort();
}
dec_and_free(invoke_fn_159, 1);
}
Value *x_167 = rslt166;

incRef(x_167, 1);
Value *andRslt168;
andRslt168 = x_167;
if (isNothing(andRslt168)) {
dec_and_free(val184, 1);
dec_and_free(val178, 1);
dec_and_free(val129, 2);
dec_and_free(val37, 1);
dec_and_free(fn_context_36, 1);
dec_and_free(x_167, 1);
dec_and_free(val92, 1);
dec_and_free(arity_fn_var_91, 1);
dec_and_free(val144, 1);
} else {
dec_and_free(andRslt168, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt169 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_167, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_170;
Value *ss_171;
Value *tail_172;
Value **destArgs173[3] = {&v_170, &ss_171, &tail_172};
destructValue("", "0", (Value *)rslt169, 3, destArgs173);

dec_and_free(tail_172, 1);
Value *arg8405_174 = ss_171;
Value *param_vars_175 = v_170;

// type-unknown .fixed
// #line 1755 "toccata.toc"
Value *rslt176 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", val129, "toccata.toc", 1755);

// type-unknown seq
// #line 1755 "toccata.toc"
Value *rslt177 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt176, "toccata.toc", 1755);

// type-unknown seq
// #line 1755 "toccata.toc"
Value *rslt179 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", val178, "toccata.toc", 1755);

// static-variadic
// #line 1755 "toccata.toc"
List *varArgs180 = empty_list;
varArgs180 = (List *)listCons((Value *)rslt179, varArgs180);
varArgs180 = (List *)listCons((Value *)rslt177, varArgs180);
Value *rslt181 = zip_lists_1783(empty_list, (Value *)varArgs180);

// static-fixed
// #line 1755 "toccata.toc"
Value *rslt182 = traverse_6470(empty_list, rslt181, fn8411);
FnArity *dynArity183 = malloc_fnArity();
dynArity183->count = 1;
dynArity183->variadic = 0;
dynArity183->fn = arityImpl8419;
dynArity183->closures = empty_list;
dynArity183->closures = listCons((Value *)val184, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)val92, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)val37, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)val129, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)arity_fn_var_91, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)fn_context_36, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)param_vars_175, (List *)dynArity183->closures);
dynArity183->closures = listCons((Value *)val144, (List *)dynArity183->closures);
Function *anon_8478 = malloc_function(1);
anon_8478->name = "anon";
anon_8478->arityCount = 1;
anon_8478->arities[0] = dynArity183;
Value *fn8410 = (Value *)anon_8478;

// type-unknown flat-map
// #line 1755 "toccata.toc"
Value *rslt185 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt182, fn8410, "toccata.toc", 1755);

// dynamic unknown type
// #line 1755 "toccata.toc"
Value *rslt189;
if((rslt185)->type != FunctionType) {
rslt189 = invoke_368(empty_list, rslt185, arg8405_174);
} else {
FnArity *arity186 = findFnArity(rslt185, 1);
if(arity186 != (FnArity *)0 && !arity186->variadic) {
FnType1 *fn188 = (FnType1 *)arity186->fn;
rslt189 = fn188(arity186->closures, arg8405_174);
} else if(arity186 != (FnArity *)0 && arity186->variadic) {
FnType1 *fn188 = (FnType1 *)arity186->fn;
List *dynArgs187 = empty_list;
dynArgs187 = (List *)listCons(arg8405_174, dynArgs187);
rslt189 = fn188(arity186->closures, (Value *)dynArgs187);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt185)->name);
  abort();
}
dec_and_free(rslt185, 1);
}
andRslt168 = rslt189;
}
andRslt121 = andRslt168;
}
andRslt84 = andRslt121;
}
andRslt62 = andRslt84;
}
andRslt29 = andRslt62;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *emit_fn_arity_8350(List *closures, Value *fn_sym_0, Value *fn_var_1, Value *params_2, Value *param_types_3, Value *body_4) {
 while (1) {

incRef(params_2, 2);

incRef(body_4, 1);

// type-unknown count
// #line 1724 "toccata.toc"
Value *rslt5 = proto1Arg(&count_Implementations_300, "<nothing>/count", params_2, "toccata.toc", 1724);

// type-unknown .variadic
// #line 1724 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls2324, "<nothing>/.variadic", params_2, "toccata.toc", 1724);

// dynamic unknown type
// #line 1724 "toccata.toc"
Value *rslt10;
if((rslt6)->type != FunctionType) {
rslt10 = invoke_370(empty_list, rslt6, symPtr38, rslt5);
} else {
FnArity *arity7 = findFnArity(rslt6, 2);
if(arity7 != (FnArity *)0 && !arity7->variadic) {
FnType2 *fn9 = (FnType2 *)arity7->fn;
rslt10 = fn9(arity7->closures, symPtr38, rslt5);
} else if(arity7 != (FnArity *)0 && arity7->variadic) {
FnType1 *fn9 = (FnType1 *)arity7->fn;
List *dynArgs8 = empty_list;
dynArgs8 = (List *)listCons(rslt5, dynArgs8);
dynArgs8 = (List *)listCons(symPtr38, dynArgs8);
rslt10 = fn9(arity7->closures, (Value *)dynArgs8);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt6)->name);
  abort();
}
dec_and_free(rslt6, 1);
}
Value *arity_index_11 = rslt10;

// static-fixed
// #line 1725 "toccata.toc"
Value *rslt12 = some_769(empty_list, body_4, produces_code_QM__5843);

// static-fixed
// #line 1725 "toccata.toc"
Value *rslt13 = when_4087(empty_list, rslt12);
Value *wrapper_14 = rslt13;

incRef(wrapper_14, 1);
Value *ev_15 = wrapper_14;
Value *rslt16 = reified_type_args_22(empty_list, ev_15);
Value *invoke_fn_17;
Value *tail_18;
Value **destArgs19[2] = {&invoke_fn_17, &tail_18};
destructValue("", "0", (Value *)rslt16, 2, destArgs19);

dec_and_free(tail_18, 1);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl8353;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)wrapper_14, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)param_types_3, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)body_4, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)params_2, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)arity_index_11, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)fn_var_1, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)fn_sym_0, (List *)dynArity20->closures);
dynArity20->closures = listCons((Value *)invoke_fn_17, (List *)dynArity20->closures);
Function *anon_8479 = malloc_function(1);
anon_8479->name = "anon";
anon_8479->arityCount = 1;
anon_8479->arities[0] = dynArity20;
Value *fn8352 = (Value *)anon_8479;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt21 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8352);
return(rslt21);

};};
FnArity emit_fn_arity_8480 = {FnArityType, -1, 5, (List *)0, 0, emit_fn_arity_8350};
Function emit_fn_arity_8481 = {FunctionType, -1, "emit-fn-arity", 1, {&emit_fn_arity_8480}};
Value *emit_fn_arity_8349 = (Value *)&emit_fn_arity_8481;

SubString sym41 = {SymbolType, -1, 4, 0, 0, "main"};
Value *symPtr41 = (Value *)&sym41;
Value *arityImpl8485(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val38;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs60[3] = {&val1, &val38, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs60);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8486_13 = ss_10;
Value *fn_arity_14 = v_9;

incRef(fn_arity_14, 1);
Value *arg8487_17 = arg8486_13;

// type-unknown .arity-fn-var
// #line 1824 "toccata.toc"
Value *rslt15 = proto1Arg(&protoImpls7749, "<nothing>/.arity-fn-var", fn_arity_14, "toccata.toc", 1824);

// static-fixed
// #line 1824 "toccata.toc"
Value *rslt16 = new_static_arity_6632(empty_list, symPtr41, numPtr1, rslt15, IntegerType_5362);
Value *ev_18 = rslt16;
Value *arg8488_19 = arg8487_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg8488_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val38, 1);
dec_and_free(fn_arity_14, 1);
dec_and_free(x_29, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg8489_36 = ss_33;
Value *arg37 = v_32;

dec_and_free(arg37, 1);
Value *arg8490_39 = arg8489_36;
Value *__40 = val38;

// call-vector
// #line 1825 "toccata.toc"
Vector *newVect41 = empty_vect;
Value *rslt42 = (Value *)newVect41;

// type-unknown .var-info
// #line 1825 "toccata.toc"
Value *rslt43 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", fn_arity_14, "toccata.toc", 1825);

// type-unknown .decl
// #line 1825 "toccata.toc"
Value *rslt44 = proto1Arg(&protoImpls5871, "<nothing>/.decl", rslt43, "toccata.toc", 1825);

// static-variadic
// #line 1825 "toccata.toc"
List *varArgs45 = empty_list;
Value *rslt46 = hash_map_1208(empty_list, (Value *)varArgs45);

// call invoke
// #line 1825 "toccata.toc"
Value *rslt47 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt42, rslt44, numPtr0, rslt46);

// call-vector
// #line 1825 "toccata.toc"
Vector *newVect48 = empty_vect;
newVect48 = mutateVectConj(newVect48, rslt47);
Value *rslt49 = (Value *)newVect48;
Value *v_50 = rslt49;
Value *arg8491_51 = arg8490_39;
Value *rslt52 = reified_type_args_22(empty_list, __40);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(invoke_fn_53, 1);

dec_and_free(tail_54, 1);
Value *s_56 = arg8491_51;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect57 = empty_vect;
newVect57 = mutateVectConj(newVect57, v_50);
newVect57 = mutateVectConj(newVect57, s_56);
Value *rslt58 = (Value *)newVect57;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt59 = maybe_4(empty_list, rslt58);
andRslt30 = rslt59;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *emit_definition_8482(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);

// type-known for .params
// #line 1822 "toccata.toc"
Value *rslt1 = main_ast_params_2447(empty_list, ast_0);

// call-vector
// #line 1822 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, ListType_5367);
Value *rslt3 = (Value *)newVect2;

// type-known for .body
// #line 1822 "toccata.toc"
Value *rslt4 = main_ast_body_2451(empty_list, ast_0);

// static-fixed
// #line 1822 "toccata.toc"
Value *rslt5 = emit_fn_arity_8350(empty_list, symPtr41, strPtr0, rslt1, rslt3, rslt4);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8485;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8492 = malloc_function(1);
anon_8492->name = "anon";
anon_8492->arityCount = 1;
anon_8492->arities[0] = dynArity12;
Value *fn8484 = (Value *)anon_8492;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8484);
return(rslt13);

};};
FnArity emit_definition_8493 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_8482};

// --------- declare-proto-dispatch-arity -------------
Value *declare_proto_dispatch_arity_8495;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str663 = {StringType, -1, 9, 0, "protoDisp"};
Value *strPtr663 = (Value *)&str663;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str664 = {StringType, -1, 16, 0, "_Implementations"};
Value *strPtr664 = (Value *)&str664;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str665 = {StringType, -1, 10, 0, "protoImpls"};
Value *strPtr665 = (Value *)&str665;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str666 = {StringType, -1, 11, 0, "ProtoImpls "};
Value *strPtr666 = (Value *)&str666;

// --------- anon -------------
Value *fn8511;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str667 = {StringType, -1, 10, 0, "Value *arg"};
Value *strPtr667 = (Value *)&str667;
Value *arityImpl8512(List *closures, Value *n_0) {
 while (1) {

// static-variadic
// #line 1838 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)n_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr667, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity8513 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8512};
Function anon_8514 = {FunctionType, -1, "anon", 1, {&staticArity8513}};
Value *fn8511 = (Value *)&anon_8514;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str668 = {StringType, -1, 3, 0, ");\n"};
Value *strPtr668 = (Value *)&str668;
Value *arityImpl8499(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val40;
Value *val63;
Value *val86;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs105[6] = {&val1, &val15, &val40, &val63, &val86, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs105);

incRef(val15, 1);

incRef(val40, 2);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val63, 1);
dec_and_free(val40, 3);
dec_and_free(val86, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8500_13 = ss_10;
Value *arity_fn_var_14 = v_9;

incRef(arity_fn_var_14, 2);
Value *arg8501_19 = arg8500_13;

// static-variadic
// #line 1831 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)strPtr664, varArgs16);
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// static-fixed
// #line 1831 "toccata.toc"
Value *rslt18 = global_var_6497(empty_list, rslt17, strPtr665);
Value *ev_20 = rslt18;
Value *arg8502_21 = arg8501_19;
Value *rslt22 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
Value *s_26 = arg8502_21;
Value *rslt30;
if((invoke_fn_23)->type != FunctionType) {
rslt30 = invoke_368(empty_list, invoke_fn_23, s_26);
} else {
FnArity *arity27 = findFnArity(invoke_fn_23, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, s_26);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(s_26, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_23)->name);
  abort();
}
dec_and_free(invoke_fn_23, 1);
}
Value *x_31 = rslt30;

incRef(x_31, 1);
Value *andRslt32;
andRslt32 = x_31;
if (isNothing(andRslt32)) {
dec_and_free(arity_fn_var_14, 3);
dec_and_free(val15, 1);
dec_and_free(x_31, 1);
dec_and_free(val63, 1);
dec_and_free(val40, 3);
dec_and_free(val86, 1);
} else {
dec_and_free(andRslt32, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt33 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_31, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_34;
Value *ss_35;
Value *tail_36;
Value **destArgs37[3] = {&v_34, &ss_35, &tail_36};
destructValue("", "0", (Value *)rslt33, 3, destArgs37);

dec_and_free(tail_36, 1);
Value *arg8503_38 = ss_35;
Value *impls_sym_39 = v_34;

incRef(impls_sym_39, 1);
Value *arg8504_42 = arg8503_38;

// static-fixed
// #line 1832 "toccata.toc"
Value *rslt41 = new_proto_dispatcher_6262(empty_list, val15, val40, arity_fn_var_14, impls_sym_39);
Value *ev_43 = rslt41;
Value *arg8505_44 = arg8504_42;
Value *rslt45 = reified_type_args_22(empty_list, ev_43);
Value *invoke_fn_46;
Value *tail_47;
Value **destArgs48[2] = {&invoke_fn_46, &tail_47};
destructValue("", "0", (Value *)rslt45, 2, destArgs48);

dec_and_free(tail_47, 1);
Value *s_49 = arg8505_44;
Value *rslt53;
if((invoke_fn_46)->type != FunctionType) {
rslt53 = invoke_368(empty_list, invoke_fn_46, s_49);
} else {
FnArity *arity50 = findFnArity(invoke_fn_46, 1);
if(arity50 != (FnArity *)0 && !arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
rslt53 = fn52(arity50->closures, s_49);
} else if(arity50 != (FnArity *)0 && arity50->variadic) {
FnType1 *fn52 = (FnType1 *)arity50->fn;
List *dynArgs51 = empty_list;
dynArgs51 = (List *)listCons(s_49, dynArgs51);
rslt53 = fn52(arity50->closures, (Value *)dynArgs51);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_46)->name);
  abort();
}
dec_and_free(invoke_fn_46, 1);
}
Value *x_54 = rslt53;

incRef(x_54, 1);
Value *andRslt55;
andRslt55 = x_54;
if (isNothing(andRslt55)) {
dec_and_free(impls_sym_39, 1);
dec_and_free(arity_fn_var_14, 2);
dec_and_free(val63, 1);
dec_and_free(val40, 2);
dec_and_free(val86, 1);
dec_and_free(x_54, 1);
} else {
dec_and_free(andRslt55, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_54, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_57;
Value *ss_58;
Value *tail_59;
Value **destArgs60[3] = {&v_57, &ss_58, &tail_59};
destructValue("", "0", (Value *)rslt56, 3, destArgs60);

dec_and_free(tail_59, 1);
Value *arg8506_61 = ss_58;
Value *arg62 = v_57;

dec_and_free(arg62, 1);
Value *arg8507_65 = arg8506_61;

// static-fixed
// #line 1833 "toccata.toc"
Value *rslt64 = new_static_arity_6632(empty_list, val63, val40, arity_fn_var_14, UnknownType_5361);
Value *ev_66 = rslt64;
Value *arg8508_67 = arg8507_65;
Value *rslt68 = reified_type_args_22(empty_list, ev_66);
Value *invoke_fn_69;
Value *tail_70;
Value **destArgs71[2] = {&invoke_fn_69, &tail_70};
destructValue("", "0", (Value *)rslt68, 2, destArgs71);

dec_and_free(tail_70, 1);
Value *s_72 = arg8508_67;
Value *rslt76;
if((invoke_fn_69)->type != FunctionType) {
rslt76 = invoke_368(empty_list, invoke_fn_69, s_72);
} else {
FnArity *arity73 = findFnArity(invoke_fn_69, 1);
if(arity73 != (FnArity *)0 && !arity73->variadic) {
FnType1 *fn75 = (FnType1 *)arity73->fn;
rslt76 = fn75(arity73->closures, s_72);
} else if(arity73 != (FnArity *)0 && arity73->variadic) {
FnType1 *fn75 = (FnType1 *)arity73->fn;
List *dynArgs74 = empty_list;
dynArgs74 = (List *)listCons(s_72, dynArgs74);
rslt76 = fn75(arity73->closures, (Value *)dynArgs74);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_69)->name);
  abort();
}
dec_and_free(invoke_fn_69, 1);
}
Value *x_77 = rslt76;

incRef(x_77, 1);
Value *andRslt78;
andRslt78 = x_77;
if (isNothing(andRslt78)) {
dec_and_free(impls_sym_39, 1);
dec_and_free(arity_fn_var_14, 1);
dec_and_free(x_77, 1);
dec_and_free(val40, 1);
dec_and_free(val86, 1);
} else {
dec_and_free(andRslt78, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt79 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_77, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_80;
Value *ss_81;
Value *tail_82;
Value **destArgs83[3] = {&v_80, &ss_81, &tail_82};
destructValue("", "0", (Value *)rslt79, 3, destArgs83);

dec_and_free(tail_82, 1);
Value *arg8509_84 = ss_81;
Value *arg85 = v_80;

dec_and_free(arg85, 1);
Value *arg8510_87 = arg8509_84;
Value *__88 = val86;

// static-fixed
// #line 1836 "toccata.toc"
Value *rslt89 = range_795(empty_list, val40);

// type-unknown map
// #line 1836 "toccata.toc"
Value *rslt90 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt89, fn8511, "toccata.toc", 1836);

// type-unknown conj
// #line 1836 "toccata.toc"
Value *rslt91 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", rslt90, strPtr604, "toccata.toc", 1836);

// static-fixed
// #line 1836 "toccata.toc"
Value *rslt92 = interpose_503(empty_list, rslt91, strPtr17);

// call-vector
// #line 1834 "toccata.toc"
Vector *newVect93 = empty_vect;
newVect93 = mutateVectConj(newVect93, strPtr666);
newVect93 = mutateVectConj(newVect93, impls_sym_39);
newVect93 = mutateVectConj(newVect93, strPtr494);
newVect93 = mutateVectConj(newVect93, strPtr492);
newVect93 = mutateVectConj(newVect93, arity_fn_var_14);
newVect93 = mutateVectConj(newVect93, strPtr16);
newVect93 = mutateVectConj(newVect93, rslt92);
newVect93 = mutateVectConj(newVect93, strPtr668);
Value *rslt94 = (Value *)newVect93;
Value *v_95 = rslt94;
Value *arg8515_96 = arg8510_87;
Value *rslt97 = reified_type_args_22(empty_list, __88);
Value *invoke_fn_98;
Value *tail_99;
Value **destArgs100[2] = {&invoke_fn_98, &tail_99};
destructValue("", "0", (Value *)rslt97, 2, destArgs100);

dec_and_free(invoke_fn_98, 1);

dec_and_free(tail_99, 1);
Value *s_101 = arg8515_96;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect102 = empty_vect;
newVect102 = mutateVectConj(newVect102, v_95);
newVect102 = mutateVectConj(newVect102, s_101);
Value *rslt103 = (Value *)newVect102;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt104 = maybe_4(empty_list, rslt103);
andRslt78 = rslt104;
}
andRslt55 = andRslt78;
}
andRslt32 = andRslt55;
}
return(andRslt32);
andRslt7 = andRslt32;
}

};};
Value *declare_proto_dispatch_arity_8496(List *closures, Value *fn_name_0, Value *dispatch_fn_var_1, Value *prototype_2) {
 while (1) {

incRef(fn_name_0, 1);

// type-unknown .params
// #line 1829 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls2420, "<nothing>/.params", prototype_2, "toccata.toc", 1829);

// type-unknown count
// #line 1829 "toccata.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt3, "toccata.toc", 1829);
Value *num_args_5 = rslt4;

// static-fixed
// #line 1830 "toccata.toc"
Value *rslt6 = global_var_6497(empty_list, fn_name_0, strPtr663);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl8499;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)dispatch_fn_var_1, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)num_args_5, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)fn_name_0, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_8516 = malloc_function(1);
anon_8516->name = "anon";
anon_8516->arityCount = 1;
anon_8516->arities[0] = dynArity13;
Value *fn8498 = (Value *)anon_8516;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8498);
return(rslt14);

};};
FnArity declare_proto_dispatch_arity_8517 = {FnArityType, -1, 3, (List *)0, 0, declare_proto_dispatch_arity_8496};
Function declare_proto_dispatch_arity_8518 = {FunctionType, -1, "declare-proto-dispatch-arity", 1, {&declare_proto_dispatch_arity_8517}};
Value *declare_proto_dispatch_arity_8495 = (Value *)&declare_proto_dispatch_arity_8518;


// --------- emit-proto-default -------------
Value *emit_proto_default_8520;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str669 = {StringType, -1, 8, 0, "Default_"};
Value *strPtr669 = (Value *)&str669;
Value *arityImpl8524(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *val22;
Value *val70;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs85[6] = {&val1, &val15, &val18, &val22, &val70, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs85);

incRef(val15, 1);

incRef(val18, 1);

incRef(val22, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val70, 1);
dec_and_free(val18, 2);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val22, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8525_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8526_24 = arg8525_13;

// static-variadic
// #line 1846 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
varArgs16 = (List *)listCons((Value *)strPtr669, varArgs16);
Value *rslt17 = str_526(empty_list, (Value *)varArgs16);

// type-unknown .params
// #line 1847 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls2420, "<nothing>/.params", val18, "toccata.toc", 1847);

// call-vector
// #line 1847 "toccata.toc"
Vector *newVect20 = empty_vect;
Value *rslt21 = (Value *)newVect20;

// static-fixed
// #line 1846 "toccata.toc"
Value *rslt23 = emit_fn_arity_8350(empty_list, rslt17, strPtr0, rslt19, rslt21, val22);
Value *ev_25 = rslt23;
Value *arg8527_26 = arg8526_24;
Value *rslt27 = reified_type_args_22(empty_list, ev_25);
Value *invoke_fn_28;
Value *tail_29;
Value **destArgs30[2] = {&invoke_fn_28, &tail_29};
destructValue("", "0", (Value *)rslt27, 2, destArgs30);

dec_and_free(tail_29, 1);
Value *s_31 = arg8527_26;
Value *rslt35;
if((invoke_fn_28)->type != FunctionType) {
rslt35 = invoke_368(empty_list, invoke_fn_28, s_31);
} else {
FnArity *arity32 = findFnArity(invoke_fn_28, 1);
if(arity32 != (FnArity *)0 && !arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
rslt35 = fn34(arity32->closures, s_31);
} else if(arity32 != (FnArity *)0 && arity32->variadic) {
FnType1 *fn34 = (FnType1 *)arity32->fn;
List *dynArgs33 = empty_list;
dynArgs33 = (List *)listCons(s_31, dynArgs33);
rslt35 = fn34(arity32->closures, (Value *)dynArgs33);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_28)->name);
  abort();
}
dec_and_free(invoke_fn_28, 1);
}
Value *x_36 = rslt35;

incRef(x_36, 1);
Value *andRslt37;
andRslt37 = x_36;
if (isNothing(andRslt37)) {
dec_and_free(val70, 1);
dec_and_free(x_36, 1);
dec_and_free(val18, 1);
dec_and_free(val15, 1);
dec_and_free(val22, 1);
} else {
dec_and_free(andRslt37, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt38 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_36, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_39;
Value *ss_40;
Value *tail_41;
Value **destArgs42[3] = {&v_39, &ss_40, &tail_41};
destructValue("", "0", (Value *)rslt38, 3, destArgs42);

dec_and_free(tail_41, 1);
Value *arg8528_43 = ss_40;
Value *static_arity_44 = v_39;

incRef(static_arity_44, 1);
Value *arg8529_49 = arg8528_43;

// type-unknown .params
// #line 1848 "toccata.toc"
Value *rslt45 = proto1Arg(&protoImpls2420, "<nothing>/.params", val18, "toccata.toc", 1848);

// type-unknown count
// #line 1848 "toccata.toc"
Value *rslt46 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt45, "toccata.toc", 1848);

// type-unknown .var-info
// #line 1849 "toccata.toc"
Value *rslt47 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", static_arity_44, "toccata.toc", 1849);

// static-fixed
// #line 1848 "toccata.toc"
Value *rslt48 = new_proto_impl_6331(empty_list, val15, rslt46, numPtr0, rslt47, val22);
Value *ev_50 = rslt48;
Value *arg8530_51 = arg8529_49;
Value *rslt52 = reified_type_args_22(empty_list, ev_50);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(tail_54, 1);
Value *s_56 = arg8530_51;
Value *rslt60;
if((invoke_fn_53)->type != FunctionType) {
rslt60 = invoke_368(empty_list, invoke_fn_53, s_56);
} else {
FnArity *arity57 = findFnArity(invoke_fn_53, 1);
if(arity57 != (FnArity *)0 && !arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
rslt60 = fn59(arity57->closures, s_56);
} else if(arity57 != (FnArity *)0 && arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
List *dynArgs58 = empty_list;
dynArgs58 = (List *)listCons(s_56, dynArgs58);
rslt60 = fn59(arity57->closures, (Value *)dynArgs58);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_53)->name);
  abort();
}
dec_and_free(invoke_fn_53, 1);
}
Value *x_61 = rslt60;

incRef(x_61, 1);
Value *andRslt62;
andRslt62 = x_61;
if (isNothing(andRslt62)) {
dec_and_free(val70, 1);
dec_and_free(static_arity_44, 1);
dec_and_free(x_61, 1);
} else {
dec_and_free(andRslt62, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt63 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_61, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_64;
Value *ss_65;
Value *tail_66;
Value **destArgs67[3] = {&v_64, &ss_65, &tail_66};
destructValue("", "0", (Value *)rslt63, 3, destArgs67);

dec_and_free(tail_66, 1);
Value *arg8531_68 = ss_65;
Value *arg69 = v_64;

dec_and_free(arg69, 1);
Value *arg8532_71 = arg8531_68;
Value *__72 = val70;

// type-unknown .var-info
// #line 1850 "toccata.toc"
Value *rslt73 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", static_arity_44, "toccata.toc", 1850);

// type-unknown .decl
// #line 1850 "toccata.toc"
Value *rslt74 = proto1Arg(&protoImpls5871, "<nothing>/.decl", rslt73, "toccata.toc", 1850);
Value *v_75 = rslt74;
Value *arg8533_76 = arg8532_71;
Value *rslt77 = reified_type_args_22(empty_list, __72);
Value *invoke_fn_78;
Value *tail_79;
Value **destArgs80[2] = {&invoke_fn_78, &tail_79};
destructValue("", "0", (Value *)rslt77, 2, destArgs80);

dec_and_free(invoke_fn_78, 1);

dec_and_free(tail_79, 1);
Value *s_81 = arg8533_76;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect82 = empty_vect;
newVect82 = mutateVectConj(newVect82, v_75);
newVect82 = mutateVectConj(newVect82, s_81);
Value *rslt83 = (Value *)newVect82;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt84 = maybe_4(empty_list, rslt83);
andRslt62 = rslt84;
}
andRslt37 = andRslt62;
}
return(andRslt37);
andRslt7 = andRslt37;
}

};};
Value *emit_proto_default_8521(List *closures, Value *protocol_name_0, Value *fn_name_1, Value *prototype_2) {
 while (1) {

dec_and_free(protocol_name_0, 1);

incRef(prototype_2, 1);

// type-unknown .default-body
// #line 1844 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls4037, "<nothing>/.default-body", prototype_2, "toccata.toc", 1844);
Value *default_body_4 = rslt3;

incRef(default_body_4, 1);

// type-unknown empty?
// #line 1845 "toccata.toc"
Value *rslt5 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", default_body_4, "toccata.toc", 1845);

// static-fixed
// #line 1845 "toccata.toc"
Value *rslt6 = when_not_4103(empty_list, rslt5);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl8524;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)default_body_4, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)prototype_2, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)fn_name_1, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_8534 = malloc_function(1);
anon_8534->name = "anon";
anon_8534->arityCount = 1;
anon_8534->arities[0] = dynArity13;
Value *fn8523 = (Value *)anon_8534;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8523);
List *newList15 = empty_list;
newList15 = listCons((Value *)sm_space_5388, newList15);
Value *rslt16 = (Value *)newList15;
Value *rslt17 = new_sm_comp_STAR__2805(empty_list, rslt14, rslt16);
return(rslt17);

};};
FnArity emit_proto_default_8535 = {FnArityType, -1, 3, (List *)0, 0, emit_proto_default_8521};
Function emit_proto_default_8536 = {FunctionType, -1, "emit-proto-default", 1, {&emit_proto_default_8535}};
Value *emit_proto_default_8520 = (Value *)&emit_proto_default_8536;


// --------- create-dispatcher -------------
Value *create_dispatcher_8538;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str670 = {StringType, -1, 13, 0, "dispatchFnPtr"};
Value *strPtr670 = (Value *)&str670;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str671 = {StringType, -1, 17, 0, "\n// proto fn for "};
Value *strPtr671 = (Value *)&str671;
Value *arityImpl8555(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8553(List *closures, Value *default_fns_0) {
while (1) {
Value *val1;
Value *val3;
Value *val4;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[6] = {&val1, &val3, &val4, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs16);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// call-vector
// #line 1864 "toccata.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, strPtr671);
newVect7 = mutateVectConj(newVect7, val3);
newVect7 = mutateVectConj(newVect7, strPtr94);
newVect7 = mutateVectConj(newVect7, val4);
newVect7 = mutateVectConj(newVect7, strPtr5);
newVect7 = mutateVectConj(newVect7, strPtr492);
newVect7 = mutateVectConj(newVect7, val5);
newVect7 = mutateVectConj(newVect7, strPtr494);
newVect7 = mutateVectConj(newVect7, val6);
newVect7 = mutateVectConj(newVect7, default_fns_0);
Value *rslt8 = (Value *)newVect7;
Value *v_9 = rslt8;
Value *rslt10 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(invoke_fn_11, 1);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl8555;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)v_9, (List *)dynArity14->closures);
Function *anon_8556 = malloc_function(1);
anon_8556->name = "anon";
anon_8556->arityCount = 1;
anon_8556->arities[0] = dynArity14;
Value *fn8554 = (Value *)anon_8556;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8554);
return(rslt15);

};};
Value *arityImpl8551(List *closures, Value *dispatch_arities_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val8;
Value *val9;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[6] = {&val1, &val2, &val3, &val8, &val9, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs11);

incRef(val2, 1);

incRef(val3, 1);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1863 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)val3, varArgs4);
varArgs4 = (List *)listCons((Value *)val2, varArgs4);
varArgs4 = (List *)listCons((Value *)emit_proto_default_8520, varArgs4);
Value *rslt5 = partial_969(empty_list, (Value *)varArgs4);

// static-fixed
// #line 1862 "toccata.toc"
Value *rslt6 = traverse_6470(empty_list, val1, rslt5);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8553;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)dispatch_arities_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val8, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val3, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val2, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)val9, (List *)dynArity7->closures);
Function *anon_8557 = malloc_function(1);
anon_8557->name = "anon";
anon_8557->arityCount = 1;
anon_8557->arities[0] = dynArity7;
Value *fn8552 = (Value *)anon_8557;

// type-unknown flat-map
// #line 1862 "toccata.toc"
Value *rslt10 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt6, fn8552, "toccata.toc", 1862);
return(rslt10);

};};
Value *arityImpl8542(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val70;
Value *val75;
Value *val76;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs82[6] = {&val1, &val15, &val70, &val75, &val76, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs82);

incRef(val15, 4);

incRef(val70, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val70, 2);
dec_and_free(val75, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 5);
dec_and_free(val76, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8543_13 = ss_10;
Value *dispatch_fn_sym_14 = v_9;

incRef(dispatch_fn_sym_14, 3);
Value *arg8544_27 = arg8543_13;

// type-unknown ast/file-name
// #line 1856 "toccata.toc"
Value *rslt16 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val15, "toccata.toc", 1856);

// call-vector
// #line 1856 "toccata.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, dispatchFnPtr5586);
newVect17 = mutateVectConj(newVect17, rslt16);
newVect17 = mutateVectConj(newVect17, dispatchFnPtr4272);
newVect17 = mutateVectConj(newVect17, val15);
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 1857 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// call-vector
// #line 1857 "toccata.toc"
Vector *newVect21 = empty_vect;
Value *rslt22 = (Value *)newVect21;

// static-variadic
// #line 1857 "toccata.toc"
List *varArgs23 = empty_list;
Value *rslt24 = hash_map_1208(empty_list, (Value *)varArgs23);

// call invoke
// #line 1857 "toccata.toc"
Value *rslt25 = c_code_invoke_5942(empty_list, reifiedPtr5945, dispatch_fn_sym_14, rslt20, rslt22, FunctionType_5366, rslt24);

// static-fixed
// #line 1856 "toccata.toc"
Value *rslt26 = assoc_in_val_3599(empty_list, rslt18, rslt25);
Value *ev_28 = rslt26;
Value *arg8545_29 = arg8544_27;
Value *rslt30 = reified_type_args_22(empty_list, ev_28);
Value *invoke_fn_31;
Value *tail_32;
Value **destArgs33[2] = {&invoke_fn_31, &tail_32};
destructValue("", "0", (Value *)rslt30, 2, destArgs33);

dec_and_free(tail_32, 1);
Value *s_34 = arg8545_29;
Value *rslt38;
if((invoke_fn_31)->type != FunctionType) {
rslt38 = invoke_368(empty_list, invoke_fn_31, s_34);
} else {
FnArity *arity35 = findFnArity(invoke_fn_31, 1);
if(arity35 != (FnArity *)0 && !arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
rslt38 = fn37(arity35->closures, s_34);
} else if(arity35 != (FnArity *)0 && arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
List *dynArgs36 = empty_list;
dynArgs36 = (List *)listCons(s_34, dynArgs36);
rslt38 = fn37(arity35->closures, (Value *)dynArgs36);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_31)->name);
  abort();
}
dec_and_free(invoke_fn_31, 1);
}
Value *x_39 = rslt38;

incRef(x_39, 1);
Value *andRslt40;
andRslt40 = x_39;
if (isNothing(andRslt40)) {
dec_and_free(val70, 2);
dec_and_free(val75, 1);
dec_and_free(dispatch_fn_sym_14, 3);
dec_and_free(x_39, 1);
dec_and_free(val15, 3);
dec_and_free(val76, 1);
} else {
dec_and_free(andRslt40, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt41 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_39, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_42;
Value *ss_43;
Value *tail_44;
Value **destArgs45[3] = {&v_42, &ss_43, &tail_44};
destructValue("", "0", (Value *)rslt41, 3, destArgs45);

dec_and_free(tail_44, 1);
Value *arg8546_46 = ss_43;
Value *arg47 = v_42;

dec_and_free(arg47, 1);
Value *arg8547_49 = arg8546_46;

// static-fixed
// #line 1858 "toccata.toc"
Value *rslt48 = new_protocol_fn_6161(empty_list, val15, dispatch_fn_sym_14);
Value *ev_50 = rslt48;
Value *arg8548_51 = arg8547_49;
Value *rslt52 = reified_type_args_22(empty_list, ev_50);
Value *invoke_fn_53;
Value *tail_54;
Value **destArgs55[2] = {&invoke_fn_53, &tail_54};
destructValue("", "0", (Value *)rslt52, 2, destArgs55);

dec_and_free(tail_54, 1);
Value *s_56 = arg8548_51;
Value *rslt60;
if((invoke_fn_53)->type != FunctionType) {
rslt60 = invoke_368(empty_list, invoke_fn_53, s_56);
} else {
FnArity *arity57 = findFnArity(invoke_fn_53, 1);
if(arity57 != (FnArity *)0 && !arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
rslt60 = fn59(arity57->closures, s_56);
} else if(arity57 != (FnArity *)0 && arity57->variadic) {
FnType1 *fn59 = (FnType1 *)arity57->fn;
List *dynArgs58 = empty_list;
dynArgs58 = (List *)listCons(s_56, dynArgs58);
rslt60 = fn59(arity57->closures, (Value *)dynArgs58);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_53)->name);
  abort();
}
dec_and_free(invoke_fn_53, 1);
}
Value *x_61 = rslt60;

incRef(x_61, 1);
Value *andRslt62;
andRslt62 = x_61;
if (isNothing(andRslt62)) {
dec_and_free(val70, 2);
dec_and_free(val75, 1);
dec_and_free(dispatch_fn_sym_14, 2);
dec_and_free(val15, 2);
dec_and_free(x_61, 1);
dec_and_free(val76, 1);
} else {
dec_and_free(andRslt62, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt63 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_61, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_64;
Value *ss_65;
Value *tail_66;
Value **destArgs67[3] = {&v_64, &ss_65, &tail_66};
destructValue("", "0", (Value *)rslt63, 3, destArgs67);

dec_and_free(tail_66, 1);
Value *arg8549_68 = ss_65;
Value *arg69 = v_64;

dec_and_free(arg69, 1);

// static-variadic
// #line 1860 "toccata.toc"
List *varArgs71 = empty_list;
varArgs71 = (List *)listCons((Value *)dispatch_fn_sym_14, varArgs71);
varArgs71 = (List *)listCons((Value *)val15, varArgs71);
varArgs71 = (List *)listCons((Value *)declare_proto_dispatch_arity_8495, varArgs71);
Value *rslt72 = partial_969(empty_list, (Value *)varArgs71);

// static-fixed
// #line 1859 "toccata.toc"
Value *rslt73 = traverse_6470(empty_list, val70, rslt72);
FnArity *dynArity74 = malloc_fnArity();
dynArity74->count = 1;
dynArity74->variadic = 0;
dynArity74->fn = arityImpl8551;
dynArity74->closures = empty_list;
dynArity74->closures = listCons((Value *)val75, (List *)dynArity74->closures);
dynArity74->closures = listCons((Value *)dispatch_fn_sym_14, (List *)dynArity74->closures);
dynArity74->closures = listCons((Value *)val15, (List *)dynArity74->closures);
dynArity74->closures = listCons((Value *)val76, (List *)dynArity74->closures);
dynArity74->closures = listCons((Value *)val70, (List *)dynArity74->closures);
Function *anon_8558 = malloc_function(1);
anon_8558->name = "anon";
anon_8558->arityCount = 1;
anon_8558->arities[0] = dynArity74;
Value *fn8550 = (Value *)anon_8558;

// type-unknown flat-map
// #line 1859 "toccata.toc"
Value *rslt77 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt73, fn8550, "toccata.toc", 1859);

// dynamic unknown type
// #line 1859 "toccata.toc"
Value *rslt81;
if((rslt77)->type != FunctionType) {
rslt81 = invoke_368(empty_list, rslt77, arg8549_68);
} else {
FnArity *arity78 = findFnArity(rslt77, 1);
if(arity78 != (FnArity *)0 && !arity78->variadic) {
FnType1 *fn80 = (FnType1 *)arity78->fn;
rslt81 = fn80(arity78->closures, arg8549_68);
} else if(arity78 != (FnArity *)0 && arity78->variadic) {
FnType1 *fn80 = (FnType1 *)arity78->fn;
List *dynArgs79 = empty_list;
dynArgs79 = (List *)listCons(arg8549_68, dynArgs79);
rslt81 = fn80(arity78->closures, (Value *)dynArgs79);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt77)->name);
  abort();
}
dec_and_free(rslt77, 1);
}
andRslt62 = rslt81;
}
andRslt40 = andRslt62;
}
return(andRslt40);
andRslt7 = andRslt40;
}

};};
Value *create_dispatcher_8539(List *closures, Value *proto_name_0, Value *arg4) {
 while (1) {
Value *fn_name_1;
Value *arities_2;
Value *tail_3;
Value **destArgs5[3] = {&fn_name_1, &arities_2, &tail_3};
destructValue("toccata.toc", "1854", (Value *)arg4, 3, destArgs5);

incRef(fn_name_1, 1);

dec_and_free(tail_3, 1);

// static-fixed
// #line 1855 "toccata.toc"
Value *rslt6 = global_var_6497(empty_list, fn_name_1, strPtr670);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl8542;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)proto_name_0, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)arities_2, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)fn_name_1, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_8559 = malloc_function(1);
anon_8559->name = "anon";
anon_8559->arityCount = 1;
anon_8559->arities[0] = dynArity13;
Value *fn8541 = (Value *)anon_8559;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8541);
return(rslt14);

};};
FnArity create_dispatcher_8560 = {FnArityType, -1, 2, (List *)0, 0, create_dispatcher_8539};
Function create_dispatcher_8561 = {FunctionType, -1, "create-dispatcher", 1, {&create_dispatcher_8560}};
Value *create_dispatcher_8538 = (Value *)&create_dispatcher_8561;


// --------- anon -------------
Value *fn8564;
Value *arityImpl8565(List *closures, Value *prototype_0) {
 while (1) {

incRef(prototype_0, 1);

// type-unknown .fn-name
// #line 1876 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls4033, "<nothing>/.fn-name", prototype_0, "toccata.toc", 1876);

// call-vector
// #line 1876 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, prototype_0);
Value *rslt3 = (Value *)newVect2;

// static-variadic
// #line 1876 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt1, varArgs4);
Value *rslt5 = hash_map_1208(empty_list, (Value *)varArgs4);
return(rslt5);

};};
FnArity staticArity8566 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8565};
Function anon_8567 = {FunctionType, -1, "anon", 1, {&staticArity8566}};
Value *fn8564 = (Value *)&anon_8567;

Value *arityImpl8575(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8573(List *closures, Value *decl_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// call-vector
// #line 1880 "toccata.toc"
Vector *newVect3 = empty_vect;
Value *rslt4 = (Value *)newVect3;

// static-variadic
// #line 1880 "toccata.toc"
List *varArgs5 = empty_list;
Value *rslt6 = hash_map_1208(empty_list, (Value *)varArgs5);

// call invoke
// #line 1880 "toccata.toc"
Value *rslt7 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt4, decl_0, UnknownType_5361, rslt6);

// call-vector
// #line 1880 "toccata.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, rslt7);
Value *rslt9 = (Value *)newVect8;
Value *v_10 = rslt9;
Value *rslt11 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_12;
Value *tail_13;
Value **destArgs14[2] = {&invoke_fn_12, &tail_13};
destructValue("", "0", (Value *)rslt11, 2, destArgs14);

dec_and_free(invoke_fn_12, 1);

dec_and_free(tail_13, 1);
FnArity *dynArity15 = malloc_fnArity();
dynArity15->count = 1;
dynArity15->variadic = 0;
dynArity15->fn = arityImpl8575;
dynArity15->closures = empty_list;
dynArity15->closures = listCons((Value *)v_10, (List *)dynArity15->closures);
Function *anon_8576 = malloc_function(1);
anon_8576->name = "anon";
anon_8576->arityCount = 1;
anon_8576->arities[0] = dynArity15;
Value *fn8574 = (Value *)anon_8576;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8574);
return(rslt16);

};};
Value *arityImpl8570(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val17;
Value *val22;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[5] = {&val1, &val15, &val17, &val22, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs28);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8571_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// type-unknown seq
// #line 1878 "toccata.toc"
Value *rslt16 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", val15, "toccata.toc", 1878);

// static-variadic
// #line 1879 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)val17, varArgs18);
varArgs18 = (List *)listCons((Value *)create_dispatcher_8538, varArgs18);
Value *rslt19 = partial_969(empty_list, (Value *)varArgs18);

// static-fixed
// #line 1878 "toccata.toc"
Value *rslt20 = traverse_6470(empty_list, rslt16, rslt19);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl8573;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)val22, (List *)dynArity21->closures);
Function *anon_8577 = malloc_function(1);
anon_8577->name = "anon";
anon_8577->arityCount = 1;
anon_8577->arities[0] = dynArity21;
Value *fn8572 = (Value *)anon_8577;

// type-unknown flat-map
// #line 1878 "toccata.toc"
Value *rslt23 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt20, fn8572, "toccata.toc", 1878);

// dynamic unknown type
// #line 1878 "toccata.toc"
Value *rslt27;
if((rslt23)->type != FunctionType) {
rslt27 = invoke_368(empty_list, rslt23, arg8571_13);
} else {
FnArity *arity24 = findFnArity(rslt23, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, arg8571_13);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(arg8571_13, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt23)->name);
  abort();
}
dec_and_free(rslt23, 1);
}
return(rslt27);
andRslt7 = rslt27;
}

};};
Value *emit_definition_8562(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 1);

// type-known for .protocol-sym
// #line 1872 "toccata.toc"
Value *rslt1 = protocol_ast_protocol_sym_4141(empty_list, ast_0);
Value *proto_name_2 = rslt1;

incRef(proto_name_2, 1);
Value *f_3 = merge_with_1316;

// type-known for .prototypes
// #line 1874 "toccata.toc"
Value *rslt4 = protocol_ast_prototypes_4145(empty_list, ast_0);

// type-unknown map
// #line 1874 "toccata.toc"
Value *rslt5 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, fn8564, "toccata.toc", 1874);

// call-list
// #line 1873 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)rslt5, newList6);
newList6 = listCons((Value *)comp_240, newList6);
Value *rslt7 = (Value *)newList6;
Value *args_8 = rslt7;

// static-fixed
// #line 737 "core"
Value *rslt9 = fn_apply_98(empty_list, list_STAR__478, args_8);

// static-fixed
// #line 737 "core"
Value *rslt10 = fn_apply_98(empty_list, f_3, rslt9);
Value *prototype_map_11 = rslt10;

// static-fixed
// #line 1877 "toccata.toc"
Value *rslt12 = new_protocol_6082(empty_list, proto_name_2);
Value *wrapper_13 = rslt12;

incRef(wrapper_13, 1);
Value *ev_14 = wrapper_13;
Value *rslt15 = reified_type_args_22(empty_list, ev_14);
Value *invoke_fn_16;
Value *tail_17;
Value **destArgs18[2] = {&invoke_fn_16, &tail_17};
destructValue("", "0", (Value *)rslt15, 2, destArgs18);

dec_and_free(tail_17, 1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl8570;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)wrapper_13, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)proto_name_2, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)prototype_map_11, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)invoke_fn_16, (List *)dynArity19->closures);
Function *anon_8578 = malloc_function(1);
anon_8578->name = "anon";
anon_8578->arityCount = 1;
anon_8578->arities[0] = dynArity19;
Value *fn8569 = (Value *)anon_8578;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt20 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8569);
return(rslt20);

};};
FnArity emit_definition_8579 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_8562};
Value *emit_8580(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 4);

// type-known for .fn-sym
// #line 1886 "toccata.toc"
Value *rslt1 = fn_arity_ast_fn_sym_2736(empty_list, ast_0);

// type-known for .fn-var
// #line 1886 "toccata.toc"
Value *rslt2 = fn_arity_ast_fn_var_2740(empty_list, ast_0);

// type-known for .params
// #line 1886 "toccata.toc"
Value *rslt3 = fn_arity_ast_params_2744(empty_list, ast_0);

// type-known for .param-types
// #line 1886 "toccata.toc"
Value *rslt4 = fn_arity_ast_param_types_2752(empty_list, ast_0);

// type-known for .body
// #line 1886 "toccata.toc"
Value *rslt5 = fn_arity_ast_body_2756(empty_list, ast_0);

// static-fixed
// #line 1886 "toccata.toc"
Value *rslt6 = emit_fn_arity_8350(empty_list, rslt1, rslt2, rslt3, rslt4, rslt5);
return(rslt6);

};};
FnArity emit_8581 = {FnArityType, -1, 1, (List *)0, 0, emit_8580};
Value *inline_expr_8582(List *closures, Value *ast_0, Value *arg_asts_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .params
// #line 1889 "toccata.toc"
Value *rslt2 = fn_arity_ast_params_2744(empty_list, ast_0);

// type-unknown .fixed
// #line 1889 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", rslt2, "toccata.toc", 1889);

// static-fixed
// #line 1889 "toccata.toc"
Value *rslt4 = make_bindings_7361(empty_list, rslt3, arg_asts_1);

// type-known for .body
// #line 1890 "toccata.toc"
Value *rslt5 = fn_arity_ast_body_2756(empty_list, ast_0);

// call invoke
// #line 1889 "toccata.toc"
Value *rslt6 = let_ast_invoke_3385(empty_list, reifiedPtr3388, rslt4, rslt5);

// call invoke
// #line 1889 "toccata.toc"
Value *rslt7 = arityImpl2933(empty_list, reifiedPtr2939, rslt6);
return(rslt7);

};};
FnArity inline_expr_8583 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_8582};
Value *arityImpl8586(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1895 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", ast_0, val1, "toccata.toc", 1895);
return(rslt2);

};};
Value *arityImpl8589(List *closures, Value *new_body_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-known for .body
// #line 1896 "toccata.toc"
Value *rslt3 = fn_arity_ast_body_2754(empty_list, val2, new_body_0);

// type-unknown wrap
// #line 1894 "toccata.toc"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "toccata.toc", 1894);
return(rslt4);

};};
Value *replace_syms_8584(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 2);

// type-known for .params
// #line 1893 "toccata.toc"
Value *rslt2 = fn_arity_ast_params_2744(empty_list, ast_0);

// type-unknown all-symbols
// #line 1893 "toccata.toc"
Value *rslt3 = proto1Arg(&all_symbols_Implementations_7508, "<nothing>/all-symbols", rslt2, "toccata.toc", 1893);

// type-unknown reduce
// #line 1893 "toccata.toc"
Value *rslt4 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt3, subs_1, dissoc_1023, "toccata.toc", 1893);
Value *subs_5 = rslt4;

// type-known for .body
// #line 1894 "toccata.toc"
Value *rslt6 = fn_arity_ast_body_2756(empty_list, ast_0);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8586;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)subs_5, (List *)dynArity7->closures);
Function *anon_8587 = malloc_function(1);
anon_8587->name = "anon";
anon_8587->arityCount = 1;
anon_8587->arities[0] = dynArity7;
Value *fn8585 = (Value *)anon_8587;

// static-fixed
// #line 1894 "toccata.toc"
Value *rslt8 = traverse_6470(empty_list, rslt6, fn8585);
Value *wrapper_9 = rslt8;

incRef(wrapper_9, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8589;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)ast_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_9, (List *)dynArity10->closures);
Function *anon_8590 = malloc_function(1);
anon_8590->name = "anon";
anon_8590->arityCount = 1;
anon_8590->arities[0] = dynArity10;
Value *fn8588 = (Value *)anon_8590;

// type-unknown flat-map
// #line 1894 "toccata.toc"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_9, fn8588, "toccata.toc", 1894);
return(rslt11);

};};
FnArity replace_syms_8591 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_8584};

// --------- anon -------------
Value *fn8593;
Value *arityImpl8594(List *closures, Value *subs_0, Value *sym_1) {
 while (1) {

incRef(sym_1, 1);

// static-variadic
// #line 1901 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)sym_1, varArgs2);
varArgs2 = (List *)listCons((Value *)strPtr462, varArgs2);
Value *rslt3 = str_526(empty_list, (Value *)varArgs2);

// static-fixed
// #line 1901 "toccata.toc"
Value *rslt4 = symbol_220(empty_list, rslt3);

// static-fixed
// #line 1901 "toccata.toc"
Value *rslt5 = assoc_1033(empty_list, subs_0, sym_1, rslt4);
return(rslt5);

};};
FnArity staticArity8595 = {FnArityType, -1, 2, (List *)0, 0, arityImpl8594};
Function anon_8596 = {FunctionType, -1, "anon", 1, {&staticArity8595}};
Value *fn8593 = (Value *)&anon_8596;

Value *arityImpl8598(List *closures, Value *ast_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1905 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", ast_0, val1, "toccata.toc", 1905);
return(rslt2);

};};
Value *replace_bound_vars_8592(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 3);

// type-known for .params
// #line 1899 "toccata.toc"
Value *rslt2 = fn_arity_ast_params_2744(empty_list, ast_0);

// type-unknown all-symbols
// #line 1899 "toccata.toc"
Value *rslt3 = proto1Arg(&all_symbols_Implementations_7508, "<nothing>/all-symbols", rslt2, "toccata.toc", 1899);

// type-unknown reduce
// #line 1899 "toccata.toc"
Value *rslt4 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", rslt3, subs_1, fn8593, "toccata.toc", 1899);
Value *subs_5 = rslt4;

incRef(subs_5, 1);

// type-known for .params
// #line 1903 "toccata.toc"
Value *rslt6 = fn_arity_ast_params_2744(empty_list, ast_0);

// type-unknown replace-bound-vars
// #line 1903 "toccata.toc"
Value *rslt7 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", rslt6, subs_5, "toccata.toc", 1903);

// type-known for .params
// #line 1903 "toccata.toc"
Value *rslt8 = fn_arity_ast_params_2742(empty_list, ast_0, rslt7);

// type-known for .body
// #line 1904 "toccata.toc"
Value *rslt9 = fn_arity_ast_body_2756(empty_list, ast_0);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8598;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)subs_5, (List *)dynArity10->closures);
Function *anon_8599 = malloc_function(1);
anon_8599->name = "anon";
anon_8599->arityCount = 1;
anon_8599->arities[0] = dynArity10;
Value *fn8597 = (Value *)anon_8599;

// type-unknown map
// #line 1904 "toccata.toc"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt9, fn8597, "toccata.toc", 1904);

// type-unknown .body
// #line 1904 "toccata.toc"
Value *rslt12 = proto2Arg(&protoImpls2426, "<nothing>/.body", rslt8, rslt11, "toccata.toc", 1904);
return(rslt12);

};};
FnArity replace_bound_vars_8600 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_8592};

// --------- static-fn -------------
Value *static_fn_8602;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[9];
} str672 = {StringType, -1, 8, 0, "fnStruct"};
Value *strPtr672 = (Value *)&str672;
Value *arityImpl8633(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs30[4] = {&val1, &val15, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs30);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8634_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8635_16 = arg8634_13;
Value *__17 = val15;

// type-unknown .var-info
// #line 1916 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", val18, "toccata.toc", 1916);
Value *v_20 = rslt19;
Value *arg8636_21 = arg8635_16;
Value *rslt22 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(invoke_fn_23, 1);

dec_and_free(tail_24, 1);
Value *s_26 = arg8636_21;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect27 = empty_vect;
newVect27 = mutateVectConj(newVect27, v_20);
newVect27 = mutateVectConj(newVect27, s_26);
Value *rslt28 = (Value *)newVect27;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = maybe_4(empty_list, rslt28);
return(rslt29);
andRslt7 = rslt29;
}

};};
Value *arityImpl8630(List *closures, Value *static_arity_0) {
while (1) {

incRef(static_arity_0, 3);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs14[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs14);

dec_and_free(closuresTail, 1);

// type-unknown .param-count
// #line 1913 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls7753, "<nothing>/.param-count", static_arity_0, "toccata.toc", 1913);

// type-unknown .arity-fn-var
// #line 1914 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls7749, "<nothing>/.arity-fn-var", static_arity_0, "toccata.toc", 1914);

// type-unknown .return-type
// #line 1915 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls7757, "<nothing>/.return-type", static_arity_0, "toccata.toc", 1915);

// static-fixed
// #line 1912 "toccata.toc"
Value *rslt5 = new_static_arity_6632(empty_list, val1, rslt2, rslt3, rslt4);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *ev_7 = wrapper_6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8633;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)static_arity_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)wrapper_6, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8637 = malloc_function(1);
anon_8637->name = "anon";
anon_8637->arityCount = 1;
anon_8637->arities[0] = dynArity12;
Value *fn8632 = (Value *)anon_8637;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt13 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8632);
return(rslt13);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str673 = {StringType, -1, 14, 0, "\n// --------- "};
Value *strPtr673 = (Value *)&str673;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str674 = {StringType, -1, 15, 0, " -------------\n"};
Value *strPtr674 = (Value *)&str674;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str675 = {StringType, -1, 9, 0, "Function "};
Value *strPtr675 = (Value *)&str675;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str676 = {StringType, -1, 23, 0, " = {FunctionType, -1, \""};
Value *strPtr676 = (Value *)&str676;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str677 = {StringType, -1, 4, 0, "}};\n"};
Value *strPtr677 = (Value *)&str677;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str678 = {StringType, -1, 3, 0, ";\n\n"};
Value *strPtr678 = (Value *)&str678;
Value *arityImpl8641(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8639(List *closures, Value *emitted_arities_0) {
while (1) {

incRef(emitted_arities_0, 2);
Value *val1;
Value *val5;
Value *val8;
Value *val10;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[5] = {&val1, &val5, &val8, &val10, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs26);

incRef(val5, 2);

incRef(val8, 1);

incRef(val10, 1);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// type-unknown count
// #line 1917 "toccata.toc"
Value *rslt3 = proto1Arg(&count_Implementations_300, "<nothing>/count", emitted_arities_0, "toccata.toc", 1917);
Value *arity_count_4 = rslt3;

// call-vector
// #line 1918 "toccata.toc"
Vector *newVect6 = empty_vect;
Value *rslt7 = (Value *)newVect6;

// type-unknown map
// #line 1921 "toccata.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_0, dispatchFnPtr5863, "toccata.toc", 1921);

// type-unknown map
// #line 1924 "toccata.toc"
Value *rslt11 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_0, dispatchFnPtr5865, "toccata.toc", 1924);

// static-fixed
// #line 1924 "toccata.toc"
Value *rslt12 = interpose_503(empty_list, rslt11, strPtr17);

// type-unknown to-str
// #line 1924 "toccata.toc"
Value *rslt13 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt12, "toccata.toc", 1924);

// call-vector
// #line 1919 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr673);
newVect14 = mutateVectConj(newVect14, val8);
newVect14 = mutateVectConj(newVect14, strPtr674);
newVect14 = mutateVectConj(newVect14, strPtr492);
newVect14 = mutateVectConj(newVect14, val5);
newVect14 = mutateVectConj(newVect14, strPtr494);
newVect14 = mutateVectConj(newVect14, rslt9);
newVect14 = mutateVectConj(newVect14, strPtr675);
newVect14 = mutateVectConj(newVect14, val10);
newVect14 = mutateVectConj(newVect14, strPtr676);
newVect14 = mutateVectConj(newVect14, val8);
newVect14 = mutateVectConj(newVect14, strPtr530);
newVect14 = mutateVectConj(newVect14, arity_count_4);
newVect14 = mutateVectConj(newVect14, strPtr17);
newVect14 = mutateVectConj(newVect14, strPtr27);
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, strPtr677);
newVect14 = mutateVectConj(newVect14, strPtr492);
newVect14 = mutateVectConj(newVect14, val5);
newVect14 = mutateVectConj(newVect14, strPtr493);
newVect14 = mutateVectConj(newVect14, val10);
newVect14 = mutateVectConj(newVect14, strPtr678);
Value *rslt15 = (Value *)newVect14;

// static-variadic
// #line 1928 "toccata.toc"
List *varArgs16 = empty_list;
Value *rslt17 = hash_map_1208(empty_list, (Value *)varArgs16);

// call invoke
// #line 1918 "toccata.toc"
Value *rslt18 = c_code_invoke_5942(empty_list, reifiedPtr5945, val5, rslt7, rslt15, FunctionType_5366, rslt17);
Value *v_19 = rslt18;
Value *rslt20 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(invoke_fn_21, 1);

dec_and_free(tail_22, 1);
FnArity *dynArity24 = malloc_fnArity();
dynArity24->count = 1;
dynArity24->variadic = 0;
dynArity24->fn = arityImpl8641;
dynArity24->closures = empty_list;
dynArity24->closures = listCons((Value *)v_19, (List *)dynArity24->closures);
Function *anon_8642 = malloc_function(1);
anon_8642->name = "anon";
anon_8642->arityCount = 1;
anon_8642->arities[0] = dynArity24;
Value *fn8640 = (Value *)anon_8642;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt25 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8640);
return(rslt25);

};};
Value *arityImpl8606(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val17;
Value *val20;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[6] = {&val1, &val15, &val17, &val20, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs27);

incRef(val17, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 2);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8607_13 = ss_10;
Value *struct_var_14 = v_9;
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl8630;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)val17, (List *)dynArity16->closures);
Function *anon_8638 = malloc_function(1);
anon_8638->name = "anon";
anon_8638->arityCount = 1;
anon_8638->arities[0] = dynArity16;
Value *fn8619 = (Value *)anon_8638;

// static-fixed
// #line 1910 "toccata.toc"
Value *rslt18 = traverse_6470(empty_list, val15, fn8619);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl8639;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)struct_var_14, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val17, (List *)dynArity19->closures);
dynArity19->closures = listCons((Value *)val21, (List *)dynArity19->closures);
Function *anon_8643 = malloc_function(1);
anon_8643->name = "anon";
anon_8643->arityCount = 1;
anon_8643->arities[0] = dynArity19;
Value *fn8618 = (Value *)anon_8643;

// type-unknown flat-map
// #line 1910 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn8618, "toccata.toc", 1910);

// dynamic unknown type
// #line 1910 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg8607_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg8607_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg8607_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *static_fn_8603(List *closures, Value *fn_sym_0, Value *fn_var_1, Value *arities_2) {
 while (1) {

incRef(fn_sym_0, 1);

// static-fixed
// #line 1909 "toccata.toc"
Value *rslt3 = global_var_6497(empty_list, fn_sym_0, strPtr672);
Value *wrapper_4 = rslt3;

incRef(wrapper_4, 1);
Value *ev_5 = wrapper_4;
Value *rslt6 = reified_type_args_22(empty_list, ev_5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8606;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)wrapper_4, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)fn_sym_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)fn_var_1, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)arities_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_8644 = malloc_function(1);
anon_8644->name = "anon";
anon_8644->arityCount = 1;
anon_8644->arities[0] = dynArity10;
Value *fn8605 = (Value *)anon_8644;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8605);
return(rslt11);

};};
FnArity static_fn_8645 = {FnArityType, -1, 3, (List *)0, 0, static_fn_8603};
Function static_fn_8646 = {FunctionType, -1, "static-fn", 1, {&static_fn_8645}};
Value *static_fn_8602 = (Value *)&static_fn_8646;


// --------- closure-fn -------------
Value *closure_fn_8648;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str679 = {StringType, -1, 11, 0, "//creating "};
Value *strPtr679 = (Value *)&str679;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str680 = {StringType, -1, 10, 0, "Function *"};
Value *strPtr680 = (Value *)&str680;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[20];
} str681 = {StringType, -1, 19, 0, " = malloc_function("};
Value *strPtr681 = (Value *)&str681;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str682 = {StringType, -1, 10, 0, "->name = \""};
Value *strPtr682 = (Value *)&str682;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str683 = {StringType, -1, 2, 0, "\";"};
Value *strPtr683 = (Value *)&str683;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str684 = {StringType, -1, 15, 0, "->arityCount = "};
Value *strPtr684 = (Value *)&str684;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str685 = {StringType, -1, 10, 0, "->arities["};
Value *strPtr685 = (Value *)&str685;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str686 = {StringType, -1, 4, 0, "] = "};
Value *strPtr686 = (Value *)&str686;
Value *arityImpl8662(List *closures, Value *arg3) {
while (1) {
Value *sym_0;
Value *index_1;
Value *tail_2;
Value **destArgs4[3] = {&sym_0, &index_1, &tail_2};
destructValue("toccata.toc", "1943", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val5;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val5, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 1944 "toccata.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)strPtr5, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr303, varArgs6);
varArgs6 = (List *)listCons((Value *)sym_0, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr686, varArgs6);
varArgs6 = (List *)listCons((Value *)index_1, varArgs6);
varArgs6 = (List *)listCons((Value *)strPtr685, varArgs6);
varArgs6 = (List *)listCons((Value *)val5, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);
return(rslt7);

};};
Value *arityImpl8652(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val62;
Value *val65;
Value *val70;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs101[6] = {&val1, &val15, &val62, &val65, &val70, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs101);

incRef(val15, 3);

incRef(val65, 1);

incRef(val70, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val70, 2);
dec_and_free(x_6, 1);
dec_and_free(val15, 4);
dec_and_free(val65, 2);
dec_and_free(val62, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8653_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8654_17 = arg8653_13;

// static-fixed
// #line 1932 "toccata.toc"
Value *rslt16 = global_var_6497(empty_list, val15, strPtr672);
Value *ev_18 = rslt16;
Value *arg8655_19 = arg8654_17;
Value *rslt20 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(tail_22, 1);
Value *s_24 = arg8655_19;
Value *rslt28;
if((invoke_fn_21)->type != FunctionType) {
rslt28 = invoke_368(empty_list, invoke_fn_21, s_24);
} else {
FnArity *arity25 = findFnArity(invoke_fn_21, 1);
if(arity25 != (FnArity *)0 && !arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
rslt28 = fn27(arity25->closures, s_24);
} else if(arity25 != (FnArity *)0 && arity25->variadic) {
FnType1 *fn27 = (FnType1 *)arity25->fn;
List *dynArgs26 = empty_list;
dynArgs26 = (List *)listCons(s_24, dynArgs26);
rslt28 = fn27(arity25->closures, (Value *)dynArgs26);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_21)->name);
  abort();
}
dec_and_free(invoke_fn_21, 1);
}
Value *x_29 = rslt28;

incRef(x_29, 1);
Value *andRslt30;
andRslt30 = x_29;
if (isNothing(andRslt30)) {
dec_and_free(val70, 2);
dec_and_free(val15, 3);
dec_and_free(x_29, 1);
dec_and_free(val65, 2);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt30, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt31 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_29, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_32;
Value *ss_33;
Value *tail_34;
Value **destArgs35[3] = {&v_32, &ss_33, &tail_34};
destructValue("", "0", (Value *)rslt31, 3, destArgs35);

dec_and_free(tail_34, 1);
Value *arg8656_36 = ss_33;
Value *struct_var_37 = v_32;

incRef(struct_var_37, 4);
Value *arg8657_41 = arg8656_36;

// static-variadic
// #line 1933 "toccata.toc"
List *varArgs38 = empty_list;
varArgs38 = (List *)listCons((Value *)val15, varArgs38);
varArgs38 = (List *)listCons((Value *)strPtr679, varArgs38);
Value *rslt39 = str_526(empty_list, (Value *)varArgs38);

// static-fixed
// #line 1933 "toccata.toc"
Value *rslt40 = line_macro_5358(empty_list, val15, rslt39);
Value *ev_42 = rslt40;
Value *arg8658_43 = arg8657_41;
Value *rslt44 = reified_type_args_22(empty_list, ev_42);
Value *invoke_fn_45;
Value *tail_46;
Value **destArgs47[2] = {&invoke_fn_45, &tail_46};
destructValue("", "0", (Value *)rslt44, 2, destArgs47);

dec_and_free(tail_46, 1);
Value *s_48 = arg8658_43;
Value *rslt52;
if((invoke_fn_45)->type != FunctionType) {
rslt52 = invoke_368(empty_list, invoke_fn_45, s_48);
} else {
FnArity *arity49 = findFnArity(invoke_fn_45, 1);
if(arity49 != (FnArity *)0 && !arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
rslt52 = fn51(arity49->closures, s_48);
} else if(arity49 != (FnArity *)0 && arity49->variadic) {
FnType1 *fn51 = (FnType1 *)arity49->fn;
List *dynArgs50 = empty_list;
dynArgs50 = (List *)listCons(s_48, dynArgs50);
rslt52 = fn51(arity49->closures, (Value *)dynArgs50);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_45)->name);
  abort();
}
dec_and_free(invoke_fn_45, 1);
}
Value *x_53 = rslt52;

incRef(x_53, 1);
Value *andRslt54;
andRslt54 = x_53;
if (isNothing(andRslt54)) {
dec_and_free(val70, 2);
dec_and_free(x_53, 1);
dec_and_free(val15, 1);
dec_and_free(struct_var_37, 5);
dec_and_free(val65, 2);
dec_and_free(val62, 1);
} else {
dec_and_free(andRslt54, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt55 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_53, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_56;
Value *ss_57;
Value *tail_58;
Value **destArgs59[3] = {&v_56, &ss_57, &tail_58};
destructValue("", "0", (Value *)rslt55, 3, destArgs59);

dec_and_free(tail_58, 1);
Value *arg8659_60 = ss_57;
Value *line_61 = v_56;
Value *arg8660_63 = arg8659_60;
Value *__64 = val62;

// type-unknown count
// #line 1934 "toccata.toc"
Value *rslt66 = proto1Arg(&count_Implementations_300, "<nothing>/count", val65, "toccata.toc", 1934);
Value *arity_count_67 = rslt66;

incRef(arity_count_67, 2);

// type-unknown map
// #line 1935 "toccata.toc"
Value *rslt68 = proto2Arg(&map_Implementations_254, "<nothing>/map", val65, dispatchFnPtr7744, "toccata.toc", 1935);
Value *emitted_arities_69 = rslt68;

incRef(emitted_arities_69, 3);

// type-unknown map
// #line 1937 "toccata.toc"
Value *rslt71 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_69, dispatchFnPtr5587, "toccata.toc", 1937);

// type-unknown map
// #line 1941 "toccata.toc"
Value *rslt72 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_69, dispatchFnPtr5865, "toccata.toc", 1941);

// static-fixed
// #line 1942 "toccata.toc"
Value *rslt73 = range_795(empty_list, arity_count_67);

// static-variadic
// #line 1941 "toccata.toc"
List *varArgs74 = empty_list;
varArgs74 = (List *)listCons((Value *)rslt73, varArgs74);
varArgs74 = (List *)listCons((Value *)rslt72, varArgs74);
Value *rslt75 = zip_lists_1783(empty_list, (Value *)varArgs74);
FnArity *dynArity76 = malloc_fnArity();
dynArity76->count = 1;
dynArity76->variadic = 0;
dynArity76->fn = arityImpl8662;
dynArity76->closures = empty_list;
dynArity76->closures = listCons((Value *)struct_var_37, (List *)dynArity76->closures);
Function *anon_8663 = malloc_function(1);
anon_8663->name = "anon";
anon_8663->arityCount = 1;
anon_8663->arities[0] = dynArity76;
Value *fn8661 = (Value *)anon_8663;

// type-unknown map
// #line 1941 "toccata.toc"
Value *rslt77 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt75, fn8661, "toccata.toc", 1941);

// call-vector
// #line 1937 "toccata.toc"
Vector *newVect78 = empty_vect;
newVect78 = mutateVectConj(newVect78, rslt71);
newVect78 = mutateVectConj(newVect78, line_61);
newVect78 = mutateVectConj(newVect78, strPtr680);
newVect78 = mutateVectConj(newVect78, struct_var_37);
newVect78 = mutateVectConj(newVect78, strPtr681);
newVect78 = mutateVectConj(newVect78, arity_count_67);
newVect78 = mutateVectConj(newVect78, strPtr442);
newVect78 = mutateVectConj(newVect78, strPtr5);
newVect78 = mutateVectConj(newVect78, struct_var_37);
newVect78 = mutateVectConj(newVect78, strPtr682);
newVect78 = mutateVectConj(newVect78, val15);
newVect78 = mutateVectConj(newVect78, strPtr683);
newVect78 = mutateVectConj(newVect78, strPtr5);
newVect78 = mutateVectConj(newVect78, struct_var_37);
newVect78 = mutateVectConj(newVect78, strPtr684);
newVect78 = mutateVectConj(newVect78, arity_count_67);
newVect78 = mutateVectConj(newVect78, strPtr303);
newVect78 = mutateVectConj(newVect78, strPtr5);
newVect78 = mutateVectConj(newVect78, rslt77);
newVect78 = mutateVectConj(newVect78, strPtr492);
newVect78 = mutateVectConj(newVect78, val70);
newVect78 = mutateVectConj(newVect78, strPtr517);
newVect78 = mutateVectConj(newVect78, struct_var_37);
newVect78 = mutateVectConj(newVect78, strPtr303);
newVect78 = mutateVectConj(newVect78, strPtr5);
Value *rslt79 = (Value *)newVect78;

// type-unknown map
// #line 1946 "toccata.toc"
Value *rslt80 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_69, dispatchFnPtr5863, "toccata.toc", 1946);

// call-vector
// #line 1946 "toccata.toc"
Vector *newVect81 = empty_vect;
newVect81 = mutateVectConj(newVect81, rslt80);
Value *rslt82 = (Value *)newVect81;
Value *f_83 = merge_with_1316;

// type-unknown map
// #line 1948 "toccata.toc"
Value *rslt84 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_arities_69, dispatchFnPtr5676, "toccata.toc", 1948);

// call-list
// #line 1948 "toccata.toc"
List *newList85 = empty_list;
newList85 = listCons((Value *)rslt84, newList85);
newList85 = listCons((Value *)_PLUS__454, newList85);
Value *rslt86 = (Value *)newList85;
Value *args_87 = rslt86;

// static-fixed
// #line 737 "core"
Value *rslt88 = fn_apply_98(empty_list, list_STAR__478, args_87);

// static-fixed
// #line 737 "core"
Value *rslt89 = fn_apply_98(empty_list, f_83, rslt88);

// call invoke
// #line 1936 "toccata.toc"
Value *rslt90 = c_code_invoke_5942(empty_list, reifiedPtr5945, val70, rslt79, rslt82, FunctionType_5366, rslt89);
Value *v_91 = rslt90;
Value *arg8664_92 = arg8660_63;
Value *rslt93 = reified_type_args_22(empty_list, __64);
Value *invoke_fn_94;
Value *tail_95;
Value **destArgs96[2] = {&invoke_fn_94, &tail_95};
destructValue("", "0", (Value *)rslt93, 2, destArgs96);

dec_and_free(invoke_fn_94, 1);

dec_and_free(tail_95, 1);
Value *s_97 = arg8664_92;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect98 = empty_vect;
newVect98 = mutateVectConj(newVect98, v_91);
newVect98 = mutateVectConj(newVect98, s_97);
Value *rslt99 = (Value *)newVect98;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt100 = maybe_4(empty_list, rslt99);
andRslt54 = rslt100;
}
andRslt30 = andRslt54;
}
return(andRslt30);
andRslt7 = andRslt30;
}

};};
Value *closure_fn_8649(List *closures, Value *fn_sym_0, Value *fn_var_1, Value *arities_2) {
 while (1) {

incRef(arities_2, 1);

// static-fixed
// #line 1931 "toccata.toc"
Value *rslt3 = some_769(empty_list, arities_2, closure_arity_QM__7734);

// static-fixed
// #line 1931 "toccata.toc"
Value *rslt4 = when_4087(empty_list, rslt3);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
Value *ev_6 = wrapper_5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl8652;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)fn_var_1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)arities_2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)wrapper_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)fn_sym_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_8665 = malloc_function(1);
anon_8665->name = "anon";
anon_8665->arityCount = 1;
anon_8665->arities[0] = dynArity11;
Value *fn8651 = (Value *)anon_8665;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt12 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8651);
return(rslt12);

};};
FnArity closure_fn_8666 = {FnArityType, -1, 3, (List *)0, 0, closure_fn_8649};
Function closure_fn_8667 = {FunctionType, -1, "closure-fn", 1, {&closure_fn_8666}};
Value *closure_fn_8648 = (Value *)&closure_fn_8667;

Value *arityImpl8674(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown .c-var
// #line 1955 "toccata.toc"
Value *rslt13 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", v_9, "toccata.toc", 1955);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
Value *arityImpl8687(List *closures, Value *arity_0) {
while (1) {
Value *val1;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-unknown .fn-sym
// #line 1959 "toccata.toc"
Value *rslt2 = proto2Arg(&protoImpls2703, "<nothing>/.fn-sym", arity_0, val1, "toccata.toc", 1959);

// type-unknown .fn-var
// #line 1960 "toccata.toc"
Value *rslt4 = proto2Arg(&protoImpls2707, "<nothing>/.fn-var", rslt2, val3, "toccata.toc", 1960);
return(rslt4);

};};
Value *arityImpl8692(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs28);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8693_13 = ss_10;
Value *fn_expr_14 = v_9;
Value *arg8694_16 = arg8693_13;
Value *__17 = val15;
Value *v_18 = fn_expr_14;
Value *arg8695_19 = arg8694_16;
Value *rslt20 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(invoke_fn_21, 1);

dec_and_free(tail_22, 1);
Value *s_24 = arg8695_19;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, v_18);
newVect25 = mutateVectConj(newVect25, s_24);
Value *rslt26 = (Value *)newVect25;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
return(rslt27);
andRslt7 = rslt27;
}

};};
Value *arityImpl8689(List *closures, Value *arities_0) {
while (1) {

incRef(arities_0, 1);
Value *val1;
Value *val2;
Value *val14;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs16[4] = {&val1, &val2, &val14, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs16);

incRef(val1, 1);

incRef(val2, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1961 "toccata.toc"
Value *rslt3 = closure_fn_8649(empty_list, val1, val2, arities_0);

// static-fixed
// #line 1962 "toccata.toc"
Value *rslt4 = static_fn_8603(empty_list, val1, val2, arities_0);

// call-list
// #line 1961 "toccata.toc"
List *newList5 = empty_list;
newList5 = listCons((Value *)rslt4, newList5);
Value *rslt6 = (Value *)newList5;

// type-known for comp*
// #line 1961 "toccata.toc"
Value *rslt7 = new_sm_comp_STAR__2805(empty_list, rslt3, rslt6);
Value *ev_8 = rslt7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl8692;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)val14, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_8696 = malloc_function(1);
anon_8696->name = "anon";
anon_8696->arityCount = 1;
anon_8696->arities[0] = dynArity13;
Value *fn8691 = (Value *)anon_8696;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8691);
return(rslt15);

};};
Value *arityImpl8671(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val48;
Value *val54;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs60[4] = {&val1, &val48, &val54, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs60);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val54, 1);
dec_and_free(val48, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8672_13 = ss_10;
Value *fn_sym_14 = v_9;

incRef(fn_sym_14, 3);
Value *arg8676_27 = arg8672_13;

// static-fixed
// #line 1955 "toccata.toc"
Value *rslt15 = lookup_declaration_6542(empty_list, fn_sym_14);
Value *__16 = rslt15;
Value *rslt17 = reified_type_args_22(empty_list, __16);
Value *invoke_fn_18;
Value *tail_19;
Value **destArgs20[2] = {&invoke_fn_18, &tail_19};
destructValue("", "0", (Value *)rslt17, 2, destArgs20);

dec_and_free(tail_19, 1);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl8674;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)invoke_fn_18, (List *)dynArity21->closures);
Function *anon_8675 = malloc_function(1);
anon_8675->name = "anon";
anon_8675->arityCount = 1;
anon_8675->arities[0] = dynArity21;
Value *fn8673 = (Value *)anon_8675;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8673);

// static-fixed
// #line 1956 "toccata.toc"
Value *rslt23 = global_var_6497(empty_list, fn_sym_14, strPtr327);

// call-list
// #line 1955 "toccata.toc"
List *newList24 = empty_list;
newList24 = listCons((Value *)rslt23, newList24);
Value *rslt25 = (Value *)newList24;

// type-known for comp*
// #line 1955 "toccata.toc"
Value *rslt26 = new_sm_comp_STAR__2805(empty_list, rslt22, rslt25);
Value *ev_28 = rslt26;
Value *arg8677_29 = arg8676_27;
Value *rslt30 = reified_type_args_22(empty_list, ev_28);
Value *invoke_fn_31;
Value *tail_32;
Value **destArgs33[2] = {&invoke_fn_31, &tail_32};
destructValue("", "0", (Value *)rslt30, 2, destArgs33);

dec_and_free(tail_32, 1);
Value *s_34 = arg8677_29;
Value *rslt38;
if((invoke_fn_31)->type != FunctionType) {
rslt38 = invoke_368(empty_list, invoke_fn_31, s_34);
} else {
FnArity *arity35 = findFnArity(invoke_fn_31, 1);
if(arity35 != (FnArity *)0 && !arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
rslt38 = fn37(arity35->closures, s_34);
} else if(arity35 != (FnArity *)0 && arity35->variadic) {
FnType1 *fn37 = (FnType1 *)arity35->fn;
List *dynArgs36 = empty_list;
dynArgs36 = (List *)listCons(s_34, dynArgs36);
rslt38 = fn37(arity35->closures, (Value *)dynArgs36);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_31)->name);
  abort();
}
dec_and_free(invoke_fn_31, 1);
}
Value *x_39 = rslt38;

incRef(x_39, 1);
Value *andRslt40;
andRslt40 = x_39;
if (isNothing(andRslt40)) {
dec_and_free(val54, 1);
dec_and_free(val48, 1);
dec_and_free(x_39, 1);
dec_and_free(fn_sym_14, 2);
} else {
dec_and_free(andRslt40, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt41 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_39, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_42;
Value *ss_43;
Value *tail_44;
Value **destArgs45[3] = {&v_42, &ss_43, &tail_44};
destructValue("", "0", (Value *)rslt41, 3, destArgs45);

dec_and_free(tail_44, 1);
Value *arg8678_46 = ss_43;
Value *fn_var_47 = v_42;

incRef(fn_var_47, 1);

// type-known for .arities
// #line 1957 "toccata.toc"
Value *rslt49 = fn_ast_arities_3010(empty_list, val48);
FnArity *dynArity50 = malloc_fnArity();
dynArity50->count = 1;
dynArity50->variadic = 0;
dynArity50->fn = arityImpl8687;
dynArity50->closures = empty_list;
dynArity50->closures = listCons((Value *)fn_var_47, (List *)dynArity50->closures);
dynArity50->closures = listCons((Value *)fn_sym_14, (List *)dynArity50->closures);
Function *anon_8688 = malloc_function(1);
anon_8688->name = "anon";
anon_8688->arityCount = 1;
anon_8688->arities[0] = dynArity50;
Value *fn8683 = (Value *)anon_8688;

// type-unknown map
// #line 1957 "toccata.toc"
Value *rslt51 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt49, fn8683, "toccata.toc", 1957);

// type-unknown emit
// #line 1957 "toccata.toc"
Value *rslt52 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt51, "toccata.toc", 1957);
FnArity *dynArity53 = malloc_fnArity();
dynArity53->count = 1;
dynArity53->variadic = 0;
dynArity53->fn = arityImpl8689;
dynArity53->closures = empty_list;
dynArity53->closures = listCons((Value *)val54, (List *)dynArity53->closures);
dynArity53->closures = listCons((Value *)fn_var_47, (List *)dynArity53->closures);
dynArity53->closures = listCons((Value *)fn_sym_14, (List *)dynArity53->closures);
Function *anon_8697 = malloc_function(1);
anon_8697->name = "anon";
anon_8697->arityCount = 1;
anon_8697->arities[0] = dynArity53;
Value *fn8682 = (Value *)anon_8697;

// type-unknown flat-map
// #line 1957 "toccata.toc"
Value *rslt55 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt52, fn8682, "toccata.toc", 1957);

// dynamic unknown type
// #line 1957 "toccata.toc"
Value *rslt59;
if((rslt55)->type != FunctionType) {
rslt59 = invoke_368(empty_list, rslt55, arg8678_46);
} else {
FnArity *arity56 = findFnArity(rslt55, 1);
if(arity56 != (FnArity *)0 && !arity56->variadic) {
FnType1 *fn58 = (FnType1 *)arity56->fn;
rslt59 = fn58(arity56->closures, arg8678_46);
} else if(arity56 != (FnArity *)0 && arity56->variadic) {
FnType1 *fn58 = (FnType1 *)arity56->fn;
List *dynArgs57 = empty_list;
dynArgs57 = (List *)listCons(arg8678_46, dynArgs57);
rslt59 = fn58(arity56->closures, (Value *)dynArgs57);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt55)->name);
  abort();
}
dec_and_free(rslt55, 1);
}
andRslt40 = rslt59;
}
return(andRslt40);
andRslt7 = andRslt40;
}

};};
SubString sym42 = {SymbolType, -1, 4, 0, 0, "anon"};
Value *symPtr42 = (Value *)&sym42;
Value *arityImpl8707(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs28[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs28);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8708_13 = ss_10;
Value *fn_expr_14 = v_9;
Value *arg8709_16 = arg8708_13;
Value *__17 = val15;
Value *v_18 = fn_expr_14;
Value *arg8710_19 = arg8709_16;
Value *rslt20 = reified_type_args_22(empty_list, __17);
Value *invoke_fn_21;
Value *tail_22;
Value **destArgs23[2] = {&invoke_fn_21, &tail_22};
destructValue("", "0", (Value *)rslt20, 2, destArgs23);

dec_and_free(invoke_fn_21, 1);

dec_and_free(tail_22, 1);
Value *s_24 = arg8710_19;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, v_18);
newVect25 = mutateVectConj(newVect25, s_24);
Value *rslt26 = (Value *)newVect25;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
return(rslt27);
andRslt7 = rslt27;
}

};};
Value *arityImpl8704(List *closures, Value *arities_0) {
while (1) {

incRef(arities_0, 1);
Value *val1;
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[3] = {&val1, &val13, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs15);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 1968 "toccata.toc"
Value *rslt2 = closure_fn_8649(empty_list, symPtr42, val1, arities_0);

// static-fixed
// #line 1969 "toccata.toc"
Value *rslt3 = static_fn_8603(empty_list, symPtr42, val1, arities_0);

// call-list
// #line 1968 "toccata.toc"
List *newList4 = empty_list;
newList4 = listCons((Value *)rslt3, newList4);
Value *rslt5 = (Value *)newList4;

// type-known for comp*
// #line 1968 "toccata.toc"
Value *rslt6 = new_sm_comp_STAR__2805(empty_list, rslt2, rslt5);
Value *ev_7 = rslt6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8707;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)val13, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8711 = malloc_function(1);
anon_8711->name = "anon";
anon_8711->arityCount = 1;
anon_8711->arities[0] = dynArity12;
Value *fn8706 = (Value *)anon_8711;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8706);
return(rslt14);

};};
Value *arityImpl8701(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val1, &val15, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val19, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8702_13 = ss_10;
Value *fn_var_14 = v_9;

// type-known for .arities
// #line 1967 "toccata.toc"
Value *rslt16 = fn_ast_arities_3010(empty_list, val15);

// type-unknown emit
// #line 1967 "toccata.toc"
Value *rslt17 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt16, "toccata.toc", 1967);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl8704;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)val19, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)fn_var_14, (List *)dynArity18->closures);
Function *anon_8712 = malloc_function(1);
anon_8712->name = "anon";
anon_8712->arityCount = 1;
anon_8712->arities[0] = dynArity18;
Value *fn8703 = (Value *)anon_8712;

// type-unknown flat-map
// #line 1967 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt17, fn8703, "toccata.toc", 1967);

// dynamic unknown type
// #line 1967 "toccata.toc"
Value *rslt24;
if((rslt20)->type != FunctionType) {
rslt24 = invoke_368(empty_list, rslt20, arg8702_13);
} else {
FnArity *arity21 = findFnArity(rslt20, 1);
if(arity21 != (FnArity *)0 && !arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
rslt24 = fn23(arity21->closures, arg8702_13);
} else if(arity21 != (FnArity *)0 && arity21->variadic) {
FnType1 *fn23 = (FnType1 *)arity21->fn;
List *dynArgs22 = empty_list;
dynArgs22 = (List *)listCons(arg8702_13, dynArgs22);
rslt24 = fn23(arity21->closures, (Value *)dynArgs22);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt20)->name);
  abort();
}
dec_and_free(rslt20, 1);
}
return(rslt24);
andRslt7 = rslt24;
}

};};
Value *emit_8668(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 2);

// type-known for .fn-sym
// #line 1953 "toccata.toc"
Value *rslt1 = fn_ast_fn_sym_3006(empty_list, ast_0);

// static-fixed
// #line 1953 "toccata.toc"
Value *rslt2 = when_4087(empty_list, rslt1);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl8671;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)ast_0, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_8698 = malloc_function(1);
anon_8698->name = "anon";
anon_8698->arityCount = 1;
anon_8698->arities[0] = dynArity9;
Value *fn8670 = (Value *)anon_8698;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8670);

// static-fixed
// #line 1966 "toccata.toc"
Value *rslt11 = global_var_6495(empty_list, strPtr327);
Value *wrapper_12 = rslt11;

incRef(wrapper_12, 1);
Value *ev_13 = wrapper_12;
Value *rslt14 = reified_type_args_22(empty_list, ev_13);
Value *invoke_fn_15;
Value *tail_16;
Value **destArgs17[2] = {&invoke_fn_15, &tail_16};
destructValue("", "0", (Value *)rslt14, 2, destArgs17);

dec_and_free(tail_16, 1);
FnArity *dynArity18 = malloc_fnArity();
dynArity18->count = 1;
dynArity18->variadic = 0;
dynArity18->fn = arityImpl8701;
dynArity18->closures = empty_list;
dynArity18->closures = listCons((Value *)wrapper_12, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)ast_0, (List *)dynArity18->closures);
dynArity18->closures = listCons((Value *)invoke_fn_15, (List *)dynArity18->closures);
Function *anon_8713 = malloc_function(1);
anon_8713->name = "anon";
anon_8713->arityCount = 1;
anon_8713->arities[0] = dynArity18;
Value *fn8700 = (Value *)anon_8713;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8700);
List *newList20 = empty_list;
newList20 = listCons((Value *)rslt19, newList20);
Value *rslt21 = (Value *)newList20;
Value *rslt22 = new_sm_comp_STAR__2805(empty_list, rslt10, rslt21);
return(rslt22);

};};
FnArity emit_8714 = {FnArityType, -1, 1, (List *)0, 0, emit_8668};
Value *arityImpl8718(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs62[4] = {&val1, &val15, &val46, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs62);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8719_13 = ss_10;
Value *value_14 = v_9;

incRef(value_14, 1);
Value *arg8720_25 = arg8719_13;

// type-unknown .c-var
// #line 1974 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", value_14, "toccata.toc", 1974);

// call-vector
// #line 1974 "toccata.toc"
Vector *newVect17 = empty_vect;
Value *rslt18 = (Value *)newVect17;

// call-vector
// #line 1974 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// static-variadic
// #line 1974 "toccata.toc"
List *varArgs21 = empty_list;
Value *rslt22 = hash_map_1208(empty_list, (Value *)varArgs21);

// call invoke
// #line 1974 "toccata.toc"
Value *rslt23 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt16, rslt18, rslt20, FunctionType_5366, rslt22);

// static-fixed
// #line 1974 "toccata.toc"
Value *rslt24 = new_module_def_6527(empty_list, val15, rslt23);
Value *ev_26 = rslt24;
Value *arg8721_27 = arg8720_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg8721_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
dec_and_free(value_14, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg8722_44 = ss_41;
Value *arg45 = v_40;

dec_and_free(arg45, 1);
Value *arg8723_47 = arg8722_44;
Value *__48 = val46;

// static-fixed
// #line 1975 "toccata.toc"
Value *rslt49 = make_c_code_6685(empty_list, value_14);

// call-vector
// #line 1975 "toccata.toc"
Vector *newVect50 = empty_vect;
newVect50 = mutateVectConj(newVect50, rslt49);
Value *rslt51 = (Value *)newVect50;
Value *v_52 = rslt51;
Value *arg8724_53 = arg8723_47;
Value *rslt54 = reified_type_args_22(empty_list, __48);
Value *invoke_fn_55;
Value *tail_56;
Value **destArgs57[2] = {&invoke_fn_55, &tail_56};
destructValue("", "0", (Value *)rslt54, 2, destArgs57);

dec_and_free(invoke_fn_55, 1);

dec_and_free(tail_56, 1);
Value *s_58 = arg8724_53;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, v_52);
newVect59 = mutateVectConj(newVect59, s_58);
Value *rslt60 = (Value *)newVect59;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt61 = maybe_4(empty_list, rslt60);
andRslt38 = rslt61;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
Value *emit_defined_value_8715(List *closures, Value *fn_val_0, Value *defined_sym_1) {
 while (1) {

// type-known for emit
// #line 1973 "toccata.toc"
Value *rslt2 = emit_8668(empty_list, fn_val_0);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *ev_4 = wrapper_3;
Value *rslt5 = reified_type_args_22(empty_list, ev_4);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl8718;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)wrapper_3, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)defined_sym_1, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)invoke_fn_6, (List *)dynArity9->closures);
Function *anon_8725 = malloc_function(1);
anon_8725->name = "anon";
anon_8725->arityCount = 1;
anon_8725->arities[0] = dynArity9;
Value *fn8717 = (Value *)anon_8725;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8717);
return(rslt10);

};};
FnArity emit_defined_value_8726 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_8715};
Value *tail_call_8727(List *closures, Value *x_0, Value *params_1) {
 while (1) {

// call invoke
// #line 1977 "toccata.toc"
Value *rslt2 = TailExpr_invoke_6698(empty_list, reifiedPtr6701, x_0, params_1);
return(rslt2);

};};
FnArity tail_call_8728 = {FnArityType, -1, 2, (List *)0, 0, tail_call_8727};
Value *arityImpl8731(List *closures, Value *arity_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);

// type-unknown count
// #line 1982 "toccata.toc"
Value *rslt2 = proto1Arg(&count_Implementations_300, "<nothing>/count", val1, "toccata.toc", 1982);

// type-unknown .params
// #line 1982 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls2420, "<nothing>/.params", arity_0, "toccata.toc", 1982);

// type-unknown count
// #line 1982 "toccata.toc"
Value *rslt4 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt3, "toccata.toc", 1982);

// static-fixed
// #line 1982 "toccata.toc"
Value *rslt5 = _EQ__557(empty_list, rslt2, rslt4);
return(rslt5);

};};
Value *arityImpl8740(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8738(List *closures, Value *expr_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = expr_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8740;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8741 = malloc_function(1);
anon_8741->name = "anon";
anon_8741->arityCount = 1;
anon_8741->arities[0] = dynArity8;
Value *fn8739 = (Value *)anon_8741;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8739);
return(rslt9);

};};
Value *arityImpl8735(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs24[4] = {&val1, &val15, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs24);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8736_13 = ss_10;
Value *arity_14 = v_9;

// type-unknown inline-expr
// #line 1984 "toccata.toc"
Value *rslt16 = proto2Arg(&inline_expr_Implementations_5853, "<nothing>/inline-expr", arity_14, val15, "toccata.toc", 1984);
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 1;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl8738;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)val18, (List *)dynArity17->closures);
Function *anon_8742 = malloc_function(1);
anon_8742->name = "anon";
anon_8742->arityCount = 1;
anon_8742->arities[0] = dynArity17;
Value *fn8737 = (Value *)anon_8742;

// type-unknown flat-map
// #line 1984 "toccata.toc"
Value *rslt19 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt16, fn8737, "toccata.toc", 1984);

// dynamic unknown type
// #line 1984 "toccata.toc"
Value *rslt23;
if((rslt19)->type != FunctionType) {
rslt23 = invoke_368(empty_list, rslt19, arg8736_13);
} else {
FnArity *arity20 = findFnArity(rslt19, 1);
if(arity20 != (FnArity *)0 && !arity20->variadic) {
FnType1 *fn22 = (FnType1 *)arity20->fn;
rslt23 = fn22(arity20->closures, arg8736_13);
} else if(arity20 != (FnArity *)0 && arity20->variadic) {
FnType1 *fn22 = (FnType1 *)arity20->fn;
List *dynArgs21 = empty_list;
dynArgs21 = (List *)listCons(arg8736_13, dynArgs21);
rslt23 = fn22(arity20->closures, (Value *)dynArgs21);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt19)->name);
  abort();
}
dec_and_free(rslt19, 1);
}
return(rslt23);
andRslt7 = rslt23;
}

};};
Value *inline_expr_8729(List *closures, Value *ast_0, Value *arg_asts_1) {
 while (1) {

incRef(arg_asts_1, 1);

// type-known for .arities
// #line 1980 "toccata.toc"
Value *rslt2 = fn_ast_arities_3010(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8731;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)arg_asts_1, (List *)dynArity3->closures);
Function *anon_8732 = malloc_function(1);
anon_8732->name = "anon";
anon_8732->arityCount = 1;
anon_8732->arities[0] = dynArity3;
Value *fn8730 = (Value *)anon_8732;

// type-unknown filter
// #line 1981 "toccata.toc"
Value *rslt4 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", rslt2, fn8730, "toccata.toc", 1981);

// type-unknown first
// #line 1983 "toccata.toc"
Value *rslt5 = proto1Arg(&first_Implementations_320, "<nothing>/first", rslt4, "toccata.toc", 1983);

// static-fixed
// #line 1980 "toccata.toc"
Value *rslt6 = when_4087(empty_list, rslt5);
Value *wrapper_7 = rslt6;

incRef(wrapper_7, 1);
Value *ev_8 = wrapper_7;
Value *rslt9 = reified_type_args_22(empty_list, ev_8);
Value *invoke_fn_10;
Value *tail_11;
Value **destArgs12[2] = {&invoke_fn_10, &tail_11};
destructValue("", "0", (Value *)rslt9, 2, destArgs12);

dec_and_free(tail_11, 1);
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl8735;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)wrapper_7, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)arg_asts_1, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)invoke_fn_10, (List *)dynArity13->closures);
Function *anon_8743 = malloc_function(1);
anon_8743->name = "anon";
anon_8743->arityCount = 1;
anon_8743->arities[0] = dynArity13;
Value *fn8734 = (Value *)anon_8743;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8734);
return(rslt14);

};};
FnArity inline_expr_8744 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_8729};
Value *arityImpl8747(List *closures, Value *arity_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-syms
// #line 1990 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_syms_Implementations_5826, "<nothing>/replace-syms", arity_0, val1, "toccata.toc", 1990);
return(rslt2);

};};
Value *arityImpl8750(List *closures, Value *new_arities_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);

// type-known for .arities
// #line 1991 "toccata.toc"
Value *rslt3 = fn_ast_arities_3008(empty_list, val2, new_arities_0);

// type-unknown wrap
// #line 1988 "toccata.toc"
Value *rslt4 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt3, "toccata.toc", 1988);
return(rslt4);

};};
Value *replace_syms_8745(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .arities
// #line 1988 "toccata.toc"
Value *rslt2 = fn_ast_arities_3010(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8747;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8748 = malloc_function(1);
anon_8748->name = "anon";
anon_8748->arityCount = 1;
anon_8748->arities[0] = dynArity3;
Value *fn8746 = (Value *)anon_8748;

// static-fixed
// #line 1988 "toccata.toc"
Value *rslt4 = traverse_6470(empty_list, rslt2, fn8746);
Value *wrapper_5 = rslt4;

incRef(wrapper_5, 1);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl8750;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)ast_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)wrapper_5, (List *)dynArity6->closures);
Function *anon_8751 = malloc_function(1);
anon_8751->name = "anon";
anon_8751->arityCount = 1;
anon_8751->arities[0] = dynArity6;
Value *fn8749 = (Value *)anon_8751;

// type-unknown flat-map
// #line 1988 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_5, fn8749, "toccata.toc", 1988);
return(rslt7);

};};
FnArity replace_syms_8752 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_8745};
Value *arityImpl8755(List *closures, Value *arity_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown replace-bound-vars
// #line 1995 "toccata.toc"
Value *rslt2 = proto2Arg(&replace_bound_vars_Implementations_5829, "<nothing>/replace-bound-vars", arity_0, val1, "toccata.toc", 1995);
return(rslt2);

};};
Value *replace_bound_vars_8753(List *closures, Value *ast_0, Value *subs_1) {
 while (1) {

incRef(ast_0, 1);

// type-known for .arities
// #line 1994 "toccata.toc"
Value *rslt2 = fn_ast_arities_3010(empty_list, ast_0);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8755;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)subs_1, (List *)dynArity3->closures);
Function *anon_8756 = malloc_function(1);
anon_8756->name = "anon";
anon_8756->arityCount = 1;
anon_8756->arities[0] = dynArity3;
Value *fn8754 = (Value *)anon_8756;

// type-unknown map
// #line 1994 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt2, fn8754, "toccata.toc", 1994);

// type-known for .arities
// #line 1994 "toccata.toc"
Value *rslt5 = fn_ast_arities_3008(empty_list, ast_0, rslt4);
return(rslt5);

};};
FnArity replace_bound_vars_8757 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_8753};

// --------- extend-type* -------------
Value *extend_type_STAR__8759;
Value *arityImpl8762(List *closures, Value *protocol_name_0) {
while (1) {

incRef(protocol_name_0, 2);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs12[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs12);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 2002 "toccata.toc"
Value *rslt1 = get_protocol_6097(empty_list, protocol_name_0);

// type-unknown ast/file-name
// #line 2004 "toccata.toc"
Value *rslt3 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val2, "toccata.toc", 2004);

// static-variadic
// #line 2004 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)strPtr181, varArgs4);
varArgs4 = (List *)listCons((Value *)rslt3, varArgs4);
Value *rslt5 = str_526(empty_list, (Value *)varArgs4);

// type-unknown ast/line-number
// #line 2005 "toccata.toc"
Value *rslt6 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", protocol_name_0, "toccata.toc", 2005);

// static-variadic
// #line 2003 "toccata.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)rslt6, varArgs7);
varArgs7 = (List *)listCons((Value *)rslt5, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr621, varArgs7);
varArgs7 = (List *)listCons((Value *)protocol_name_0, varArgs7);
varArgs7 = (List *)listCons((Value *)strPtr620, varArgs7);
Value *rslt8 = compilation_error_5400(empty_list, (Value *)varArgs7);

// call-list
// #line 2002 "toccata.toc"
List *newList9 = empty_list;
newList9 = listCons((Value *)rslt8, newList9);
Value *rslt10 = (Value *)newList9;

// type-known for comp*
// #line 2002 "toccata.toc"
Value *rslt11 = new_sm_comp_STAR__2805(empty_list, rslt1, rslt10);
return(rslt11);

};};
Value *arityImpl8770(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *type_13 = v_9;

// static-variadic
// #line 2007 "toccata.toc"
List *varArgs14 = empty_list;
varArgs14 = (List *)listCons((Value *)strPtr474, varArgs14);
varArgs14 = (List *)listCons((Value *)type_13, varArgs14);
Value *rslt15 = str_526(empty_list, (Value *)varArgs14);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
Value *arityImpl8842(List *closures, Value *impl_arity_0) {
while (1) {
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// call-vector
// #line 2012 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, val2);
newVect3 = mutateVectConj(newVect3, impl_arity_0);
Value *rslt4 = (Value *)newVect3;

// type-unknown wrap
// #line 2011 "toccata.toc"
Value *rslt5 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt4, "toccata.toc", 2011);
return(rslt5);

};};
Value *arityImpl8840(List *closures, Value *arg3) {
while (1) {
Value *fn_name_0;
Value *arities_1;
Value *tail_2;
Value **destArgs4[3] = {&fn_name_0, &arities_1, &tail_2};
destructValue("toccata.toc", "2010", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val6, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl8842;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)fn_name_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)val6, (List *)dynArity5->closures);
Function *anon_8843 = malloc_function(1);
anon_8843->name = "anon";
anon_8843->arityCount = 1;
anon_8843->arities[0] = dynArity5;
Value *fn8841 = (Value *)anon_8843;

// type-unknown flat-map
// #line 2011 "toccata.toc"
Value *rslt7 = proto2Arg(&flat_map_Implementations_260, "flat-map", arities_1, fn8841, "toccata.toc", 2011);
return(rslt7);

};};
Value *arityImpl8838(List *closures, Value *impl_fns_0) {
while (1) {
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val3, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// type-unknown seq
// #line 2010 "toccata.toc"
Value *rslt1 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", impl_fns_0, "toccata.toc", 2010);
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl8840;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)val3, (List *)dynArity2->closures);
Function *anon_8844 = malloc_function(1);
anon_8844->name = "anon";
anon_8844->arityCount = 1;
anon_8844->arities[0] = dynArity2;
Value *fn8839 = (Value *)anon_8844;

// type-unknown flat-map
// #line 2010 "toccata.toc"
Value *rslt4 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt1, fn8839, "toccata.toc", 2010);
return(rslt4);

};};
Value *arityImpl8855(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val18;
Value *val20;
Value *val43;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs57[8] = {&val1, &val15, &val16, &val17, &val18, &val20, &val43, &closuresTail};
destructValue("", "", (Value *)closures, 8, destArgs57);

incRef(val18, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val18, 2);
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 1);
dec_and_free(val43, 1);
dec_and_free(val16, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8856_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8857_22 = arg8856_13;

// type-unknown .var-info
// #line 2034 "toccata.toc"
Value *rslt19 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", val18, "toccata.toc", 2034);

// static-fixed
// #line 2033 "toccata.toc"
Value *rslt21 = new_proto_impl_6331(empty_list, val15, val16, val17, rslt19, val20);
Value *ev_23 = rslt21;
Value *arg8858_24 = arg8857_22;
Value *rslt25 = reified_type_args_22(empty_list, ev_23);
Value *invoke_fn_26;
Value *tail_27;
Value **destArgs28[2] = {&invoke_fn_26, &tail_27};
destructValue("", "0", (Value *)rslt25, 2, destArgs28);

dec_and_free(tail_27, 1);
Value *s_29 = arg8858_24;
Value *rslt33;
if((invoke_fn_26)->type != FunctionType) {
rslt33 = invoke_368(empty_list, invoke_fn_26, s_29);
} else {
FnArity *arity30 = findFnArity(invoke_fn_26, 1);
if(arity30 != (FnArity *)0 && !arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
rslt33 = fn32(arity30->closures, s_29);
} else if(arity30 != (FnArity *)0 && arity30->variadic) {
FnType1 *fn32 = (FnType1 *)arity30->fn;
List *dynArgs31 = empty_list;
dynArgs31 = (List *)listCons(s_29, dynArgs31);
rslt33 = fn32(arity30->closures, (Value *)dynArgs31);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_26)->name);
  abort();
}
dec_and_free(invoke_fn_26, 1);
}
Value *x_34 = rslt33;

incRef(x_34, 1);
Value *andRslt35;
andRslt35 = x_34;
if (isNothing(andRslt35)) {
dec_and_free(val18, 1);
dec_and_free(val43, 1);
dec_and_free(x_34, 1);
} else {
dec_and_free(andRslt35, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt36 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_34, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_37;
Value *ss_38;
Value *tail_39;
Value **destArgs40[3] = {&v_37, &ss_38, &tail_39};
destructValue("", "0", (Value *)rslt36, 3, destArgs40);

dec_and_free(tail_39, 1);
Value *arg8859_41 = ss_38;
Value *arg42 = v_37;

dec_and_free(arg42, 1);
Value *arg8860_44 = arg8859_41;
Value *__45 = val43;

// type-unknown .var-info
// #line 2035 "toccata.toc"
Value *rslt46 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", val18, "toccata.toc", 2035);
Value *v_47 = rslt46;
Value *arg8861_48 = arg8860_44;
Value *rslt49 = reified_type_args_22(empty_list, __45);
Value *invoke_fn_50;
Value *tail_51;
Value **destArgs52[2] = {&invoke_fn_50, &tail_51};
destructValue("", "0", (Value *)rslt49, 2, destArgs52);

dec_and_free(invoke_fn_50, 1);

dec_and_free(tail_51, 1);
Value *s_53 = arg8861_48;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect54 = empty_vect;
newVect54 = mutateVectConj(newVect54, v_47);
newVect54 = mutateVectConj(newVect54, s_53);
Value *rslt55 = (Value *)newVect54;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = maybe_4(empty_list, rslt55);
andRslt35 = rslt56;
}
return(andRslt35);
andRslt7 = andRslt35;
}

};};
Value *arityImpl8852(List *closures, Value *ext_fn_0) {
while (1) {

incRef(ext_fn_0, 4);
Value *val13;
Value *val14;
Value *val15;
Value *val16;
Value *val17;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[6] = {&val13, &val14, &val15, &val16, &val17, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs19);

dec_and_free(closuresTail, 1);

// type-unknown .var-info
// #line 2028 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", ext_fn_0, "toccata.toc", 2028);

// type-unknown .c-var
// #line 2028 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", rslt1, "toccata.toc", 2028);

// type-unknown .param-count
// #line 2029 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls7753, "<nothing>/.param-count", ext_fn_0, "toccata.toc", 2029);

// type-unknown .arity-fn-var
// #line 2030 "toccata.toc"
Value *rslt4 = proto1Arg(&protoImpls7749, "<nothing>/.arity-fn-var", ext_fn_0, "toccata.toc", 2030);

// type-unknown .return-type
// #line 2031 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls7757, "<nothing>/.return-type", ext_fn_0, "toccata.toc", 2031);

// static-fixed
// #line 2028 "toccata.toc"
Value *rslt6 = new_static_arity_6632(empty_list, rslt2, rslt3, rslt4, rslt5);
Value *ev_7 = rslt6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl8855;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)val13, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)val14, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)ext_fn_0, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)val15, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)val16, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)val17, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_8862 = malloc_function(1);
anon_8862->name = "anon";
anon_8862->arityCount = 1;
anon_8862->arities[0] = dynArity12;
Value *fn8854 = (Value *)anon_8862;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8854);
return(rslt18);

};};
Value *arityImpl8849(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val21;
Value *val38;
Value *val39;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs45[8] = {&val1, &val15, &val16, &val17, &val21, &val38, &val39, &closuresTail};
destructValue("", "", (Value *)closures, 8, destArgs45);

incRef(val15, 1);

incRef(val17, 4);

incRef(val21, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val38, 1);
dec_and_free(val39, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val17, 5);
dec_and_free(val16, 1);
dec_and_free(val21, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8850_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// static-variadic
// #line 2022 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)val17, varArgs18);
varArgs18 = (List *)listCons((Value *)val16, varArgs18);
Value *rslt19 = str_526(empty_list, (Value *)varArgs18);

// type-unknown .fn-sym
// #line 2022 "toccata.toc"
Value *rslt20 = proto2Arg(&protoImpls2703, "<nothing>/.fn-sym", val15, rslt19, "toccata.toc", 2022);

// call-vector
// #line 2023 "toccata.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, val21);
Value *rslt23 = (Value *)newVect22;

// type-unknown .param-types
// #line 2023 "toccata.toc"
Value *rslt24 = proto2Arg(&protoImpls2715, "<nothing>/.param-types", rslt20, rslt23, "toccata.toc", 2023);

// type-unknown emit
// #line 2021 "toccata.toc"
Value *rslt25 = proto1Arg(&emit_Implementations_5842, "<nothing>/emit", rslt24, "toccata.toc", 2021);

// static-variadic
// #line 2025 "toccata.toc"
List *varArgs26 = empty_list;
varArgs26 = (List *)listCons((Value *)strPtr618, varArgs26);
varArgs26 = (List *)listCons((Value *)val17, varArgs26);
varArgs26 = (List *)listCons((Value *)strPtr10, varArgs26);
Value *rslt27 = str_526(empty_list, (Value *)varArgs26);

// type-unknown ast/file-name
// #line 2026 "toccata.toc"
Value *rslt28 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val17, "toccata.toc", 2026);

// static-variadic
// #line 2026 "toccata.toc"
List *varArgs29 = empty_list;
varArgs29 = (List *)listCons((Value *)strPtr181, varArgs29);
varArgs29 = (List *)listCons((Value *)rslt28, varArgs29);
Value *rslt30 = str_526(empty_list, (Value *)varArgs29);

// type-unknown ast/line-number
// #line 2027 "toccata.toc"
Value *rslt31 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val17, "toccata.toc", 2027);

// static-variadic
// #line 2024 "toccata.toc"
List *varArgs32 = empty_list;
varArgs32 = (List *)listCons((Value *)rslt31, varArgs32);
varArgs32 = (List *)listCons((Value *)rslt30, varArgs32);
varArgs32 = (List *)listCons((Value *)rslt27, varArgs32);
varArgs32 = (List *)listCons((Value *)strPtr619, varArgs32);
Value *rslt33 = compilation_error_5400(empty_list, (Value *)varArgs32);

// call-list
// #line 2021 "toccata.toc"
List *newList34 = empty_list;
newList34 = listCons((Value *)rslt33, newList34);
Value *rslt35 = (Value *)newList34;

// type-unknown comp*
// #line 2021 "toccata.toc"
Value *rslt36 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt25, rslt35, "toccata.toc", 2021);
FnArity *dynArity37 = malloc_fnArity();
dynArity37->count = 1;
dynArity37->variadic = 0;
dynArity37->fn = arityImpl8852;
dynArity37->closures = empty_list;
dynArity37->closures = listCons((Value *)val17, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)val38, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)val21, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)val15, (List *)dynArity37->closures);
dynArity37->closures = listCons((Value *)val39, (List *)dynArity37->closures);
Function *anon_8863 = malloc_function(1);
anon_8863->name = "anon";
anon_8863->arityCount = 1;
anon_8863->arities[0] = dynArity37;
Value *fn8851 = (Value *)anon_8863;

// type-unknown flat-map
// #line 2021 "toccata.toc"
Value *rslt40 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt36, fn8851, "toccata.toc", 2021);

// dynamic unknown type
// #line 2021 "toccata.toc"
Value *rslt44;
if((rslt40)->type != FunctionType) {
rslt44 = invoke_368(empty_list, rslt40, arg8850_13);
} else {
FnArity *arity41 = findFnArity(rslt40, 1);
if(arity41 != (FnArity *)0 && !arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
rslt44 = fn43(arity41->closures, arg8850_13);
} else if(arity41 != (FnArity *)0 && arity41->variadic) {
FnType1 *fn43 = (FnType1 *)arity41->fn;
List *dynArgs42 = empty_list;
dynArgs42 = (List *)listCons(arg8850_13, dynArgs42);
rslt44 = fn43(arity41->closures, (Value *)dynArgs42);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt40)->name);
  abort();
}
dec_and_free(rslt40, 1);
}
return(rslt44);
andRslt7 = rslt44;
}

};};
Value *arityImpl8846(List *closures, Value *arg3) {
while (1) {
Value *fn_name_0;
Value *arity_ast_1;
Value *tail_2;
Value **destArgs4[3] = {&fn_name_0, &arity_ast_1, &tail_2};
destructValue("toccata.toc", "2013", (Value *)arg3, 3, destArgs4);

incRef(fn_name_0, 4);

incRef(arity_ast_1, 1);

dec_and_free(tail_2, 1);
Value *val27;
Value *val28;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs30[3] = {&val27, &val28, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs30);

dec_and_free(closuresTail, 1);

// type-unknown .params
// #line 2014 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls2420, "<nothing>/.params", arity_ast_1, "toccata.toc", 2014);

// type-unknown count
// #line 2014 "toccata.toc"
Value *rslt6 = proto1Arg(&count_Implementations_300, "<nothing>/count", rslt5, "toccata.toc", 2014);
Value *num_args_7 = rslt6;

incRef(num_args_7, 1);

// static-fixed
// #line 2015 "toccata.toc"
Value *rslt8 = get_protocol_dispatcher_6267(empty_list, fn_name_0, num_args_7);

// static-variadic
// #line 2017 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)strPtr618, varArgs9);
varArgs9 = (List *)listCons((Value *)fn_name_0, varArgs9);
varArgs9 = (List *)listCons((Value *)strPtr10, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// type-unknown ast/file-name
// #line 2018 "toccata.toc"
Value *rslt11 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_name_0, "toccata.toc", 2018);

// static-variadic
// #line 2018 "toccata.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)strPtr181, varArgs12);
varArgs12 = (List *)listCons((Value *)rslt11, varArgs12);
Value *rslt13 = str_526(empty_list, (Value *)varArgs12);

// type-unknown ast/line-number
// #line 2019 "toccata.toc"
Value *rslt14 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", fn_name_0, "toccata.toc", 2019);

// static-variadic
// #line 2016 "toccata.toc"
List *varArgs15 = empty_list;
varArgs15 = (List *)listCons((Value *)rslt14, varArgs15);
varArgs15 = (List *)listCons((Value *)rslt13, varArgs15);
varArgs15 = (List *)listCons((Value *)rslt10, varArgs15);
varArgs15 = (List *)listCons((Value *)strPtr617, varArgs15);
Value *rslt16 = compilation_error_5400(empty_list, (Value *)varArgs15);

// call-list
// #line 2015 "toccata.toc"
List *newList17 = empty_list;
newList17 = listCons((Value *)rslt16, newList17);
Value *rslt18 = (Value *)newList17;

// type-known for comp*
// #line 2015 "toccata.toc"
Value *rslt19 = new_sm_comp_STAR__2805(empty_list, rslt8, rslt18);
Value *wrapper_20 = rslt19;

incRef(wrapper_20, 1);
Value *ev_21 = wrapper_20;
Value *rslt22 = reified_type_args_22(empty_list, ev_21);
Value *invoke_fn_23;
Value *tail_24;
Value **destArgs25[2] = {&invoke_fn_23, &tail_24};
destructValue("", "0", (Value *)rslt22, 2, destArgs25);

dec_and_free(tail_24, 1);
FnArity *dynArity26 = malloc_fnArity();
dynArity26->count = 1;
dynArity26->variadic = 0;
dynArity26->fn = arityImpl8849;
dynArity26->closures = empty_list;
dynArity26->closures = listCons((Value *)wrapper_20, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)num_args_7, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)val27, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)fn_name_0, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)val28, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)arity_ast_1, (List *)dynArity26->closures);
dynArity26->closures = listCons((Value *)invoke_fn_23, (List *)dynArity26->closures);
Function *anon_8864 = malloc_function(1);
anon_8864->name = "anon";
anon_8864->arityCount = 1;
anon_8864->arities[0] = dynArity26;
Value *fn8848 = (Value *)anon_8864;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt29 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8848);
return(rslt29);

};};
Value *arityImpl8866(List *closures, Value *ext_fns_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 2009 "toccata.toc"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, ext_fns_0, "toccata.toc", 2009);
return(rslt2);

};};
Value *arityImpl8773(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val22;
Value *val25;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs31[5] = {&val1, &val15, &val22, &val25, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs31);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val25, 1);
dec_and_free(val22, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8774_13 = ss_10;
Value *type_str_14 = v_9;

// type-unknown .impls
// #line 2009 "toccata.toc"
Value *rslt16 = proto1Arg(&protoImpls4182, "<nothing>/.impls", val15, "toccata.toc", 2009);

// type-unknown vals
// #line 2009 "toccata.toc"
Value *rslt17 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", rslt16, "toccata.toc", 2009);
Value *wrapper_18 = rslt17;

incRef(wrapper_18, 1);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl8838;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)wrapper_18, (List *)dynArity19->closures);
Function *anon_8845 = malloc_function(1);
anon_8845->name = "anon";
anon_8845->arityCount = 1;
anon_8845->arities[0] = dynArity19;
Value *fn8837 = (Value *)anon_8845;

// type-unknown flat-map
// #line 2009 "toccata.toc"
Value *rslt20 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_18, fn8837, "toccata.toc", 2009);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl8846;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)type_str_14, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val22, (List *)dynArity21->closures);
Function *anon_8865 = malloc_function(1);
anon_8865->name = "anon";
anon_8865->arityCount = 1;
anon_8865->arities[0] = dynArity21;
Value *fn8806 = (Value *)anon_8865;

// static-fixed
// #line 2009 "toccata.toc"
Value *rslt23 = traverse_6470(empty_list, rslt20, fn8806);
FnArity *dynArity24 = malloc_fnArity();
dynArity24->count = 1;
dynArity24->variadic = 0;
dynArity24->fn = arityImpl8866;
dynArity24->closures = empty_list;
dynArity24->closures = listCons((Value *)val25, (List *)dynArity24->closures);
Function *anon_8867 = malloc_function(1);
anon_8867->name = "anon";
anon_8867->arityCount = 1;
anon_8867->arities[0] = dynArity24;
Value *fn8805 = (Value *)anon_8867;

// type-unknown flat-map
// #line 2009 "toccata.toc"
Value *rslt26 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt23, fn8805, "toccata.toc", 2009);

// dynamic unknown type
// #line 2009 "toccata.toc"
Value *rslt30;
if((rslt26)->type != FunctionType) {
rslt30 = invoke_368(empty_list, rslt26, arg8774_13);
} else {
FnArity *arity27 = findFnArity(rslt26, 1);
if(arity27 != (FnArity *)0 && !arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
rslt30 = fn29(arity27->closures, arg8774_13);
} else if(arity27 != (FnArity *)0 && arity27->variadic) {
FnType1 *fn29 = (FnType1 *)arity27->fn;
List *dynArgs28 = empty_list;
dynArgs28 = (List *)listCons(arg8774_13, dynArgs28);
rslt30 = fn29(arity27->closures, (Value *)dynArgs28);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt26)->name);
  abort();
}
dec_and_free(rslt26, 1);
}
return(rslt30);
andRslt7 = rslt30;
}

};};
Value *arityImpl8765(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val22;
Value *val23;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val1, &val22, &val23, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// call-vector
// #line 2006 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5583);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5408);
newVect2 = mutateVectConj(newVect2, val1);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 2006 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
Value *__5 = rslt4;
Value *rslt6 = reified_type_args_22(empty_list, __5);
Value *invoke_fn_7;
Value *tail_8;
Value **destArgs9[2] = {&invoke_fn_7, &tail_8};
destructValue("", "0", (Value *)rslt6, 2, destArgs9);

dec_and_free(tail_8, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl8770;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)invoke_fn_7, (List *)dynArity10->closures);
Function *anon_8771 = malloc_function(1);
anon_8771->name = "anon";
anon_8771->arityCount = 1;
anon_8771->arities[0] = dynArity10;
Value *fn8769 = (Value *)anon_8771;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8769);

// call invoke
// #line 2008 "toccata.toc"
Value *rslt12 = arityImpl2933(empty_list, reifiedPtr2939, strPtr0);

// call-list
// #line 2006 "toccata.toc"
List *newList13 = empty_list;
newList13 = listCons((Value *)rslt12, newList13);
Value *rslt14 = (Value *)newList13;

// type-known for comp*
// #line 2006 "toccata.toc"
Value *rslt15 = new_sm_comp_STAR__2805(empty_list, rslt11, rslt14);
Value *ev_16 = rslt15;
Value *rslt17 = reified_type_args_22(empty_list, ev_16);
Value *invoke_fn_18;
Value *tail_19;
Value **destArgs20[2] = {&invoke_fn_18, &tail_19};
destructValue("", "0", (Value *)rslt17, 2, destArgs20);

dec_and_free(tail_19, 1);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl8773;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)val22, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val1, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val23, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)invoke_fn_18, (List *)dynArity21->closures);
Function *anon_8868 = malloc_function(1);
anon_8868->name = "anon";
anon_8868->arityCount = 1;
anon_8868->arities[0] = dynArity21;
Value *fn8772 = (Value *)anon_8868;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt24 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8772);
return(rslt24);

};};
Value *extend_type_STAR__8760(List *closures, Value *ast_0, Value *type_num_1) {
 while (1) {

incRef(ast_0, 2);

// type-unknown .impls
// #line 2000 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls4182, "<nothing>/.impls", ast_0, "toccata.toc", 2000);

// type-unknown keys
// #line 2000 "toccata.toc"
Value *rslt3 = proto1Arg(&keys_Implementations_359, "<nothing>/keys", rslt2, "toccata.toc", 2000);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl8762;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)ast_0, (List *)dynArity4->closures);
Function *anon_8763 = malloc_function(1);
anon_8763->name = "anon";
anon_8763->arityCount = 1;
anon_8763->arities[0] = dynArity4;
Value *fn8761 = (Value *)anon_8763;

// static-fixed
// #line 2000 "toccata.toc"
Value *rslt5 = traverse_6470(empty_list, rslt3, fn8761);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
FnArity *dynArity7 = malloc_fnArity();
dynArity7->count = 1;
dynArity7->variadic = 0;
dynArity7->fn = arityImpl8765;
dynArity7->closures = empty_list;
dynArity7->closures = listCons((Value *)ast_0, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)wrapper_6, (List *)dynArity7->closures);
dynArity7->closures = listCons((Value *)type_num_1, (List *)dynArity7->closures);
Function *anon_8869 = malloc_function(1);
anon_8869->name = "anon";
anon_8869->arityCount = 1;
anon_8869->arities[0] = dynArity7;
Value *fn8764 = (Value *)anon_8869;

// type-unknown flat-map
// #line 2000 "toccata.toc"
Value *rslt8 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_6, fn8764, "toccata.toc", 2000);
return(rslt8);

};};
FnArity extend_type_STAR__8870 = {FnArityType, -1, 2, (List *)0, 0, extend_type_STAR__8760};
Function extend_type_STAR__8871 = {FunctionType, -1, "extend-type*", 1, {&extend_type_STAR__8870}};
Value *extend_type_STAR__8759 = (Value *)&extend_type_STAR__8871;

Value *arityImpl8880(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8878(List *closures, Value *fns_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = fns_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8880;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8881 = malloc_function(1);
anon_8881->name = "anon";
anon_8881->arityCount = 1;
anon_8881->arities[0] = dynArity8;
Value *fn8879 = (Value *)anon_8881;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8879);
return(rslt9);

};};
Value *arityImpl8875(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs27[4] = {&val1, &val15, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs27);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val21, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8876_13 = ss_10;
Value *type_nums_14 = v_9;

// static-variadic
// #line 2049 "toccata.toc"
List *varArgs16 = empty_list;
varArgs16 = (List *)listCons((Value *)val15, varArgs16);
varArgs16 = (List *)listCons((Value *)extend_type_STAR__8759, varArgs16);
Value *rslt17 = partial_969(empty_list, (Value *)varArgs16);

// static-fixed
// #line 2049 "toccata.toc"
Value *rslt18 = traverse_6470(empty_list, type_nums_14, rslt17);

// type-unknown map
// #line 2049 "toccata.toc"
Value *rslt19 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt18, flatten_249, "toccata.toc", 2049);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl8878;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)val21, (List *)dynArity20->closures);
Function *anon_8882 = malloc_function(1);
anon_8882->name = "anon";
anon_8882->arityCount = 1;
anon_8882->arities[0] = dynArity20;
Value *fn8877 = (Value *)anon_8882;

// type-unknown flat-map
// #line 2049 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt19, fn8877, "toccata.toc", 2049);

// dynamic unknown type
// #line 2049 "toccata.toc"
Value *rslt26;
if((rslt22)->type != FunctionType) {
rslt26 = invoke_368(empty_list, rslt22, arg8876_13);
} else {
FnArity *arity23 = findFnArity(rslt22, 1);
if(arity23 != (FnArity *)0 && !arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
rslt26 = fn25(arity23->closures, arg8876_13);
} else if(arity23 != (FnArity *)0 && arity23->variadic) {
FnType1 *fn25 = (FnType1 *)arity23->fn;
List *dynArgs24 = empty_list;
dynArgs24 = (List *)listCons(arg8876_13, dynArgs24);
rslt26 = fn25(arity23->closures, (Value *)dynArgs24);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt22)->name);
  abort();
}
dec_and_free(rslt22, 1);
}
return(rslt26);
andRslt7 = rslt26;
}

};};
Value *arityImpl8894(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl8892(List *closures, Value *fn_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs10[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs10);

dec_and_free(closuresTail, 1);
Value *__2 = val1;
Value *v_3 = fn_0;
Value *rslt4 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_5;
Value *tail_6;
Value **destArgs7[2] = {&invoke_fn_5, &tail_6};
destructValue("", "0", (Value *)rslt4, 2, destArgs7);

dec_and_free(invoke_fn_5, 1);

dec_and_free(tail_6, 1);
FnArity *dynArity8 = malloc_fnArity();
dynArity8->count = 1;
dynArity8->variadic = 0;
dynArity8->fn = arityImpl8894;
dynArity8->closures = empty_list;
dynArity8->closures = listCons((Value *)v_3, (List *)dynArity8->closures);
Function *anon_8895 = malloc_function(1);
anon_8895->name = "anon";
anon_8895->arityCount = 1;
anon_8895->arities[0] = dynArity8;
Value *fn8893 = (Value *)anon_8895;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8893);
return(rslt9);

};};
Value *arityImpl8886(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val46;
Value *val49;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs55[5] = {&val1, &val15, &val46, &val49, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs55);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val49, 1);
dec_and_free(val46, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8887_13 = ss_10;
Value *ns_path_14 = v_9;
Value *arg8888_25 = arg8887_13;

// call-vector
// #line 2053 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5586);
newVect16 = mutateVectConj(newVect16, ns_path_14);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5511);
newVect16 = mutateVectConj(newVect16, val15);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 2053 "toccata.toc"
Value *rslt18 = get_in_val_3549(empty_list, rslt17);

// call-vector
// #line 2054 "toccata.toc"
Vector *newVect19 = empty_vect;
newVect19 = mutateVectConj(newVect19, dispatchFnPtr5586);
newVect19 = mutateVectConj(newVect19, symPtr34);
newVect19 = mutateVectConj(newVect19, dispatchFnPtr5511);
newVect19 = mutateVectConj(newVect19, val15);
Value *rslt20 = (Value *)newVect19;

// static-fixed
// #line 2054 "toccata.toc"
Value *rslt21 = get_in_val_3549(empty_list, rslt20);

// call-list
// #line 2053 "toccata.toc"
List *newList22 = empty_list;
newList22 = listCons((Value *)rslt21, newList22);
Value *rslt23 = (Value *)newList22;

// type-known for comp*
// #line 2053 "toccata.toc"
Value *rslt24 = new_sm_comp_STAR__2805(empty_list, rslt18, rslt23);
Value *ev_26 = rslt24;
Value *arg8889_27 = arg8888_25;
Value *rslt28 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_29;
Value *tail_30;
Value **destArgs31[2] = {&invoke_fn_29, &tail_30};
destructValue("", "0", (Value *)rslt28, 2, destArgs31);

dec_and_free(tail_30, 1);
Value *s_32 = arg8889_27;
Value *rslt36;
if((invoke_fn_29)->type != FunctionType) {
rslt36 = invoke_368(empty_list, invoke_fn_29, s_32);
} else {
FnArity *arity33 = findFnArity(invoke_fn_29, 1);
if(arity33 != (FnArity *)0 && !arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
rslt36 = fn35(arity33->closures, s_32);
} else if(arity33 != (FnArity *)0 && arity33->variadic) {
FnType1 *fn35 = (FnType1 *)arity33->fn;
List *dynArgs34 = empty_list;
dynArgs34 = (List *)listCons(s_32, dynArgs34);
rslt36 = fn35(arity33->closures, (Value *)dynArgs34);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_29)->name);
  abort();
}
dec_and_free(invoke_fn_29, 1);
}
Value *x_37 = rslt36;

incRef(x_37, 1);
Value *andRslt38;
andRslt38 = x_37;
if (isNothing(andRslt38)) {
dec_and_free(val49, 1);
dec_and_free(val46, 1);
dec_and_free(x_37, 1);
} else {
dec_and_free(andRslt38, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt39 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_37, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_40;
Value *ss_41;
Value *tail_42;
Value **destArgs43[3] = {&v_40, &ss_41, &tail_42};
destructValue("", "0", (Value *)rslt39, 3, destArgs43);

dec_and_free(tail_42, 1);
Value *arg8890_44 = ss_41;
Value *type_num_45 = v_40;

// static-fixed
// #line 2055 "toccata.toc"
Value *rslt47 = extend_type_STAR__8760(empty_list, val46, type_num_45);
FnArity *dynArity48 = malloc_fnArity();
dynArity48->count = 1;
dynArity48->variadic = 0;
dynArity48->fn = arityImpl8892;
dynArity48->closures = empty_list;
dynArity48->closures = listCons((Value *)val49, (List *)dynArity48->closures);
Function *anon_8896 = malloc_function(1);
anon_8896->name = "anon";
anon_8896->arityCount = 1;
anon_8896->arities[0] = dynArity48;
Value *fn8891 = (Value *)anon_8896;

// type-unknown flat-map
// #line 2055 "toccata.toc"
Value *rslt50 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt47, fn8891, "toccata.toc", 2055);

// dynamic unknown type
// #line 2055 "toccata.toc"
Value *rslt54;
if((rslt50)->type != FunctionType) {
rslt54 = invoke_368(empty_list, rslt50, arg8890_44);
} else {
FnArity *arity51 = findFnArity(rslt50, 1);
if(arity51 != (FnArity *)0 && !arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
rslt54 = fn53(arity51->closures, arg8890_44);
} else if(arity51 != (FnArity *)0 && arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
List *dynArgs52 = empty_list;
dynArgs52 = (List *)listCons(arg8890_44, dynArgs52);
rslt54 = fn53(arity51->closures, (Value *)dynArgs52);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt50)->name);
  abort();
}
dec_and_free(rslt50, 1);
}
andRslt38 = rslt54;
}
return(andRslt38);
andRslt7 = andRslt38;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[32];
} str687 = {StringType, -1, 31, 0, "Trying to extend unknown type: "};
Value *strPtr687 = (Value *)&str687;
Value *emit_definition_8872(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 5);

// type-known for .type
// #line 2041 "toccata.toc"
Value *rslt1 = extend_ast_type_4205(empty_list, ast_0);
Value *type_sym_2 = rslt1;

incRef(type_sym_2, 3);
Value *orRslt3;
Value *andRslt4;

// static-fixed
// #line 2042 "toccata.toc"
Value *rslt5 = _EQ__557(empty_list, type_sym_2, symPtr28);
andRslt4 = rslt5;
if (isNothing(andRslt4)) {
} else {
dec_and_free(andRslt4, 1);

// call-list
// #line 2043 "toccata.toc"
List *newList6 = empty_list;
newList6 = listCons((Value *)HashCollisionNodeType_5374, newList6);
newList6 = listCons((Value *)ArrayNodeType_5373, newList6);
newList6 = listCons((Value *)BitmapIndexedType_5372, newList6);
Value *rslt7 = (Value *)newList6;

// static-fixed
// #line 2043 "toccata.toc"
Value *rslt8 = maybe_4(empty_list, rslt7);
andRslt4 = rslt8;
}
orRslt3 = andRslt4;
if (!isNothing(orRslt3)) {
dec_and_free(type_sym_2, 1);

} else {
dec_and_free(orRslt3, 1);
Value *andRslt9;

// static-fixed
// #line 2046 "toccata.toc"
Value *rslt10 = _EQ__557(empty_list, type_sym_2, symPtr17);
andRslt9 = rslt10;
if (isNothing(andRslt9)) {
} else {
dec_and_free(andRslt9, 1);

// call-list
// #line 2047 "toccata.toc"
List *newList11 = empty_list;
newList11 = listCons((Value *)SubStringType_5364, newList11);
newList11 = listCons((Value *)StringType_5363, newList11);
Value *rslt12 = (Value *)newList11;

// static-fixed
// #line 2047 "toccata.toc"
Value *rslt13 = maybe_4(empty_list, rslt12);
andRslt9 = rslt13;
}
orRslt3 = andRslt9;
}

// static-fixed
// #line 2042 "toccata.toc"
Value *rslt14 = when_4087(empty_list, orRslt3);
Value *wrapper_15 = rslt14;

incRef(wrapper_15, 1);
Value *ev_16 = wrapper_15;
Value *rslt17 = reified_type_args_22(empty_list, ev_16);
Value *invoke_fn_18;
Value *tail_19;
Value **destArgs20[2] = {&invoke_fn_18, &tail_19};
destructValue("", "0", (Value *)rslt17, 2, destArgs20);

dec_and_free(tail_19, 1);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl8875;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)wrapper_15, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)ast_0, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)invoke_fn_18, (List *)dynArity21->closures);
Function *anon_8883 = malloc_function(1);
anon_8883->name = "anon";
anon_8883->arityCount = 1;
anon_8883->arities[0] = dynArity21;
Value *fn8874 = (Value *)anon_8883;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt22 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8874);

// type-known for .type
// #line 2052 "toccata.toc"
Value *rslt23 = extend_ast_type_4205(empty_list, ast_0);

// static-fixed
// #line 2052 "toccata.toc"
Value *rslt24 = sym_ns_path_6067(empty_list, rslt23);
Value *wrapper_25 = rslt24;

incRef(wrapper_25, 1);
Value *ev_26 = wrapper_25;
Value *rslt27 = reified_type_args_22(empty_list, ev_26);
Value *invoke_fn_28;
Value *tail_29;
Value **destArgs30[2] = {&invoke_fn_28, &tail_29};
destructValue("", "0", (Value *)rslt27, 2, destArgs30);

dec_and_free(tail_29, 1);
FnArity *dynArity31 = malloc_fnArity();
dynArity31->count = 1;
dynArity31->variadic = 0;
dynArity31->fn = arityImpl8886;
dynArity31->closures = empty_list;
dynArity31->closures = listCons((Value *)wrapper_25, (List *)dynArity31->closures);
dynArity31->closures = listCons((Value *)ast_0, (List *)dynArity31->closures);
dynArity31->closures = listCons((Value *)type_sym_2, (List *)dynArity31->closures);
dynArity31->closures = listCons((Value *)invoke_fn_28, (List *)dynArity31->closures);
Function *anon_8897 = malloc_function(1);
anon_8897->name = "anon";
anon_8897->arityCount = 1;
anon_8897->arities[0] = dynArity31;
Value *fn8885 = (Value *)anon_8897;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8885);

// type-known for .type
// #line 2059 "toccata.toc"
Value *rslt33 = extend_ast_type_4205(empty_list, ast_0);

// type-unknown .file-name
// #line 2059 "toccata.toc"
Value *rslt34 = proto1Arg(&protoImpls4691, "<nothing>/.file-name", rslt33, "toccata.toc", 2059);

// static-variadic
// #line 2059 "toccata.toc"
List *varArgs35 = empty_list;
varArgs35 = (List *)listCons((Value *)strPtr387, varArgs35);
varArgs35 = (List *)listCons((Value *)rslt34, varArgs35);
Value *rslt36 = str_526(empty_list, (Value *)varArgs35);

// type-known for .type
// #line 2060 "toccata.toc"
Value *rslt37 = extend_ast_type_4205(empty_list, ast_0);

// type-unknown ast/line-number
// #line 2060 "toccata.toc"
Value *rslt38 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", rslt37, "toccata.toc", 2060);

// static-variadic
// #line 2057 "toccata.toc"
List *varArgs39 = empty_list;
varArgs39 = (List *)listCons((Value *)rslt38, varArgs39);
varArgs39 = (List *)listCons((Value *)rslt36, varArgs39);
varArgs39 = (List *)listCons((Value *)strPtr252, varArgs39);
varArgs39 = (List *)listCons((Value *)type_sym_2, varArgs39);
varArgs39 = (List *)listCons((Value *)strPtr687, varArgs39);
Value *rslt40 = compilation_error_5400(empty_list, (Value *)varArgs39);
List *newList41 = empty_list;
newList41 = listCons((Value *)rslt40, newList41);
newList41 = listCons((Value *)rslt32, newList41);
Value *rslt42 = (Value *)newList41;
Value *rslt43 = new_sm_comp_STAR__2805(empty_list, rslt22, rslt42);
return(rslt43);

};};
FnArity emit_definition_8898 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_8872};

// --------- declare-getters -------------
Value *declare_getters_8900;

// --------- anon -------------
Value *fn8902;
Value *arityImpl8906(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg13 = v_9;

dec_and_free(arg13, 1);

// call-vector
// #line 2067 "toccata.toc"
Vector *newVect14 = empty_vect;
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str688 = {StringType, -1, 30, 0, "(List *closures, Value *arg);\n"};
Value *strPtr688 = (Value *)&str688;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[45];
} str689 = {StringType, -1, 44, 0, "(List *closures, Value *arg1, Value *arg2);\n"};
Value *strPtr689 = (Value *)&str689;
Value *arityImpl8910(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val103;
Value *val285;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs300[4] = {&val1, &val103, &val285, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs300);

incRef(val103, 6);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val285, 1);
dec_and_free(val103, 7);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8911_13 = ss_10;
Value *dispatch_fn_var_14 = v_9;

incRef(dispatch_fn_var_14, 5);
Value *arg8912_16 = arg8911_13;

// static-fixed
// #line 2069 "toccata.toc"
Value *rslt15 = global_var_6495(empty_list, strPtr603);
Value *ev_17 = rslt15;
Value *arg8913_18 = arg8912_16;
Value *rslt19 = reified_type_args_22(empty_list, ev_17);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
Value *s_23 = arg8913_18;
Value *rslt27;
if((invoke_fn_20)->type != FunctionType) {
rslt27 = invoke_368(empty_list, invoke_fn_20, s_23);
} else {
FnArity *arity24 = findFnArity(invoke_fn_20, 1);
if(arity24 != (FnArity *)0 && !arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
rslt27 = fn26(arity24->closures, s_23);
} else if(arity24 != (FnArity *)0 && arity24->variadic) {
FnType1 *fn26 = (FnType1 *)arity24->fn;
List *dynArgs25 = empty_list;
dynArgs25 = (List *)listCons(s_23, dynArgs25);
rslt27 = fn26(arity24->closures, (Value *)dynArgs25);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_20)->name);
  abort();
}
dec_and_free(invoke_fn_20, 1);
}
Value *x_28 = rslt27;

incRef(x_28, 1);
Value *andRslt29;
andRslt29 = x_28;
if (isNothing(andRslt29)) {
dec_and_free(val285, 1);
dec_and_free(x_28, 1);
dec_and_free(dispatch_fn_var_14, 6);
dec_and_free(val103, 7);
} else {
dec_and_free(andRslt29, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_28, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_31;
Value *ss_32;
Value *tail_33;
Value **destArgs34[3] = {&v_31, &ss_32, &tail_33};
destructValue("", "0", (Value *)rslt30, 3, destArgs34);

dec_and_free(tail_33, 1);
Value *arg8914_35 = ss_32;
Value *arity_fn_var1_36 = v_31;

incRef(arity_fn_var1_36, 2);
Value *arg8915_38 = arg8914_35;

// static-fixed
// #line 2070 "toccata.toc"
Value *rslt37 = global_var_6495(empty_list, strPtr665);
Value *ev_39 = rslt37;
Value *arg8916_40 = arg8915_38;
Value *rslt41 = reified_type_args_22(empty_list, ev_39);
Value *invoke_fn_42;
Value *tail_43;
Value **destArgs44[2] = {&invoke_fn_42, &tail_43};
destructValue("", "0", (Value *)rslt41, 2, destArgs44);

dec_and_free(tail_43, 1);
Value *s_45 = arg8916_40;
Value *rslt49;
if((invoke_fn_42)->type != FunctionType) {
rslt49 = invoke_368(empty_list, invoke_fn_42, s_45);
} else {
FnArity *arity46 = findFnArity(invoke_fn_42, 1);
if(arity46 != (FnArity *)0 && !arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
rslt49 = fn48(arity46->closures, s_45);
} else if(arity46 != (FnArity *)0 && arity46->variadic) {
FnType1 *fn48 = (FnType1 *)arity46->fn;
List *dynArgs47 = empty_list;
dynArgs47 = (List *)listCons(s_45, dynArgs47);
rslt49 = fn48(arity46->closures, (Value *)dynArgs47);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_42)->name);
  abort();
}
dec_and_free(invoke_fn_42, 1);
}
Value *x_50 = rslt49;

incRef(x_50, 1);
Value *andRslt51;
andRslt51 = x_50;
if (isNothing(andRslt51)) {
dec_and_free(x_50, 1);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 6);
dec_and_free(val103, 7);
} else {
dec_and_free(andRslt51, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt52 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_50, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_53;
Value *ss_54;
Value *tail_55;
Value **destArgs56[3] = {&v_53, &ss_54, &tail_55};
destructValue("", "0", (Value *)rslt52, 3, destArgs56);

dec_and_free(tail_55, 1);
Value *arg8917_57 = ss_54;
Value *impls_sym1_58 = v_53;

incRef(impls_sym1_58, 1);
Value *arg8918_60 = arg8917_57;

// static-fixed
// #line 2071 "toccata.toc"
Value *rslt59 = global_var_6495(empty_list, strPtr603);
Value *ev_61 = rslt59;
Value *arg8919_62 = arg8918_60;
Value *rslt63 = reified_type_args_22(empty_list, ev_61);
Value *invoke_fn_64;
Value *tail_65;
Value **destArgs66[2] = {&invoke_fn_64, &tail_65};
destructValue("", "0", (Value *)rslt63, 2, destArgs66);

dec_and_free(tail_65, 1);
Value *s_67 = arg8919_62;
Value *rslt71;
if((invoke_fn_64)->type != FunctionType) {
rslt71 = invoke_368(empty_list, invoke_fn_64, s_67);
} else {
FnArity *arity68 = findFnArity(invoke_fn_64, 1);
if(arity68 != (FnArity *)0 && !arity68->variadic) {
FnType1 *fn70 = (FnType1 *)arity68->fn;
rslt71 = fn70(arity68->closures, s_67);
} else if(arity68 != (FnArity *)0 && arity68->variadic) {
FnType1 *fn70 = (FnType1 *)arity68->fn;
List *dynArgs69 = empty_list;
dynArgs69 = (List *)listCons(s_67, dynArgs69);
rslt71 = fn70(arity68->closures, (Value *)dynArgs69);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_64)->name);
  abort();
}
dec_and_free(invoke_fn_64, 1);
}
Value *x_72 = rslt71;

incRef(x_72, 1);
Value *andRslt73;
andRslt73 = x_72;
if (isNothing(andRslt73)) {
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 6);
dec_and_free(impls_sym1_58, 2);
dec_and_free(val103, 7);
dec_and_free(x_72, 1);
} else {
dec_and_free(andRslt73, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt74 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_72, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_75;
Value *ss_76;
Value *tail_77;
Value **destArgs78[3] = {&v_75, &ss_76, &tail_77};
destructValue("", "0", (Value *)rslt74, 3, destArgs78);

dec_and_free(tail_77, 1);
Value *arg8920_79 = ss_76;
Value *arity_fn_var2_80 = v_75;

incRef(arity_fn_var2_80, 2);
Value *arg8921_82 = arg8920_79;

// static-fixed
// #line 2072 "toccata.toc"
Value *rslt81 = global_var_6495(empty_list, strPtr665);
Value *ev_83 = rslt81;
Value *arg8922_84 = arg8921_82;
Value *rslt85 = reified_type_args_22(empty_list, ev_83);
Value *invoke_fn_86;
Value *tail_87;
Value **destArgs88[2] = {&invoke_fn_86, &tail_87};
destructValue("", "0", (Value *)rslt85, 2, destArgs88);

dec_and_free(tail_87, 1);
Value *s_89 = arg8922_84;
Value *rslt93;
if((invoke_fn_86)->type != FunctionType) {
rslt93 = invoke_368(empty_list, invoke_fn_86, s_89);
} else {
FnArity *arity90 = findFnArity(invoke_fn_86, 1);
if(arity90 != (FnArity *)0 && !arity90->variadic) {
FnType1 *fn92 = (FnType1 *)arity90->fn;
rslt93 = fn92(arity90->closures, s_89);
} else if(arity90 != (FnArity *)0 && arity90->variadic) {
FnType1 *fn92 = (FnType1 *)arity90->fn;
List *dynArgs91 = empty_list;
dynArgs91 = (List *)listCons(s_89, dynArgs91);
rslt93 = fn92(arity90->closures, (Value *)dynArgs91);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_86)->name);
  abort();
}
dec_and_free(invoke_fn_86, 1);
}
Value *x_94 = rslt93;

incRef(x_94, 1);
Value *andRslt95;
andRslt95 = x_94;
if (isNothing(andRslt95)) {
dec_and_free(x_94, 1);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 6);
dec_and_free(impls_sym1_58, 2);
dec_and_free(arity_fn_var2_80, 3);
dec_and_free(val103, 7);
} else {
dec_and_free(andRslt95, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt96 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_94, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_97;
Value *ss_98;
Value *tail_99;
Value **destArgs100[3] = {&v_97, &ss_98, &tail_99};
destructValue("", "0", (Value *)rslt96, 3, destArgs100);

dec_and_free(tail_99, 1);
Value *arg8923_101 = ss_98;
Value *impls_sym2_102 = v_97;

incRef(impls_sym2_102, 1);
Value *arg8924_112 = arg8923_101;

// call-vector
// #line 2073 "toccata.toc"
Vector *newVect104 = empty_vect;
Value *rslt105 = (Value *)newVect104;

// call-vector
// #line 2073 "toccata.toc"
Vector *newVect106 = empty_vect;
Value *rslt107 = (Value *)newVect106;

// static-variadic
// #line 2074 "toccata.toc"
List *varArgs108 = empty_list;
Value *rslt109 = hash_map_1208(empty_list, (Value *)varArgs108);

// call invoke
// #line 2073 "toccata.toc"
Value *rslt110 = c_code_invoke_5942(empty_list, reifiedPtr5945, dispatch_fn_var_14, rslt105, rslt107, FunctionType_5366, rslt109);

// static-fixed
// #line 2073 "toccata.toc"
Value *rslt111 = new_module_def_6527(empty_list, val103, rslt110);
Value *ev_113 = rslt111;
Value *arg8925_114 = arg8924_112;
Value *rslt115 = reified_type_args_22(empty_list, ev_113);
Value *invoke_fn_116;
Value *tail_117;
Value **destArgs118[2] = {&invoke_fn_116, &tail_117};
destructValue("", "0", (Value *)rslt115, 2, destArgs118);

dec_and_free(tail_117, 1);
Value *s_119 = arg8925_114;
Value *rslt123;
if((invoke_fn_116)->type != FunctionType) {
rslt123 = invoke_368(empty_list, invoke_fn_116, s_119);
} else {
FnArity *arity120 = findFnArity(invoke_fn_116, 1);
if(arity120 != (FnArity *)0 && !arity120->variadic) {
FnType1 *fn122 = (FnType1 *)arity120->fn;
rslt123 = fn122(arity120->closures, s_119);
} else if(arity120 != (FnArity *)0 && arity120->variadic) {
FnType1 *fn122 = (FnType1 *)arity120->fn;
List *dynArgs121 = empty_list;
dynArgs121 = (List *)listCons(s_119, dynArgs121);
rslt123 = fn122(arity120->closures, (Value *)dynArgs121);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_116)->name);
  abort();
}
dec_and_free(invoke_fn_116, 1);
}
Value *x_124 = rslt123;

incRef(x_124, 1);
Value *andRslt125;
andRslt125 = x_124;
if (isNothing(andRslt125)) {
dec_and_free(x_124, 1);
dec_and_free(impls_sym2_102, 2);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 5);
dec_and_free(impls_sym1_58, 2);
dec_and_free(arity_fn_var2_80, 3);
dec_and_free(val103, 6);
} else {
dec_and_free(andRslt125, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt126 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_124, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_127;
Value *ss_128;
Value *tail_129;
Value **destArgs130[3] = {&v_127, &ss_128, &tail_129};
destructValue("", "0", (Value *)rslt126, 3, destArgs130);

dec_and_free(tail_129, 1);
Value *arg8926_131 = ss_128;
Value *arg132 = v_127;

dec_and_free(arg132, 1);
Value *arg8927_139 = arg8926_131;

// call-vector
// #line 2075 "toccata.toc"
Vector *newVect133 = empty_vect;
newVect133 = mutateVectConj(newVect133, dispatchFnPtr5586);
newVect133 = mutateVectConj(newVect133, symPtr34);
newVect133 = mutateVectConj(newVect133, dispatchFnPtr5512);
newVect133 = mutateVectConj(newVect133, val103);
Value *rslt134 = (Value *)newVect133;

// static-variadic
// #line 2076 "toccata.toc"
List *varArgs135 = empty_list;
Value *rslt136 = hash_map_1208(empty_list, (Value *)varArgs135);

// call invoke
// #line 2076 "toccata.toc"
Value *rslt137 = ProtoFnInfo_invoke_6129(empty_list, reifiedPtr6132, val103, dispatch_fn_var_14, rslt136);

// static-fixed
// #line 2075 "toccata.toc"
Value *rslt138 = assoc_in_val_3599(empty_list, rslt134, rslt137);
Value *ev_140 = rslt138;
Value *arg8928_141 = arg8927_139;
Value *rslt142 = reified_type_args_22(empty_list, ev_140);
Value *invoke_fn_143;
Value *tail_144;
Value **destArgs145[2] = {&invoke_fn_143, &tail_144};
destructValue("", "0", (Value *)rslt142, 2, destArgs145);

dec_and_free(tail_144, 1);
Value *s_146 = arg8928_141;
Value *rslt150;
if((invoke_fn_143)->type != FunctionType) {
rslt150 = invoke_368(empty_list, invoke_fn_143, s_146);
} else {
FnArity *arity147 = findFnArity(invoke_fn_143, 1);
if(arity147 != (FnArity *)0 && !arity147->variadic) {
FnType1 *fn149 = (FnType1 *)arity147->fn;
rslt150 = fn149(arity147->closures, s_146);
} else if(arity147 != (FnArity *)0 && arity147->variadic) {
FnType1 *fn149 = (FnType1 *)arity147->fn;
List *dynArgs148 = empty_list;
dynArgs148 = (List *)listCons(s_146, dynArgs148);
rslt150 = fn149(arity147->closures, (Value *)dynArgs148);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_143)->name);
  abort();
}
dec_and_free(invoke_fn_143, 1);
}
Value *x_151 = rslt150;

incRef(x_151, 1);
Value *andRslt152;
andRslt152 = x_151;
if (isNothing(andRslt152)) {
dec_and_free(impls_sym2_102, 2);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 4);
dec_and_free(impls_sym1_58, 2);
dec_and_free(arity_fn_var2_80, 3);
dec_and_free(val103, 4);
dec_and_free(x_151, 1);
} else {
dec_and_free(andRslt152, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt153 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_151, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_154;
Value *ss_155;
Value *tail_156;
Value **destArgs157[3] = {&v_154, &ss_155, &tail_156};
destructValue("", "0", (Value *)rslt153, 3, destArgs157);

dec_and_free(tail_156, 1);
Value *arg8929_158 = ss_155;
Value *arg159 = v_154;

dec_and_free(arg159, 1);
Value *arg8930_166 = arg8929_158;

// call-vector
// #line 2077 "toccata.toc"
Vector *newVect160 = empty_vect;
newVect160 = mutateVectConj(newVect160, dispatchFnPtr5586);
newVect160 = mutateVectConj(newVect160, symPtr34);
newVect160 = mutateVectConj(newVect160, dispatchFnPtr5512);
newVect160 = mutateVectConj(newVect160, val103);
Value *rslt161 = (Value *)newVect160;

// static-variadic
// #line 2078 "toccata.toc"
List *varArgs162 = empty_list;
Value *rslt163 = hash_map_1208(empty_list, (Value *)varArgs162);

// call invoke
// #line 2078 "toccata.toc"
Value *rslt164 = ProtoFnInfo_invoke_6129(empty_list, reifiedPtr6132, val103, dispatch_fn_var_14, rslt163);

// static-fixed
// #line 2077 "toccata.toc"
Value *rslt165 = assoc_in_val_3599(empty_list, rslt161, rslt164);
Value *ev_167 = rslt165;
Value *arg8931_168 = arg8930_166;
Value *rslt169 = reified_type_args_22(empty_list, ev_167);
Value *invoke_fn_170;
Value *tail_171;
Value **destArgs172[2] = {&invoke_fn_170, &tail_171};
destructValue("", "0", (Value *)rslt169, 2, destArgs172);

dec_and_free(tail_171, 1);
Value *s_173 = arg8931_168;
Value *rslt177;
if((invoke_fn_170)->type != FunctionType) {
rslt177 = invoke_368(empty_list, invoke_fn_170, s_173);
} else {
FnArity *arity174 = findFnArity(invoke_fn_170, 1);
if(arity174 != (FnArity *)0 && !arity174->variadic) {
FnType1 *fn176 = (FnType1 *)arity174->fn;
rslt177 = fn176(arity174->closures, s_173);
} else if(arity174 != (FnArity *)0 && arity174->variadic) {
FnType1 *fn176 = (FnType1 *)arity174->fn;
List *dynArgs175 = empty_list;
dynArgs175 = (List *)listCons(s_173, dynArgs175);
rslt177 = fn176(arity174->closures, (Value *)dynArgs175);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_170)->name);
  abort();
}
dec_and_free(invoke_fn_170, 1);
}
Value *x_178 = rslt177;

incRef(x_178, 1);
Value *andRslt179;
andRslt179 = x_178;
if (isNothing(andRslt179)) {
dec_and_free(x_178, 1);
dec_and_free(impls_sym2_102, 2);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 3);
dec_and_free(dispatch_fn_var_14, 3);
dec_and_free(impls_sym1_58, 2);
dec_and_free(arity_fn_var2_80, 3);
dec_and_free(val103, 2);
} else {
dec_and_free(andRslt179, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt180 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_178, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_181;
Value *ss_182;
Value *tail_183;
Value **destArgs184[3] = {&v_181, &ss_182, &tail_183};
destructValue("", "0", (Value *)rslt180, 3, destArgs184);

dec_and_free(tail_183, 1);
Value *arg8932_185 = ss_182;
Value *arg186 = v_181;

dec_and_free(arg186, 1);
Value *arg8933_193 = arg8932_185;

// call-vector
// #line 2079 "toccata.toc"
Vector *newVect187 = empty_vect;
newVect187 = mutateVectConj(newVect187, dispatchFnPtr5586);
newVect187 = mutateVectConj(newVect187, symPtr34);
newVect187 = mutateVectConj(newVect187, dispatchFnPtr5512);
newVect187 = mutateVectConj(newVect187, val103);
newVect187 = mutateVectConj(newVect187, dispatchFnPtr6112);
newVect187 = mutateVectConj(newVect187, numPtr1);
Value *rslt188 = (Value *)newVect187;

// static-variadic
// #line 2080 "toccata.toc"
List *varArgs189 = empty_list;
Value *rslt190 = hash_map_1208(empty_list, (Value *)varArgs189);

// call invoke
// #line 2080 "toccata.toc"
Value *rslt191 = ProtocolDispatcher_invoke_6226(empty_list, reifiedPtr6229, numPtr1, arity_fn_var1_36, impls_sym1_58, rslt190);

// static-fixed
// #line 2079 "toccata.toc"
Value *rslt192 = assoc_in_val_3599(empty_list, rslt188, rslt191);
Value *ev_194 = rslt192;
Value *arg8934_195 = arg8933_193;
Value *rslt196 = reified_type_args_22(empty_list, ev_194);
Value *invoke_fn_197;
Value *tail_198;
Value **destArgs199[2] = {&invoke_fn_197, &tail_198};
destructValue("", "0", (Value *)rslt196, 2, destArgs199);

dec_and_free(tail_198, 1);
Value *s_200 = arg8934_195;
Value *rslt204;
if((invoke_fn_197)->type != FunctionType) {
rslt204 = invoke_368(empty_list, invoke_fn_197, s_200);
} else {
FnArity *arity201 = findFnArity(invoke_fn_197, 1);
if(arity201 != (FnArity *)0 && !arity201->variadic) {
FnType1 *fn203 = (FnType1 *)arity201->fn;
rslt204 = fn203(arity201->closures, s_200);
} else if(arity201 != (FnArity *)0 && arity201->variadic) {
FnType1 *fn203 = (FnType1 *)arity201->fn;
List *dynArgs202 = empty_list;
dynArgs202 = (List *)listCons(s_200, dynArgs202);
rslt204 = fn203(arity201->closures, (Value *)dynArgs202);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_197)->name);
  abort();
}
dec_and_free(invoke_fn_197, 1);
}
Value *x_205 = rslt204;

incRef(x_205, 1);
Value *andRslt206;
andRslt206 = x_205;
if (isNothing(andRslt206)) {
dec_and_free(impls_sym2_102, 2);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 2);
dec_and_free(dispatch_fn_var_14, 3);
dec_and_free(impls_sym1_58, 1);
dec_and_free(arity_fn_var2_80, 3);
dec_and_free(val103, 1);
dec_and_free(x_205, 1);
} else {
dec_and_free(andRslt206, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt207 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_205, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_208;
Value *ss_209;
Value *tail_210;
Value **destArgs211[3] = {&v_208, &ss_209, &tail_210};
destructValue("", "0", (Value *)rslt207, 3, destArgs211);

dec_and_free(tail_210, 1);
Value *arg8935_212 = ss_209;
Value *arg213 = v_208;

dec_and_free(arg213, 1);
Value *arg8936_220 = arg8935_212;

// call-vector
// #line 2081 "toccata.toc"
Vector *newVect214 = empty_vect;
newVect214 = mutateVectConj(newVect214, dispatchFnPtr5586);
newVect214 = mutateVectConj(newVect214, symPtr34);
newVect214 = mutateVectConj(newVect214, dispatchFnPtr5512);
newVect214 = mutateVectConj(newVect214, val103);
newVect214 = mutateVectConj(newVect214, dispatchFnPtr6112);
newVect214 = mutateVectConj(newVect214, numPtr2);
Value *rslt215 = (Value *)newVect214;

// static-variadic
// #line 2082 "toccata.toc"
List *varArgs216 = empty_list;
Value *rslt217 = hash_map_1208(empty_list, (Value *)varArgs216);

// call invoke
// #line 2082 "toccata.toc"
Value *rslt218 = ProtocolDispatcher_invoke_6226(empty_list, reifiedPtr6229, numPtr2, arity_fn_var2_80, impls_sym2_102, rslt217);

// static-fixed
// #line 2081 "toccata.toc"
Value *rslt219 = assoc_in_val_3599(empty_list, rslt215, rslt218);
Value *ev_221 = rslt219;
Value *arg8937_222 = arg8936_220;
Value *rslt223 = reified_type_args_22(empty_list, ev_221);
Value *invoke_fn_224;
Value *tail_225;
Value **destArgs226[2] = {&invoke_fn_224, &tail_225};
destructValue("", "0", (Value *)rslt223, 2, destArgs226);

dec_and_free(tail_225, 1);
Value *s_227 = arg8937_222;
Value *rslt231;
if((invoke_fn_224)->type != FunctionType) {
rslt231 = invoke_368(empty_list, invoke_fn_224, s_227);
} else {
FnArity *arity228 = findFnArity(invoke_fn_224, 1);
if(arity228 != (FnArity *)0 && !arity228->variadic) {
FnType1 *fn230 = (FnType1 *)arity228->fn;
rslt231 = fn230(arity228->closures, s_227);
} else if(arity228 != (FnArity *)0 && arity228->variadic) {
FnType1 *fn230 = (FnType1 *)arity228->fn;
List *dynArgs229 = empty_list;
dynArgs229 = (List *)listCons(s_227, dynArgs229);
rslt231 = fn230(arity228->closures, (Value *)dynArgs229);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_224)->name);
  abort();
}
dec_and_free(invoke_fn_224, 1);
}
Value *x_232 = rslt231;

incRef(x_232, 1);
Value *andRslt233;
andRslt233 = x_232;
if (isNothing(andRslt233)) {
dec_and_free(x_232, 1);
dec_and_free(impls_sym2_102, 1);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 2);
dec_and_free(dispatch_fn_var_14, 3);
dec_and_free(impls_sym1_58, 1);
dec_and_free(arity_fn_var2_80, 2);
} else {
dec_and_free(andRslt233, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt234 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_232, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_235;
Value *ss_236;
Value *tail_237;
Value **destArgs238[3] = {&v_235, &ss_236, &tail_237};
destructValue("", "0", (Value *)rslt234, 3, destArgs238);

dec_and_free(tail_237, 1);
Value *arg8938_239 = ss_236;
Value *arg240 = v_235;

dec_and_free(arg240, 1);
Value *arg8939_242 = arg8938_239;

// static-fixed
// #line 2083 "toccata.toc"
Value *rslt241 = new_static_arity_6632(empty_list, dispatch_fn_var_14, numPtr1, arity_fn_var1_36, UnknownType_5361);
Value *ev_243 = rslt241;
Value *arg8940_244 = arg8939_242;
Value *rslt245 = reified_type_args_22(empty_list, ev_243);
Value *invoke_fn_246;
Value *tail_247;
Value **destArgs248[2] = {&invoke_fn_246, &tail_247};
destructValue("", "0", (Value *)rslt245, 2, destArgs248);

dec_and_free(tail_247, 1);
Value *s_249 = arg8940_244;
Value *rslt253;
if((invoke_fn_246)->type != FunctionType) {
rslt253 = invoke_368(empty_list, invoke_fn_246, s_249);
} else {
FnArity *arity250 = findFnArity(invoke_fn_246, 1);
if(arity250 != (FnArity *)0 && !arity250->variadic) {
FnType1 *fn252 = (FnType1 *)arity250->fn;
rslt253 = fn252(arity250->closures, s_249);
} else if(arity250 != (FnArity *)0 && arity250->variadic) {
FnType1 *fn252 = (FnType1 *)arity250->fn;
List *dynArgs251 = empty_list;
dynArgs251 = (List *)listCons(s_249, dynArgs251);
rslt253 = fn252(arity250->closures, (Value *)dynArgs251);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_246)->name);
  abort();
}
dec_and_free(invoke_fn_246, 1);
}
Value *x_254 = rslt253;

incRef(x_254, 1);
Value *andRslt255;
andRslt255 = x_254;
if (isNothing(andRslt255)) {
dec_and_free(impls_sym2_102, 1);
dec_and_free(val285, 1);
dec_and_free(arity_fn_var1_36, 1);
dec_and_free(dispatch_fn_var_14, 2);
dec_and_free(x_254, 1);
dec_and_free(impls_sym1_58, 1);
dec_and_free(arity_fn_var2_80, 2);
} else {
dec_and_free(andRslt255, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt256 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_254, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_257;
Value *ss_258;
Value *tail_259;
Value **destArgs260[3] = {&v_257, &ss_258, &tail_259};
destructValue("", "0", (Value *)rslt256, 3, destArgs260);

dec_and_free(tail_259, 1);
Value *arg8941_261 = ss_258;
Value *arg262 = v_257;

dec_and_free(arg262, 1);
Value *arg8942_264 = arg8941_261;

// static-fixed
// #line 2084 "toccata.toc"
Value *rslt263 = new_static_arity_6632(empty_list, dispatch_fn_var_14, numPtr2, arity_fn_var2_80, UnknownType_5361);
Value *ev_265 = rslt263;
Value *arg8943_266 = arg8942_264;
Value *rslt267 = reified_type_args_22(empty_list, ev_265);
Value *invoke_fn_268;
Value *tail_269;
Value **destArgs270[2] = {&invoke_fn_268, &tail_269};
destructValue("", "0", (Value *)rslt267, 2, destArgs270);

dec_and_free(tail_269, 1);
Value *s_271 = arg8943_266;
Value *rslt275;
if((invoke_fn_268)->type != FunctionType) {
rslt275 = invoke_368(empty_list, invoke_fn_268, s_271);
} else {
FnArity *arity272 = findFnArity(invoke_fn_268, 1);
if(arity272 != (FnArity *)0 && !arity272->variadic) {
FnType1 *fn274 = (FnType1 *)arity272->fn;
rslt275 = fn274(arity272->closures, s_271);
} else if(arity272 != (FnArity *)0 && arity272->variadic) {
FnType1 *fn274 = (FnType1 *)arity272->fn;
List *dynArgs273 = empty_list;
dynArgs273 = (List *)listCons(s_271, dynArgs273);
rslt275 = fn274(arity272->closures, (Value *)dynArgs273);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_268)->name);
  abort();
}
dec_and_free(invoke_fn_268, 1);
}
Value *x_276 = rslt275;

incRef(x_276, 1);
Value *andRslt277;
andRslt277 = x_276;
if (isNothing(andRslt277)) {
dec_and_free(impls_sym2_102, 1);
dec_and_free(val285, 1);
dec_and_free(x_276, 1);
dec_and_free(arity_fn_var1_36, 1);
dec_and_free(dispatch_fn_var_14, 1);
dec_and_free(impls_sym1_58, 1);
dec_and_free(arity_fn_var2_80, 1);
} else {
dec_and_free(andRslt277, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt278 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_276, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_279;
Value *ss_280;
Value *tail_281;
Value **destArgs282[3] = {&v_279, &ss_280, &tail_281};
destructValue("", "0", (Value *)rslt278, 3, destArgs282);

dec_and_free(tail_281, 1);
Value *arg8944_283 = ss_280;
Value *arg284 = v_279;

dec_and_free(arg284, 1);
Value *arg8945_286 = arg8944_283;
Value *__287 = val285;

// call-vector
// #line 2085 "toccata.toc"
Vector *newVect288 = empty_vect;
newVect288 = mutateVectConj(newVect288, strPtr666);
newVect288 = mutateVectConj(newVect288, impls_sym1_58);
newVect288 = mutateVectConj(newVect288, strPtr494);
newVect288 = mutateVectConj(newVect288, strPtr666);
newVect288 = mutateVectConj(newVect288, impls_sym2_102);
newVect288 = mutateVectConj(newVect288, strPtr494);
newVect288 = mutateVectConj(newVect288, strPtr492);
newVect288 = mutateVectConj(newVect288, dispatch_fn_var_14);
newVect288 = mutateVectConj(newVect288, strPtr494);
newVect288 = mutateVectConj(newVect288, strPtr492);
newVect288 = mutateVectConj(newVect288, arity_fn_var1_36);
newVect288 = mutateVectConj(newVect288, strPtr688);
newVect288 = mutateVectConj(newVect288, strPtr492);
newVect288 = mutateVectConj(newVect288, arity_fn_var2_80);
newVect288 = mutateVectConj(newVect288, strPtr689);
Value *rslt289 = (Value *)newVect288;
Value *v_290 = rslt289;
Value *arg8946_291 = arg8945_286;
Value *rslt292 = reified_type_args_22(empty_list, __287);
Value *invoke_fn_293;
Value *tail_294;
Value **destArgs295[2] = {&invoke_fn_293, &tail_294};
destructValue("", "0", (Value *)rslt292, 2, destArgs295);

dec_and_free(invoke_fn_293, 1);

dec_and_free(tail_294, 1);
Value *s_296 = arg8946_291;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect297 = empty_vect;
newVect297 = mutateVectConj(newVect297, v_290);
newVect297 = mutateVectConj(newVect297, s_296);
Value *rslt298 = (Value *)newVect297;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt299 = maybe_4(empty_list, rslt298);
andRslt277 = rslt299;
}
andRslt255 = andRslt277;
}
andRslt233 = andRslt255;
}
andRslt206 = andRslt233;
}
andRslt179 = andRslt206;
}
andRslt152 = andRslt179;
}
andRslt125 = andRslt152;
}
andRslt95 = andRslt125;
}
andRslt73 = andRslt95;
}
andRslt51 = andRslt73;
}
andRslt29 = andRslt51;
}
return(andRslt29);
andRslt7 = andRslt29;
}

};};
Value *arityImpl8903(List *closures, Value *field_0) {
 while (1) {

// static-variadic
// #line 2066 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)field_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr93, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);

// static-fixed
// #line 2066 "toccata.toc"
Value *rslt3 = symbol_220(empty_list, rslt2);

// type-known for rdr/tag
// #line 2066 "toccata.toc"
Value *rslt4 = Symbol_tag_4759(empty_list, rslt3, symPtr34, numPtr0);
Value *getter_sym_5 = rslt4;

incRef(getter_sym_5, 1);

// call-vector
// #line 2067 "toccata.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, dispatchFnPtr5586);
newVect6 = mutateVectConj(newVect6, symPtr34);
newVect6 = mutateVectConj(newVect6, dispatchFnPtr5512);
newVect6 = mutateVectConj(newVect6, getter_sym_5);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 2067 "toccata.toc"
Value *rslt8 = get_in_val_3549(empty_list, rslt7);
Value *__9 = rslt8;
Value *rslt10 = reified_type_args_22(empty_list, __9);
Value *invoke_fn_11;
Value *tail_12;
Value **destArgs13[2] = {&invoke_fn_11, &tail_12};
destructValue("", "0", (Value *)rslt10, 2, destArgs13);

dec_and_free(tail_12, 1);
FnArity *dynArity14 = malloc_fnArity();
dynArity14->count = 1;
dynArity14->variadic = 0;
dynArity14->fn = arityImpl8906;
dynArity14->closures = empty_list;
dynArity14->closures = listCons((Value *)invoke_fn_11, (List *)dynArity14->closures);
Function *anon_8907 = malloc_function(1);
anon_8907->name = "anon";
anon_8907->arityCount = 1;
anon_8907->arities[0] = dynArity14;
Value *fn8905 = (Value *)anon_8907;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt15 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8905);

// static-fixed
// #line 2068 "toccata.toc"
Value *rslt16 = global_var_6495(empty_list, strPtr670);
Value *wrapper_17 = rslt16;

incRef(wrapper_17, 1);
Value *ev_18 = wrapper_17;
Value *rslt19 = reified_type_args_22(empty_list, ev_18);
Value *invoke_fn_20;
Value *tail_21;
Value **destArgs22[2] = {&invoke_fn_20, &tail_21};
destructValue("", "0", (Value *)rslt19, 2, destArgs22);

dec_and_free(tail_21, 1);
FnArity *dynArity23 = malloc_fnArity();
dynArity23->count = 1;
dynArity23->variadic = 0;
dynArity23->fn = arityImpl8910;
dynArity23->closures = empty_list;
dynArity23->closures = listCons((Value *)wrapper_17, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)getter_sym_5, (List *)dynArity23->closures);
dynArity23->closures = listCons((Value *)invoke_fn_20, (List *)dynArity23->closures);
Function *anon_8947 = malloc_function(1);
anon_8947->name = "anon";
anon_8947->arityCount = 1;
anon_8947->arities[0] = dynArity23;
Value *fn8909 = (Value *)anon_8947;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt24 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8909);

// call-list
// #line 2067 "toccata.toc"
List *newList25 = empty_list;
newList25 = listCons((Value *)rslt24, newList25);
Value *rslt26 = (Value *)newList25;

// type-known for comp*
// #line 2067 "toccata.toc"
Value *rslt27 = new_sm_comp_STAR__2805(empty_list, rslt15, rslt26);
return(rslt27);

};};
FnArity staticArity8948 = {FnArityType, -1, 1, (List *)0, 0, arityImpl8903};
Function anon_8949 = {FunctionType, -1, "anon", 1, {&staticArity8948}};
Value *fn8902 = (Value *)&anon_8949;

Value *declare_getters_8901(List *closures, Value *new_type_name_0, Value *fields_1) {
 while (1) {

dec_and_free(new_type_name_0, 1);

// static-fixed
// #line 2064 "toccata.toc"
Value *rslt2 = traverse_6470(empty_list, fields_1, fn8902);
return(rslt2);

};};
FnArity declare_getters_8950 = {FnArityType, -1, 2, (List *)0, 0, declare_getters_8901};
Function declare_getters_8951 = {FunctionType, -1, "declare-getters", 1, {&declare_getters_8950}};
Value *declare_getters_8900 = (Value *)&declare_getters_8951;


// --------- constructor-expr -------------
Value *constructor_expr_8953;
SubString sym43 = {SymbolType, -1, 4, 0, 0, "Type"};
Value *symPtr43 = (Value *)&sym43;
SubString sym44 = {SymbolType, -1, 9, 0, 0, "type-name"};
Value *symPtr44 = (Value *)&sym44;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str690 = {StringType, -1, 16, 0, "_const_type_name"};
Value *strPtr690 = (Value *)&str690;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[14];
} str691 = {StringType, -1, 13, 0, " constructor*"};
Value *strPtr691 = (Value *)&str691;
SubString sym45 = {SymbolType, -1, 9, 0, 0, "instance?"};
Value *symPtr45 = (Value *)&sym45;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str692 = {StringType, -1, 16, 0, "_instance_QMARK_"};
Value *strPtr692 = (Value *)&str692;
SubString sym46 = {SymbolType, -1, 1, 0, 0, "x"};
Value *symPtr46 = (Value *)&sym46;
SubString sym47 = {SymbolType, -1, 1, 0, 0, "y"};
Value *symPtr47 = (Value *)&sym47;
SubString sym48 = {SymbolType, -1, 2, 0, 0, "=*"};
Value *symPtr48 = (Value *)&sym48;
SubString sym49 = {SymbolType, -1, 8, 0, 0, "get-type"};
Value *symPtr49 = (Value *)&sym49;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str693 = {StringType, -1, 7, 0, "_invoke"};
Value *strPtr693 = (Value *)&str693;
SubString sym50 = {SymbolType, -1, 14, 0, 0, "new-type-value"};
Value *symPtr50 = (Value *)&sym50;
SubString sym51 = {SymbolType, -1, 10, 0, 0, "Stringable"};
Value *symPtr51 = (Value *)&sym51;
SubString sym52 = {SymbolType, -1, 11, 0, 0, "string-list"};
Value *symPtr52 = (Value *)&sym52;
SubString sym53 = {SymbolType, -1, 1, 0, 0, "z"};
Value *symPtr53 = (Value *)&sym53;
Value *constructor_expr_8954(List *closures, Value *new_type_name_0, Value *type_val_sym_1, Value *fields_2) {
 while (1) {

incRef(new_type_name_0, 5);

incRef(type_val_sym_1, 1);

incRef(fields_2, 2);

// type-known for extract
// #line 2095 "toccata.toc"
Value *rslt3 = IntGenerator_extract_1659(empty_list, type_counter_5064);

// static-variadic
// #line 2098 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)strPtr690, varArgs4);
varArgs4 = (List *)listCons((Value *)new_type_name_0, varArgs4);
Value *rslt5 = str_526(empty_list, (Value *)varArgs4);

// call-vector
// #line 2099 "toccata.toc"
Vector *newVect6 = empty_vect;
newVect6 = mutateVectConj(newVect6, symPtr35);
Value *rslt7 = (Value *)newVect6;

// static-fixed
// #line 2099 "toccata.toc"
Value *rslt8 = params_2408(empty_list, rslt7);

// call-vector
// #line 2099 "toccata.toc"
Vector *newVect9 = empty_vect;
Value *rslt10 = (Value *)newVect9;

// static-variadic
// #line 2100 "toccata.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)strPtr691, varArgs11);
varArgs11 = (List *)listCons((Value *)new_type_name_0, varArgs11);
varArgs11 = (List *)listCons((Value *)strPtr460, varArgs11);
Value *rslt12 = str_526(empty_list, (Value *)varArgs11);

// call-vector
// #line 2100 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, rslt12);
Value *rslt14 = (Value *)newVect13;

// call invoke
// #line 2098 "toccata.toc"
Value *rslt15 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt5, strPtr0, rslt8, strPtr0, rslt10, rslt14);

// call-vector
// #line 2098 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
Value *rslt17 = (Value *)newVect16;

// call-vector
// #line 2097 "toccata.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, symPtr44);
newVect18 = mutateVectConj(newVect18, rslt17);
Value *rslt19 = (Value *)newVect18;

// static-variadic
// #line 2102 "toccata.toc"
List *varArgs20 = empty_list;
varArgs20 = (List *)listCons((Value *)strPtr692, varArgs20);
varArgs20 = (List *)listCons((Value *)new_type_name_0, varArgs20);
Value *rslt21 = str_526(empty_list, (Value *)varArgs20);

// call-vector
// #line 2103 "toccata.toc"
Vector *newVect22 = empty_vect;
newVect22 = mutateVectConj(newVect22, symPtr46);
newVect22 = mutateVectConj(newVect22, symPtr47);
Value *rslt23 = (Value *)newVect22;

// static-fixed
// #line 2103 "toccata.toc"
Value *rslt24 = params_2408(empty_list, rslt23);

// call-vector
// #line 2103 "toccata.toc"
Vector *newVect25 = empty_vect;
Value *rslt26 = (Value *)newVect25;

// call-vector
// #line 2105 "toccata.toc"
Vector *newVect27 = empty_vect;
newVect27 = mutateVectConj(newVect27, type_val_sym_1);
Value *rslt28 = (Value *)newVect27;

// call invoke
// #line 2105 "toccata.toc"
Value *rslt29 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr49, rslt28);

// call-vector
// #line 2106 "toccata.toc"
Vector *newVect30 = empty_vect;
newVect30 = mutateVectConj(newVect30, symPtr47);
Value *rslt31 = (Value *)newVect30;

// call invoke
// #line 2106 "toccata.toc"
Value *rslt32 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr49, rslt31);

// call-vector
// #line 2105 "toccata.toc"
Vector *newVect33 = empty_vect;
newVect33 = mutateVectConj(newVect33, rslt29);
newVect33 = mutateVectConj(newVect33, rslt32);
Value *rslt34 = (Value *)newVect33;

// call invoke
// #line 2104 "toccata.toc"
Value *rslt35 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr48, rslt34);

// call-vector
// #line 2104 "toccata.toc"
Vector *newVect36 = empty_vect;
newVect36 = mutateVectConj(newVect36, rslt35);
Value *rslt37 = (Value *)newVect36;

// call invoke
// #line 2102 "toccata.toc"
Value *rslt38 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt21, strPtr0, rslt24, strPtr0, rslt26, rslt37);

// call-vector
// #line 2102 "toccata.toc"
Vector *newVect39 = empty_vect;
newVect39 = mutateVectConj(newVect39, rslt38);
Value *rslt40 = (Value *)newVect39;

// call-vector
// #line 2101 "toccata.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, symPtr45);
newVect41 = mutateVectConj(newVect41, rslt40);
Value *rslt42 = (Value *)newVect41;

// call-vector
// #line 2097 "toccata.toc"
Vector *newVect43 = empty_vect;
newVect43 = mutateVectConj(newVect43, rslt19);
newVect43 = mutateVectConj(newVect43, rslt42);
Value *rslt44 = (Value *)newVect43;

// static-variadic
// #line 2110 "toccata.toc"
List *varArgs45 = empty_list;
varArgs45 = (List *)listCons((Value *)strPtr693, varArgs45);
varArgs45 = (List *)listCons((Value *)new_type_name_0, varArgs45);
Value *rslt46 = str_526(empty_list, (Value *)varArgs45);

// type-unknown seq
// #line 2111 "toccata.toc"
Value *rslt47 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", fields_2, "toccata.toc", 2111);

// static-fixed
// #line 2111 "toccata.toc"
Value *rslt48 = cons_275(empty_list, symPtr35, rslt47);

// type-known for vec
// #line 2111 "toccata.toc"
Value *rslt49 = List_vec_462(empty_list, rslt48);

// static-fixed
// #line 2111 "toccata.toc"
Value *rslt50 = params_2408(empty_list, rslt49);

// call-vector
// #line 2111 "toccata.toc"
Vector *newVect51 = empty_vect;
Value *rslt52 = (Value *)newVect51;

// type-unknown seq
// #line 2113 "toccata.toc"
Value *rslt53 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", fields_2, "toccata.toc", 2113);

// call invoke
// #line 2113 "toccata.toc"
Value *rslt54 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr9, rslt53);

// call-vector
// #line 2113 "toccata.toc"
Vector *newVect55 = empty_vect;
newVect55 = mutateVectConj(newVect55, type_val_sym_1);
newVect55 = mutateVectConj(newVect55, rslt54);
Value *rslt56 = (Value *)newVect55;

// call invoke
// #line 2112 "toccata.toc"
Value *rslt57 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr50, rslt56);

// call-vector
// #line 2112 "toccata.toc"
Vector *newVect58 = empty_vect;
newVect58 = mutateVectConj(newVect58, rslt57);
Value *rslt59 = (Value *)newVect58;

// call invoke
// #line 2110 "toccata.toc"
Value *rslt60 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt46, strPtr0, rslt50, strPtr0, rslt52, rslt59);

// call-vector
// #line 2110 "toccata.toc"
Vector *newVect61 = empty_vect;
newVect61 = mutateVectConj(newVect61, rslt60);
Value *rslt62 = (Value *)newVect61;

// call-vector
// #line 2109 "toccata.toc"
Vector *newVect63 = empty_vect;
newVect63 = mutateVectConj(newVect63, symPtr39);
newVect63 = mutateVectConj(newVect63, rslt62);
Value *rslt64 = (Value *)newVect63;

// call-vector
// #line 2109 "toccata.toc"
Vector *newVect65 = empty_vect;
newVect65 = mutateVectConj(newVect65, rslt64);
Value *rslt66 = (Value *)newVect65;

// call-vector
// #line 2117 "toccata.toc"
Vector *newVect67 = empty_vect;
newVect67 = mutateVectConj(newVect67, symPtr53);
Value *rslt68 = (Value *)newVect67;

// static-fixed
// #line 2117 "toccata.toc"
Value *rslt69 = params_2408(empty_list, rslt68);

// static-variadic
// #line 2119 "toccata.toc"
List *varArgs70 = empty_list;
varArgs70 = (List *)listCons((Value *)new_type_name_0, varArgs70);
Value *rslt71 = str_526(empty_list, (Value *)varArgs70);

// static-fixed
// #line 2120 "toccata.toc"
Value *rslt72 = interpose_503(empty_list, fields_2, strPtr17);

// type-unknown to-str
// #line 2120 "toccata.toc"
Value *rslt73 = proto1Arg(&to_str_Implementations_311, "<nothing>/to-str", rslt72, "toccata.toc", 2120);

// call-vector
// #line 2119 "toccata.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, strPtr41);
newVect74 = mutateVectConj(newVect74, rslt71);
newVect74 = mutateVectConj(newVect74, strPtr43);
newVect74 = mutateVectConj(newVect74, rslt73);
newVect74 = mutateVectConj(newVect74, strPtr45);
Value *rslt75 = (Value *)newVect74;

// call invoke
// #line 2118 "toccata.toc"
Value *rslt76 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr6, rslt75);

// call-vector
// #line 2118 "toccata.toc"
Vector *newVect77 = empty_vect;
newVect77 = mutateVectConj(newVect77, rslt76);
Value *rslt78 = (Value *)newVect77;

// static-fixed
// #line 2117 "toccata.toc"
Value *rslt79 = fn_arity_2881(empty_list, rslt69, strPtr0, rslt78);

// call-vector
// #line 2117 "toccata.toc"
Vector *newVect80 = empty_vect;
newVect80 = mutateVectConj(newVect80, rslt79);
Value *rslt81 = (Value *)newVect80;

// call-vector
// #line 2116 "toccata.toc"
Vector *newVect82 = empty_vect;
newVect82 = mutateVectConj(newVect82, symPtr52);
newVect82 = mutateVectConj(newVect82, rslt81);
Value *rslt83 = (Value *)newVect82;

// call-vector
// #line 2116 "toccata.toc"
Vector *newVect84 = empty_vect;
newVect84 = mutateVectConj(newVect84, rslt83);
Value *rslt85 = (Value *)newVect84;

// static-variadic
// #line 2096 "toccata.toc"
List *varArgs86 = empty_list;
varArgs86 = (List *)listCons((Value *)rslt85, varArgs86);
varArgs86 = (List *)listCons((Value *)symPtr51, varArgs86);
varArgs86 = (List *)listCons((Value *)rslt66, varArgs86);
varArgs86 = (List *)listCons((Value *)symPtr20, varArgs86);
varArgs86 = (List *)listCons((Value *)rslt44, varArgs86);
varArgs86 = (List *)listCons((Value *)symPtr43, varArgs86);
Value *rslt87 = hash_map_1208(empty_list, (Value *)varArgs86);

// static-fixed
// #line 2095 "toccata.toc"
Value *rslt88 = reified_4391(empty_list, rslt3, rslt87);

// call-vector
// #line 2095 "toccata.toc"
Vector *newVect89 = empty_vect;
newVect89 = mutateVectConj(newVect89, rslt88);
Value *rslt90 = (Value *)newVect89;

// static-fixed
// #line 2094 "toccata.toc"
Value *rslt91 = definition_2553(empty_list, new_type_name_0, rslt90);
return(rslt91);

};};
FnArity constructor_expr_8955 = {FnArityType, -1, 3, (List *)0, 0, constructor_expr_8954};
Function constructor_expr_8956 = {FunctionType, -1, "constructor-expr", 1, {&constructor_expr_8955}};
Value *constructor_expr_8953 = (Value *)&constructor_expr_8956;


// --------- type-val-expr -------------
Value *type_val_expr_8958;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str694 = {StringType, -1, 2, 0, "#y"};
Value *strPtr694 = (Value *)&str694;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str695 = {StringType, -1, 6, 0, "#field"};
Value *strPtr695 = (Value *)&str695;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str696 = {StringType, -1, 10, 0, "_type_name"};
Value *strPtr696 = (Value *)&str696;
SubString sym54 = {SymbolType, -1, 9, 0, 0, "has-field"};
Value *symPtr54 = (Value *)&sym54;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str697 = {StringType, -1, 10, 0, "_has_field"};
Value *strPtr697 = (Value *)&str697;
SubString sym55 = {SymbolType, -1, 9, 0, 0, "identical"};
Value *symPtr55 = (Value *)&sym55;
Value *arityImpl8961(List *closures, Value *field_0) {
while (1) {
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val4, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 2140 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)field_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr93, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);

// static-fixed
// #line 2140 "toccata.toc"
Value *rslt3 = symbol_220(empty_list, rslt2);

// call-vector
// #line 2140 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, rslt3);
newVect5 = mutateVectConj(newVect5, val4);
Value *rslt6 = (Value *)newVect5;

// call invoke
// #line 2139 "toccata.toc"
Value *rslt7 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr55, rslt6);
return(rslt7);

};};
SubString sym56 = {SymbolType, -1, 2, 0, 0, "Eq"};
Value *symPtr56 = (Value *)&sym56;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str698 = {StringType, -1, 9, 0, "_EQ_STAR_"};
Value *strPtr698 = (Value *)&str698;
SubString sym57 = {SymbolType, -1, 9, 0, 0, "type-args"};
Value *symPtr57 = (Value *)&sym57;
SubString sym58 = {SymbolType, -1, 11, 0, 0, "Associative"};
Value *symPtr58 = (Value *)&sym58;
SubString sym59 = {SymbolType, -1, 3, 0, 0, "get"};
Value *symPtr59 = (Value *)&sym59;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str699 = {StringType, -1, 4, 0, "_get"};
Value *strPtr699 = (Value *)&str699;
SubString sym60 = {SymbolType, -1, 11, 0, 0, "HashMapNode"};
Value *symPtr60 = (Value *)&sym60;
SubString sym61 = {SymbolType, -1, 6, 0, 0, "assoc*"};
Value *symPtr61 = (Value *)&sym61;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str700 = {StringType, -1, 12, 0, "_assoc_STAR_"};
Value *strPtr700 = (Value *)&str700;
SubString sym62 = {SymbolType, -1, 9, 0, 0, "new-value"};
Value *symPtr62 = (Value *)&sym62;
Value *type_val_expr_8959(List *closures, Value *type_sym_0, Value *type_val_sym_1, Value *fields_2, Value *impls_3) {
 while (1) {

incRef(type_sym_0, 5);

// static-fixed
// #line 2123 "toccata.toc"
Value *rslt4 = symbol_220(empty_list, strPtr360);
Value *x_STAR__5 = rslt4;

incRef(x_STAR__5, 11);

// static-fixed
// #line 2124 "toccata.toc"
Value *rslt6 = symbol_220(empty_list, strPtr694);
Value *y_STAR__7 = rslt6;

incRef(y_STAR__7, 2);

// static-fixed
// #line 2125 "toccata.toc"
Value *rslt8 = symbol_220(empty_list, strPtr695);
Value *field_STAR__9 = rslt8;

incRef(field_STAR__9, 7);

// type-known for extract
// #line 2127 "toccata.toc"
Value *rslt10 = IntGenerator_extract_1659(empty_list, type_counter_5064);

// static-variadic
// #line 2131 "toccata.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)strPtr696, varArgs11);
varArgs11 = (List *)listCons((Value *)type_sym_0, varArgs11);
Value *rslt12 = str_526(empty_list, (Value *)varArgs11);

// call-vector
// #line 2132 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, x_STAR__5);
Value *rslt14 = (Value *)newVect13;

// static-fixed
// #line 2132 "toccata.toc"
Value *rslt15 = params_2408(empty_list, rslt14);

// call-vector
// #line 2132 "toccata.toc"
Vector *newVect16 = empty_vect;
Value *rslt17 = (Value *)newVect16;

// static-variadic
// #line 2133 "toccata.toc"
List *varArgs18 = empty_list;
varArgs18 = (List *)listCons((Value *)type_sym_0, varArgs18);
Value *rslt19 = str_526(empty_list, (Value *)varArgs18);

// call-vector
// #line 2133 "toccata.toc"
Vector *newVect20 = empty_vect;
newVect20 = mutateVectConj(newVect20, rslt19);
Value *rslt21 = (Value *)newVect20;

// call invoke
// #line 2131 "toccata.toc"
Value *rslt22 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt12, strPtr0, rslt15, strPtr0, rslt17, rslt21);

// call-vector
// #line 2131 "toccata.toc"
Vector *newVect23 = empty_vect;
newVect23 = mutateVectConj(newVect23, rslt22);
Value *rslt24 = (Value *)newVect23;

// call-vector
// #line 2130 "toccata.toc"
Vector *newVect25 = empty_vect;
newVect25 = mutateVectConj(newVect25, symPtr44);
newVect25 = mutateVectConj(newVect25, rslt24);
Value *rslt26 = (Value *)newVect25;

// static-variadic
// #line 2135 "toccata.toc"
List *varArgs27 = empty_list;
varArgs27 = (List *)listCons((Value *)strPtr697, varArgs27);
varArgs27 = (List *)listCons((Value *)type_sym_0, varArgs27);
Value *rslt28 = str_526(empty_list, (Value *)varArgs27);

// call-vector
// #line 2136 "toccata.toc"
Vector *newVect29 = empty_vect;
newVect29 = mutateVectConj(newVect29, x_STAR__5);
newVect29 = mutateVectConj(newVect29, field_STAR__9);
Value *rslt30 = (Value *)newVect29;

// static-fixed
// #line 2136 "toccata.toc"
Value *rslt31 = params_2408(empty_list, rslt30);

// call-vector
// #line 2136 "toccata.toc"
Vector *newVect32 = empty_vect;
Value *rslt33 = (Value *)newVect32;
FnArity *dynArity34 = malloc_fnArity();
dynArity34->count = 1;
dynArity34->variadic = 0;
dynArity34->fn = arityImpl8961;
dynArity34->closures = empty_list;
dynArity34->closures = listCons((Value *)field_STAR__9, (List *)dynArity34->closures);
Function *anon_8962 = malloc_function(1);
anon_8962->name = "anon";
anon_8962->arityCount = 1;
anon_8962->arities[0] = dynArity34;
Value *fn8960 = (Value *)anon_8962;

// type-unknown map
// #line 2138 "toccata.toc"
Value *rslt35 = proto2Arg(&map_Implementations_254, "<nothing>/map", fields_2, fn8960, "toccata.toc", 2138);

// call invoke
// #line 2137 "toccata.toc"
Value *rslt36 = or_ast_invoke_3619(empty_list, reifiedPtr3622, rslt35);

// call-vector
// #line 2137 "toccata.toc"
Vector *newVect37 = empty_vect;
newVect37 = mutateVectConj(newVect37, rslt36);
Value *rslt38 = (Value *)newVect37;

// call invoke
// #line 2135 "toccata.toc"
Value *rslt39 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt28, strPtr0, rslt31, strPtr0, rslt33, rslt38);

// call-vector
// #line 2135 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, rslt39);
Value *rslt41 = (Value *)newVect40;

// call-vector
// #line 2134 "toccata.toc"
Vector *newVect42 = empty_vect;
newVect42 = mutateVectConj(newVect42, symPtr54);
newVect42 = mutateVectConj(newVect42, rslt41);
Value *rslt43 = (Value *)newVect42;

// call-vector
// #line 2130 "toccata.toc"
Vector *newVect44 = empty_vect;
newVect44 = mutateVectConj(newVect44, rslt26);
newVect44 = mutateVectConj(newVect44, rslt43);
Value *rslt45 = (Value *)newVect44;

// static-variadic
// #line 2145 "toccata.toc"
List *varArgs46 = empty_list;
varArgs46 = (List *)listCons((Value *)strPtr698, varArgs46);
varArgs46 = (List *)listCons((Value *)type_sym_0, varArgs46);
Value *rslt47 = str_526(empty_list, (Value *)varArgs46);

// call-vector
// #line 2146 "toccata.toc"
Vector *newVect48 = empty_vect;
newVect48 = mutateVectConj(newVect48, x_STAR__5);
newVect48 = mutateVectConj(newVect48, y_STAR__7);
Value *rslt49 = (Value *)newVect48;

// static-fixed
// #line 2146 "toccata.toc"
Value *rslt50 = params_2408(empty_list, rslt49);

// call-vector
// #line 2146 "toccata.toc"
Vector *newVect51 = empty_vect;
Value *rslt52 = (Value *)newVect51;

// call-vector
// #line 2148 "toccata.toc"
Vector *newVect53 = empty_vect;
newVect53 = mutateVectConj(newVect53, x_STAR__5);
Value *rslt54 = (Value *)newVect53;

// call invoke
// #line 2148 "toccata.toc"
Value *rslt55 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr49, rslt54);

// call-vector
// #line 2149 "toccata.toc"
Vector *newVect56 = empty_vect;
newVect56 = mutateVectConj(newVect56, y_STAR__7);
Value *rslt57 = (Value *)newVect56;

// call invoke
// #line 2149 "toccata.toc"
Value *rslt58 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr49, rslt57);

// call-vector
// #line 2148 "toccata.toc"
Vector *newVect59 = empty_vect;
newVect59 = mutateVectConj(newVect59, rslt55);
newVect59 = mutateVectConj(newVect59, rslt58);
Value *rslt60 = (Value *)newVect59;

// call invoke
// #line 2147 "toccata.toc"
Value *rslt61 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr48, rslt60);

// call-vector
// #line 2151 "toccata.toc"
Vector *newVect62 = empty_vect;
newVect62 = mutateVectConj(newVect62, x_STAR__5);
Value *rslt63 = (Value *)newVect62;

// call invoke
// #line 2151 "toccata.toc"
Value *rslt64 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr57, rslt63);

// call-vector
// #line 2152 "toccata.toc"
Vector *newVect65 = empty_vect;
newVect65 = mutateVectConj(newVect65, y_STAR__7);
Value *rslt66 = (Value *)newVect65;

// call invoke
// #line 2152 "toccata.toc"
Value *rslt67 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr57, rslt66);

// call-vector
// #line 2151 "toccata.toc"
Vector *newVect68 = empty_vect;
newVect68 = mutateVectConj(newVect68, rslt64);
newVect68 = mutateVectConj(newVect68, rslt67);
Value *rslt69 = (Value *)newVect68;

// call invoke
// #line 2150 "toccata.toc"
Value *rslt70 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr48, rslt69);

// call-list
// #line 2147 "toccata.toc"
List *newList71 = empty_list;
newList71 = listCons((Value *)rslt70, newList71);
newList71 = listCons((Value *)rslt61, newList71);
Value *rslt72 = (Value *)newList71;

// call invoke
// #line 2147 "toccata.toc"
Value *rslt73 = and_ast_invoke_3511(empty_list, reifiedPtr3514, rslt72);

// call-vector
// #line 2147 "toccata.toc"
Vector *newVect74 = empty_vect;
newVect74 = mutateVectConj(newVect74, rslt73);
Value *rslt75 = (Value *)newVect74;

// call invoke
// #line 2145 "toccata.toc"
Value *rslt76 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt47, strPtr0, rslt50, strPtr0, rslt52, rslt75);

// call-vector
// #line 2145 "toccata.toc"
Vector *newVect77 = empty_vect;
newVect77 = mutateVectConj(newVect77, rslt76);
Value *rslt78 = (Value *)newVect77;

// call-vector
// #line 2144 "toccata.toc"
Vector *newVect79 = empty_vect;
newVect79 = mutateVectConj(newVect79, symPtr48);
newVect79 = mutateVectConj(newVect79, rslt78);
Value *rslt80 = (Value *)newVect79;

// call-vector
// #line 2144 "toccata.toc"
Vector *newVect81 = empty_vect;
newVect81 = mutateVectConj(newVect81, rslt80);
Value *rslt82 = (Value *)newVect81;

// static-variadic
// #line 2156 "toccata.toc"
List *varArgs83 = empty_list;
varArgs83 = (List *)listCons((Value *)strPtr699, varArgs83);
varArgs83 = (List *)listCons((Value *)type_sym_0, varArgs83);
Value *rslt84 = str_526(empty_list, (Value *)varArgs83);

// call-vector
// #line 2157 "toccata.toc"
Vector *newVect85 = empty_vect;
newVect85 = mutateVectConj(newVect85, x_STAR__5);
newVect85 = mutateVectConj(newVect85, field_STAR__9);
Value *rslt86 = (Value *)newVect85;

// static-fixed
// #line 2157 "toccata.toc"
Value *rslt87 = params_2408(empty_list, rslt86);

// call-vector
// #line 2157 "toccata.toc"
Vector *newVect88 = empty_vect;
Value *rslt89 = (Value *)newVect88;

// call-vector
// #line 2160 "toccata.toc"
Vector *newVect90 = empty_vect;
newVect90 = mutateVectConj(newVect90, x_STAR__5);
newVect90 = mutateVectConj(newVect90, field_STAR__9);
Value *rslt91 = (Value *)newVect90;

// call invoke
// #line 2160 "toccata.toc"
Value *rslt92 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr54, rslt91);

// call-list
// #line 2161 "toccata.toc"
List *newList93 = empty_list;
newList93 = listCons((Value *)x_STAR__5, newList93);
Value *rslt94 = (Value *)newList93;

// call invoke
// #line 2161 "toccata.toc"
Value *rslt95 = call_ast_invoke_3179(empty_list, reifiedPtr3182, field_STAR__9, rslt94);

// call-vector
// #line 2161 "toccata.toc"
Vector *newVect96 = empty_vect;
newVect96 = mutateVectConj(newVect96, rslt95);
Value *rslt97 = (Value *)newVect96;

// call invoke
// #line 2161 "toccata.toc"
Value *rslt98 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr13, rslt97);

// call-list
// #line 2159 "toccata.toc"
List *newList99 = empty_list;
newList99 = listCons((Value *)rslt98, newList99);
newList99 = listCons((Value *)rslt92, newList99);
Value *rslt100 = (Value *)newList99;

// call invoke
// #line 2158 "toccata.toc"
Value *rslt101 = and_ast_invoke_3511(empty_list, reifiedPtr3514, rslt100);

// call-vector
// #line 2158 "toccata.toc"
Vector *newVect102 = empty_vect;
newVect102 = mutateVectConj(newVect102, rslt101);
Value *rslt103 = (Value *)newVect102;

// call invoke
// #line 2156 "toccata.toc"
Value *rslt104 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt84, strPtr0, rslt87, strPtr0, rslt89, rslt103);

// call-vector
// #line 2156 "toccata.toc"
Vector *newVect105 = empty_vect;
newVect105 = mutateVectConj(newVect105, rslt104);
Value *rslt106 = (Value *)newVect105;

// call-vector
// #line 2155 "toccata.toc"
Vector *newVect107 = empty_vect;
newVect107 = mutateVectConj(newVect107, symPtr59);
newVect107 = mutateVectConj(newVect107, rslt106);
Value *rslt108 = (Value *)newVect107;

// call-vector
// #line 2155 "toccata.toc"
Vector *newVect109 = empty_vect;
newVect109 = mutateVectConj(newVect109, rslt108);
Value *rslt110 = (Value *)newVect109;

// static-variadic
// #line 2165 "toccata.toc"
List *varArgs111 = empty_list;
varArgs111 = (List *)listCons((Value *)strPtr700, varArgs111);
varArgs111 = (List *)listCons((Value *)type_sym_0, varArgs111);
Value *rslt112 = str_526(empty_list, (Value *)varArgs111);

// call-vector
// #line 2166 "toccata.toc"
Vector *newVect113 = empty_vect;
newVect113 = mutateVectConj(newVect113, x_STAR__5);
newVect113 = mutateVectConj(newVect113, field_STAR__9);
newVect113 = mutateVectConj(newVect113, symPtr62);
newVect113 = mutateVectConj(newVect113, symPtr35);
newVect113 = mutateVectConj(newVect113, symPtr35);
Value *rslt114 = (Value *)newVect113;

// static-fixed
// #line 2166 "toccata.toc"
Value *rslt115 = params_2408(empty_list, rslt114);

// call-vector
// #line 2166 "toccata.toc"
Vector *newVect116 = empty_vect;
Value *rslt117 = (Value *)newVect116;

// call-vector
// #line 2172 "toccata.toc"
Vector *newVect118 = empty_vect;
newVect118 = mutateVectConj(newVect118, x_STAR__5);
newVect118 = mutateVectConj(newVect118, field_STAR__9);
Value *rslt119 = (Value *)newVect118;

// call invoke
// #line 2172 "toccata.toc"
Value *rslt120 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr54, rslt119);

// call-list
// #line 2175 "toccata.toc"
List *newList121 = empty_list;
newList121 = listCons((Value *)symPtr62, newList121);
newList121 = listCons((Value *)x_STAR__5, newList121);
Value *rslt122 = (Value *)newList121;

// call invoke
// #line 2175 "toccata.toc"
Value *rslt123 = call_ast_invoke_3179(empty_list, reifiedPtr3182, field_STAR__9, rslt122);

// call-vector
// #line 2175 "toccata.toc"
Vector *newVect124 = empty_vect;
newVect124 = mutateVectConj(newVect124, rslt123);
Value *rslt125 = (Value *)newVect124;

// call invoke
// #line 2173 "toccata.toc"
Value *rslt126 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr13, rslt125);

// call-list
// #line 2171 "toccata.toc"
List *newList127 = empty_list;
newList127 = listCons((Value *)rslt126, newList127);
newList127 = listCons((Value *)rslt120, newList127);
Value *rslt128 = (Value *)newList127;

// call invoke
// #line 2170 "toccata.toc"
Value *rslt129 = and_ast_invoke_3511(empty_list, reifiedPtr3514, rslt128);

// call-vector
// #line 2176 "toccata.toc"
Vector *newVect130 = empty_vect;
newVect130 = mutateVectConj(newVect130, x_STAR__5);
Value *rslt131 = (Value *)newVect130;

// call invoke
// #line 2176 "toccata.toc"
Value *rslt132 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr13, rslt131);

// call-list
// #line 2170 "toccata.toc"
List *newList133 = empty_list;
newList133 = listCons((Value *)rslt132, newList133);
newList133 = listCons((Value *)rslt129, newList133);
Value *rslt134 = (Value *)newList133;

// call invoke
// #line 2169 "toccata.toc"
Value *rslt135 = or_ast_invoke_3619(empty_list, reifiedPtr3622, rslt134);

// call-vector
// #line 2169 "toccata.toc"
Vector *newVect136 = empty_vect;
newVect136 = mutateVectConj(newVect136, rslt135);
Value *rslt137 = (Value *)newVect136;

// call invoke
// #line 2167 "toccata.toc"
Value *rslt138 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr12, rslt137);

// call-vector
// #line 2167 "toccata.toc"
Vector *newVect139 = empty_vect;
newVect139 = mutateVectConj(newVect139, rslt138);
Value *rslt140 = (Value *)newVect139;

// call invoke
// #line 2165 "toccata.toc"
Value *rslt141 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt112, strPtr0, rslt115, strPtr0, rslt117, rslt140);

// call-vector
// #line 2165 "toccata.toc"
Vector *newVect142 = empty_vect;
newVect142 = mutateVectConj(newVect142, rslt141);
Value *rslt143 = (Value *)newVect142;

// call-vector
// #line 2164 "toccata.toc"
Vector *newVect144 = empty_vect;
newVect144 = mutateVectConj(newVect144, symPtr61);
newVect144 = mutateVectConj(newVect144, rslt143);
Value *rslt145 = (Value *)newVect144;

// call-vector
// #line 2164 "toccata.toc"
Vector *newVect146 = empty_vect;
newVect146 = mutateVectConj(newVect146, rslt145);
Value *rslt147 = (Value *)newVect146;

// static-variadic
// #line 2129 "toccata.toc"
List *varArgs148 = empty_list;
varArgs148 = (List *)listCons((Value *)rslt147, varArgs148);
varArgs148 = (List *)listCons((Value *)symPtr60, varArgs148);
varArgs148 = (List *)listCons((Value *)rslt110, varArgs148);
varArgs148 = (List *)listCons((Value *)symPtr58, varArgs148);
varArgs148 = (List *)listCons((Value *)rslt82, varArgs148);
varArgs148 = (List *)listCons((Value *)symPtr56, varArgs148);
varArgs148 = (List *)listCons((Value *)rslt45, varArgs148);
varArgs148 = (List *)listCons((Value *)symPtr43, varArgs148);
Value *rslt149 = hash_map_1208(empty_list, (Value *)varArgs148);

// static-variadic
// #line 2128 "toccata.toc"
List *varArgs150 = empty_list;
varArgs150 = (List *)listCons((Value *)impls_3, varArgs150);
varArgs150 = (List *)listCons((Value *)rslt149, varArgs150);
varArgs150 = (List *)listCons((Value *)comp_240, varArgs150);
Value *rslt151 = merge_with_1317(empty_list, (Value *)varArgs150);

// static-fixed
// #line 2127 "toccata.toc"
Value *rslt152 = reified_4391(empty_list, rslt10, rslt151);

// call-vector
// #line 2127 "toccata.toc"
Vector *newVect153 = empty_vect;
newVect153 = mutateVectConj(newVect153, rslt152);
Value *rslt154 = (Value *)newVect153;

// static-fixed
// #line 2126 "toccata.toc"
Value *rslt155 = definition_2553(empty_list, type_val_sym_1, rslt154);
return(rslt155);

};};
FnArity type_val_expr_8963 = {FnArityType, -1, 4, (List *)0, 0, type_val_expr_8959};
Function type_val_expr_8964 = {FunctionType, -1, "type-val-expr", 1, {&type_val_expr_8963}};
Value *type_val_expr_8958 = (Value *)&type_val_expr_8964;


// --------- create-getters -------------
Value *create_getters_8966;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str701 = {StringType, -1, 6, 0, "#value"};
Value *strPtr701 = (Value *)&str701;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str702 = {StringType, -1, 10, 0, "#new-value"};
Value *strPtr702 = (Value *)&str702;
SubString sym63 = {SymbolType, -1, 10, 0, 0, "make-value"};
Value *symPtr63 = (Value *)&sym63;
SubString sym64 = {SymbolType, -1, 5, 0, 0, "store"};
Value *symPtr64 = (Value *)&sym64;
SubString sym65 = {SymbolType, -1, 17, 0, 0, "reified-type-args"};
Value *symPtr65 = (Value *)&sym65;
SubString sym66 = {SymbolType, -1, 3, 0, 0, "nth"};
Value *symPtr66 = (Value *)&sym66;
Value *arityImpl8969(List *closures, Value *arg3) {
while (1) {
Value *field_0;
Value *field_index_1;
Value *tail_2;
Value **destArgs4[3] = {&field_0, &field_index_1, &tail_2};
destructValue("toccata.toc", "2184", (Value *)arg3, 3, destArgs4);

incRef(field_0, 2);

incRef(field_index_1, 1);

dec_and_free(tail_2, 1);
Value *val8;
Value *val11;
Value *val12;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs56[4] = {&val8, &val11, &val12, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs56);

incRef(val8, 1);

incRef(val11, 4);

incRef(val12, 1);

dec_and_free(closuresTail, 1);

// static-variadic
// #line 2185 "toccata.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)field_0, varArgs5);
varArgs5 = (List *)listCons((Value *)strPtr93, varArgs5);
Value *rslt6 = str_526(empty_list, (Value *)varArgs5);

// static-fixed
// #line 2185 "toccata.toc"
Value *rslt7 = symbol_220(empty_list, rslt6);

// static-variadic
// #line 2186 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)field_0, varArgs9);
varArgs9 = (List *)listCons((Value *)strPtr474, varArgs9);
varArgs9 = (List *)listCons((Value *)val8, varArgs9);
Value *rslt10 = str_526(empty_list, (Value *)varArgs9);

// call-vector
// #line 2187 "toccata.toc"
Vector *newVect13 = empty_vect;
newVect13 = mutateVectConj(newVect13, val11);
newVect13 = mutateVectConj(newVect13, val12);
Value *rslt14 = (Value *)newVect13;

// static-fixed
// #line 2187 "toccata.toc"
Value *rslt15 = params_2408(empty_list, rslt14);

// call-vector
// #line 2187 "toccata.toc"
Vector *newVect16 = empty_vect;
Value *rslt17 = (Value *)newVect16;

// call-vector
// #line 2193 "toccata.toc"
Vector *newVect18 = empty_vect;
newVect18 = mutateVectConj(newVect18, val11);
Value *rslt19 = (Value *)newVect18;

// call invoke
// #line 2192 "toccata.toc"
Value *rslt20 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr65, rslt19);

// call-vector
// #line 2192 "toccata.toc"
Vector *newVect21 = empty_vect;
newVect21 = mutateVectConj(newVect21, rslt20);
newVect21 = mutateVectConj(newVect21, field_index_1);
newVect21 = mutateVectConj(newVect21, val12);
Value *rslt22 = (Value *)newVect21;

// call invoke
// #line 2191 "toccata.toc"
Value *rslt23 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr64, rslt22);

// call-vector
// #line 2191 "toccata.toc"
Vector *newVect24 = empty_vect;
newVect24 = mutateVectConj(newVect24, rslt23);
Value *rslt25 = (Value *)newVect24;

// call invoke
// #line 2190 "toccata.toc"
Value *rslt26 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr12, rslt25);

// call-vector
// #line 2189 "toccata.toc"
Vector *newVect27 = empty_vect;
newVect27 = mutateVectConj(newVect27, val11);
newVect27 = mutateVectConj(newVect27, rslt26);
Value *rslt28 = (Value *)newVect27;

// call invoke
// #line 2188 "toccata.toc"
Value *rslt29 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr63, rslt28);

// call-vector
// #line 2188 "toccata.toc"
Vector *newVect30 = empty_vect;
newVect30 = mutateVectConj(newVect30, rslt29);
Value *rslt31 = (Value *)newVect30;

// call invoke
// #line 2186 "toccata.toc"
Value *rslt32 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt10, strPtr0, rslt15, strPtr0, rslt17, rslt31);

// static-variadic
// #line 2195 "toccata.toc"
List *varArgs33 = empty_list;
varArgs33 = (List *)listCons((Value *)field_0, varArgs33);
varArgs33 = (List *)listCons((Value *)strPtr474, varArgs33);
varArgs33 = (List *)listCons((Value *)val8, varArgs33);
Value *rslt34 = str_526(empty_list, (Value *)varArgs33);

// call-vector
// #line 2196 "toccata.toc"
Vector *newVect35 = empty_vect;
newVect35 = mutateVectConj(newVect35, val11);
Value *rslt36 = (Value *)newVect35;

// static-fixed
// #line 2196 "toccata.toc"
Value *rslt37 = params_2408(empty_list, rslt36);

// call-vector
// #line 2196 "toccata.toc"
Vector *newVect38 = empty_vect;
Value *rslt39 = (Value *)newVect38;

// call-vector
// #line 2198 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, val11);
Value *rslt41 = (Value *)newVect40;

// call invoke
// #line 2198 "toccata.toc"
Value *rslt42 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr65, rslt41);

// call-vector
// #line 2198 "toccata.toc"
Vector *newVect43 = empty_vect;
newVect43 = mutateVectConj(newVect43, rslt42);
newVect43 = mutateVectConj(newVect43, field_index_1);
Value *rslt44 = (Value *)newVect43;

// call invoke
// #line 2198 "toccata.toc"
Value *rslt45 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr66, rslt44);

// call-vector
// #line 2198 "toccata.toc"
Vector *newVect46 = empty_vect;
newVect46 = mutateVectConj(newVect46, rslt45);
Value *rslt47 = (Value *)newVect46;

// call invoke
// #line 2197 "toccata.toc"
Value *rslt48 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr12, rslt47);

// call-vector
// #line 2197 "toccata.toc"
Vector *newVect49 = empty_vect;
newVect49 = mutateVectConj(newVect49, rslt48);
Value *rslt50 = (Value *)newVect49;

// call invoke
// #line 2195 "toccata.toc"
Value *rslt51 = fn_arity_ast_invoke_2722(empty_list, reifiedPtr2725, rslt34, strPtr0, rslt37, strPtr0, rslt39, rslt50);

// call-vector
// #line 2186 "toccata.toc"
Vector *newVect52 = empty_vect;
newVect52 = mutateVectConj(newVect52, rslt32);
newVect52 = mutateVectConj(newVect52, rslt51);
Value *rslt53 = (Value *)newVect52;

// call-vector
// #line 2185 "toccata.toc"
Vector *newVect54 = empty_vect;
newVect54 = mutateVectConj(newVect54, rslt7);
newVect54 = mutateVectConj(newVect54, rslt53);
Value *rslt55 = (Value *)newVect54;
return(rslt55);

};};
Value *create_getters_8967(List *closures, Value *sym_0, Value *fields_1) {
 while (1) {

incRef(fields_1, 1);

// static-fixed
// #line 2180 "toccata.toc"
Value *rslt2 = symbol_220(empty_list, strPtr701);
Value *type_value_3 = rslt2;

// static-fixed
// #line 2181 "toccata.toc"
Value *rslt4 = symbol_220(empty_list, strPtr702);
Value *new_value_5 = rslt4;

// type-unknown seq
// #line 2183 "toccata.toc"
Value *rslt6 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", fields_1, "toccata.toc", 2183);

// type-unknown count
// #line 2183 "toccata.toc"
Value *rslt7 = proto1Arg(&count_Implementations_300, "<nothing>/count", fields_1, "toccata.toc", 2183);

// static-fixed
// #line 2183 "toccata.toc"
Value *rslt8 = range_795(empty_list, rslt7);

// static-variadic
// #line 2183 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)rslt8, varArgs9);
varArgs9 = (List *)listCons((Value *)rslt6, varArgs9);
Value *rslt10 = zip_lists_1783(empty_list, (Value *)varArgs9);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl8969;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)new_value_5, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)type_value_3, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)sym_0, (List *)dynArity11->closures);
Function *anon_8970 = malloc_function(1);
anon_8970->name = "anon";
anon_8970->arityCount = 1;
anon_8970->arities[0] = dynArity11;
Value *fn8968 = (Value *)anon_8970;

// type-unknown map
// #line 2183 "toccata.toc"
Value *rslt12 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt10, fn8968, "toccata.toc", 2183);

// static-variadic
// #line 2182 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
varArgs13 = (List *)listCons((Value *)symPtr43, varArgs13);
Value *rslt14 = hash_map_1208(empty_list, (Value *)varArgs13);
return(rslt14);

};};
FnArity create_getters_8971 = {FnArityType, -1, 2, (List *)0, 0, create_getters_8967};
Function create_getters_8972 = {FunctionType, -1, "create-getters", 1, {&create_getters_8971}};
Value *create_getters_8966 = (Value *)&create_getters_8972;


// --------- destructure-fields -------------
Value *destructure_fields_8974;
Value *arityImpl8981(List *closures, Value *arity_0) {
while (1) {

incRef(arity_0, 2);
Value *val6;
Value *val20;
Value *val21;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs25[4] = {&val6, &val20, &val21, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs25);

dec_and_free(closuresTail, 1);

// type-unknown .params
// #line 2208 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls2420, "<nothing>/.params", arity_0, "toccata.toc", 2208);

// type-unknown .fixed
// #line 2208 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", rslt1, "toccata.toc", 2208);
Value *type_value_parameter_3;
Value *tail_4;
Value **destArgs5[2] = {&type_value_parameter_3, &tail_4};
destructValue("toccata.toc", "2208", (Value *)rslt2, 2, destArgs5);

dec_and_free(tail_4, 1);

// type-unknown .fields
// #line 2209 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls4409, "<nothing>/.fields", val6, "toccata.toc", 2209);

// call-vector
// #line 2211 "toccata.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, type_value_parameter_3);
Value *rslt9 = (Value *)newVect8;

// call invoke
// #line 2210 "toccata.toc"
Value *rslt10 = call_ast_invoke_3179(empty_list, reifiedPtr3182, symPtr65, rslt9);

// static-fixed
// #line 2209 "toccata.toc"
Value *rslt11 = binding_3314(empty_list, rslt7, rslt10);

// call-vector
// #line 2209 "toccata.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, rslt11);
Value *rslt13 = (Value *)newVect12;

// type-unknown .body
// #line 2212 "toccata.toc"
Value *rslt14 = proto1Arg(&protoImpls2424, "<nothing>/.body", arity_0, "toccata.toc", 2212);

// call invoke
// #line 2209 "toccata.toc"
Value *rslt15 = let_ast_invoke_3385(empty_list, reifiedPtr3388, rslt13, rslt14);

// call-vector
// #line 2209 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
Value *rslt17 = (Value *)newVect16;
Value *new_body_18 = rslt17;

// type-unknown .body
// #line 2214 "toccata.toc"
Value *rslt19 = proto2Arg(&protoImpls2426, "<nothing>/.body", arity_0, new_body_18, "toccata.toc", 2214);

// static-variadic
// #line 2215 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)val21, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr474, varArgs22);
varArgs22 = (List *)listCons((Value *)val20, varArgs22);
Value *rslt23 = str_526(empty_list, (Value *)varArgs22);

// type-unknown .fn-sym
// #line 2215 "toccata.toc"
Value *rslt24 = proto2Arg(&protoImpls2703, "<nothing>/.fn-sym", rslt19, rslt23, "toccata.toc", 2215);
return(rslt24);

};};
Value *arityImpl8979(List *closures, Value *arg3) {
while (1) {
Value *fn_name_0;
Value *impls_1;
Value *tail_2;
Value **destArgs4[3] = {&fn_name_0, &impls_1, &tail_2};
destructValue("toccata.toc", "2205", (Value *)arg3, 3, destArgs4);

incRef(fn_name_0, 1);

dec_and_free(tail_2, 1);
Value *val6;
Value *val7;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[3] = {&val6, &val7, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs11);

dec_and_free(closuresTail, 1);
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl8981;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)fn_name_0, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)val6, (List *)dynArity5->closures);
dynArity5->closures = listCons((Value *)val7, (List *)dynArity5->closures);
Function *anon_8982 = malloc_function(1);
anon_8982->name = "anon";
anon_8982->arityCount = 1;
anon_8982->arities[0] = dynArity5;
Value *fn8980 = (Value *)anon_8982;

// type-unknown map
// #line 2206 "toccata.toc"
Value *rslt8 = proto2Arg(&map_Implementations_254, "<nothing>/map", impls_1, fn8980, "toccata.toc", 2206);

// call-vector
// #line 2206 "toccata.toc"
Vector *newVect9 = empty_vect;
newVect9 = mutateVectConj(newVect9, fn_name_0);
newVect9 = mutateVectConj(newVect9, rslt8);
Value *rslt10 = (Value *)newVect9;
return(rslt10);

};};
Value *arityImpl8977(List *closures, Value *impl_arities_0) {
while (1) {
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl8979;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val2, (List *)dynArity1->closures);
dynArity1->closures = listCons((Value *)val3, (List *)dynArity1->closures);
Function *anon_8983 = malloc_function(1);
anon_8983->name = "anon";
anon_8983->arityCount = 1;
anon_8983->arities[0] = dynArity1;
Value *fn8978 = (Value *)anon_8983;

// type-unknown map
// #line 2204 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", impl_arities_0, fn8978, "toccata.toc", 2204);
return(rslt4);

};};
Value *destructure_fields_8975(List *closures, Value *sym_0, Value *ast_1) {
 while (1) {

incRef(ast_1, 1);

// type-unknown .impls
// #line 2202 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls4182, "<nothing>/.impls", ast_1, "toccata.toc", 2202);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl8977;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)sym_0, (List *)dynArity3->closures);
dynArity3->closures = listCons((Value *)ast_1, (List *)dynArity3->closures);
Function *anon_8984 = malloc_function(1);
anon_8984->name = "anon";
anon_8984->arityCount = 1;
anon_8984->arities[0] = dynArity3;
Value *fn8976 = (Value *)anon_8984;

// static-fixed
// #line 2202 "toccata.toc"
Value *rslt4 = map_vals_1239(empty_list, rslt2, fn8976);
return(rslt4);

};};
FnArity destructure_fields_8985 = {FnArityType, -1, 2, (List *)0, 0, destructure_fields_8975};
Function destructure_fields_8986 = {FunctionType, -1, "destructure-fields", 1, {&destructure_fields_8985}};
Value *destructure_fields_8974 = (Value *)&destructure_fields_8986;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str703 = {StringType, -1, 32, 0, "Trying to re-define type name: '"};
Value *strPtr703 = (Value *)&str703;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str704 = {StringType, -1, 12, 0, "' in module "};
Value *strPtr704 = (Value *)&str704;
Value *arityImpl8990(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val44;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs57[6] = {&val1, &val15, &val16, &val17, &val44, &closuresTail};
destructValue("", "", (Value *)closures, 6, destArgs57);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
dec_and_free(val17, 1);
dec_and_free(val16, 1);
dec_and_free(val44, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg8991_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);
Value *arg8992_23 = arg8991_13;

// type-known for ast/line-number
// #line 2229 "toccata.toc"
Value *rslt18 = type_ast_line_number_4448(empty_list, val17);

// static-variadic
// #line 2228 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)rslt18, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr17, varArgs19);
varArgs19 = (List *)listCons((Value *)val16, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr704, varArgs19);
varArgs19 = (List *)listCons((Value *)val15, varArgs19);
varArgs19 = (List *)listCons((Value *)strPtr703, varArgs19);
Value *rslt20 = str_526(empty_list, (Value *)varArgs19);

// static-variadic
// #line 2228 "toccata.toc"
List *varArgs21 = empty_list;
varArgs21 = (List *)listCons((Value *)rslt20, varArgs21);
Value *rslt22 = compilation_error_5400(empty_list, (Value *)varArgs21);
Value *ev_24 = rslt22;
Value *arg8993_25 = arg8992_23;
Value *rslt26 = reified_type_args_22(empty_list, ev_24);
Value *invoke_fn_27;
Value *tail_28;
Value **destArgs29[2] = {&invoke_fn_27, &tail_28};
destructValue("", "0", (Value *)rslt26, 2, destArgs29);

dec_and_free(tail_28, 1);
Value *s_30 = arg8993_25;
Value *rslt34;
if((invoke_fn_27)->type != FunctionType) {
rslt34 = invoke_368(empty_list, invoke_fn_27, s_30);
} else {
FnArity *arity31 = findFnArity(invoke_fn_27, 1);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
rslt34 = fn33(arity31->closures, s_30);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
dynArgs32 = (List *)listCons(s_30, dynArgs32);
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_27)->name);
  abort();
}
dec_and_free(invoke_fn_27, 1);
}
Value *x_35 = rslt34;

incRef(x_35, 1);
Value *andRslt36;
andRslt36 = x_35;
if (isNothing(andRslt36)) {
dec_and_free(val44, 1);
dec_and_free(x_35, 1);
} else {
dec_and_free(andRslt36, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_35, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_38;
Value *ss_39;
Value *tail_40;
Value **destArgs41[3] = {&v_38, &ss_39, &tail_40};
destructValue("", "0", (Value *)rslt37, 3, destArgs41);

dec_and_free(tail_40, 1);
Value *arg8994_42 = ss_39;
Value *arg43 = v_38;

dec_and_free(arg43, 1);
Value *arg8995_45 = arg8994_42;
Value *__46 = val44;
Value *v_47 = strPtr0;
Value *arg8996_48 = arg8995_45;
Value *rslt49 = reified_type_args_22(empty_list, __46);
Value *invoke_fn_50;
Value *tail_51;
Value **destArgs52[2] = {&invoke_fn_50, &tail_51};
destructValue("", "0", (Value *)rslt49, 2, destArgs52);

dec_and_free(invoke_fn_50, 1);

dec_and_free(tail_51, 1);
Value *s_53 = arg8996_48;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect54 = empty_vect;
newVect54 = mutateVectConj(newVect54, v_47);
newVect54 = mutateVectConj(newVect54, s_53);
Value *rslt55 = (Value *)newVect54;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt56 = maybe_4(empty_list, rslt55);
andRslt36 = rslt56;
}
return(andRslt36);
andRslt7 = andRslt36;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[11];
} str705 = {StringType, -1, 10, 0, "#type-val-"};
Value *strPtr705 = (Value *)&str705;
Value *arityImpl9018(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val64;
Value *val65;
Value *val90;
Value *val93;
Value *val96;
Value *val103;
Value *val104;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs118[11] = {&val1, &val15, &val16, &val64, &val65, &val90, &val93, &val96, &val103, &val104, &closuresTail};
destructValue("", "", (Value *)closures, 11, destArgs118);

incRef(val15, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val90, 1);
dec_and_free(val93, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val104, 1);
dec_and_free(val16, 1);
dec_and_free(val65, 1);
dec_and_free(val103, 1);
dec_and_free(val96, 1);
dec_and_free(val64, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9019_13 = ss_10;
Value *type_num_14 = v_9;

incRef(type_num_14, 1);
Value *arg9020_18 = arg9019_13;

// static-fixed
// #line 2244 "toccata.toc"
Value *rslt17 = get_proto_impl_6346(empty_list, symPtr39, val15, val16);
Value *ev_19 = rslt17;
Value *arg9021_20 = arg9020_18;
Value *rslt21 = reified_type_args_22(empty_list, ev_19);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
Value *s_25 = arg9021_20;
Value *rslt29;
if((invoke_fn_22)->type != FunctionType) {
rslt29 = invoke_368(empty_list, invoke_fn_22, s_25);
} else {
FnArity *arity26 = findFnArity(invoke_fn_22, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, s_25);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(s_25, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_22)->name);
  abort();
}
dec_and_free(invoke_fn_22, 1);
}
Value *x_30 = rslt29;

incRef(x_30, 1);
Value *andRslt31;
andRslt31 = x_30;
if (isNothing(andRslt31)) {
dec_and_free(val90, 1);
dec_and_free(x_30, 1);
dec_and_free(val93, 1);
dec_and_free(val15, 1);
dec_and_free(val104, 1);
dec_and_free(type_num_14, 2);
dec_and_free(val65, 1);
dec_and_free(val103, 1);
dec_and_free(val96, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt31, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_30, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_33;
Value *ss_34;
Value *tail_35;
Value **destArgs36[3] = {&v_33, &ss_34, &tail_35};
destructValue("", "0", (Value *)rslt32, 3, destArgs36);

dec_and_free(tail_35, 1);
Value *arg9022_37 = ss_34;
Value *constructor_arity_38 = v_33;
Value *arg9023_43 = arg9022_37;

// type-unknown .c-var
// #line 2245 "toccata.toc"
Value *rslt39 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", constructor_arity_38, "toccata.toc", 2245);

// call-vector
// #line 2245 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, dispatchFnPtr5585);
newVect40 = mutateVectConj(newVect40, rslt39);
newVect40 = mutateVectConj(newVect40, val15);
newVect40 = mutateVectConj(newVect40, dispatchFnPtr4348);
Value *rslt41 = (Value *)newVect40;

// static-fixed
// #line 2245 "toccata.toc"
Value *rslt42 = assoc_in_val_3599(empty_list, rslt41, type_num_14);
Value *ev_44 = rslt42;
Value *arg9024_45 = arg9023_43;
Value *rslt46 = reified_type_args_22(empty_list, ev_44);
Value *invoke_fn_47;
Value *tail_48;
Value **destArgs49[2] = {&invoke_fn_47, &tail_48};
destructValue("", "0", (Value *)rslt46, 2, destArgs49);

dec_and_free(tail_48, 1);
Value *s_50 = arg9024_45;
Value *rslt54;
if((invoke_fn_47)->type != FunctionType) {
rslt54 = invoke_368(empty_list, invoke_fn_47, s_50);
} else {
FnArity *arity51 = findFnArity(invoke_fn_47, 1);
if(arity51 != (FnArity *)0 && !arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
rslt54 = fn53(arity51->closures, s_50);
} else if(arity51 != (FnArity *)0 && arity51->variadic) {
FnType1 *fn53 = (FnType1 *)arity51->fn;
List *dynArgs52 = empty_list;
dynArgs52 = (List *)listCons(s_50, dynArgs52);
rslt54 = fn53(arity51->closures, (Value *)dynArgs52);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_47)->name);
  abort();
}
dec_and_free(invoke_fn_47, 1);
}
Value *x_55 = rslt54;

incRef(x_55, 1);
Value *andRslt56;
andRslt56 = x_55;
if (isNothing(andRslt56)) {
dec_and_free(val90, 1);
dec_and_free(val93, 1);
dec_and_free(x_55, 1);
dec_and_free(val104, 1);
dec_and_free(type_num_14, 1);
dec_and_free(val65, 1);
dec_and_free(val103, 1);
dec_and_free(val96, 1);
dec_and_free(val64, 1);
} else {
dec_and_free(andRslt56, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_55, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_58;
Value *ss_59;
Value *tail_60;
Value **destArgs61[3] = {&v_58, &ss_59, &tail_60};
destructValue("", "0", (Value *)rslt57, 3, destArgs61);

dec_and_free(tail_60, 1);
Value *arg9025_62 = ss_59;
Value *arg63 = v_58;

dec_and_free(arg63, 1);
Value *arg9026_69 = arg9025_62;

// call-vector
// #line 2247 "toccata.toc"
Vector *newVect66 = empty_vect;
newVect66 = mutateVectConj(newVect66, dispatchFnPtr5586);
newVect66 = mutateVectConj(newVect66, val64);
newVect66 = mutateVectConj(newVect66, dispatchFnPtr5511);
newVect66 = mutateVectConj(newVect66, val65);
Value *rslt67 = (Value *)newVect66;

// static-fixed
// #line 2247 "toccata.toc"
Value *rslt68 = assoc_in_val_3599(empty_list, rslt67, type_num_14);
Value *ev_70 = rslt68;
Value *arg9027_71 = arg9026_69;
Value *rslt72 = reified_type_args_22(empty_list, ev_70);
Value *invoke_fn_73;
Value *tail_74;
Value **destArgs75[2] = {&invoke_fn_73, &tail_74};
destructValue("", "0", (Value *)rslt72, 2, destArgs75);

dec_and_free(tail_74, 1);
Value *s_76 = arg9027_71;
Value *rslt80;
if((invoke_fn_73)->type != FunctionType) {
rslt80 = invoke_368(empty_list, invoke_fn_73, s_76);
} else {
FnArity *arity77 = findFnArity(invoke_fn_73, 1);
if(arity77 != (FnArity *)0 && !arity77->variadic) {
FnType1 *fn79 = (FnType1 *)arity77->fn;
rslt80 = fn79(arity77->closures, s_76);
} else if(arity77 != (FnArity *)0 && arity77->variadic) {
FnType1 *fn79 = (FnType1 *)arity77->fn;
List *dynArgs78 = empty_list;
dynArgs78 = (List *)listCons(s_76, dynArgs78);
rslt80 = fn79(arity77->closures, (Value *)dynArgs78);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_73)->name);
  abort();
}
dec_and_free(invoke_fn_73, 1);
}
Value *x_81 = rslt80;

incRef(x_81, 1);
Value *andRslt82;
andRslt82 = x_81;
if (isNothing(andRslt82)) {
dec_and_free(val90, 1);
dec_and_free(val93, 1);
dec_and_free(val104, 1);
dec_and_free(val103, 1);
dec_and_free(x_81, 1);
dec_and_free(val96, 1);
} else {
dec_and_free(andRslt82, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt83 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_81, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_84;
Value *ss_85;
Value *tail_86;
Value **destArgs87[3] = {&v_84, &ss_85, &tail_86};
destructValue("", "0", (Value *)rslt83, 3, destArgs87);

dec_and_free(tail_86, 1);
Value *arg9028_88 = ss_85;
Value *arg89 = v_84;

dec_and_free(arg89, 1);
Value *arg9029_91 = arg9028_88;
Value *__92 = val90;

// call-vector
// #line 2249 "toccata.toc"
Vector *newVect94 = empty_vect;
Value *rslt95 = (Value *)newVect94;

// type-unknown flatten
// #line 2249 "toccata.toc"
Value *rslt97 = proto1Arg(&flatten_Implementations_251, "<nothing>/flatten", val96, "toccata.toc", 2249);

// static-variadic
// #line 2249 "toccata.toc"
List *varArgs98 = empty_list;
Value *rslt99 = hash_map_1208(empty_list, (Value *)varArgs98);

// call invoke
// #line 2249 "toccata.toc"
Value *rslt100 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt95, rslt97, UnknownType_5361, rslt99);

// call-vector
// #line 2249 "toccata.toc"
Vector *newVect101 = empty_vect;
newVect101 = mutateVectConj(newVect101, rslt100);
Value *rslt102 = (Value *)newVect101;

// call-list
// #line 2248 "toccata.toc"
List *newList105 = empty_list;
newList105 = listCons((Value *)val104, newList105);
newList105 = listCons((Value *)val103, newList105);
newList105 = listCons((Value *)rslt102, newList105);
Value *rslt106 = (Value *)newList105;

// type-unknown comp*
// #line 2248 "toccata.toc"
Value *rslt107 = proto2Arg(&comp_STAR__Implementations_238, "comp*", val93, rslt106, "toccata.toc", 2248);
Value *v_108 = rslt107;
Value *arg9030_109 = arg9029_91;
Value *rslt110 = reified_type_args_22(empty_list, __92);
Value *invoke_fn_111;
Value *tail_112;
Value **destArgs113[2] = {&invoke_fn_111, &tail_112};
destructValue("", "0", (Value *)rslt110, 2, destArgs113);

dec_and_free(invoke_fn_111, 1);

dec_and_free(tail_112, 1);
Value *s_114 = arg9030_109;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect115 = empty_vect;
newVect115 = mutateVectConj(newVect115, v_108);
newVect115 = mutateVectConj(newVect115, s_114);
Value *rslt116 = (Value *)newVect115;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt117 = maybe_4(empty_list, rslt116);
andRslt82 = rslt117;
}
andRslt56 = andRslt82;
}
andRslt31 = andRslt56;
}
return(andRslt31);
andRslt7 = andRslt31;
}

};};
Value *arityImpl9015(List *closures, Value *type_val_def_0) {
while (1) {
Value *val1;
Value *val2;
Value *val12;
Value *val13;
Value *val14;
Value *val15;
Value *val16;
Value *val17;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs20[10] = {&val1, &val2, &val12, &val13, &val14, &val15, &val16, &val17, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 10, destArgs20);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// call-vector
// #line 2243 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5586);
newVect3 = mutateVectConj(newVect3, val1);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr4272);
newVect3 = mutateVectConj(newVect3, val2);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr4348);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 2243 "toccata.toc"
Value *rslt5 = get_in_val_3549(empty_list, rslt4);
Value *ev_6 = rslt5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl9018;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)type_val_def_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val12, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val13, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val14, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val15, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val16, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val17, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val18, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_9031 = malloc_function(1);
anon_9031->name = "anon";
anon_9031->arityCount = 1;
anon_9031->arities[0] = dynArity11;
Value *fn9017 = (Value *)anon_9031;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9017);
return(rslt19);

};};
Value *arityImpl9012(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *val16;
Value *val17;
Value *val18;
Value *val22;
Value *val23;
Value *val24;
Value *val25;
Value *val26;
Value *val27;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs33[12] = {&val1, &val15, &val16, &val17, &val18, &val22, &val23, &val24, &val25, &val26, &val27, &closuresTail};
destructValue("", "", (Value *)closures, 12, destArgs33);

incRef(val15, 1);

incRef(val16, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val23, 1);
dec_and_free(val18, 1);
dec_and_free(x_6, 1);
dec_and_free(val15, 2);
dec_and_free(val26, 1);
dec_and_free(val24, 1);
dec_and_free(val17, 1);
dec_and_free(val16, 2);
dec_and_free(val25, 1);
dec_and_free(val22, 1);
dec_and_free(val27, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9013_13 = ss_10;
Value *const_type_num_14 = v_9;

// static-fixed
// #line 2242 "toccata.toc"
Value *rslt19 = type_val_expr_8959(empty_list, val15, val16, val17, val18);

// type-known for emit-definition
// #line 2242 "toccata.toc"
Value *rslt20 = emit_definition_7204(empty_list, rslt19);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl9015;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)val22, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)const_type_num_14, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val15, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val23, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val24, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val25, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val26, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val16, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)val27, (List *)dynArity21->closures);
Function *anon_9032 = malloc_function(1);
anon_9032->name = "anon";
anon_9032->arityCount = 1;
anon_9032->arities[0] = dynArity21;
Value *fn9014 = (Value *)anon_9032;

// type-unknown flat-map
// #line 2242 "toccata.toc"
Value *rslt28 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt20, fn9014, "toccata.toc", 2242);

// dynamic unknown type
// #line 2242 "toccata.toc"
Value *rslt32;
if((rslt28)->type != FunctionType) {
rslt32 = invoke_368(empty_list, rslt28, arg9013_13);
} else {
FnArity *arity29 = findFnArity(rslt28, 1);
if(arity29 != (FnArity *)0 && !arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
rslt32 = fn31(arity29->closures, arg9013_13);
} else if(arity29 != (FnArity *)0 && arity29->variadic) {
FnType1 *fn31 = (FnType1 *)arity29->fn;
List *dynArgs30 = empty_list;
dynArgs30 = (List *)listCons(arg9013_13, dynArgs30);
rslt32 = fn31(arity29->closures, (Value *)dynArgs30);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt28)->name);
  abort();
}
dec_and_free(rslt28, 1);
}
return(rslt32);
andRslt7 = rslt32;
}

};};
Value *arityImpl9009(List *closures, Value *type_constructor_0) {
while (1) {
Value *val1;
Value *val2;
Value *val12;
Value *val13;
Value *val14;
Value *val15;
Value *val16;
Value *val17;
Value *val18;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs20[10] = {&val1, &val2, &val12, &val13, &val14, &val15, &val16, &val17, &val18, &closuresTail};
destructValue("", "", (Value *)closures, 10, destArgs20);

incRef(val1, 1);

incRef(val2, 1);

dec_and_free(closuresTail, 1);

// call-vector
// #line 2240 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5586);
newVect3 = mutateVectConj(newVect3, val1);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr4272);
newVect3 = mutateVectConj(newVect3, val2);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr4348);
Value *rslt4 = (Value *)newVect3;

// static-fixed
// #line 2240 "toccata.toc"
Value *rslt5 = get_in_val_3549(empty_list, rslt4);
Value *ev_6 = rslt5;
Value *rslt7 = reified_type_args_22(empty_list, ev_6);
Value *invoke_fn_8;
Value *tail_9;
Value **destArgs10[2] = {&invoke_fn_8, &tail_9};
destructValue("", "0", (Value *)rslt7, 2, destArgs10);

dec_and_free(tail_9, 1);
FnArity *dynArity11 = malloc_fnArity();
dynArity11->count = 1;
dynArity11->variadic = 0;
dynArity11->fn = arityImpl9012;
dynArity11->closures = empty_list;
dynArity11->closures = listCons((Value *)val1, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)type_constructor_0, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val12, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val13, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val14, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val15, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val16, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val17, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val18, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)val2, (List *)dynArity11->closures);
dynArity11->closures = listCons((Value *)invoke_fn_8, (List *)dynArity11->closures);
Function *anon_9033 = malloc_function(1);
anon_9033->name = "anon";
anon_9033->arityCount = 1;
anon_9033->arities[0] = dynArity11;
Value *fn9011 = (Value *)anon_9033;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9011);
return(rslt19);

};};
Value *arityImpl9007(List *closures, Value *getters_0) {
while (1) {
Value *val1;
Value *val2;
Value *val3;
Value *val7;
Value *val8;
Value *val9;
Value *val10;
Value *val11;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs13[9] = {&val1, &val2, &val3, &val7, &val8, &val9, &val10, &val11, &closuresTail};
destructValue("", "", (Value *)closures, 9, destArgs13);

incRef(val1, 1);

incRef(val2, 1);

incRef(val3, 1);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 2239 "toccata.toc"
Value *rslt4 = constructor_expr_8954(empty_list, val1, val2, val3);

// type-known for emit-definition
// #line 2239 "toccata.toc"
Value *rslt5 = emit_definition_7204(empty_list, rslt4);
FnArity *dynArity6 = malloc_fnArity();
dynArity6->count = 1;
dynArity6->variadic = 0;
dynArity6->fn = arityImpl9009;
dynArity6->closures = empty_list;
dynArity6->closures = listCons((Value *)val2, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val3, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val7, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val8, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val9, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val10, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)getters_0, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val1, (List *)dynArity6->closures);
dynArity6->closures = listCons((Value *)val11, (List *)dynArity6->closures);
Function *anon_9034 = malloc_function(1);
anon_9034->name = "anon";
anon_9034->arityCount = 1;
anon_9034->arities[0] = dynArity6;
Value *fn9008 = (Value *)anon_9034;

// type-unknown flat-map
// #line 2239 "toccata.toc"
Value *rslt12 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt5, fn9008, "toccata.toc", 2239);
return(rslt12);

};};
Value *arityImpl9000(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val16;
Value *val44;
Value *val47;
Value *val48;
Value *val49;
Value *val50;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs56[8] = {&val1, &val16, &val44, &val47, &val48, &val49, &val50, &closuresTail};
destructValue("", "", (Value *)closures, 8, destArgs56);

incRef(val16, 3);

incRef(val44, 1);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val49, 1);
dec_and_free(val48, 1);
dec_and_free(x_6, 1);
dec_and_free(val47, 1);
dec_and_free(val16, 4);
dec_and_free(val44, 2);
dec_and_free(val50, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9001_13 = ss_10;
Value *type_val_sym_14 = v_9;
Value *arg9002_15 = arg9001_13;

// type-unknown ast/file-name
// #line 2234 "toccata.toc"
Value *rslt17 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", val16, "toccata.toc", 2234);

// type-unknown ast/line-number
// #line 2235 "toccata.toc"
Value *rslt18 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", val16, "toccata.toc", 2235);

// type-unknown rdr/tag
// #line 2233 "toccata.toc"
Value *rslt19 = proto3Arg(&tag_Implementations_4650, "<maybe rdr>/tag", type_val_sym_14, rslt17, rslt18, "toccata.toc", 2233);
Value *type_val_sym_20 = rslt19;

incRef(type_val_sym_20, 1);
Value *arg9003_23 = arg9002_15;

// call invoke
// #line 2236 "toccata.toc"
Value *rslt21 = declaration_ast_invoke_2592(empty_list, reifiedPtr2595, type_val_sym_20);

// type-known for emit-definition
// #line 2236 "toccata.toc"
Value *rslt22 = emit_definition_7212(empty_list, rslt21);
Value *ev_24 = rslt22;
Value *arg9004_25 = arg9003_23;
Value *rslt26 = reified_type_args_22(empty_list, ev_24);
Value *invoke_fn_27;
Value *tail_28;
Value **destArgs29[2] = {&invoke_fn_27, &tail_28};
destructValue("", "0", (Value *)rslt26, 2, destArgs29);

dec_and_free(tail_28, 1);
Value *s_30 = arg9004_25;
Value *rslt34;
if((invoke_fn_27)->type != FunctionType) {
rslt34 = invoke_368(empty_list, invoke_fn_27, s_30);
} else {
FnArity *arity31 = findFnArity(invoke_fn_27, 1);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
rslt34 = fn33(arity31->closures, s_30);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
dynArgs32 = (List *)listCons(s_30, dynArgs32);
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_27)->name);
  abort();
}
dec_and_free(invoke_fn_27, 1);
}
Value *x_35 = rslt34;

incRef(x_35, 1);
Value *andRslt36;
andRslt36 = x_35;
if (isNothing(andRslt36)) {
dec_and_free(type_val_sym_20, 1);
dec_and_free(val49, 1);
dec_and_free(val48, 1);
dec_and_free(val47, 1);
dec_and_free(val16, 2);
dec_and_free(val44, 2);
dec_and_free(val50, 1);
dec_and_free(x_35, 1);
} else {
dec_and_free(andRslt36, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_35, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_38;
Value *ss_39;
Value *tail_40;
Value **destArgs41[3] = {&v_38, &ss_39, &tail_40};
destructValue("", "0", (Value *)rslt37, 3, destArgs41);

dec_and_free(tail_40, 1);
Value *arg9005_42 = ss_39;
Value *type_val_decl_43 = v_38;

// static-fixed
// #line 2237 "toccata.toc"
Value *rslt45 = declare_getters_8901(empty_list, val16, val44);
FnArity *dynArity46 = malloc_fnArity();
dynArity46->count = 1;
dynArity46->variadic = 0;
dynArity46->fn = arityImpl9007;
dynArity46->closures = empty_list;
dynArity46->closures = listCons((Value *)val47, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)type_val_decl_43, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)val48, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)val49, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)val50, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)val44, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)type_val_sym_20, (List *)dynArity46->closures);
dynArity46->closures = listCons((Value *)val16, (List *)dynArity46->closures);
Function *anon_9035 = malloc_function(1);
anon_9035->name = "anon";
anon_9035->arityCount = 1;
anon_9035->arities[0] = dynArity46;
Value *fn9006 = (Value *)anon_9035;

// type-unknown flat-map
// #line 2237 "toccata.toc"
Value *rslt51 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt45, fn9006, "toccata.toc", 2237);

// dynamic unknown type
// #line 2237 "toccata.toc"
Value *rslt55;
if((rslt51)->type != FunctionType) {
rslt55 = invoke_368(empty_list, rslt51, arg9005_42);
} else {
FnArity *arity52 = findFnArity(rslt51, 1);
if(arity52 != (FnArity *)0 && !arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
rslt55 = fn54(arity52->closures, arg9005_42);
} else if(arity52 != (FnArity *)0 && arity52->variadic) {
FnType1 *fn54 = (FnType1 *)arity52->fn;
List *dynArgs53 = empty_list;
dynArgs53 = (List *)listCons(arg9005_42, dynArgs53);
rslt55 = fn54(arity52->closures, (Value *)dynArgs53);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt51)->name);
  abort();
}
dec_and_free(rslt51, 1);
}
andRslt36 = rslt55;
}
return(andRslt36);
andRslt7 = andRslt36;
}

};};
Value *emit_definition_8987(List *closures, Value *ast_0) {
 while (1) {

incRef(ast_0, 4);

// type-known for ast/file-name
// #line 2220 "toccata.toc"
Value *rslt1 = type_ast_file_name_4446(empty_list, ast_0);
Value *file_name_2 = rslt1;

incRef(file_name_2, 2);

// type-known for .sym
// #line 2221 "toccata.toc"
Value *rslt3 = type_ast_sym_4432(empty_list, ast_0);
Value *sym_4 = rslt3;

incRef(sym_4, 4);

// type-known for .fields
// #line 2222 "toccata.toc"
Value *rslt5 = type_ast_fields_4436(empty_list, ast_0);

// type-unknown .fixed
// #line 2222 "toccata.toc"
Value *rslt6 = proto1Arg(&protoImpls2320, "<nothing>/.fixed", rslt5, "toccata.toc", 2222);
Value *fields_7 = rslt6;

incRef(fields_7, 2);

// type-unknown count
// #line 2223 "toccata.toc"
Value *rslt8 = proto1Arg(&count_Implementations_300, "<nothing>/count", fields_7, "toccata.toc", 2223);

// static-fixed
// #line 2223 "toccata.toc"
Value *rslt9 = inc_564(empty_list, rslt8);
Value *const_arity_index_10 = rslt9;

// static-fixed
// #line 2225 "toccata.toc"
Value *rslt11 = create_getters_8967(empty_list, sym_4, fields_7);

// static-fixed
// #line 2226 "toccata.toc"
Value *rslt12 = destructure_fields_8975(empty_list, sym_4, ast_0);

// static-variadic
// #line 2224 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
varArgs13 = (List *)listCons((Value *)rslt11, varArgs13);
varArgs13 = (List *)listCons((Value *)comp_240, varArgs13);
Value *rslt14 = merge_with_1317(empty_list, (Value *)varArgs13);
Value *impls_15 = rslt14;

// call-vector
// #line 2227 "toccata.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5586);
newVect16 = mutateVectConj(newVect16, file_name_2);
newVect16 = mutateVectConj(newVect16, dispatchFnPtr5511);
newVect16 = mutateVectConj(newVect16, sym_4);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 2227 "toccata.toc"
Value *rslt18 = get_in_val_3549(empty_list, rslt17);
Value *wrapper_19 = rslt18;

incRef(wrapper_19, 1);
Value *ev_20 = wrapper_19;
Value *rslt21 = reified_type_args_22(empty_list, ev_20);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
FnArity *dynArity25 = malloc_fnArity();
dynArity25->count = 1;
dynArity25->variadic = 0;
dynArity25->fn = arityImpl8990;
dynArity25->closures = empty_list;
dynArity25->closures = listCons((Value *)wrapper_19, (List *)dynArity25->closures);
dynArity25->closures = listCons((Value *)ast_0, (List *)dynArity25->closures);
dynArity25->closures = listCons((Value *)file_name_2, (List *)dynArity25->closures);
dynArity25->closures = listCons((Value *)sym_4, (List *)dynArity25->closures);
dynArity25->closures = listCons((Value *)invoke_fn_22, (List *)dynArity25->closures);
Function *anon_8997 = malloc_function(1);
anon_8997->name = "anon";
anon_8997->arityCount = 1;
anon_8997->arities[0] = dynArity25;
Value *fn8989 = (Value *)anon_8997;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt26 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8989);

// static-fixed
// #line 2232 "toccata.toc"
Value *rslt27 = global_var_6495(empty_list, strPtr705);
Value *wrapper_28 = rslt27;

incRef(wrapper_28, 1);
Value *ev_29 = wrapper_28;
Value *rslt30 = reified_type_args_22(empty_list, ev_29);
Value *invoke_fn_31;
Value *tail_32;
Value **destArgs33[2] = {&invoke_fn_31, &tail_32};
destructValue("", "0", (Value *)rslt30, 2, destArgs33);

dec_and_free(tail_32, 1);
FnArity *dynArity34 = malloc_fnArity();
dynArity34->count = 1;
dynArity34->variadic = 0;
dynArity34->fn = arityImpl9000;
dynArity34->closures = empty_list;
dynArity34->closures = listCons((Value *)impls_15, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)const_arity_index_10, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)wrapper_28, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)file_name_2, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)fields_7, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)sym_4, (List *)dynArity34->closures);
dynArity34->closures = listCons((Value *)invoke_fn_31, (List *)dynArity34->closures);
Function *anon_9036 = malloc_function(1);
anon_9036->name = "anon";
anon_9036->arityCount = 1;
anon_9036->arities[0] = dynArity34;
Value *fn8999 = (Value *)anon_9036;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt35 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn8999);
List *newList36 = empty_list;
newList36 = listCons((Value *)rslt35, newList36);
Value *rslt37 = (Value *)newList36;
Value *rslt38 = new_sm_comp_STAR__2805(empty_list, rslt26, rslt37);
return(rslt38);

};};
FnArity emit_definition_9037 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_8987};
SubString sym67 = {SymbolType, -1, 1, 0, 0, "C"};
Value *symPtr67 = (Value *)&sym67;
Value *global_context_9038;
Value *string_writer_9039;
Value *logger_9040;

// --------- log -------------
Value *log_9042;
Value *arityImpl9045(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs8[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs8);

dec_and_free(closuresTail, 1);
Value *f_1 = print_err_520;

// call-list
// #line 2269 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)val2, newList3);
Value *rslt4 = (Value *)newList3;
Value *args_5 = rslt4;

// static-fixed
// #line 737 "core"
Value *rslt6 = fn_apply_98(empty_list, list_STAR__478, args_5);

// static-fixed
// #line 737 "core"
Value *rslt7 = fn_apply_98(empty_list, f_1, rslt6);
return(rslt7);

};};
Value *log_9043(List *closures, Value *arg1) {
 while (1) {
Value *msg_0 = (Value *)arg1;
FnArity *dynArity2 = malloc_fnArity();
dynArity2->count = 1;
dynArity2->variadic = 0;
dynArity2->fn = arityImpl9045;
dynArity2->closures = empty_list;
dynArity2->closures = listCons((Value *)msg_0, (List *)dynArity2->closures);
Function *anon_9046 = malloc_function(1);
anon_9046->name = "anon";
anon_9046->arityCount = 1;
anon_9046->arities[0] = dynArity2;
Value *fn9044 = (Value *)anon_9046;

// static-variadic
// #line 2268 "toccata.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)fn9044, varArgs3);
varArgs3 = (List *)listCons((Value *)logger_9040, varArgs3);
Value *rslt4 = send_280(empty_list, (Value *)varArgs3);
return(rslt4);

};};
FnArity log_9047 = {FnArityType, -1, 1, (List *)0, 1, log_9043};
Function log_9048 = {FunctionType, -1, "log", 1, {&log_9047}};
Value *log_9042 = (Value *)&log_9048;


// proto fn for StringWriter/write-str
Value *write_str_9049;
ProtoImpls write_str_Implementations_9051;
Value *write_str_9050(List *closures, Value *arg0);
Value *Default_write_str_9052(List *closures, Value *x_0) {
 while (1) {

// static-variadic
// #line 2273 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)x_0, varArgs1);
Value *rslt2 = print_511(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity Default_write_str_9053 = {FnArityType, -1, 1, (List *)0, 0, Default_write_str_9052};

// --------- anon -------------
Value *fn9055;
Value *arityImpl9056(List *closures, Value *v_0, Value *x_1) {
 while (1) {

// type-unknown write-str
// #line 2277 "toccata.toc"
Value *rslt2 = proto1Arg(&write_str_Implementations_9051, "<nothing>/write-str", x_1, "toccata.toc", 2277);

// static-fixed
// #line 1154 "core"
Value *rslt3 = mutate_vect_conj_68(empty_list, v_0, rslt2);
return(rslt3);

};};
FnArity staticArity9057 = {FnArityType, -1, 2, (List *)0, 0, arityImpl9056};
Function anon_9058 = {FunctionType, -1, "anon", 1, {&staticArity9057}};
Value *fn9055 = (Value *)&anon_9058;

Value *Vector_write_str_9054(List *closures, Value *v_0) {
 while (1) {
Value *v_1 = v_0;

// type-known for reduce
// #line 1153 "core"
Value *rslt2 = Vector_reduce_892(empty_list, v_1, empty_vector_1, fn9055);
return(rslt2);

};};
FnArity Vector_write_str_9059 = {FnArityType, -1, 1, (List *)0, 0, Vector_write_str_9054};
Value *List_write_str_9060(List *closures, Value *l_0) {
 while (1) {
Value *l_1 = l_0;

// static-fixed
// #line 1051 "core"
Value *rslt2 = list_map_73(empty_list, l_1, write_str_9049);
return(rslt2);

};};
FnArity List_write_str_9061 = {FnArityType, -1, 1, (List *)0, 0, List_write_str_9060};

// proto fn for FreeGlobal/free-global
Value *free_global_9062;
ProtoImpls free_global_Implementations_9064;
Value *free_global_9063(List *closures, Value *arg0);
Value *Default_free_global_9065(List *closures, Value *arg0) {
 while (1) {

dec_and_free(arg0, 1);

// call-vector
// #line 2284 "toccata.toc"
Vector *newVect1 = empty_vect;
Value *rslt2 = (Value *)newVect1;
return(rslt2);

};};
FnArity Default_free_global_9066 = {FnArityType, -1, 1, (List *)0, 0, Default_free_global_9065};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str706 = {StringType, -1, 11, 0, "freeGlobal("};
Value *strPtr706 = (Value *)&str706;
Value *free_global_9067(List *closures, Value *c_info_0) {
 while (1) {

// type-known for .c-var
// #line 2289 "toccata.toc"
Value *rslt1 = c_init_c_var_6017(empty_list, c_info_0);

// call-vector
// #line 2289 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, strPtr706);
newVect2 = mutateVectConj(newVect2, rslt1);
newVect2 = mutateVectConj(newVect2, strPtr442);
newVect2 = mutateVectConj(newVect2, strPtr5);
Value *rslt3 = (Value *)newVect2;
return(rslt3);

};};
FnArity free_global_9068 = {FnArityType, -1, 1, (List *)0, 0, free_global_9067};

// --------- write-strings -------------
Value *write_strings_9070;
Value *arityImpl9073(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown write-str
// #line 2293 "toccata.toc"
Value *rslt2 = proto1Arg(&write_str_Implementations_9051, "<nothing>/write-str", val1, "toccata.toc", 2293);
return(rslt2);

};};
Value *write_strings_9071(List *closures, Value *strs_0) {
 while (1) {
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl9073;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)strs_0, (List *)dynArity1->closures);
Function *anon_9074 = malloc_function(1);
anon_9074->name = "anon";
anon_9074->arityCount = 1;
anon_9074->arities[0] = dynArity1;
Value *fn9072 = (Value *)anon_9074;

// static-variadic
// #line 2292 "toccata.toc"
List *varArgs2 = empty_list;
varArgs2 = (List *)listCons((Value *)fn9072, varArgs2);
varArgs2 = (List *)listCons((Value *)string_writer_9039, varArgs2);
Value *rslt3 = send_280(empty_list, (Value *)varArgs2);
return(rslt3);

};};
FnArity write_strings_9075 = {FnArityType, -1, 1, (List *)0, 0, write_strings_9071};
Function write_strings_9076 = {FunctionType, -1, "write-strings", 1, {&write_strings_9075}};
Value *write_strings_9070 = (Value *)&write_strings_9076;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str707 = {StringType, -1, 26, 0, "'main' function is missing"};
Value *strPtr707 = (Value *)&str707;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[37];
} str708 = {StringType, -1, 36, 0, "\nint main (int argc, char **argv) {\n"};
Value *strPtr708 = (Value *)&str708;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[55];
} str709 = {StringType, -1, 54, 0, "maybeNothing = maybe((List *)0, (Value *)0, nothing);\n"};
Value *strPtr709 = (Value *)&str709;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[26];
} str710 = {StringType, -1, 25, 0, "maybeNothing->refs = -1;\n"};
Value *strPtr710 = (Value *)&str710;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str711 = {StringType, -1, 20, 0, "outstream = stdout;\n"};
Value *strPtr711 = (Value *)&str711;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[69];
} str712 = {StringType, -1, 68, 0, "__atomic_store(&futuresQueue.input, &empty_list, __ATOMIC_RELAXED);\n"};
Value *strPtr712 = (Value *)&str712;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str713 = {StringType, -1, 34, 0, "futuresQueue.output = empty_list;\n"};
Value *strPtr713 = (Value *)&str713;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[48];
} str714 = {StringType, -1, 47, 0, "pthread_mutex_init(&futuresQueue.mutex, NULL);\n"};
Value *strPtr714 = (Value *)&str714;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[50];
} str715 = {StringType, -1, 49, 0, "pthread_cond_init(&futuresQueue.notEmpty, NULL);\n"};
Value *strPtr715 = (Value *)&str715;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[45];
} str716 = {StringType, -1, 44, 0, "pthread_mutex_init(&shutDown.access, NULL);\n"};
Value *strPtr716 = (Value *)&str716;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str717 = {StringType, -1, 16, 0, "startWorkers();\n"};
Value *strPtr717 = (Value *)&str717;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[34];
} str718 = {StringType, -1, 33, 0, "  List *argList = malloc_list();\n"};
Value *strPtr718 = (Value *)&str718;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str719 = {StringType, -1, 20, 0, "  argList->len = 0;\n"};
Value *strPtr719 = (Value *)&str719;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str720 = {StringType, -1, 30, 0, "  argList->head = (Value *)0;\n"};
Value *strPtr720 = (Value *)&str720;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[30];
} str721 = {StringType, -1, 29, 0, "  argList->tail = (List *)0;\n"};
Value *strPtr721 = (Value *)&str721;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[25];
} str722 = {StringType, -1, 24, 0, "  List *tail = argList;\n"};
Value *strPtr722 = (Value *)&str722;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str723 = {StringType, -1, 34, 0, "  for(int i = 0; i < argc; i++) {\n"};
Value *strPtr723 = (Value *)&str723;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[37];
} str724 = {StringType, -1, 36, 0, "     List *newTail = malloc_list();\n"};
Value *strPtr724 = (Value *)&str724;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str725 = {StringType, -1, 23, 0, "     newTail->len = 0;\n"};
Value *strPtr725 = (Value *)&str725;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[33];
} str726 = {StringType, -1, 32, 0, "     newTail->tail = (List *)0;\n"};
Value *strPtr726 = (Value *)&str726;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[34];
} str727 = {StringType, -1, 33, 0, "     newTail->head = (Value *)0;\n"};
Value *strPtr727 = (Value *)&str727;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[41];
} str728 = {StringType, -1, 40, 0, "     tail->head = stringValue(argv[i]);\n"};
Value *strPtr728 = (Value *)&str728;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[28];
} str729 = {StringType, -1, 27, 0, "     tail->tail = newTail;\n"};
Value *strPtr729 = (Value *)&str729;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str730 = {StringType, -1, 21, 0, "     tail = newTail;\n"};
Value *strPtr730 = (Value *)&str730;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str731 = {StringType, -1, 23, 0, "     argList->len++;\n}\n"};
Value *strPtr731 = (Value *)&str731;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str732 = {StringType, -1, 22, 0, "  argList->refs = -1;\n"};
Value *strPtr732 = (Value *)&str732;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str733 = {StringType, -1, 26, 0, "Value *the_final_answer = "};
Value *strPtr733 = (Value *)&str733;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[42];
} str734 = {StringType, -1, 41, 0, "((List *)empty_list, (Value *)argList);\n\n"};
Value *strPtr734 = (Value *)&str734;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[23];
} str735 = {StringType, -1, 22, 0, "#ifdef CHECK_MEM_LEAK\n"};
Value *strPtr735 = (Value *)&str735;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str736 = {StringType, -1, 16, 0, "cleaningUp = 1;\n"};
Value *strPtr736 = (Value *)&str736;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[21];
} str737 = {StringType, -1, 20, 0, "mainThreadDone = 1;\n"};
Value *strPtr737 = (Value *)&str737;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[19];
} str738 = {StringType, -1, 18, 0, "waitForWorkers();\n"};
Value *strPtr738 = (Value *)&str738;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[36];
} str739 = {StringType, -1, 35, 0, "dec_and_free(the_final_answer, 1);\n"};
Value *strPtr739 = (Value *)&str739;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[31];
} str740 = {StringType, -1, 30, 0, "freeGlobal((Value *)argList);\n"};
Value *strPtr740 = (Value *)&str740;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[27];
} str741 = {StringType, -1, 26, 0, "freeGlobal(maybeNothing);\n"};
Value *strPtr741 = (Value *)&str741;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str742 = {StringType, -1, 11, 0, "freeAll();\n"};
Value *strPtr742 = (Value *)&str742;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[37];
} str743 = {StringType, -1, 36, 0, "if (malloc_count - free_count != 0)\n"};
Value *strPtr743 = (Value *)&str743;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str744 = {StringType, -1, 14, 0, "   return(1);\n"};
Value *strPtr744 = (Value *)&str744;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str745 = {StringType, -1, 7, 0, "#endif\n"};
Value *strPtr745 = (Value *)&str745;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[17];
} str746 = {StringType, -1, 16, 0, "  return(0);\n};\n"};
Value *strPtr746 = (Value *)&str746;
Value *arityImpl9079(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val39;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs58[3] = {&val1, &val39, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs58);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(val39, 1);
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9080_13 = ss_10;
Value *main_fn_14 = v_9;
Value *arg9081_18 = arg9080_13;

// call-vector
// #line 2298 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5587);
newVect15 = mutateVectConj(newVect15, dispatchFnPtr5468);
Value *rslt16 = (Value *)newVect15;

// static-fixed
// #line 2298 "toccata.toc"
Value *rslt17 = get_in_val_3549(empty_list, rslt16);
Value *ev_19 = rslt17;
Value *arg9082_20 = arg9081_18;
Value *rslt21 = reified_type_args_22(empty_list, ev_19);
Value *invoke_fn_22;
Value *tail_23;
Value **destArgs24[2] = {&invoke_fn_22, &tail_23};
destructValue("", "0", (Value *)rslt21, 2, destArgs24);

dec_and_free(tail_23, 1);
Value *s_25 = arg9082_20;
Value *rslt29;
if((invoke_fn_22)->type != FunctionType) {
rslt29 = invoke_368(empty_list, invoke_fn_22, s_25);
} else {
FnArity *arity26 = findFnArity(invoke_fn_22, 1);
if(arity26 != (FnArity *)0 && !arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
rslt29 = fn28(arity26->closures, s_25);
} else if(arity26 != (FnArity *)0 && arity26->variadic) {
FnType1 *fn28 = (FnType1 *)arity26->fn;
List *dynArgs27 = empty_list;
dynArgs27 = (List *)listCons(s_25, dynArgs27);
rslt29 = fn28(arity26->closures, (Value *)dynArgs27);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)invoke_fn_22)->name);
  abort();
}
dec_and_free(invoke_fn_22, 1);
}
Value *x_30 = rslt29;

incRef(x_30, 1);
Value *andRslt31;
andRslt31 = x_30;
if (isNothing(andRslt31)) {
dec_and_free(x_30, 1);
dec_and_free(val39, 1);
dec_and_free(main_fn_14, 1);
} else {
dec_and_free(andRslt31, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt32 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_30, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_33;
Value *ss_34;
Value *tail_35;
Value **destArgs36[3] = {&v_33, &ss_34, &tail_35};
destructValue("", "0", (Value *)rslt32, 3, destArgs36);

dec_and_free(tail_35, 1);
Value *arg9083_37 = ss_34;
Value *values_38 = v_33;

incRef(values_38, 1);
Value *arg9084_40 = arg9083_37;
Value *__41 = val39;

// type-unknown map
// #line 2309 "toccata.toc"
Value *rslt42 = proto2Arg(&map_Implementations_254, "<nothing>/map", values_38, dispatchFnPtr5587, "toccata.toc", 2309);

// type-unknown .c-var
// #line 2325 "toccata.toc"
Value *rslt43 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", main_fn_14, "toccata.toc", 2325);

// type-unknown map
// #line 2329 "toccata.toc"
Value *rslt44 = proto2Arg(&map_Implementations_254, "<nothing>/map", values_38, free_global_9062, "toccata.toc", 2329);

// call-vector
// #line 2299 "toccata.toc"
Vector *newVect45 = empty_vect;
newVect45 = mutateVectConj(newVect45, strPtr708);
newVect45 = mutateVectConj(newVect45, strPtr709);
newVect45 = mutateVectConj(newVect45, strPtr710);
newVect45 = mutateVectConj(newVect45, strPtr711);
newVect45 = mutateVectConj(newVect45, strPtr712);
newVect45 = mutateVectConj(newVect45, strPtr713);
newVect45 = mutateVectConj(newVect45, strPtr714);
newVect45 = mutateVectConj(newVect45, strPtr715);
newVect45 = mutateVectConj(newVect45, strPtr716);
newVect45 = mutateVectConj(newVect45, strPtr717);
newVect45 = mutateVectConj(newVect45, rslt42);
newVect45 = mutateVectConj(newVect45, strPtr5);
newVect45 = mutateVectConj(newVect45, strPtr718);
newVect45 = mutateVectConj(newVect45, strPtr719);
newVect45 = mutateVectConj(newVect45, strPtr720);
newVect45 = mutateVectConj(newVect45, strPtr721);
newVect45 = mutateVectConj(newVect45, strPtr722);
newVect45 = mutateVectConj(newVect45, strPtr723);
newVect45 = mutateVectConj(newVect45, strPtr724);
newVect45 = mutateVectConj(newVect45, strPtr725);
newVect45 = mutateVectConj(newVect45, strPtr726);
newVect45 = mutateVectConj(newVect45, strPtr727);
newVect45 = mutateVectConj(newVect45, strPtr728);
newVect45 = mutateVectConj(newVect45, strPtr729);
newVect45 = mutateVectConj(newVect45, strPtr730);
newVect45 = mutateVectConj(newVect45, strPtr731);
newVect45 = mutateVectConj(newVect45, strPtr732);
newVect45 = mutateVectConj(newVect45, strPtr733);
newVect45 = mutateVectConj(newVect45, rslt43);
newVect45 = mutateVectConj(newVect45, strPtr734);
newVect45 = mutateVectConj(newVect45, strPtr735);
newVect45 = mutateVectConj(newVect45, strPtr736);
newVect45 = mutateVectConj(newVect45, rslt44);
newVect45 = mutateVectConj(newVect45, strPtr737);
newVect45 = mutateVectConj(newVect45, strPtr738);
newVect45 = mutateVectConj(newVect45, strPtr739);
newVect45 = mutateVectConj(newVect45, strPtr740);
newVect45 = mutateVectConj(newVect45, strPtr741);
newVect45 = mutateVectConj(newVect45, strPtr742);
newVect45 = mutateVectConj(newVect45, strPtr743);
newVect45 = mutateVectConj(newVect45, strPtr744);
newVect45 = mutateVectConj(newVect45, strPtr745);
newVect45 = mutateVectConj(newVect45, strPtr746);
Value *rslt46 = (Value *)newVect45;

// static-fixed
// #line 2299 "toccata.toc"
Value *rslt47 = write_strings_9071(empty_list, rslt46);
Value *v_48 = rslt47;
Value *arg9085_49 = arg9084_40;
Value *rslt50 = reified_type_args_22(empty_list, __41);
Value *invoke_fn_51;
Value *tail_52;
Value **destArgs53[2] = {&invoke_fn_51, &tail_52};
destructValue("", "0", (Value *)rslt50, 2, destArgs53);

dec_and_free(invoke_fn_51, 1);

dec_and_free(tail_52, 1);
Value *s_54 = arg9085_49;

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect55 = empty_vect;
newVect55 = mutateVectConj(newVect55, v_48);
newVect55 = mutateVectConj(newVect55, s_54);
Value *rslt56 = (Value *)newVect55;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt57 = maybe_4(empty_list, rslt56);
andRslt31 = rslt57;
}
return(andRslt31);
andRslt7 = andRslt31;
}

};};
Value *emit_main_STAR__9087;

// --------- emit-proto-dispatcher -------------
Value *emit_proto_dispatcher_9089;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[5];
} str747 = {StringType, -1, 4, 0, "\n// "};
Value *strPtr747 = (Value *)&str747;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str748 = {StringType, -1, 6, 0, " args\n"};
Value *strPtr748 = (Value *)&str748;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[4];
} str749 = {StringType, -1, 3, 0, ", {"};
Value *strPtr749 = (Value *)&str749;

// --------- anon -------------
Value *fn9092;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str750 = {StringType, -1, 11, 0, ", (Value *)"};
Value *strPtr750 = (Value *)&str750;
Value *arityImpl9093(List *closures, Value *type_impl_0) {
 while (1) {

incRef(type_impl_0, 1);

// type-unknown .dispatch-type
// #line 2357 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls6286, "<nothing>/.dispatch-type", type_impl_0, "toccata.toc", 2357);

// type-unknown .c-var
// #line 2358 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", type_impl_0, "toccata.toc", 2358);

// call-vector
// #line 2357 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, strPtr17);
newVect3 = mutateVectConj(newVect3, strPtr27);
newVect3 = mutateVectConj(newVect3, rslt1);
newVect3 = mutateVectConj(newVect3, strPtr750);
newVect3 = mutateVectConj(newVect3, rslt2);
newVect3 = mutateVectConj(newVect3, strPtr28);
Value *rslt4 = (Value *)newVect3;
return(rslt4);

};};
FnArity staticArity9094 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9093};
Function anon_9095 = {FunctionType, -1, "anon", 1, {&staticArity9094}};
Value *fn9092 = (Value *)&anon_9095;


// --------- anon -------------
Value *fn9091;
Value *arityImpl9096(List *closures, Value *arg_0) {
 while (1) {

// static-variadic
// #line 2362 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)arg_0, varArgs1);
varArgs1 = (List *)listCons((Value *)strPtr492, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity9097 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9096};
Function anon_9098 = {FunctionType, -1, "anon", 1, {&staticArity9097}};
Value *fn9091 = (Value *)&anon_9098;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[15];
} str751 = {StringType, -1, 14, 0, "  return(proto"};
Value *strPtr751 = (Value *)&str751;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str752 = {StringType, -1, 6, 0, "));\n}\n"};
Value *strPtr752 = (Value *)&str752;
Value *emit_proto_dispatcher_9090(List *closures, Value *fn_name_0, Value *proto_disp_1) {
 while (1) {

incRef(fn_name_0, 3);

incRef(proto_disp_1, 4);

// type-unknown .arg-count
// #line 2342 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls6205, "<nothing>/.arg-count", proto_disp_1, "toccata.toc", 2342);
Value *num_args_3 = rslt2;

incRef(num_args_3, 4);

// static-fixed
// #line 2343 "toccata.toc"
Value *rslt4 = range_795(empty_list, num_args_3);

// static-variadic
// #line 2343 "toccata.toc"
List *varArgs5 = empty_list;
varArgs5 = (List *)listCons((Value *)strPtr293, varArgs5);
varArgs5 = (List *)listCons((Value *)str_525, varArgs5);
Value *rslt6 = partial_969(empty_list, (Value *)varArgs5);

// type-unknown map
// #line 2343 "toccata.toc"
Value *rslt7 = proto2Arg(&map_Implementations_254, "<nothing>/map", rslt4, rslt6, "toccata.toc", 2343);
Value *args_8 = rslt7;

incRef(args_8, 1);

// type-unknown .impls-sym
// #line 2344 "toccata.toc"
Value *rslt9 = proto1Arg(&protoImpls6213, "<nothing>/.impls-sym", proto_disp_1, "toccata.toc", 2344);
Value *impls_sym_10 = rslt9;

incRef(impls_sym_10, 1);

// type-unknown .type-impls
// #line 2345 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls6217, "<nothing>/.type-impls", proto_disp_1, "toccata.toc", 2345);
Value *impls_12 = rslt11;

incRef(impls_12, 1);

// static-fixed
// #line 2346 "toccata.toc"
Value *rslt13 = gensym_1675(empty_list, strPtr602);
Value *arity_sym_14 = rslt13;

incRef(arity_sym_14, 2);

// static-variadic
// #line 2348 "toccata.toc"
List *varArgs15 = empty_list;
varArgs15 = (List *)listCons((Value *)arity_sym_14, varArgs15);
varArgs15 = (List *)listCons((Value *)strPtr295, varArgs15);
Value *rslt16 = str_526(empty_list, (Value *)varArgs15);

// static-variadic
// #line 2349 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)arity_sym_14, varArgs17);
varArgs17 = (List *)listCons((Value *)strPtr295, varArgs17);
Value *rslt18 = str_526(empty_list, (Value *)varArgs17);

// call-vector
// #line 2350 "toccata.toc"
Vector *newVect19 = empty_vect;
Value *rslt20 = (Value *)newVect19;

// type-unknown count
// #line 2353 "toccata.toc"
Value *rslt21 = proto1Arg(&count_Implementations_300, "<nothing>/count", impls_12, "toccata.toc", 2353);

// type-unknown vals
// #line 2354 "toccata.toc"
Value *rslt22 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", impls_12, "toccata.toc", 2354);

// type-unknown flat-map
// #line 2354 "toccata.toc"
Value *rslt23 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt22, fn9092, "toccata.toc", 2354);

// type-unknown rest
// #line 2354 "toccata.toc"
Value *rslt24 = proto1Arg(&rest_Implementations_329, "<nothing>/rest", rslt23, "toccata.toc", 2354);

// type-unknown .dispatch-sym
// #line 2361 "toccata.toc"
Value *rslt25 = proto1Arg(&protoImpls6209, "<nothing>/.dispatch-sym", proto_disp_1, "toccata.toc", 2361);

// type-unknown map
// #line 2362 "toccata.toc"
Value *rslt26 = proto2Arg(&map_Implementations_254, "<nothing>/map", args_8, fn9091, "toccata.toc", 2362);

// type-unknown conj
// #line 2362 "toccata.toc"
Value *rslt27 = proto2Arg(&conj_Implementations_291, "<nothing>/conj", rslt26, strPtr604, "toccata.toc", 2362);

// static-fixed
// #line 2362 "toccata.toc"
Value *rslt28 = interpose_503(empty_list, rslt27, strPtr17);

// type-unknown ast/file-name
// #line 2369 "toccata.toc"
Value *rslt29 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", fn_name_0, "toccata.toc", 2369);

// static-variadic
// #line 2369 "toccata.toc"
List *varArgs30 = empty_list;
varArgs30 = (List *)listCons((Value *)strPtr8, varArgs30);
varArgs30 = (List *)listCons((Value *)rslt29, varArgs30);
varArgs30 = (List *)listCons((Value *)strPtr8, varArgs30);
Value *rslt31 = str_526(empty_list, (Value *)varArgs30);

// type-unknown ast/line-number
// #line 2370 "toccata.toc"
Value *rslt32 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", fn_name_0, "toccata.toc", 2370);

// call-vector
// #line 2369 "toccata.toc"
Vector *newVect33 = empty_vect;
newVect33 = mutateVectConj(newVect33, rslt31);
newVect33 = mutateVectConj(newVect33, rslt32);
Value *rslt34 = (Value *)newVect33;

// call-list
// #line 2368 "toccata.toc"
List *newList35 = empty_list;
newList35 = listCons((Value *)rslt34, newList35);
Value *rslt36 = (Value *)newList35;

// type-unknown comp*
// #line 2368 "toccata.toc"
Value *rslt37 = proto2Arg(&comp_STAR__Implementations_238, "comp*", args_8, rslt36, "toccata.toc", 2368);

// static-fixed
// #line 2367 "toccata.toc"
Value *rslt38 = interpose_503(empty_list, rslt37, strPtr17);

// type-unknown .dispatch-sym
// #line 2374 "toccata.toc"
Value *rslt39 = proto1Arg(&protoImpls6209, "<nothing>/.dispatch-sym", proto_disp_1, "toccata.toc", 2374);

// call-vector
// #line 2351 "toccata.toc"
Vector *newVect40 = empty_vect;
newVect40 = mutateVectConj(newVect40, strPtr747);
newVect40 = mutateVectConj(newVect40, fn_name_0);
newVect40 = mutateVectConj(newVect40, strPtr4);
newVect40 = mutateVectConj(newVect40, num_args_3);
newVect40 = mutateVectConj(newVect40, strPtr748);
newVect40 = mutateVectConj(newVect40, strPtr666);
newVect40 = mutateVectConj(newVect40, impls_sym_10);
newVect40 = mutateVectConj(newVect40, strPtr592);
newVect40 = mutateVectConj(newVect40, rslt21);
newVect40 = mutateVectConj(newVect40, strPtr749);
newVect40 = mutateVectConj(newVect40, rslt24);
newVect40 = mutateVectConj(newVect40, strPtr677);
newVect40 = mutateVectConj(newVect40, strPtr492);
newVect40 = mutateVectConj(newVect40, rslt25);
newVect40 = mutateVectConj(newVect40, strPtr16);
newVect40 = mutateVectConj(newVect40, rslt28);
newVect40 = mutateVectConj(newVect40, strPtr647);
newVect40 = mutateVectConj(newVect40, strPtr751);
newVect40 = mutateVectConj(newVect40, num_args_3);
newVect40 = mutateVectConj(newVect40, strPtr528);
newVect40 = mutateVectConj(newVect40, impls_sym_10);
newVect40 = mutateVectConj(newVect40, strPtr529);
newVect40 = mutateVectConj(newVect40, fn_name_0);
newVect40 = mutateVectConj(newVect40, strPtr530);
newVect40 = mutateVectConj(newVect40, rslt38);
newVect40 = mutateVectConj(newVect40, strPtr752);
newVect40 = mutateVectConj(newVect40, strPtr614);
newVect40 = mutateVectConj(newVect40, arity_sym_14);
newVect40 = mutateVectConj(newVect40, strPtr615);
newVect40 = mutateVectConj(newVect40, num_args_3);
newVect40 = mutateVectConj(newVect40, strPtr616);
newVect40 = mutateVectConj(newVect40, rslt39);
newVect40 = mutateVectConj(newVect40, strPtr506);
Value *rslt41 = (Value *)newVect40;

// static-variadic
// #line 2375 "toccata.toc"
List *varArgs42 = empty_list;
Value *rslt43 = hash_map_1208(empty_list, (Value *)varArgs42);

// call invoke
// #line 2349 "toccata.toc"
Value *rslt44 = c_code_invoke_5942(empty_list, reifiedPtr5945, rslt18, rslt20, rslt41, FnArityType_5365, rslt43);

// call invoke
// #line 2347 "toccata.toc"
Value *rslt45 = StaticArity_invoke_7770(empty_list, reifiedPtr7773, rslt16, num_args_3, UnknownType_5361, rslt44);
Value *dispatcher_46 = rslt45;

// call invoke
// #line 2376 "toccata.toc"
Value *rslt47 = arityImpl2933(empty_list, reifiedPtr2939, dispatcher_46);
return(rslt47);

};};
FnArity emit_proto_dispatcher_9099 = {FnArityType, -1, 2, (List *)0, 0, emit_proto_dispatcher_9090};
Function emit_proto_dispatcher_9100 = {FunctionType, -1, "emit-proto-dispatcher", 1, {&emit_proto_dispatcher_9099}};
Value *emit_proto_dispatcher_9089 = (Value *)&emit_proto_dispatcher_9100;


// --------- emit-proto-fn -------------
Value *emit_proto_fn_9102;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[8];
} str753 = {StringType, -1, 7, 0, "protoFn"};
Value *strPtr753 = (Value *)&str753;

// --------- anon -------------
Value *fn9106;
Value *arityImpl9107(List *closures, Value *arity_0) {
 while (1) {

// type-unknown .var-info
// #line 2383 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls7761, "<nothing>/.var-info", arity_0, "toccata.toc", 2383);

// type-unknown .decl
// #line 2383 "toccata.toc"
Value *rslt2 = proto1Arg(&protoImpls5871, "<nothing>/.decl", rslt1, "toccata.toc", 2383);
return(rslt2);

};};
FnArity staticArity9108 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9107};
Function anon_9109 = {FunctionType, -1, "anon", 1, {&staticArity9108}};
Value *fn9106 = (Value *)&anon_9109;

Value *arityImpl9105(List *closures, Value *arities_0) {
while (1) {

incRef(arities_0, 2);
Value *val1;
Value *val5;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs18[4] = {&val1, &val5, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 4, destArgs18);

incRef(val5, 1);

incRef(val6, 1);

dec_and_free(closuresTail, 1);

// call-vector
// #line 2382 "toccata.toc"
Vector *newVect2 = empty_vect;
Value *rslt3 = (Value *)newVect2;

// type-unknown map
// #line 2383 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", arities_0, fn9106, "toccata.toc", 2383);

// type-unknown .fn-sym
// #line 2385 "toccata.toc"
Value *rslt7 = proto1Arg(&protoImpls2701, "<nothing>/.fn-sym", val6, "toccata.toc", 2385);

// type-unknown count
// #line 2385 "toccata.toc"
Value *rslt8 = proto1Arg(&count_Implementations_300, "<nothing>/count", arities_0, "toccata.toc", 2385);

// type-unknown map
// #line 2386 "toccata.toc"
Value *rslt9 = proto2Arg(&map_Implementations_254, "<nothing>/map", arities_0, dispatchFnPtr7747, "toccata.toc", 2386);

// static-fixed
// #line 2386 "toccata.toc"
Value *rslt10 = interpose_503(empty_list, rslt9, strPtr17);

// type-unknown .disp-sym
// #line 2387 "toccata.toc"
Value *rslt11 = proto1Arg(&protoImpls6116, "<nothing>/.disp-sym", val6, "toccata.toc", 2387);

// call-vector
// #line 2383 "toccata.toc"
Vector *newVect12 = empty_vect;
newVect12 = mutateVectConj(newVect12, rslt4);
newVect12 = mutateVectConj(newVect12, strPtr675);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr676);
newVect12 = mutateVectConj(newVect12, rslt7);
newVect12 = mutateVectConj(newVect12, strPtr530);
newVect12 = mutateVectConj(newVect12, rslt8);
newVect12 = mutateVectConj(newVect12, strPtr749);
newVect12 = mutateVectConj(newVect12, rslt10);
newVect12 = mutateVectConj(newVect12, strPtr677);
newVect12 = mutateVectConj(newVect12, strPtr492);
newVect12 = mutateVectConj(newVect12, rslt11);
newVect12 = mutateVectConj(newVect12, strPtr493);
newVect12 = mutateVectConj(newVect12, val5);
newVect12 = mutateVectConj(newVect12, strPtr678);
Value *rslt13 = (Value *)newVect12;

// static-variadic
// #line 2388 "toccata.toc"
List *varArgs14 = empty_list;
Value *rslt15 = hash_map_1208(empty_list, (Value *)varArgs14);

// call invoke
// #line 2382 "toccata.toc"
Value *rslt16 = c_code_invoke_5942(empty_list, reifiedPtr5945, strPtr0, rslt3, rslt13, UnknownType_5361, rslt15);

// type-unknown wrap
// #line 2380 "toccata.toc"
Value *rslt17 = proto2Arg(&wrap_Implementations_248, "wrap", val1, rslt16, "toccata.toc", 2380);
return(rslt17);

};};
Value *emit_proto_fn_9103(List *closures, Value *proto_fn_0) {
 while (1) {

incRef(proto_fn_0, 2);

// static-fixed
// #line 2379 "toccata.toc"
Value *rslt1 = gensym_1675(empty_list, strPtr753);
Value *fn_sym_2 = rslt1;

// type-unknown .dispatchers
// #line 2380 "toccata.toc"
Value *rslt3 = proto1Arg(&protoImpls6120, "<nothing>/.dispatchers", proto_fn_0, "toccata.toc", 2380);

// type-unknown vals
// #line 2380 "toccata.toc"
Value *rslt4 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", rslt3, "toccata.toc", 2380);

// type-unknown .fn-sym
// #line 2381 "toccata.toc"
Value *rslt5 = proto1Arg(&protoImpls2701, "<nothing>/.fn-sym", proto_fn_0, "toccata.toc", 2381);

// static-variadic
// #line 2381 "toccata.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)emit_proto_dispatcher_9089, varArgs6);
Value *rslt7 = partial_969(empty_list, (Value *)varArgs6);

// static-fixed
// #line 2380 "toccata.toc"
Value *rslt8 = traverse_6470(empty_list, rslt4, rslt7);
Value *wrapper_9 = rslt8;

incRef(wrapper_9, 1);
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl9105;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)proto_fn_0, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)fn_sym_2, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)wrapper_9, (List *)dynArity10->closures);
Function *anon_9110 = malloc_function(1);
anon_9110->name = "anon";
anon_9110->arityCount = 1;
anon_9110->arities[0] = dynArity10;
Value *fn9104 = (Value *)anon_9110;

// type-unknown flat-map
// #line 2380 "toccata.toc"
Value *rslt11 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_9, fn9104, "toccata.toc", 2380);
return(rslt11);

};};
FnArity emit_proto_fn_9111 = {FnArityType, -1, 1, (List *)0, 0, emit_proto_fn_9103};
Function emit_proto_fn_9112 = {FunctionType, -1, "emit-proto-fn", 1, {&emit_proto_fn_9111}};
Value *emit_proto_fn_9102 = (Value *)&emit_proto_fn_9112;


// --------- get-proto-dispatch-sym -------------
Value *get_proto_dispatch_sym_9114;
Value *get_proto_dispatch_sym_9115(List *closures, Value *fn_name_0, Value *num_args_1) {
 while (1) {

// call-vector
// #line 2391 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, symPtr34);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5512);
newVect2 = mutateVectConj(newVect2, fn_name_0);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr6112);
newVect2 = mutateVectConj(newVect2, num_args_1);
newVect2 = mutateVectConj(newVect2, dispatchFnPtr6202);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 2391 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);
return(rslt4);

};};
FnArity get_proto_dispatch_sym_9116 = {FnArityType, -1, 2, (List *)0, 0, get_proto_dispatch_sym_9115};
Function get_proto_dispatch_sym_9117 = {FunctionType, -1, "get-proto-dispatch-sym", 1, {&get_proto_dispatch_sym_9116}};
Value *get_proto_dispatch_sym_9114 = (Value *)&get_proto_dispatch_sym_9117;

Value *ast_emitter_9118;

// --------- update-context -------------
Value *update_context_9120;
Value *update_context_9121(List *closures, Value *context_0, Value *update_1) {
 while (1) {

// type-unknown flat-map
// #line 2396 "toccata.toc"
Value *rslt2 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", context_0, update_1, "toccata.toc", 2396);

// type-unknown flat-map
// #line 2396 "toccata.toc"
Value *rslt3 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", rslt2, second_344, "toccata.toc", 2396);
return(rslt3);

};};
FnArity update_context_9122 = {FnArityType, -1, 2, (List *)0, 0, update_context_9121};
Function update_context_9123 = {FunctionType, -1, "update-context", 1, {&update_context_9122}};
Value *update_context_9120 = (Value *)&update_context_9123;


// --------- new-module -------------
Value *new_module_9125;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[48];
} str754 = {StringType, -1, 47, 0, "Compilation error (Could not prepare new module"};
Value *strPtr754 = (Value *)&str754;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str755 = {StringType, -1, 2, 0, ".)"};
Value *strPtr755 = (Value *)&str755;
Value *new_module_9126(List *closures, Value *context_0, Value *module_name_1) {
 while (1) {

incRef(module_name_1, 3);

// call-vector
// #line 2401 "toccata.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, dispatchFnPtr5586);
newVect2 = mutateVectConj(newVect2, module_name_1);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 2401 "toccata.toc"
Value *rslt4 = get_in_val_3549(empty_list, rslt3);

// call-vector
// #line 2402 "toccata.toc"
Vector *newVect5 = empty_vect;
newVect5 = mutateVectConj(newVect5, dispatchFnPtr5586);
newVect5 = mutateVectConj(newVect5, module_name_1);
Value *rslt6 = (Value *)newVect5;

// static-variadic
// #line 2403 "toccata.toc"
List *varArgs7 = empty_list;
Value *rslt8 = hash_map_1208(empty_list, (Value *)varArgs7);

// static-variadic
// #line 2403 "toccata.toc"
List *varArgs9 = empty_list;
Value *rslt10 = hash_map_1208(empty_list, (Value *)varArgs9);

// static-variadic
// #line 2403 "toccata.toc"
List *varArgs11 = empty_list;
Value *rslt12 = hash_map_1208(empty_list, (Value *)varArgs11);

// static-variadic
// #line 2403 "toccata.toc"
List *varArgs13 = empty_list;
Value *rslt14 = hash_map_1208(empty_list, (Value *)varArgs13);

// call invoke
// #line 2403 "toccata.toc"
Value *rslt15 = Module_invoke_5538(empty_list, reifiedPtr5541, module_name_1, rslt8, rslt10, rslt12, core_types_5387, rslt14);

// static-fixed
// #line 2402 "toccata.toc"
Value *rslt16 = assoc_in_val_3599(empty_list, rslt6, rslt15);

// static-variadic
// #line 2404 "toccata.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)strPtr755, varArgs17);
varArgs17 = (List *)listCons((Value *)module_name_1, varArgs17);
varArgs17 = (List *)listCons((Value *)strPtr754, varArgs17);
Value *rslt18 = compilation_error_5400(empty_list, (Value *)varArgs17);

// call-list
// #line 2401 "toccata.toc"
List *newList19 = empty_list;
newList19 = listCons((Value *)rslt18, newList19);
newList19 = listCons((Value *)rslt16, newList19);
Value *rslt20 = (Value *)newList19;

// type-known for comp*
// #line 2401 "toccata.toc"
Value *rslt21 = new_sm_comp_STAR__2805(empty_list, rslt4, rslt20);

// static-fixed
// #line 2400 "toccata.toc"
Value *rslt22 = update_context_9121(empty_list, context_0, rslt21);
return(rslt22);

};};
FnArity new_module_9127 = {FnArityType, -1, 2, (List *)0, 0, new_module_9126};
Function new_module_9128 = {FunctionType, -1, "new-module", 1, {&new_module_9127}};
Value *new_module_9125 = (Value *)&new_module_9128;


// --------- emit-ast -------------
Value *emit_ast_9130;

// --------- anon -------------
Value *fn9134;
Value *arityImpl9135(List *closures, Value *expr_0) {
 while (1) {

// type-unknown .decl
// #line 2412 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5871, "<nothing>/.decl", expr_0, "toccata.toc", 2412);

// static-fixed
// #line 2412 "toccata.toc"
Value *rslt2 = write_strings_9071(empty_list, rslt1);
return(rslt2);

};};
FnArity staticArity9136 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9135};
Function anon_9137 = {FunctionType, -1, "anon", 1, {&staticArity9136}};
Value *fn9134 = (Value *)&anon_9137;

Value *arityImpl9141(List *closures, Value *exprs_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-list
// #line 2414 "toccata.toc"
List *newList2 = empty_list;
newList2 = listCons((Value *)val1, newList2);
Value *rslt3 = (Value *)newList2;

// type-unknown comp*
// #line 2414 "toccata.toc"
Value *rslt4 = proto2Arg(&comp_STAR__Implementations_238, "comp*", exprs_0, rslt3, "toccata.toc", 2414);
return(rslt4);

};};
Value *arityImpl9144(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val15;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs21[3] = {&val1, &val15, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs21);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val15, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9145_13 = ss_10;
Value *arg14 = v_9;

dec_and_free(arg14, 1);

// type-unknown wrap
// #line 2413 "toccata.toc"
Value *rslt16 = proto2Arg(&wrap_Implementations_248, "wrap", val15, strPtr0, "toccata.toc", 2413);

// dynamic unknown type
// #line 2413 "toccata.toc"
Value *rslt20;
if((rslt16)->type != FunctionType) {
rslt20 = invoke_368(empty_list, rslt16, arg9145_13);
} else {
FnArity *arity17 = findFnArity(rslt16, 1);
if(arity17 != (FnArity *)0 && !arity17->variadic) {
FnType1 *fn19 = (FnType1 *)arity17->fn;
rslt20 = fn19(arity17->closures, arg9145_13);
} else if(arity17 != (FnArity *)0 && arity17->variadic) {
FnType1 *fn19 = (FnType1 *)arity17->fn;
List *dynArgs18 = empty_list;
dynArgs18 = (List *)listCons(arg9145_13, dynArgs18);
rslt20 = fn19(arity17->closures, (Value *)dynArgs18);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt16)->name);
  abort();
}
dec_and_free(rslt16, 1);
}
return(rslt20);
andRslt7 = rslt20;
}

};};
Value *arityImpl9133(List *closures, Value *emitted_0) {
while (1) {

incRef(emitted_0, 1);
Value *val13;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs15[2] = {&val13, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs15);

dec_and_free(closuresTail, 1);

// type-unknown map
// #line 2411 "toccata.toc"
Value *rslt1 = proto2Arg(&map_Implementations_254, "<nothing>/map", emitted_0, fn9134, "toccata.toc", 2411);
Value *arg2 = rslt1;

dec_and_free(arg2, 1);

// call-vector
// #line 2413 "toccata.toc"
Vector *newVect3 = empty_vect;
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5587);
newVect3 = mutateVectConj(newVect3, dispatchFnPtr5468);
Value *rslt4 = (Value *)newVect3;
FnArity *dynArity5 = malloc_fnArity();
dynArity5->count = 1;
dynArity5->variadic = 0;
dynArity5->fn = arityImpl9141;
dynArity5->closures = empty_list;
dynArity5->closures = listCons((Value *)emitted_0, (List *)dynArity5->closures);
Function *anon_9142 = malloc_function(1);
anon_9142->name = "anon";
anon_9142->arityCount = 1;
anon_9142->arities[0] = dynArity5;
Value *fn9140 = (Value *)anon_9142;

// static-fixed
// #line 2413 "toccata.toc"
Value *rslt6 = update_in_val_3782(empty_list, rslt4, fn9140);
Value *ev_7 = rslt6;
Value *rslt8 = reified_type_args_22(empty_list, ev_7);
Value *invoke_fn_9;
Value *tail_10;
Value **destArgs11[2] = {&invoke_fn_9, &tail_10};
destructValue("", "0", (Value *)rslt8, 2, destArgs11);

dec_and_free(tail_10, 1);
FnArity *dynArity12 = malloc_fnArity();
dynArity12->count = 1;
dynArity12->variadic = 0;
dynArity12->fn = arityImpl9144;
dynArity12->closures = empty_list;
dynArity12->closures = listCons((Value *)val13, (List *)dynArity12->closures);
dynArity12->closures = listCons((Value *)invoke_fn_9, (List *)dynArity12->closures);
Function *anon_9146 = malloc_function(1);
anon_9146->name = "anon";
anon_9146->arityCount = 1;
anon_9146->arities[0] = dynArity12;
Value *fn9143 = (Value *)anon_9146;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9143);
return(rslt14);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[39];
} str756 = {StringType, -1, 38, 0, "Could not emit code for expression at "};
Value *strPtr756 = (Value *)&str756;
Value *emit_ast_9131(List *closures, Value *context_0, Value *ast_1) {
 while (1) {

incRef(ast_1, 2);

// type-unknown emit-definition
// #line 2410 "toccata.toc"
Value *rslt2 = proto1Arg(&emit_definition_Implementations_5834, "<nothing>/emit-definition", ast_1, "toccata.toc", 2410);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
FnArity *dynArity4 = malloc_fnArity();
dynArity4->count = 1;
dynArity4->variadic = 0;
dynArity4->fn = arityImpl9133;
dynArity4->closures = empty_list;
dynArity4->closures = listCons((Value *)wrapper_3, (List *)dynArity4->closures);
Function *anon_9147 = malloc_function(1);
anon_9147->name = "anon";
anon_9147->arityCount = 1;
anon_9147->arities[0] = dynArity4;
Value *fn9132 = (Value *)anon_9147;

// type-unknown flat-map
// #line 2410 "toccata.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_3, fn9132, "toccata.toc", 2410);

// type-unknown ast/file-name
// #line 2417 "toccata.toc"
Value *rslt6 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", ast_1, "toccata.toc", 2417);

// type-unknown ast/line-number
// #line 2417 "toccata.toc"
Value *rslt7 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", ast_1, "toccata.toc", 2417);

// static-variadic
// #line 2416 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)rslt7, varArgs8);
varArgs8 = (List *)listCons((Value *)rslt6, varArgs8);
varArgs8 = (List *)listCons((Value *)strPtr756, varArgs8);
Value *rslt9 = compilation_error_5400(empty_list, (Value *)varArgs8);
List *newList10 = empty_list;
newList10 = listCons((Value *)rslt9, newList10);
Value *rslt11 = (Value *)newList10;
Value *rslt12 = proto2Arg(&comp_STAR__Implementations_238, "comp*", rslt5, rslt11, "", 0);

// static-fixed
// #line 2409 "toccata.toc"
Value *rslt13 = update_context_9121(empty_list, context_0, rslt12);
return(rslt13);

};};
FnArity emit_ast_9148 = {FnArityType, -1, 2, (List *)0, 0, emit_ast_9131};
Function emit_ast_9149 = {FunctionType, -1, "emit-ast", 1, {&emit_ast_9148}};
Value *emit_ast_9130 = (Value *)&emit_ast_9149;


// --------- emit-main -------------
Value *emit_main_9151;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[52];
} str757 = {StringType, -1, 51, 0, "Compilation error (Could not emit 'main' function.)"};
Value *strPtr757 = (Value *)&str757;
Value *emit_main_9152(List *closures, Value *context_0) {
 while (1) {

// static-variadic
// #line 2423 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)strPtr757, varArgs1);
Value *rslt2 = compilation_error_5400(empty_list, (Value *)varArgs1);

// call-list
// #line 2422 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;

// type-known for comp*
// #line 2422 "toccata.toc"
Value *rslt5 = new_sm_comp_STAR__2805(empty_list, emit_main_STAR__9087, rslt4);

// static-fixed
// #line 2421 "toccata.toc"
Value *rslt6 = update_context_9121(empty_list, context_0, rslt5);
return(rslt6);

};};
FnArity emit_main_9153 = {FnArityType, -1, 1, (List *)0, 0, emit_main_9152};
Function emit_main_9154 = {FunctionType, -1, "emit-main", 1, {&emit_main_9153}};
Value *emit_main_9151 = (Value *)&emit_main_9154;

Value *arityImpl9156(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs17[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs17);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);

// type-unknown vals
// #line 2426 "toccata.toc"
Value *rslt13 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", v_9, "toccata.toc", 2426);

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, rslt13);
newVect14 = mutateVectConj(newVect14, new_s_10);
Value *rslt15 = (Value *)newVect14;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt16 = maybe_4(empty_list, rslt15);
return(rslt16);
andRslt7 = rslt16;
}

};};
Value *arityImpl9178(List *closures, Value *proto_fn_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// type-unknown wrap
// #line 2428 "toccata.toc"
Value *rslt2 = proto2Arg(&wrap_Implementations_248, "wrap", val1, proto_fn_0, "toccata.toc", 2428);
return(rslt2);

};};
Value *arityImpl9176(List *closures, Value *module_0) {
while (1) {
Value *val4;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[2] = {&val4, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs6);

dec_and_free(closuresTail, 1);

// type-unknown .proto-fns
// #line 2428 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5521, "<nothing>/.proto-fns", module_0, "toccata.toc", 2428);

// type-unknown vals
// #line 2428 "toccata.toc"
Value *rslt2 = proto1Arg(&vals_Implementations_356, "<nothing>/vals", rslt1, "toccata.toc", 2428);
FnArity *dynArity3 = malloc_fnArity();
dynArity3->count = 1;
dynArity3->variadic = 0;
dynArity3->fn = arityImpl9178;
dynArity3->closures = empty_list;
dynArity3->closures = listCons((Value *)val4, (List *)dynArity3->closures);
Function *anon_9179 = malloc_function(1);
anon_9179->name = "anon";
anon_9179->arityCount = 1;
anon_9179->arities[0] = dynArity3;
Value *fn9177 = (Value *)anon_9179;

// type-unknown flat-map
// #line 2428 "toccata.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt2, fn9177, "toccata.toc", 2428);
return(rslt5);

};};

// --------- anon -------------
Value *fn9183;
Value *arityImpl9184(List *closures, Value *expr_0) {
 while (1) {

// type-unknown .decl
// #line 2431 "toccata.toc"
Value *rslt1 = proto1Arg(&protoImpls5871, "<nothing>/.decl", expr_0, "toccata.toc", 2431);

// static-fixed
// #line 2431 "toccata.toc"
Value *rslt2 = write_strings_9071(empty_list, rslt1);
return(rslt2);

};};
FnArity staticArity9185 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9184};
Function anon_9186 = {FunctionType, -1, "anon", 1, {&staticArity9185}};
Value *fn9183 = (Value *)&anon_9186;

Value *arityImpl9188(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl9181(List *closures, Value *dispatchers_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs11[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs11);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

// type-unknown map
// #line 2431 "toccata.toc"
Value *rslt3 = proto2Arg(&map_Implementations_254, "<nothing>/map", dispatchers_0, fn9183, "toccata.toc", 2431);
Value *v_4 = rslt3;
Value *rslt5 = reified_type_args_22(empty_list, __2);
Value *invoke_fn_6;
Value *tail_7;
Value **destArgs8[2] = {&invoke_fn_6, &tail_7};
destructValue("", "0", (Value *)rslt5, 2, destArgs8);

dec_and_free(invoke_fn_6, 1);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl9188;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)v_4, (List *)dynArity9->closures);
Function *anon_9189 = malloc_function(1);
anon_9189->name = "anon";
anon_9189->arityCount = 1;
anon_9189->arities[0] = dynArity9;
Value *fn9187 = (Value *)anon_9189;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt10 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9187);
return(rslt10);

};};
Value *arityImpl9160(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *val20;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs26[3] = {&val1, &val20, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs26);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
dec_and_free(val20, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 49 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 49);
Value *v_9;
Value *ss_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &ss_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arg9161_13 = ss_10;
Value *modules_14 = v_9;
Value *wrapper_15 = modules_14;

incRef(wrapper_15, 1);
FnArity *dynArity16 = malloc_fnArity();
dynArity16->count = 1;
dynArity16->variadic = 0;
dynArity16->fn = arityImpl9176;
dynArity16->closures = empty_list;
dynArity16->closures = listCons((Value *)wrapper_15, (List *)dynArity16->closures);
Function *anon_9180 = malloc_function(1);
anon_9180->name = "anon";
anon_9180->arityCount = 1;
anon_9180->arities[0] = dynArity16;
Value *fn9175 = (Value *)anon_9180;

// type-unknown flat-map
// #line 2427 "toccata.toc"
Value *rslt17 = proto2Arg(&flat_map_Implementations_260, "flat-map", wrapper_15, fn9175, "toccata.toc", 2427);

// static-fixed
// #line 2427 "toccata.toc"
Value *rslt18 = traverse_6470(empty_list, rslt17, emit_proto_fn_9102);
FnArity *dynArity19 = malloc_fnArity();
dynArity19->count = 1;
dynArity19->variadic = 0;
dynArity19->fn = arityImpl9181;
dynArity19->closures = empty_list;
dynArity19->closures = listCons((Value *)val20, (List *)dynArity19->closures);
Function *anon_9190 = malloc_function(1);
anon_9190->name = "anon";
anon_9190->arityCount = 1;
anon_9190->arities[0] = dynArity19;
Value *fn9168 = (Value *)anon_9190;

// type-unknown flat-map
// #line 2427 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt18, fn9168, "toccata.toc", 2427);

// dynamic unknown type
// #line 2427 "toccata.toc"
Value *rslt25;
if((rslt21)->type != FunctionType) {
rslt25 = invoke_368(empty_list, rslt21, arg9161_13);
} else {
FnArity *arity22 = findFnArity(rslt21, 1);
if(arity22 != (FnArity *)0 && !arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
rslt25 = fn24(arity22->closures, arg9161_13);
} else if(arity22 != (FnArity *)0 && arity22->variadic) {
FnType1 *fn24 = (FnType1 *)arity22->fn;
List *dynArgs23 = empty_list;
dynArgs23 = (List *)listCons(arg9161_13, dynArgs23);
rslt25 = fn24(arity22->closures, (Value *)dynArgs23);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt21)->name);
  abort();
}
dec_and_free(rslt21, 1);
}
return(rslt25);
andRslt7 = rslt25;
}

};};
Value *finalize_protocols_STAR__9192;

// --------- finalize-protocols -------------
Value *finalize_protocols_9194;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[50];
} str758 = {StringType, -1, 49, 0, "Compilation error (Could not finalize protocols.)"};
Value *strPtr758 = (Value *)&str758;
Value *finalize_protocols_9195(List *closures, Value *context_0) {
 while (1) {

// static-variadic
// #line 2437 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)strPtr758, varArgs1);
Value *rslt2 = compilation_error_5400(empty_list, (Value *)varArgs1);

// call-list
// #line 2436 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;

// type-known for comp*
// #line 2436 "toccata.toc"
Value *rslt5 = new_sm_comp_STAR__2805(empty_list, finalize_protocols_STAR__9192, rslt4);

// static-fixed
// #line 2435 "toccata.toc"
Value *rslt6 = update_context_9121(empty_list, context_0, rslt5);
return(rslt6);

};};
FnArity finalize_protocols_9196 = {FnArityType, -1, 1, (List *)0, 0, finalize_protocols_9195};
Function finalize_protocols_9197 = {FunctionType, -1, "finalize-protocols", 1, {&finalize_protocols_9196}};
Value *finalize_protocols_9194 = (Value *)&finalize_protocols_9197;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[40];
} str759 = {StringType, -1, 39, 0, "Value *(*type_name)(List *, Value *) = "};
Value *strPtr759 = (Value *)&str759;
Value *arityImpl9217(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2444 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr759);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};

// --------- anon -------------
Value *fn9219;
Value *arityImpl9220(List *closures, Value *arg1) {
 while (1) {
Value *decl_0 = (Value *)arg1;

// static-fixed
// #line 2441 "toccata.toc"
Value *rslt2 = write_strings_9071(empty_list, decl_0);
return(rslt2);

};};
FnArity staticArity9221 = {FnArityType, -1, 1, (List *)0, 1, arityImpl9220};
Function anon_9222 = {FunctionType, -1, "anon", 1, {&staticArity9221}};
Value *fn9219 = (Value *)&anon_9222;

Value *arityImpl9224(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);

// call-vector
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect2 = empty_vect;
newVect2 = mutateVectConj(newVect2, val1);
newVect2 = mutateVectConj(newVect2, s_0);
Value *rslt3 = (Value *)newVect2;

// static-fixed
// #line 35 "/Users/jim/toccata/state-maybe.toc"
Value *rslt4 = maybe_4(empty_list, rslt3);
return(rslt4);

};};
Value *arityImpl9240(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2444 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr759);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[42];
} str760 = {StringType, -1, 41, 0, "Value *(*invoke0Args)(List *, Value *) = "};
Value *strPtr760 = (Value *)&str760;
Value *arityImpl9243(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2448 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr760);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[49];
} str761 = {StringType, -1, 48, 0, "Value *(*invoke1Arg)(List *, Value *, Value*) = "};
Value *strPtr761 = (Value *)&str761;
Value *arityImpl9246(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2452 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr761);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[58];
} str762 = {StringType, -1, 57, 0, "Value *(*invoke2Args)(List *, Value *, Value*, Value*) = "};
Value *strPtr762 = (Value *)&str762;
Value *arityImpl9249(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2456 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr762);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[48];
} str763 = {StringType, -1, 47, 0, "Value *(*equalSTAR)(List *, Value *, Value*) = "};
Value *strPtr763 = (Value *)&str763;
Value *arityImpl9252(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2460 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr763);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym68 = {SymbolType, -1, 8, 0, 0, "hash-seq"};
Value *symPtr68 = (Value *)&sym68;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[45];
} str764 = {StringType, -1, 44, 0, "Value *(*hashSeq)(List *, Value*, Value*) = "};
Value *strPtr764 = (Value *)&str764;
Value *arityImpl9255(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2464 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr764);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym69 = {SymbolType, -1, 5, 0, 0, "count"};
Value *symPtr69 = (Value *)&sym69;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[35];
} str765 = {StringType, -1, 34, 0, "Value *(*count)(List *, Value*) = "};
Value *strPtr765 = (Value *)&str765;
Value *arityImpl9258(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2468 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr765);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym70 = {SymbolType, -1, 4, 0, 0, "sha1"};
Value *symPtr70 = (Value *)&sym70;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[34];
} str766 = {StringType, -1, 33, 0, "Value *(*sha1)(List *, Value*) = "};
Value *strPtr766 = (Value *)&str766;
Value *arityImpl9261(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2472 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr766);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[67];
} str767 = {StringType, -1, 66, 0, "Value *(*assoc)(List *, Value*, Value*, Value*, Value*, Value*) = "};
Value *strPtr767 = (Value *)&str767;
Value *arityImpl9264(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2476 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr767);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym71 = {SymbolType, -1, 7, 0, 0, "dissoc*"};
Value *symPtr71 = (Value *)&sym71;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[60];
} str768 = {StringType, -1, 59, 0, "Value *(*dissoc)(List *, Value*, Value*, Value*, Value*) = "};
Value *strPtr768 = (Value *)&str768;
Value *arityImpl9267(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2481 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr768);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym72 = {SymbolType, -1, 4, 0, 0, "get*"};
Value *symPtr72 = (Value *)&sym72;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[65];
} str769 = {StringType, -1, 64, 0, "Value *(*get)(List *, Value*, Value*, Value*, Value*, Value*) = "};
Value *strPtr769 = (Value *)&str769;
Value *arityImpl9270(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs19[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs19);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// call-vector
// #line 2486 "toccata.toc"
Vector *newVect14 = empty_vect;
newVect14 = mutateVectConj(newVect14, strPtr769);
newVect14 = mutateVectConj(newVect14, arity_sym_13);
newVect14 = mutateVectConj(newVect14, strPtr494);
Value *rslt15 = (Value *)newVect14;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect16 = empty_vect;
newVect16 = mutateVectConj(newVect16, rslt15);
newVect16 = mutateVectConj(newVect16, new_s_10);
Value *rslt17 = (Value *)newVect16;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt18 = maybe_4(empty_list, rslt17);
return(rslt18);
andRslt7 = rslt18;
}

};};
SubString sym73 = {SymbolType, -1, 4, 0, 0, "show"};
Value *symPtr73 = (Value *)&sym73;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[37];
} str770 = {StringType, -1, 36, 0, "Value *(*showFn)(List *, Value *) = "};
Value *strPtr770 = (Value *)&str770;
Value *arityImpl9273(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs20[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs20);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// type-unknown .c-var
// #line 2491 "toccata.toc"
Value *rslt14 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_sym_13, "toccata.toc", 2491);

// call-vector
// #line 2491 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, strPtr770);
newVect15 = mutateVectConj(newVect15, rslt14);
newVect15 = mutateVectConj(newVect15, strPtr494);
Value *rslt16 = (Value *)newVect15;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, rslt16);
newVect17 = mutateVectConj(newVect17, new_s_10);
Value *rslt18 = (Value *)newVect17;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = maybe_4(empty_list, rslt18);
return(rslt19);
andRslt7 = rslt19;
}

};};
SubString sym74 = {SymbolType, -1, 8, 0, 0, "fn-apply"};
Value *symPtr74 = (Value *)&sym74;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[46];
} str771 = {StringType, -1, 45, 0, "Value *(*fn_apply)(List *, Value*, Value*) = "};
Value *strPtr771 = (Value *)&str771;
Value *arityImpl9276(List *closures, Value *s_0) {
while (1) {
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs20[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs20);

dec_and_free(closuresTail, 1);
Value *rslt5;
if((val1)->type != FunctionType) {
rslt5 = invoke_368(empty_list, val1, s_0);
} else {
FnArity *arity2 = findFnArity(val1, 1);
if(arity2 != (FnArity *)0 && !arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
rslt5 = fn4(arity2->closures, s_0);
} else if(arity2 != (FnArity *)0 && arity2->variadic) {
FnType1 *fn4 = (FnType1 *)arity2->fn;
List *dynArgs3 = empty_list;
dynArgs3 = (List *)listCons(s_0, dynArgs3);
rslt5 = fn4(arity2->closures, (Value *)dynArgs3);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)val1)->name);
  abort();
}
dec_and_free(val1, 1);
}
Value *x_6 = rslt5;

incRef(x_6, 1);
Value *andRslt7;
andRslt7 = x_6;
if (isNothing(andRslt7)) {
dec_and_free(x_6, 1);
return(nothing);
} else {
dec_and_free(andRslt7, 1);

// type-unknown extract
// #line 31 "/Users/jim/toccata/state-maybe.toc"
Value *rslt8 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", x_6, "/Users/jim/toccata/state-maybe.toc", 31);
Value *v_9;
Value *new_s_10;
Value *tail_11;
Value **destArgs12[3] = {&v_9, &new_s_10, &tail_11};
destructValue("", "0", (Value *)rslt8, 3, destArgs12);

dec_and_free(tail_11, 1);
Value *arity_sym_13 = v_9;

// type-unknown .c-var
// #line 2496 "toccata.toc"
Value *rslt14 = proto1Arg(&protoImpls5867, "<nothing>/.c-var", arity_sym_13, "toccata.toc", 2496);

// call-vector
// #line 2495 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, strPtr771);
newVect15 = mutateVectConj(newVect15, rslt14);
newVect15 = mutateVectConj(newVect15, strPtr494);
Value *rslt16 = (Value *)newVect15;

// call-vector
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect17 = empty_vect;
newVect17 = mutateVectConj(newVect17, rslt16);
newVect17 = mutateVectConj(newVect17, new_s_10);
Value *rslt18 = (Value *)newVect17;

// static-fixed
// #line 32 "/Users/jim/toccata/state-maybe.toc"
Value *rslt19 = maybe_4(empty_list, rslt18);
return(rslt19);
andRslt7 = rslt19;
}

};};
Value *arityImpl9279(List *closures, Value *s_0) {
while (1) {

incRef(s_0, 1);
Value *val2;
Value *val19;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs44[3] = {&val2, &val19, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs44);

incRef(val2, 1);

dec_and_free(closuresTail, 1);
Value *orRslt1;

// type-known for empty?
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt3 = List_empty_QM__473(empty_list, val2);
Value *mv_4 = rslt3;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect5 = empty_vect;
Value *rslt6 = (Value *)newVect5;

// call-vector
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect7 = empty_vect;
newVect7 = mutateVectConj(newVect7, rslt6);
newVect7 = mutateVectConj(newVect7, s_0);
Value *rslt8 = (Value *)newVect7;

// static-fixed
// #line 38 "/Users/jim/toccata/state-maybe.toc"
Value *rslt9 = constantly_1504(empty_list, rslt8);

// static-fixed
// #line 975 "core"
Value *rslt10 = maybe_map_729(empty_list, mv_4, rslt9);
orRslt1 = rslt10;
if (!isNothing(orRslt1)) {
dec_and_free(s_0, 1);
dec_and_free(val2, 1);

} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 39 "/Users/jim/toccata/state-maybe.toc"
Value *rslt11 = reduce_args_1902(empty_list, val2, s_0, empty_list_0);
orRslt1 = rslt11;
}
Value *x_12 = orRslt1;

incRef(x_12, 1);
Value *andRslt13;
andRslt13 = x_12;
if (isNothing(andRslt13)) {
dec_and_free(val19, 1);
dec_and_free(x_12, 1);
return(nothing);
} else {
dec_and_free(andRslt13, 1);

// type-known for extract
// #line 40 "/Users/jim/toccata/state-maybe.toc"
Value *rslt14 = Maybe_extract_757(empty_list, x_12);
Value *results_15;
Value *s_16;
Value *tail_17;
Value **destArgs18[3] = {&results_15, &s_16, &tail_17};
destructValue("", "0", (Value *)rslt14, 3, destArgs18);

incRef(results_15, 1);

dec_and_free(tail_17, 1);
Value *rslt20 = new_sm_invoke_2810(empty_list, val19, s_16);
Value *y_21 = rslt20;

incRef(y_21, 1);
Value *andRslt22;
andRslt22 = y_21;
if (isNothing(andRslt22)) {
dec_and_free(results_15, 2);
dec_and_free(y_21, 1);
return(nothing);
} else {
dec_and_free(andRslt22, 1);

// type-unknown extract
// #line 42 "/Users/jim/toccata/state-maybe.toc"
Value *rslt23 = proto1Arg(&extract_Implementations_269, "<nothing>/extract", y_21, "/Users/jim/toccata/state-maybe.toc", 42);
Value *f_24;
Value *s_25;
Value *tail_26;
Value **destArgs27[3] = {&f_24, &s_25, &tail_26};
destructValue("", "0", (Value *)rslt23, 3, destArgs27);

incRef(f_24, 1);

incRef(s_25, 1);

dec_and_free(tail_26, 1);
Value *orRslt28;
Value *andRslt29;

// type-unknown empty?
// #line 43 "/Users/jim/toccata/state-maybe.toc"
Value *rslt30 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", results_15, "/Users/jim/toccata/state-maybe.toc", 43);
andRslt29 = rslt30;
if (isNothing(andRslt29)) {
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
} else {
dec_and_free(andRslt29, 1);
Value *rslt34;
if((f_24)->type != FunctionType) {
rslt34 = invoke_366(empty_list, f_24);
} else {
FnArity *arity31 = findFnArity(f_24, 0);
if(arity31 != (FnArity *)0 && !arity31->variadic) {
FnType0 *fn33 = (FnType0 *)arity31->fn;
rslt34 = fn33(arity31->closures);
} else if(arity31 != (FnArity *)0 && arity31->variadic) {
FnType1 *fn33 = (FnType1 *)arity31->fn;
List *dynArgs32 = empty_list;
rslt34 = fn33(arity31->closures, (Value *)dynArgs32);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)f_24)->name);
  abort();
}
dec_and_free(f_24, 1);
}

// call-vector
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect35 = empty_vect;
newVect35 = mutateVectConj(newVect35, rslt34);
newVect35 = mutateVectConj(newVect35, s_25);
Value *rslt36 = (Value *)newVect35;

// static-fixed
// #line 44 "/Users/jim/toccata/state-maybe.toc"
Value *rslt37 = maybe_4(empty_list, rslt36);
andRslt29 = rslt37;
}
orRslt28 = andRslt29;
if (!isNothing(orRslt28)) {
dec_and_free(results_15, 1);
dec_and_free(f_24, 1);
dec_and_free(s_25, 1);
return(orRslt28);
} else {
dec_and_free(orRslt28, 1);

// call-list
// #line 45 "/Users/jim/toccata/state-maybe.toc"
List *newList38 = empty_list;
newList38 = listCons((Value *)results_15, newList38);
Value *rslt39 = (Value *)newList38;

// type-unknown apply*
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt40 = proto2Arg(&apply_STAR__Implementations_266, "apply*", f_24, rslt39, "/Users/jim/toccata/state-maybe.toc", 45);

// call-vector
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Vector *newVect41 = empty_vect;
newVect41 = mutateVectConj(newVect41, rslt40);
newVect41 = mutateVectConj(newVect41, s_25);
Value *rslt42 = (Value *)newVect41;

// static-fixed
// #line 45 "/Users/jim/toccata/state-maybe.toc"
Value *rslt43 = maybe_4(empty_list, rslt42);
return(rslt43);
orRslt28 = rslt43;
}
andRslt22 = orRslt28;
}
andRslt13 = andRslt22;
}

};};
Value *fixup_native_symbols_STAR__9281;

// --------- fixup-native-symbols -------------
Value *fixup_native_symbols_9283;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[52];
} str772 = {StringType, -1, 51, 0, "Compilation error (Could not fixup native symbols.)"};
Value *strPtr772 = (Value *)&str772;
Value *fixup_native_symbols_9284(List *closures, Value *context_0) {
 while (1) {

// static-variadic
// #line 2502 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)strPtr772, varArgs1);
Value *rslt2 = compilation_error_5400(empty_list, (Value *)varArgs1);

// call-list
// #line 2501 "toccata.toc"
List *newList3 = empty_list;
newList3 = listCons((Value *)rslt2, newList3);
Value *rslt4 = (Value *)newList3;

// type-known for comp*
// #line 2501 "toccata.toc"
Value *rslt5 = new_sm_comp_STAR__2805(empty_list, fixup_native_symbols_STAR__9281, rslt4);

// static-fixed
// #line 2500 "toccata.toc"
Value *rslt6 = update_context_9121(empty_list, context_0, rslt5);
return(rslt6);

};};
FnArity fixup_native_symbols_9285 = {FnArityType, -1, 1, (List *)0, 0, fixup_native_symbols_9284};
Function fixup_native_symbols_9286 = {FunctionType, -1, "fixup-native-symbols", 1, {&fixup_native_symbols_9285}};
Value *fixup_native_symbols_9283 = (Value *)&fixup_native_symbols_9286;

Value *compile_module_9287;

// --------- file-directory -------------
Value *file_directory_9289;

// --------- anon -------------
Value *fn9292;

// --------- anon -------------
Value *fn9294;
Value *arityImpl9295(List *closures, Value *arg3, Value *c_5) {
 while (1) {
Value *slash_pos_0;
Value *c_pos_1;
Value *tail_2;
Value **destArgs4[3] = {&slash_pos_0, &c_pos_1, &tail_2};
destructValue("toccata.toc", "2510", (Value *)arg3, 3, destArgs4);

dec_and_free(tail_2, 1);

// static-fixed
// #line 2511 "toccata.toc"
Value *rslt6 = inc_564(empty_list, c_pos_1);
Value *c_pos_7 = rslt6;

incRef(c_pos_7, 2);

// call-vector
// #line 2513 "toccata.toc"
Vector *newVect8 = empty_vect;
newVect8 = mutateVectConj(newVect8, c_pos_7);
newVect8 = mutateVectConj(newVect8, c_pos_7);
Value *rslt9 = (Value *)newVect8;

// call-vector
// #line 2514 "toccata.toc"
Vector *newVect10 = empty_vect;
newVect10 = mutateVectConj(newVect10, slash_pos_0);
newVect10 = mutateVectConj(newVect10, c_pos_7);
Value *rslt11 = (Value *)newVect10;

// static-fixed
// #line 2512 "toccata.toc"
Value *rslt12 = _EQ__557(empty_list, c_5, strPtr94);

// dynamic unknown type
// #line 2512 "toccata.toc"
Value *rslt16;
if((rslt12)->type != FunctionType) {
rslt16 = invoke_370(empty_list, rslt12, rslt9, rslt11);
} else {
FnArity *arity13 = findFnArity(rslt12, 2);
if(arity13 != (FnArity *)0 && !arity13->variadic) {
FnType2 *fn15 = (FnType2 *)arity13->fn;
rslt16 = fn15(arity13->closures, rslt9, rslt11);
} else if(arity13 != (FnArity *)0 && arity13->variadic) {
FnType1 *fn15 = (FnType1 *)arity13->fn;
List *dynArgs14 = empty_list;
dynArgs14 = (List *)listCons(rslt11, dynArgs14);
dynArgs14 = (List *)listCons(rslt9, dynArgs14);
rslt16 = fn15(arity13->closures, (Value *)dynArgs14);
} else {
fprintf(stderr, "\n*** no arity found for '%s'.\n", ((Function *)rslt12)->name);
  abort();
}
dec_and_free(rslt12, 1);
}
return(rslt16);

};};
FnArity staticArity9296 = {FnArityType, -1, 2, (List *)0, 0, arityImpl9295};
Function anon_9297 = {FunctionType, -1, "anon", 1, {&staticArity9296}};
Value *fn9294 = (Value *)&anon_9297;

Value *arityImpl9293(List *closures, Value *real_path_0) {
 while (1) {

incRef(real_path_0, 1);

// call-vector
// #line 2509 "toccata.toc"
Vector *newVect1 = empty_vect;
newVect1 = mutateVectConj(newVect1, numPtr8);
newVect1 = mutateVectConj(newVect1, numPtr0);
Value *rslt2 = (Value *)newVect1;

// type-unknown reduce
// #line 2509 "toccata.toc"
Value *rslt3 = proto3Arg(&reduce_Implementations_303, "<nothing>/reduce", real_path_0, rslt2, fn9294, "toccata.toc", 2509);
Value *path_len_4;
Value *tail_5;
Value **destArgs6[2] = {&path_len_4, &tail_5};
destructValue("toccata.toc", "2509", (Value *)rslt3, 2, destArgs6);

dec_and_free(tail_5, 1);

// static-fixed
// #line 2515 "toccata.toc"
Value *rslt7 = subs_215(empty_list, real_path_0, numPtr0, path_len_4);
return(rslt7);

};};
FnArity staticArity9298 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9293};
Function anon_9299 = {FunctionType, -1, "anon", 1, {&staticArity9298}};
Value *fn9292 = (Value *)&anon_9299;

Value *file_directory_9290(List *closures, Value *src_file_name_0) {
 while (1) {

// static-fixed
// #line 2507 "toccata.toc"
Value *rslt1 = realpath_1805(empty_list, src_file_name_0);
Value *mv_2 = rslt1;

// static-fixed
// #line 975 "core"
Value *rslt3 = maybe_map_729(empty_list, mv_2, fn9292);
return(rslt3);

};};
FnArity file_directory_9300 = {FnArityType, -1, 1, (List *)0, 0, file_directory_9290};
Function file_directory_9301 = {FunctionType, -1, "file-directory", 1, {&file_directory_9300}};
Value *file_directory_9289 = (Value *)&file_directory_9301;

Value *module_compiler_9302;

// proto fn for ASTEmitter/send-to-emitter
Value *send_to_emitter_9303;
ProtoImpls send_to_emitter_Implementations_9305;
Value *send_to_emitter_9304(List *closures, Value *arg0);
Value *Default_send_to_emitter_9306(List *closures, Value *ast_0) {
 while (1) {

// static-variadic
// #line 2521 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)ast_0, varArgs1);
varArgs1 = (List *)listCons((Value *)emit_ast_9130, varArgs1);
varArgs1 = (List *)listCons((Value *)ast_emitter_9118, varArgs1);
Value *rslt2 = send_280(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity Default_send_to_emitter_9307 = {FnArityType, -1, 1, (List *)0, 0, Default_send_to_emitter_9306};

// proto fn for ASTEmitter/add-namespace
Value *add_namespace_9308;
ProtoImpls add_namespace_Implementations_9310;
Value *add_namespace_9309(List *closures, Value *arg0, Value *arg1, Value *arg2);

// proto fn for ASTEmitter/load-module
Value *load_module_9311;
ProtoImpls load_module_Implementations_9313;
Value *load_module_9312(List *closures, Value *arg0, Value *arg1, Value *arg2);
Value *load_module_9314(List *closures, Value *ast_0, Value *root_dir_1, Value *proj_dir_2) {
 while (1) {

incRef(root_dir_1, 1);

// static-fixed
// #line 2528 "toccata.toc"
Value *rslt3 = promise_1336(empty_list);
Value *waiter_4 = rslt3;

incRef(waiter_4, 1);

// type-known for .file-path
// #line 2529 "toccata.toc"
Value *rslt5 = module_ast_file_path_4482(empty_list, ast_0);

// static-variadic
// #line 2529 "toccata.toc"
List *varArgs6 = empty_list;
varArgs6 = (List *)listCons((Value *)rslt5, varArgs6);
varArgs6 = (List *)listCons((Value *)root_dir_1, varArgs6);
Value *rslt7 = str_526(empty_list, (Value *)varArgs6);
Value *file_path_8 = rslt7;

incRef(file_path_8, 1);

// static-variadic
// #line 2530 "toccata.toc"
List *varArgs9 = empty_list;
varArgs9 = (List *)listCons((Value *)proj_dir_2, varArgs9);
varArgs9 = (List *)listCons((Value *)root_dir_1, varArgs9);
varArgs9 = (List *)listCons((Value *)waiter_4, varArgs9);
varArgs9 = (List *)listCons((Value *)file_path_8, varArgs9);
varArgs9 = (List *)listCons((Value *)compile_module_9287, varArgs9);
varArgs9 = (List *)listCons((Value *)module_compiler_9302, varArgs9);
Value *rslt10 = send_280(empty_list, (Value *)varArgs9);

dec_and_free(rslt10, 1);

// call-vector
// #line 2531 "toccata.toc"
Vector *newVect11 = empty_vect;
newVect11 = mutateVectConj(newVect11, waiter_4);
newVect11 = mutateVectConj(newVect11, file_path_8);
Value *rslt12 = (Value *)newVect11;
return(rslt12);

};};
FnArity load_module_9315 = {FnArityType, -1, 3, (List *)0, 0, load_module_9314};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[22];
} str773 = {StringType, -1, 21, 0, "For git dependencies,"};
Value *strPtr773 = (Value *)&str773;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[52];
} str774 = {StringType, -1, 51, 0, "files may only be imported from root of repository,"};
Value *strPtr774 = (Value *)&str774;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str775 = {StringType, -1, 11, 0, "is invalid."};
Value *strPtr775 = (Value *)&str775;
SubString sym75 = {SymbolType, -1, 3, 0, 0, "tag"};
Value *symPtr75 = (Value *)&sym75;
SubString sym76 = {SymbolType, -1, 3, 0, 0, "sha"};
Value *symPtr76 = (Value *)&sym76;
SubString sym77 = {SymbolType, -1, 6, 0, 0, "branch"};
Value *symPtr77 = (Value *)&sym77;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[7];
} str776 = {StringType, -1, 6, 0, "master"};
Value *strPtr776 = (Value *)&str776;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str777 = {StringType, -1, 17, 0, "dependencies/git/"};
Value *strPtr777 = (Value *)&str777;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str778 = {StringType, -1, 15, 0, "Dependency file"};
Value *strPtr778 = (Value *)&str778;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[24];
} str779 = {StringType, -1, 23, 0, "missing from repository"};
Value *strPtr779 = (Value *)&str779;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[13];
} str780 = {StringType, -1, 12, 0, "/usr/bin/git"};
Value *strPtr780 = (Value *)&str780;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[6];
} str781 = {StringType, -1, 5, 0, "clone"};
Value *strPtr781 = (Value *)&str781;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[3];
} str782 = {StringType, -1, 2, 0, "-b"};
Value *strPtr782 = (Value *)&str782;
Value *load_module_9316(List *closures, Value *ast_0, Value *root_dir_1, Value *proj_dir_2) {
 while (1) {

incRef(ast_0, 14);

dec_and_free(root_dir_1, 1);

incRef(proj_dir_2, 1);

// type-known for .args
// #line 2536 "toccata.toc"
Value *rslt3 = git_dep_ast_args_4534(empty_list, ast_0);
Value *opts_4 = rslt3;

incRef(opts_4, 2);
Value *orRslt5;

// type-known for .file
// #line 2538 "toccata.toc"
Value *rslt6 = git_dep_ast_file_4530(empty_list, ast_0);

// type-unknown seq
// #line 2538 "toccata.toc"
Value *rslt7 = proto1Arg(&seq_Implementations_317, "<nothing>/seq", rslt6, "toccata.toc", 2538);

// static-variadic
// #line 2538 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)strPtr94, varArgs8);
varArgs8 = (List *)listCons((Value *)_EQ__554, varArgs8);
Value *rslt9 = partial_969(empty_list, (Value *)varArgs8);

// type-unknown filter
// #line 2538 "toccata.toc"
Value *rslt10 = proto2Arg(&filter_Implementations_297, "<nothing>/filter", rslt7, rslt9, "toccata.toc", 2538);

// type-unknown empty?
// #line 2538 "toccata.toc"
Value *rslt11 = proto1Arg(&empty_QM__Implementations_294, "<nothing>/empty?", rslt10, "toccata.toc", 2538);
orRslt5 = rslt11;
if (!isNothing(orRslt5)) {
dec_and_free(ast_0, 1);

} else {
dec_and_free(orRslt5, 1);

// type-known for .file
// #line 2541 "toccata.toc"
Value *rslt12 = git_dep_ast_file_4530(empty_list, ast_0);

// static-variadic
// #line 2539 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)strPtr775, varArgs13);
varArgs13 = (List *)listCons((Value *)rslt12, varArgs13);
varArgs13 = (List *)listCons((Value *)strPtr774, varArgs13);
varArgs13 = (List *)listCons((Value *)strPtr773, varArgs13);
Value *rslt14 = print_err_521(empty_list, (Value *)varArgs13);
Value *arg15 = rslt14;

dec_and_free(arg15, 1);

// static-fixed
// #line 2542 "toccata.toc"
Value *rslt16 = abort_113(empty_list);

// static-fixed
// #line 2542 "toccata.toc"
Value *rslt17 = maybe_4(empty_list, rslt16);
orRslt5 = rslt17;
}
Value *wrapper_18 = orRslt5;

incRef(wrapper_18, 1);
Value *mv_19 = wrapper_18;

incRef(mv_19, 1);
Value *andRslt20;
andRslt20 = mv_19;
if (isNothing(andRslt20)) {
dec_and_free(opts_4, 3);
dec_and_free(proj_dir_2, 2);
dec_and_free(mv_19, 1);
dec_and_free(ast_0, 12);
dec_and_free(wrapper_18, 1);
} else {
dec_and_free(andRslt20, 1);

// type-known for extract
// #line 984 "core"
Value *rslt21 = Maybe_extract_757(empty_list, mv_19);
Value *arg22 = rslt21;

dec_and_free(arg22, 1);
Value *orRslt23;

// type-unknown get
// #line 2543 "toccata.toc"
Value *rslt24 = proto2Arg(&get_Implementations_362, "<nothing>/get", opts_4, symPtr75, "toccata.toc", 2543);
orRslt23 = rslt24;
if (!isNothing(orRslt23)) {
dec_and_free(opts_4, 2);

} else {
dec_and_free(orRslt23, 1);

// type-unknown get
// #line 2544 "toccata.toc"
Value *rslt25 = proto2Arg(&get_Implementations_362, "<nothing>/get", opts_4, symPtr76, "toccata.toc", 2544);
orRslt23 = rslt25;
if (!isNothing(orRslt23)) {
dec_and_free(opts_4, 1);

} else {
dec_and_free(orRslt23, 1);

// type-unknown get
// #line 2545 "toccata.toc"
Value *rslt26 = proto2Arg(&get_Implementations_362, "<nothing>/get", opts_4, symPtr77, "toccata.toc", 2545);
orRslt23 = rslt26;
if (!isNothing(orRslt23)) {

} else {
dec_and_free(orRslt23, 1);

// static-fixed
// #line 2546 "toccata.toc"
Value *rslt27 = maybe_4(empty_list, strPtr776);
orRslt23 = rslt27;
}
}
}
Value *mv_28 = orRslt23;

incRef(mv_28, 1);
Value *andRslt29;
andRslt29 = mv_28;
if (isNothing(andRslt29)) {
dec_and_free(mv_28, 1);
dec_and_free(proj_dir_2, 2);
dec_and_free(ast_0, 12);
dec_and_free(wrapper_18, 1);
} else {
dec_and_free(andRslt29, 1);

// type-known for extract
// #line 984 "core"
Value *rslt30 = Maybe_extract_757(empty_list, mv_28);
Value *checkout_31 = rslt30;

incRef(checkout_31, 1);

// type-known for .repo
// #line 2547 "toccata.toc"
Value *rslt32 = git_dep_ast_repo_4526(empty_list, ast_0);

// static-variadic
// #line 2547 "toccata.toc"
List *varArgs33 = empty_list;
varArgs33 = (List *)listCons((Value *)checkout_31, varArgs33);
varArgs33 = (List *)listCons((Value *)strPtr94, varArgs33);
varArgs33 = (List *)listCons((Value *)rslt32, varArgs33);
varArgs33 = (List *)listCons((Value *)strPtr777, varArgs33);
varArgs33 = (List *)listCons((Value *)proj_dir_2, varArgs33);
Value *rslt34 = str_526(empty_list, (Value *)varArgs33);
Value *dep_path_35 = rslt34;

incRef(dep_path_35, 3);
Value *orRslt36;

// type-known for .file
// #line 2548 "toccata.toc"
Value *rslt37 = git_dep_ast_file_4530(empty_list, ast_0);

// static-variadic
// #line 2548 "toccata.toc"
List *varArgs38 = empty_list;
varArgs38 = (List *)listCons((Value *)rslt37, varArgs38);
varArgs38 = (List *)listCons((Value *)strPtr94, varArgs38);
varArgs38 = (List *)listCons((Value *)dep_path_35, varArgs38);
Value *rslt39 = str_526(empty_list, (Value *)varArgs38);

// static-fixed
// #line 2548 "toccata.toc"
Value *rslt40 = access_1825(empty_list, rslt39);
orRslt36 = rslt40;
if (!isNothing(orRslt36)) {
dec_and_free(checkout_31, 1);
dec_and_free(ast_0, 5);
dec_and_free(dep_path_35, 2);

} else {
dec_and_free(orRslt36, 1);
Value *andRslt41;

// static-fixed
// #line 2549 "toccata.toc"
Value *rslt42 = access_1825(empty_list, dep_path_35);
andRslt41 = rslt42;
if (isNothing(andRslt41)) {
dec_and_free(ast_0, 4);
} else {
dec_and_free(andRslt41, 1);

// type-known for .file
// #line 2550 "toccata.toc"
Value *rslt43 = git_dep_ast_file_4530(empty_list, ast_0);

// type-known for .repo
// #line 2552 "toccata.toc"
Value *rslt44 = git_dep_ast_repo_4526(empty_list, ast_0);

// type-unknown ast/file-name
// #line 2553 "toccata.toc"
Value *rslt45 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", ast_0, "toccata.toc", 2553);

// type-unknown ast/line-number
// #line 2553 "toccata.toc"
Value *rslt46 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", ast_0, "toccata.toc", 2553);

// static-variadic
// #line 2550 "toccata.toc"
List *varArgs47 = empty_list;
varArgs47 = (List *)listCons((Value *)rslt46, varArgs47);
varArgs47 = (List *)listCons((Value *)rslt45, varArgs47);
varArgs47 = (List *)listCons((Value *)strPtr387, varArgs47);
varArgs47 = (List *)listCons((Value *)rslt44, varArgs47);
varArgs47 = (List *)listCons((Value *)strPtr779, varArgs47);
varArgs47 = (List *)listCons((Value *)rslt43, varArgs47);
varArgs47 = (List *)listCons((Value *)strPtr778, varArgs47);
Value *rslt48 = print_err_521(empty_list, (Value *)varArgs47);
Value *arg49 = rslt48;

dec_and_free(arg49, 1);

// static-fixed
// #line 2554 "toccata.toc"
Value *rslt50 = abort_113(empty_list);

// static-fixed
// #line 2554 "toccata.toc"
Value *rslt51 = maybe_4(empty_list, rslt50);
andRslt41 = rslt51;
}
orRslt36 = andRslt41;
if (!isNothing(orRslt36)) {
dec_and_free(checkout_31, 1);
dec_and_free(ast_0, 1);
dec_and_free(dep_path_35, 1);

} else {
dec_and_free(orRslt36, 1);

// type-known for .repo
// #line 2555 "toccata.toc"
Value *rslt52 = git_dep_ast_repo_4526(empty_list, ast_0);

// call-list
// #line 2555 "toccata.toc"
List *newList53 = empty_list;
newList53 = listCons((Value *)dep_path_35, newList53);
newList53 = listCons((Value *)rslt52, newList53);
newList53 = listCons((Value *)checkout_31, newList53);
newList53 = listCons((Value *)strPtr782, newList53);
newList53 = listCons((Value *)strPtr781, newList53);
Value *rslt54 = (Value *)newList53;

// static-fixed
// #line 2555 "toccata.toc"
Value *rslt55 = sh_proc_2689(empty_list, strPtr780, rslt54);
orRslt36 = rslt55;
if (!isNothing(orRslt36)) {

} else {
dec_and_free(orRslt36, 1);

// static-fixed
// #line 2557 "toccata.toc"
Value *rslt56 = abort_113(empty_list);

// static-fixed
// #line 2557 "toccata.toc"
Value *rslt57 = maybe_4(empty_list, rslt56);
orRslt36 = rslt57;
}
}
}
Value *mv_58 = orRslt36;

incRef(mv_58, 1);
Value *andRslt59;
andRslt59 = mv_58;
if (isNothing(andRslt59)) {
dec_and_free(proj_dir_2, 1);
dec_and_free(ast_0, 5);
dec_and_free(dep_path_35, 1);
dec_and_free(wrapper_18, 1);
dec_and_free(mv_58, 1);
} else {
dec_and_free(andRslt59, 1);

// type-known for extract
// #line 984 "core"
Value *rslt60 = Maybe_extract_757(empty_list, mv_58);
Value *arg61 = rslt60;

dec_and_free(arg61, 1);

// static-variadic
// #line 2558 "toccata.toc"
List *varArgs62 = empty_list;
varArgs62 = (List *)listCons((Value *)strPtr94, varArgs62);
varArgs62 = (List *)listCons((Value *)dep_path_35, varArgs62);
Value *rslt63 = str_526(empty_list, (Value *)varArgs62);
Value *dep_path_64 = rslt63;

incRef(dep_path_64, 1);

// type-known for .file
// #line 2559 "toccata.toc"
Value *rslt65 = git_dep_ast_file_4530(empty_list, ast_0);

// static-variadic
// #line 2559 "toccata.toc"
List *varArgs66 = empty_list;
varArgs66 = (List *)listCons((Value *)rslt65, varArgs66);
varArgs66 = (List *)listCons((Value *)dep_path_64, varArgs66);
Value *rslt67 = str_526(empty_list, (Value *)varArgs66);
Value *module_path_68 = rslt67;

incRef(module_path_68, 2);
Value *orRslt69;

// static-fixed
// #line 2560 "toccata.toc"
Value *rslt70 = access_1825(empty_list, module_path_68);
orRslt69 = rslt70;
if (!isNothing(orRslt69)) {
dec_and_free(ast_0, 4);

} else {
dec_and_free(orRslt69, 1);

// type-known for .file
// #line 2561 "toccata.toc"
Value *rslt71 = git_dep_ast_file_4530(empty_list, ast_0);

// type-known for .repo
// #line 2562 "toccata.toc"
Value *rslt72 = git_dep_ast_repo_4526(empty_list, ast_0);

// type-unknown ast/file-name
// #line 2563 "toccata.toc"
Value *rslt73 = proto1Arg(&file_name_Implementations_1810, "<maybe ast>/file-name", ast_0, "toccata.toc", 2563);

// type-unknown ast/line-number
// #line 2563 "toccata.toc"
Value *rslt74 = proto1Arg(&line_number_Implementations_1815, "<maybe ast>/line-number", ast_0, "toccata.toc", 2563);

// static-variadic
// #line 2561 "toccata.toc"
List *varArgs75 = empty_list;
varArgs75 = (List *)listCons((Value *)rslt74, varArgs75);
varArgs75 = (List *)listCons((Value *)rslt73, varArgs75);
varArgs75 = (List *)listCons((Value *)strPtr387, varArgs75);
varArgs75 = (List *)listCons((Value *)rslt72, varArgs75);
varArgs75 = (List *)listCons((Value *)strPtr779, varArgs75);
varArgs75 = (List *)listCons((Value *)rslt71, varArgs75);
varArgs75 = (List *)listCons((Value *)strPtr778, varArgs75);
Value *rslt76 = print_err_521(empty_list, (Value *)varArgs75);
Value *arg77 = rslt76;

dec_and_free(arg77, 1);

// static-fixed
// #line 2564 "toccata.toc"
Value *rslt78 = abort_113(empty_list);

// static-fixed
// #line 2564 "toccata.toc"
Value *rslt79 = maybe_4(empty_list, rslt78);
orRslt69 = rslt79;
}
Value *mv_80 = orRslt69;

incRef(mv_80, 1);
Value *andRslt81;
andRslt81 = mv_80;
if (isNothing(andRslt81)) {
dec_and_free(mv_80, 1);
dec_and_free(proj_dir_2, 1);
dec_and_free(module_path_68, 2);
dec_and_free(wrapper_18, 1);
dec_and_free(dep_path_64, 1);
} else {
dec_and_free(andRslt81, 1);

// type-known for extract
// #line 984 "core"
Value *rslt82 = Maybe_extract_757(empty_list, mv_80);
Value *arg83 = rslt82;

dec_and_free(arg83, 1);
Value *__84 = wrapper_18;

dec_and_free(__84, 1);

// static-fixed
// #line 2565 "toccata.toc"
Value *rslt85 = promise_1336(empty_list);
Value *waiter_86 = rslt85;

incRef(waiter_86, 1);

// static-variadic
// #line 2566 "toccata.toc"
List *varArgs87 = empty_list;
varArgs87 = (List *)listCons((Value *)proj_dir_2, varArgs87);
varArgs87 = (List *)listCons((Value *)dep_path_64, varArgs87);
varArgs87 = (List *)listCons((Value *)waiter_86, varArgs87);
varArgs87 = (List *)listCons((Value *)module_path_68, varArgs87);
varArgs87 = (List *)listCons((Value *)compile_module_9287, varArgs87);
varArgs87 = (List *)listCons((Value *)module_compiler_9302, varArgs87);
Value *rslt88 = send_280(empty_list, (Value *)varArgs87);

dec_and_free(rslt88, 1);

// call-vector
// #line 2567 "toccata.toc"
Vector *newVect89 = empty_vect;
newVect89 = mutateVectConj(newVect89, waiter_86);
newVect89 = mutateVectConj(newVect89, module_path_68);
Value *rslt90 = (Value *)newVect89;
Value *mv_91 = rslt90;

// static-fixed
// #line 978 "core"
Value *rslt92 = maybe_4(empty_list, mv_91);
andRslt81 = rslt92;
}
andRslt59 = andRslt81;
}
andRslt29 = andRslt59;
}
andRslt20 = andRslt29;
}

// type-known for extract
// #line 2537 "toccata.toc"
Value *rslt93 = Maybe_extract_757(empty_list, andRslt20);
return(rslt93);

};};
FnArity load_module_9321 = {FnArityType, -1, 3, (List *)0, 0, load_module_9316};
Value *arityImpl9324(List *closures, Value *context_0) {
while (1) {
Value *val1;
Value *val6;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs9[3] = {&val1, &val6, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs9);

incRef(val1, 1);

dec_and_free(closuresTail, 1);

// type-known for ast/file-name
// #line 2576 "toccata.toc"
Value *rslt2 = add_ns_ast_file_name_4596(empty_list, val1);

// type-known for .ns-sym
// #line 2576 "toccata.toc"
Value *rslt3 = add_ns_ast_ns_sym_4586(empty_list, val1);

// call-vector
// #line 2576 "toccata.toc"
Vector *newVect4 = empty_vect;
newVect4 = mutateVectConj(newVect4, dispatchFnPtr5584);
newVect4 = mutateVectConj(newVect4, rslt2);
newVect4 = mutateVectConj(newVect4, rslt3);
Value *rslt5 = (Value *)newVect4;

// static-fixed
// #line 2576 "toccata.toc"
Value *rslt7 = assoc_in_val_3599(empty_list, rslt5, val6);

// static-fixed
// #line 2575 "toccata.toc"
Value *rslt8 = update_context_9121(empty_list, context_0, rslt7);
return(rslt8);

};};
Value *add_namespace_9322(List *closures, Value *ast_0, Value *root_dir_1, Value *proj_dir_2) {
 while (1) {

incRef(ast_0, 1);

// type-known for .mod
// #line 2572 "toccata.toc"
Value *rslt3 = add_ns_ast_mod_4590(empty_list, ast_0);

// type-unknown load-module
// #line 2572 "toccata.toc"
Value *rslt4 = proto3Arg(&load_module_Implementations_9313, "<nothing>/load-module", rslt3, root_dir_1, proj_dir_2, "toccata.toc", 2572);
Value *waiter_5;
Value *mod_file_name_6;
Value *tail_7;
Value **destArgs8[3] = {&waiter_5, &mod_file_name_6, &tail_7};
destructValue("toccata.toc", "2572", (Value *)rslt4, 3, destArgs8);

dec_and_free(tail_7, 1);
FnArity *dynArity9 = malloc_fnArity();
dynArity9->count = 1;
dynArity9->variadic = 0;
dynArity9->fn = arityImpl9324;
dynArity9->closures = empty_list;
dynArity9->closures = listCons((Value *)mod_file_name_6, (List *)dynArity9->closures);
dynArity9->closures = listCons((Value *)ast_0, (List *)dynArity9->closures);
Function *anon_9325 = malloc_function(1);
anon_9325->name = "anon";
anon_9325->arityCount = 1;
anon_9325->arities[0] = dynArity9;
Value *fn9323 = (Value *)anon_9325;

// static-variadic
// #line 2573 "toccata.toc"
List *varArgs10 = empty_list;
varArgs10 = (List *)listCons((Value *)fn9323, varArgs10);
varArgs10 = (List *)listCons((Value *)ast_emitter_9118, varArgs10);
Value *rslt11 = send_280(empty_list, (Value *)varArgs10);

dec_and_free(rslt11, 1);
return(waiter_5);

};};
FnArity add_namespace_9326 = {FnArityType, -1, 3, (List *)0, 0, add_namespace_9322};

// --------- anon -------------
Value *fn9327;
Value *arityImpl9328(List *closures, Value *modules_0) {
 while (1) {

// type-unknown map
// #line 2584 "toccata.toc"
Value *rslt1 = proto2Arg(&map_Implementations_254, "<nothing>/map", modules_0, extract_267, "toccata.toc", 2584);
return(rslt1);

};};
FnArity staticArity9329 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9328};
Function anon_9330 = {FunctionType, -1, "anon", 1, {&staticArity9329}};
Value *fn9327 = (Value *)&anon_9330;

SubString sym78 = {SymbolType, -1, 14, 0, 0, "root-directory"};
Value *symPtr78 = (Value *)&sym78;
SubString sym79 = {SymbolType, -1, 17, 0, 0, "project-directory"};
Value *symPtr79 = (Value *)&sym79;
Value *analyze_forms_9331;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[12];
} str783 = {StringType, -1, 11, 0, "TOCCATA_DIR"};
Value *strPtr783 = (Value *)&str783;

// --------- anon -------------
Value *fn9333;
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[10];
} str784 = {StringType, -1, 9, 0, "/core.toc"};
Value *strPtr784 = (Value *)&str784;
Value *arityImpl9334(List *closures, Value *toc_dir_0) {
 while (1) {

// static-variadic
// #line 2595 "toccata.toc"
List *varArgs1 = empty_list;
varArgs1 = (List *)listCons((Value *)strPtr784, varArgs1);
varArgs1 = (List *)listCons((Value *)toc_dir_0, varArgs1);
Value *rslt2 = str_526(empty_list, (Value *)varArgs1);
return(rslt2);

};};
FnArity staticArity9335 = {FnArityType, -1, 1, (List *)0, 0, arityImpl9334};
Function anon_9336 = {FunctionType, -1, "anon", 1, {&staticArity9335}};
Value *fn9333 = (Value *)&anon_9336;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[49];
} str785 = {StringType, -1, 48, 0, "Could not read envirnonment variable TOCCATA_DIR"};
Value *strPtr785 = (Value *)&str785;
Value *path_to_core_9337;

// --------- load-core -------------
Value *load_core_9339;
SubString sym80 = {SymbolType, -1, 6, 0, 0, "loaded"};
Value *symPtr80 = (Value *)&sym80;
Value *arityImpl9343(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs7[3] = {&val1, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs7);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

dec_and_free(__2, 1);

// static-fixed
// #line 2609 "toccata.toc"
Value *rslt4 = assoc_1033(empty_list, val3, symPtr34, symPtr80);
Value *mv_5 = rslt4;

// static-fixed
// #line 978 "core"
Value *rslt6 = maybe_4(empty_list, mv_5);
return(rslt6);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[88];
} str786 = {StringType, -1, 87, 0, "Could not compile Toccata core. Is the $TOCCATA_DIR environment variable set correctly?"};
Value *strPtr786 = (Value *)&str786;
Value *load_core_9340(List *closures, Value *modules_0) {
 while (1) {

incRef(modules_0, 2);
Value *orRslt1;
Value *andRslt2;

// type-unknown get
// #line 2600 "toccata.toc"
Value *rslt3 = proto2Arg(&get_Implementations_362, "<nothing>/get", modules_0, symPtr34, "toccata.toc", 2600);
andRslt2 = rslt3;
if (isNothing(andRslt2)) {
dec_and_free(modules_0, 1);
} else {
dec_and_free(andRslt2, 1);

// static-fixed
// #line 2601 "toccata.toc"
Value *rslt4 = maybe_4(empty_list, modules_0);
andRslt2 = rslt4;
}
orRslt1 = andRslt2;
if (!isNothing(orRslt1)) {
dec_and_free(modules_0, 1);
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// static-fixed
// #line 2602 "toccata.toc"
Value *rslt5 = file_in_2250(empty_list, path_to_core_9337);
Value *wrapper_6 = rslt5;

incRef(wrapper_6, 1);
Value *mv_7 = wrapper_6;

incRef(mv_7, 1);
Value *andRslt8;
andRslt8 = mv_7;
if (isNothing(andRslt8)) {
dec_and_free(mv_7, 1);
dec_and_free(modules_0, 1);
dec_and_free(wrapper_6, 1);
} else {
dec_and_free(andRslt8, 1);

// type-known for extract
// #line 984 "core"
Value *rslt9 = Maybe_extract_757(empty_list, mv_7);
Value *file_in_10 = rslt9;

// static-variadic
// #line 2603 "toccata.toc"
List *varArgs11 = empty_list;
varArgs11 = (List *)listCons((Value *)symPtr34, varArgs11);
varArgs11 = (List *)listCons((Value *)new_module_9125, varArgs11);
varArgs11 = (List *)listCons((Value *)ast_emitter_9118, varArgs11);
Value *rslt12 = send_280(empty_list, (Value *)varArgs11);
Value *arg13 = rslt12;

dec_and_free(arg13, 1);

// static-variadic
// #line 2604 "toccata.toc"
List *varArgs14 = empty_list;
varArgs14 = (List *)listCons((Value *)strPtr0, varArgs14);
varArgs14 = (List *)listCons((Value *)symPtr78, varArgs14);
varArgs14 = (List *)listCons((Value *)strPtr0, varArgs14);
varArgs14 = (List *)listCons((Value *)symPtr79, varArgs14);
varArgs14 = (List *)listCons((Value *)numPtr1, varArgs14);
varArgs14 = (List *)listCons((Value *)symPtr3, varArgs14);
varArgs14 = (List *)listCons((Value *)symPtr34, varArgs14);
varArgs14 = (List *)listCons((Value *)symPtr2, varArgs14);
Value *rslt15 = hash_map_1208(empty_list, (Value *)varArgs14);

// static-fixed
// #line 2608 "toccata.toc"
Value *rslt16 = lazy_list_1764(empty_list, file_in_10);
Value *rslt20;
FnArity *arity17 = findFnArity(analyze_forms_9331, 2);
if(arity17 != (FnArity *)0 && !arity17->variadic) { FnType2 *fn19 = (FnType2 *)arity17->fn;


// dynamic fn type
// #line 2604 "toccata.toc"
rslt20 = fn19(arity17->closures, rslt15, rslt16);
} else if(arity17 != (FnArity *)0 && arity17->variadic) { FnType1 *fn19 = (FnType1 *)arity17->fn;
List *dynArgs18 = empty_list;
dynArgs18 = (List *)listCons(rslt16, dynArgs18);
dynArgs18 = (List *)listCons(rslt15, dynArgs18);

// dynamic fn type
// #line 2604 "toccata.toc"
rslt20 = fn19(arity17->closures, (Value *)dynArgs18);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)analyze_forms_9331)->name, "toccata.toc", 2604);
  abort();
}
dec_and_free(analyze_forms_9331, 1);
FnArity *dynArity21 = malloc_fnArity();
dynArity21->count = 1;
dynArity21->variadic = 0;
dynArity21->fn = arityImpl9343;
dynArity21->closures = empty_list;
dynArity21->closures = listCons((Value *)modules_0, (List *)dynArity21->closures);
dynArity21->closures = listCons((Value *)wrapper_6, (List *)dynArity21->closures);
Function *anon_9344 = malloc_function(1);
anon_9344->name = "anon";
anon_9344->arityCount = 1;
anon_9344->arities[0] = dynArity21;
Value *fn9342 = (Value *)anon_9344;

// type-unknown flat-map
// #line 2604 "toccata.toc"
Value *rslt22 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt20, fn9342, "toccata.toc", 2604);
andRslt8 = rslt22;
}
orRslt1 = andRslt8;
if (!isNothing(orRslt1)) {
return(orRslt1);
} else {
dec_and_free(orRslt1, 1);

// static-variadic
// #line 2610 "toccata.toc"
List *varArgs23 = empty_list;
varArgs23 = (List *)listCons((Value *)strPtr786, varArgs23);
Value *rslt24 = print_err_521(empty_list, (Value *)varArgs23);
Value *arg25 = rslt24;

dec_and_free(arg25, 1);

// static-fixed
// #line 2611 "toccata.toc"
Value *rslt26 = abort_113(empty_list);

// static-fixed
// #line 2611 "toccata.toc"
Value *rslt27 = maybe_4(empty_list, rslt26);
return(rslt27);
orRslt1 = rslt27;
}
}

};};
FnArity load_core_9345 = {FnArityType, -1, 1, (List *)0, 0, load_core_9340};
Function load_core_9346 = {FunctionType, -1, "load-core", 1, {&load_core_9345}};
Value *load_core_9339 = (Value *)&load_core_9346;


// --------- compile-module -------------
Value *compile_module_9287;
Value *arityImpl9354(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs4[3] = {&val1, &val2, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs4);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 2618 "toccata.toc"
Value *rslt3 = deliver_225(empty_list, val1, val2);
return(rslt3);

};};
Value *arityImpl9352(List *closures, Value *loaded_0) {
while (1) {
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[3] = {&val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs5);

dec_and_free(closuresTail, 1);
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl9354;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val2, (List *)dynArity1->closures);
dynArity1->closures = listCons((Value *)val3, (List *)dynArity1->closures);
Function *anon_9355 = malloc_function(1);
anon_9355->name = "anon";
anon_9355->arityCount = 1;
anon_9355->arities[0] = dynArity1;
Value *fn9353 = (Value *)anon_9355;

// type-unknown map
// #line 2617 "toccata.toc"
Value *rslt4 = proto2Arg(&map_Implementations_254, "<nothing>/map", loaded_0, fn9353, "toccata.toc", 2617);
return(rslt4);

};};
Value *arityImpl9360(List *closures, Value *asts_0) {
while (1) {

dec_and_free(asts_0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
Value *__2 = val1;

dec_and_free(__2, 1);
Value *mv_3 = strPtr0;

// static-fixed
// #line 978 "core"
Value *rslt4 = maybe_4(empty_list, mv_3);
return(rslt4);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[18];
} str787 = {StringType, -1, 17, 0, "Could not compile"};
Value *strPtr787 = (Value *)&str787;
Value *arityImpl9357(List *closures) {
while (1) {
Value *val1;
Value *val11;
Value *val12;
Value *val28;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs30[5] = {&val1, &val11, &val12, &val28, &closuresTail};
destructValue("", "", (Value *)closures, 5, destArgs30);

incRef(val1, 4);

dec_and_free(closuresTail, 1);
Value *orRslt0;

// static-fixed
// #line 2622 "toccata.toc"
Value *rslt2 = file_in_2250(empty_list, val1);
Value *wrapper_3 = rslt2;

incRef(wrapper_3, 1);
Value *mv_4 = wrapper_3;

incRef(mv_4, 1);
Value *andRslt5;
andRslt5 = mv_4;
if (isNothing(andRslt5)) {
dec_and_free(val12, 1);
dec_and_free(mv_4, 1);
dec_and_free(val11, 1);
dec_and_free(wrapper_3, 1);
dec_and_free(val1, 2);
} else {
dec_and_free(andRslt5, 1);

// type-known for extract
// #line 984 "core"
Value *rslt6 = Maybe_extract_757(empty_list, mv_4);
Value *file_in_7 = rslt6;

// static-variadic
// #line 2623 "toccata.toc"
List *varArgs8 = empty_list;
varArgs8 = (List *)listCons((Value *)val1, varArgs8);
varArgs8 = (List *)listCons((Value *)new_module_9125, varArgs8);
varArgs8 = (List *)listCons((Value *)ast_emitter_9118, varArgs8);
Value *rslt9 = send_280(empty_list, (Value *)varArgs8);
Value *arg10 = rslt9;

dec_and_free(arg10, 1);

// static-variadic
// #line 2624 "toccata.toc"
List *varArgs13 = empty_list;
varArgs13 = (List *)listCons((Value *)numPtr1, varArgs13);
varArgs13 = (List *)listCons((Value *)symPtr3, varArgs13);
varArgs13 = (List *)listCons((Value *)val12, varArgs13);
varArgs13 = (List *)listCons((Value *)symPtr79, varArgs13);
varArgs13 = (List *)listCons((Value *)val11, varArgs13);
varArgs13 = (List *)listCons((Value *)symPtr78, varArgs13);
varArgs13 = (List *)listCons((Value *)val1, varArgs13);
varArgs13 = (List *)listCons((Value *)symPtr2, varArgs13);
Value *rslt14 = hash_map_1208(empty_list, (Value *)varArgs13);

// static-fixed
// #line 2628 "toccata.toc"
Value *rslt15 = lazy_list_1764(empty_list, file_in_7);
Value *rslt19;
FnArity *arity16 = findFnArity(analyze_forms_9331, 2);
if(arity16 != (FnArity *)0 && !arity16->variadic) { FnType2 *fn18 = (FnType2 *)arity16->fn;


// dynamic fn type
// #line 2624 "toccata.toc"
rslt19 = fn18(arity16->closures, rslt14, rslt15);
} else if(arity16 != (FnArity *)0 && arity16->variadic) { FnType1 *fn18 = (FnType1 *)arity16->fn;
List *dynArgs17 = empty_list;
dynArgs17 = (List *)listCons(rslt15, dynArgs17);
dynArgs17 = (List *)listCons(rslt14, dynArgs17);

// dynamic fn type
// #line 2624 "toccata.toc"
rslt19 = fn18(arity16->closures, (Value *)dynArgs17);
} else {
fprintf(stderr, "\n*** no arity found for '%s' at: %s, %d.\n", ((Function *)analyze_forms_9331)->name, "toccata.toc", 2624);
  abort();
}
dec_and_free(analyze_forms_9331, 1);
FnArity *dynArity20 = malloc_fnArity();
dynArity20->count = 1;
dynArity20->variadic = 0;
dynArity20->fn = arityImpl9360;
dynArity20->closures = empty_list;
dynArity20->closures = listCons((Value *)wrapper_3, (List *)dynArity20->closures);
Function *anon_9361 = malloc_function(1);
anon_9361->name = "anon";
anon_9361->arityCount = 1;
anon_9361->arities[0] = dynArity20;
Value *fn9359 = (Value *)anon_9361;

// type-unknown flat-map
// #line 2624 "toccata.toc"
Value *rslt21 = proto2Arg(&flat_map_Implementations_260, "flat-map", rslt19, fn9359, "toccata.toc", 2624);
andRslt5 = rslt21;
}
orRslt0 = andRslt5;
if (!isNothing(orRslt0)) {
dec_and_free(val1, 1);

} else {
dec_and_free(orRslt0, 1);

// static-variadic
// #line 2630 "toccata.toc"
List *varArgs22 = empty_list;
varArgs22 = (List *)listCons((Value *)val1, varArgs22);
varArgs22 = (List *)listCons((Value *)strPtr787, varArgs22);
Value *rslt23 = print_err_521(empty_list, (Value *)varArgs22);
Value *arg24 = rslt23;

dec_and_free(arg24, 1);

// static-fixed
// #line 2631 "toccata.toc"
Value *rslt25 = abort_113(empty_list);

// static-fixed
// #line 2631 "toccata.toc"
Value *rslt26 = maybe_4(empty_list, rslt25);
orRslt0 = rslt26;
}
Value *loaded_27 = orRslt0;

dec_and_free(loaded_27, 1);

// static-fixed
// #line 2632 "toccata.toc"
Value *rslt29 = deliver_225(empty_list, val28, val1);
return(rslt29);

};};
Value *compile_module_9348(List *closures, Value *loaded_modules_0, Value *file_name_1, Value *waiter_prom_2, Value *root_dir_3, Value *proj_dir_4) {
 while (1) {

incRef(file_name_1, 3);

incRef(waiter_prom_2, 1);

// type-unknown flat-map
// #line 2614 "toccata.toc"
Value *rslt5 = proto2Arg(&flat_map_Implementations_260, "<nothing>/flat-map", loaded_modules_0, load_core_9339, "toccata.toc", 2614);
Value *loaded_modules_6 = rslt5;

incRef(loaded_modules_6, 2);
Value *orRslt7;
Value *andRslt8;

// call-vector
// #line 2615 "toccata.toc"
Vector *newVect9 = empty_vect;
newVect9 = mutateVectConj(newVect9, symPtr35);
newVect9 = mutateVectConj(newVect9, file_name_1);
Value *rslt10 = (Value *)newVect9;

// static-fixed
// #line 2615 "toccata.toc"
Value *rslt11 = get_in_1261(empty_list, loaded_modules_6, rslt10);
Value *mv_12 = rslt11;
FnArity *dynArity13 = malloc_fnArity();
dynArity13->count = 1;
dynArity13->variadic = 0;
dynArity13->fn = arityImpl9352;
dynArity13->closures = empty_list;
dynArity13->closures = listCons((Value *)waiter_prom_2, (List *)dynArity13->closures);
dynArity13->closures = listCons((Value *)file_name_1, (List *)dynArity13->closures);
Function *anon_9356 = malloc_function(1);
anon_9356->name = "anon";
anon_9356->arityCount = 1;
anon_9356->arities[0] = dynArity13;
Value *fn9351 = (Value *)anon_9356;

// static-fixed
// #line 975 "core"
Value *rslt14 = maybe_map_729(empty_list, mv_12, fn9351);
andRslt8 = rslt14;
if (isNothing(andRslt8)) {
dec_and_free(loaded_modules_6, 1);
} else {
dec_and_free(andRslt8, 1);
andRslt8 = loaded_modules_6;
}
orRslt7 = andRslt8;
if (!isNothing(orRslt7)) {
dec_and_free(loaded_modules_6, 1);
dec_and_free(file_name_1, 2);
dec_and_free(waiter_prom_2, 1);
dec_and_free(proj_dir_4, 1);
dec_and_free(root_dir_3, 1);
return(orRslt7);
} else {
dec_and_free(orRslt7, 1);

// call-vector
// #line 2620 "toccata.toc"
Vector *newVect15 = empty_vect;
newVect15 = mutateVectConj(newVect15, symPtr35);
newVect15 = mutateVectConj(newVect15, file_name_1);
Value *rslt16 = (Value *)newVect15;
FnArity *dynArity17 = malloc_fnArity();
dynArity17->count = 0;
dynArity17->variadic = 0;
dynArity17->fn = arityImpl9357;
dynArity17->closures = empty_list;
dynArity17->closures = listCons((Value *)waiter_prom_2, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)proj_dir_4, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)root_dir_3, (List *)dynArity17->closures);
dynArity17->closures = listCons((Value *)file_name_1, (List *)dynArity17->closures);
Function *anon_9362 = malloc_function(1);
anon_9362->name = "anon";
anon_9362->arityCount = 1;
anon_9362->arities[0] = dynArity17;
Value *fn9349 = (Value *)anon_9362;

// static-fixed
// #line 2621 "toccata.toc"
Value *rslt18 = future_1401(empty_list, fn9349);

// static-fixed
// #line 2620 "toccata.toc"
Value *rslt19 = assoc_in_1312(empty_list, loaded_modules_6, rslt16, rslt18);
return(rslt19);
orRslt7 = rslt19;
}

};};
FnArity compile_module_9363 = {FnArityType, -1, 5, (List *)0, 0, compile_module_9348};
Function compile_module_9364 = {FunctionType, -1, "compile-module", 1, {&compile_module_9363}};
Value *compile_module_9287 = (Value *)&compile_module_9364;

struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[40];
} str788 = {StringType, -1, 39, 0, "\n#include <stdlib.h>\n#include \"core.h\"\n"};
Value *strPtr788 = (Value *)&str788;
Value *arityImpl9368(List *closures, Value *root_dir_0) {
while (1) {

incRef(root_dir_0, 1);
Value *val2;
Value *val3;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs6[3] = {&val2, &val3, &closuresTail};
destructValue("", "", (Value *)closures, 3, destArgs6);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 2640 "toccata.toc"
Value *rslt1 = write_strings_9071(empty_list, strPtr788);

dec_and_free(rslt1, 1);

// static-variadic
// #line 2641 "toccata.toc"
List *varArgs4 = empty_list;
varArgs4 = (List *)listCons((Value *)root_dir_0, varArgs4);
varArgs4 = (List *)listCons((Value *)root_dir_0, varArgs4);
varArgs4 = (List *)listCons((Value *)val3, varArgs4);
varArgs4 = (List *)listCons((Value *)val2, varArgs4);
varArgs4 = (List *)listCons((Value *)compile_module_9287, varArgs4);
varArgs4 = (List *)listCons((Value *)module_compiler_9302, varArgs4);
Value *rslt5 = send_280(empty_list, (Value *)varArgs4);
return(rslt5);

};};
struct {int64_t type;
        int32_t refs;
        int64_t len;
        Integer *hash;
        char buffer[16];
} str789 = {StringType, -1, 15, 0, "Could not find "};
Value *strPtr789 = (Value *)&str789;
Value *arityImpl9373(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val1;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs3[2] = {&val1, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs3);

dec_and_free(closuresTail, 1);

// static-fixed
// #line 2652 "toccata.toc"
Value *rslt2 = deliver_225(empty_list, val1, symPtr46);
return(rslt2);

};};
Value *arityImpl9371(List *closures, Value *arg0) {
while (1) {

dec_and_free(arg0, 1);
Value *val2;
Value *closuresTail;
incRef((Value *)closures, 1);
Value **destArgs5[2] = {&val2, &closuresTail};
destructValue("", "", (Value *)closures, 2, destArgs5);

dec_and_free(closuresTail, 1);
FnArity *dynArity1 = malloc_fnArity();
dynArity1->count = 1;
dynArity1->variadic = 0;
dynArity1->fn = arityImpl9373;
dynArity1->closures = empty_list;
dynArity1->closures = listCons((Value *)val2, (List *)dynArity1->closures);
Function *anon_9374 = malloc_function(1);
anon_9374->name = "anon";
anon_9374->arityCount = 1;
anon_9374->arities[0] = dynArity1;
Value *fn9372 = (Value *)anon_9374;

// static-variadic
// #line 2651 "toccata.toc"
List *varArgs3 = empty_list;
varArgs3 = (List *)listCons((Value *)fn9372, varArgs3);
varArgs3 = (List *)listCons((Value *)string_writer_9039, varArgs3);
Value *rslt4 = send_280(empty_list, (Value *)varArgs3);
return(rslt4);

};};
Value *main_9365(List *closures, Value *params_0) {
 while (1) {
Value *arg1;
Value *file_name_2;
Value *tail_3;
Value **destArgs4[3] = {&arg1, &file_name_2, &tail_3};
destructValue("toccata.toc", "2636", (Value *)params_0, 3, destArgs4);

dec_and_free(arg1, 1);

incRef(file_name_2, 2);

dec_and_free(tail_3, 1);

// static-fixed
// #line 2637 "toccata.toc"
Value *rslt5 = promise_1336(empty_list);
Value *waiter_6 = rslt5;

incRef(waiter_6, 1);
Value *orRslt7;

// static-fixed
// #line 2638 "toccata.toc"
Value *rslt8 = file_directory_9290(empty_list, file_name_2);
Value *mv_9 = rslt8;
FnArity *dynArity10 = malloc_fnArity();
dynArity10->count = 1;
dynArity10->variadic = 0;
dynArity10->fn = arityImpl9368;
dynArity10->closures = empty_list;
dynArity10->closures = listCons((Value *)waiter_6, (List *)dynArity10->closures);
dynArity10->closures = listCons((Value *)file_name_2, (List *)dynArity10->closures);
Function *anon_9369 = malloc_function(1);
anon_9369->name = "anon";
anon_9369->arityCount = 1;
anon_9369->arities[0] = dynArity10;
Value *fn9367 = (Value *)anon_9369;

// static-fixed
// #line 975 "core"
Value *rslt11 = maybe_map_729(empty_list, mv_9, fn9367);
orRslt7 = rslt11;
if (!isNothing(orRslt7)) {
dec_and_free(file_name_2, 1);

} else {
dec_and_free(orRslt7, 1);

// static-variadic
// #line 2642 "toccata.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)strPtr10, varArgs12);
varArgs12 = (List *)listCons((Value *)file_name_2, varArgs12);
varArgs12 = (List *)listCons((Value *)strPtr10, varArgs12);
Value *rslt13 = str_526(empty_list, (Value *)varArgs12);

// static-variadic
// #line 2642 "toccata.toc"
List *varArgs14 = empty_list;
varArgs14 = (List *)listCons((Value *)rslt13, varArgs14);
varArgs14 = (List *)listCons((Value *)strPtr789, varArgs14);
Value *rslt15 = print_err_521(empty_list, (Value *)varArgs14);
Value *arg16 = rslt15;

dec_and_free(arg16, 1);

// static-fixed
// #line 2643 "toccata.toc"
Value *rslt17 = abort_113(empty_list);
orRslt7 = rslt17;
}

dec_and_free(orRslt7, 1);

// type-known for extract
// #line 2644 "toccata.toc"
Value *rslt18 = Promise_extract_1365(empty_list, waiter_6);

dec_and_free(rslt18, 1);

// static-variadic
// #line 2645 "toccata.toc"
List *varArgs19 = empty_list;
varArgs19 = (List *)listCons((Value *)emit_main_9151, varArgs19);
varArgs19 = (List *)listCons((Value *)ast_emitter_9118, varArgs19);
Value *rslt20 = send_280(empty_list, (Value *)varArgs19);

dec_and_free(rslt20, 1);

// static-variadic
// #line 2646 "toccata.toc"
List *varArgs21 = empty_list;
varArgs21 = (List *)listCons((Value *)finalize_protocols_9194, varArgs21);
varArgs21 = (List *)listCons((Value *)ast_emitter_9118, varArgs21);
Value *rslt22 = send_280(empty_list, (Value *)varArgs21);

dec_and_free(rslt22, 1);

// static-variadic
// #line 2647 "toccata.toc"
List *varArgs23 = empty_list;
varArgs23 = (List *)listCons((Value *)fixup_native_symbols_9283, varArgs23);
varArgs23 = (List *)listCons((Value *)ast_emitter_9118, varArgs23);
Value *rslt24 = send_280(empty_list, (Value *)varArgs23);

dec_and_free(rslt24, 1);

// static-fixed
// #line 2649 "toccata.toc"
Value *rslt25 = promise_1336(empty_list);
Value *waiter_26 = rslt25;

incRef(waiter_26, 1);
FnArity *dynArity27 = malloc_fnArity();
dynArity27->count = 1;
dynArity27->variadic = 0;
dynArity27->fn = arityImpl9371;
dynArity27->closures = empty_list;
dynArity27->closures = listCons((Value *)waiter_26, (List *)dynArity27->closures);
Function *anon_9375 = malloc_function(1);
anon_9375->name = "anon";
anon_9375->arityCount = 1;
anon_9375->arities[0] = dynArity27;
Value *fn9370 = (Value *)anon_9375;

// static-variadic
// #line 2650 "toccata.toc"
List *varArgs28 = empty_list;
varArgs28 = (List *)listCons((Value *)fn9370, varArgs28);
varArgs28 = (List *)listCons((Value *)ast_emitter_9118, varArgs28);
Value *rslt29 = send_280(empty_list, (Value *)varArgs28);

dec_and_free(rslt29, 1);

// type-known for extract
// #line 2653 "toccata.toc"
Value *rslt30 = Promise_extract_1365(empty_list, waiter_26);
return(rslt30);

};};
FnArity main_9376 = {FnArityType, -1, 1, (List *)0, 0, main_9365};

int main (int argc, char **argv) {
maybeNothing = maybe((List *)0, (Value *)0, nothing);
maybeNothing->refs = -1;
outstream = stdout;
__atomic_store(&futuresQueue.input, &empty_list, __ATOMIC_RELAXED);
futuresQueue.output = empty_list;
pthread_mutex_init(&futuresQueue.mutex, NULL);
pthread_cond_init(&futuresQueue.notEmpty, NULL);
pthread_mutex_init(&shutDown.access, NULL);
startWorkers();

// static-fixed
// #line 1681 "core"
Value *rslt0 = char_code_208(empty_list, strPtr39);
code_0_1519 = rslt0;
code_0_1519->refs = -1;

// static-fixed
// #line 1682 "core"
Value *rslt1 = char_code_208(empty_list, strPtr40);
code_9_1520 = rslt1;
code_9_1520->refs = -1;

type_val_1534_1535 = reifiedPtr1600;

type_val_1630_1631 = reifiedPtr1664;

// static-fixed
// #line 1785 "core"
Value *rslt2 = int_generator_1667(empty_list);
sym_counter_1672 = rslt2;
sym_counter_1672->refs = -1;

type_val_1703_1704 = reifiedPtr1761;

type_val_1905_1906 = reifiedPtr1954;

type_val_1955_1956 = reifiedPtr2013;

type_val_2014_2015 = reifiedPtr2053;

type_val_2059_2060 = reifiedPtr2120;

type_val_2126_2127 = reifiedPtr2192;

type_val_2207_2208 = reifiedPtr2247;

type_val_2262_2263 = reifiedPtr2314;

type_val_2315_2316 = reifiedPtr2364;

type_val_2365_2366 = reifiedPtr2400;

type_val_2415_2416 = reifiedPtr2462;

type_val_2498_2499 = reifiedPtr2545;

type_val_2583_2584 = reifiedPtr2617;

free_app_1797 = reifiedPtr2635;

type_val_2618_2619 = reifiedPtr2681;

type_val_2692_2693 = reifiedPtr2767;

type_val_2768_2769 = reifiedPtr2835;

pure_1796 = reifiedPtr2848;

type_val_2836_2837 = reifiedPtr2878;

type_val_2889_2890 = reifiedPtr2921;

type_val_2940_2941 = reifiedPtr2977;

type_val_2978_2979 = reifiedPtr3021;

type_val_3032_3033 = reifiedPtr3064;

type_val_3081_3082 = reifiedPtr3122;

type_val_3136_3137 = reifiedPtr3164;

type_val_3165_3166 = reifiedPtr3208;

type_val_3219_3220 = reifiedPtr3253;

type_val_3259_3260 = reifiedPtr3306;

type_val_3334_3335 = reifiedPtr3370;

type_val_3371_3372 = reifiedPtr3414;

type_val_3433_3434 = reifiedPtr3463;

type_val_3469_3470 = reifiedPtr3497;

type_val_3498_3499 = reifiedPtr3536;

type_val_3560_3561 = reifiedPtr3596;

type_val_3610_3611 = reifiedPtr3644;

type_val_3650_3651 = reifiedPtr3682;

type_val_3696_3697 = reifiedPtr3743;

type_val_3744_3745 = reifiedPtr3774;

type_val_3793_3794 = reifiedPtr3833;

type_val_3839_3840 = reifiedPtr3880;

type_val_3891_3892 = reifiedPtr3926;

type_val_3927_3928 = reifiedPtr3968;

type_val_3979_3980 = reifiedPtr4011;

// static-fixed
// #line 130 "/Users/jim/toccata/grammar.toc"
Value *rslt3 = char_range_3133(empty_list, strPtr202, strPtr203);

// static-fixed
// #line 130 "/Users/jim/toccata/grammar.toc"
Value *rslt4 = rule_3888(empty_list, strPtr201, rslt3);
lower_alpha_4025 = rslt4;
lower_alpha_4025->refs = -1;

type_val_4026_4027 = reifiedPtr4083;

// static-fixed
// #line 131 "/Users/jim/toccata/grammar.toc"
Value *rslt5 = char_range_3133(empty_list, strPtr209, strPtr210);

// static-fixed
// #line 131 "/Users/jim/toccata/grammar.toc"
Value *rslt6 = rule_3888(empty_list, strPtr208, rslt5);
upper_alpha_4084 = rslt6;
upper_alpha_4084->refs = -1;

// static-variadic
// #line 132 "/Users/jim/toccata/grammar.toc"
List *varArgs7 = empty_list;
varArgs7 = (List *)listCons((Value *)upper_alpha_4084, varArgs7);
varArgs7 = (List *)listCons((Value *)lower_alpha_4025, varArgs7);
Value *rslt8 = any_3693(empty_list, (Value *)varArgs7);

// static-fixed
// #line 132 "/Users/jim/toccata/grammar.toc"
Value *rslt9 = rule_3888(empty_list, strPtr211, rslt8);
alpha_4098 = rslt9;
alpha_4098->refs = -1;

// static-fixed
// #line 133 "/Users/jim/toccata/grammar.toc"
Value *rslt10 = char_range_3133(empty_list, strPtr39, strPtr40);

// static-fixed
// #line 133 "/Users/jim/toccata/grammar.toc"
Value *rslt11 = rule_3888(empty_list, strPtr212, rslt10);
digit_4099 = rslt11;
digit_4099->refs = -1;

// static-variadic
// #line 134 "/Users/jim/toccata/grammar.toc"
List *varArgs12 = empty_list;
varArgs12 = (List *)listCons((Value *)digit_4099, varArgs12);
varArgs12 = (List *)listCons((Value *)alpha_4098, varArgs12);
Value *rslt13 = any_3693(empty_list, (Value *)varArgs12);

// static-fixed
// #line 134 "/Users/jim/toccata/grammar.toc"
Value *rslt14 = rule_3888(empty_list, strPtr213, rslt13);
alphanum_4100 = rslt14;
alphanum_4100->refs = -1;

type_val_4109_4110 = reifiedPtr4156;

// static-fixed
// #line 136 "/Users/jim/toccata/grammar.toc"
Value *rslt15 = char_range_3133(empty_list, strPtr202, strPtr137);

// static-fixed
// #line 137 "/Users/jim/toccata/grammar.toc"
Value *rslt16 = char_range_3133(empty_list, strPtr209, strPtr219);

// static-variadic
// #line 135 "/Users/jim/toccata/grammar.toc"
List *varArgs17 = empty_list;
varArgs17 = (List *)listCons((Value *)rslt16, varArgs17);
varArgs17 = (List *)listCons((Value *)rslt15, varArgs17);
varArgs17 = (List *)listCons((Value *)digit_4099, varArgs17);
Value *rslt18 = any_3693(empty_list, (Value *)varArgs17);

// static-fixed
// #line 135 "/Users/jim/toccata/grammar.toc"
Value *rslt19 = rule_3888(empty_list, strPtr218, rslt18);
hex_4157 = rslt19;
hex_4157->refs = -1;

type_val_4173_4174 = reifiedPtr4220;

type_val_4231_4232 = reifiedPtr4269;

type_val_4270_4271 = reifiedPtr4331;

type_val_4345_4346 = reifiedPtr4388;

type_val_4403_4404 = reifiedPtr4451;

type_val_4457_4458 = reifiedPtr4489;

type_val_4495_4496 = reifiedPtr4541;

type_val_4554_4555 = reifiedPtr4601;

type_val_4675_4676 = reifiedPtr4754;

// static-fixed
// #line 81 "/Users/jim/toccata/reader.toc"
Value *rslt20 = one_of_4165(empty_list, strPtr257);

// static-variadic
// #line 81 "/Users/jim/toccata/reader.toc"
List *varArgs21 = empty_list;
varArgs21 = (List *)listCons((Value *)rslt20, varArgs21);
varArgs21 = (List *)listCons((Value *)alpha_4098, varArgs21);
Value *rslt22 = any_3693(empty_list, (Value *)varArgs21);

// static-fixed
// #line 80 "/Users/jim/toccata/reader.toc"
Value *rslt23 = rule_3888(empty_list, strPtr256, rslt22);
symbol_start_4769 = rslt23;
symbol_start_4769->refs = -1;

// static-fixed
// #line 85 "/Users/jim/toccata/reader.toc"
Value *rslt24 = one_of_4165(empty_list, strPtr259);

// static-fixed
// #line 84 "/Users/jim/toccata/reader.toc"
Value *rslt25 = rule_3888(empty_list, strPtr258, rslt24);
symbol_punct_4781 = rslt25;
symbol_punct_4781->refs = -1;

// static-variadic
// #line 89 "/Users/jim/toccata/reader.toc"
List *varArgs26 = empty_list;
varArgs26 = (List *)listCons((Value *)symbol_punct_4781, varArgs26);
varArgs26 = (List *)listCons((Value *)digit_4099, varArgs26);
varArgs26 = (List *)listCons((Value *)alpha_4098, varArgs26);
Value *rslt27 = any_3693(empty_list, (Value *)varArgs26);

// static-fixed
// #line 88 "/Users/jim/toccata/reader.toc"
Value *rslt28 = rule_3888(empty_list, strPtr260, rslt27);
symbol_char_4782 = rslt28;
symbol_char_4782->refs = -1;

// static-fixed
// #line 93 "/Users/jim/toccata/reader.toc"
Value *rslt29 = none_or_more_3790(empty_list, symbol_char_4782);

// static-fixed
// #line 92 "/Users/jim/toccata/reader.toc"
Value *rslt30 = rule_3888(empty_list, strPtr261, rslt29);
rest_of_symbol_4783 = rslt30;
rest_of_symbol_4783->refs = -1;

// static-fixed
// #line 97 "/Users/jim/toccata/reader.toc"
Value *rslt31 = one_of_4165(empty_list, strPtr263);

// static-fixed
// #line 96 "/Users/jim/toccata/reader.toc"
Value *rslt32 = rule_3888(empty_list, strPtr262, rslt31);
namespace_punct_4793 = rslt32;
namespace_punct_4793->refs = -1;

// static-variadic
// #line 101 "/Users/jim/toccata/reader.toc"
List *varArgs33 = empty_list;
varArgs33 = (List *)listCons((Value *)namespace_punct_4793, varArgs33);
varArgs33 = (List *)listCons((Value *)digit_4099, varArgs33);
varArgs33 = (List *)listCons((Value *)alpha_4098, varArgs33);
Value *rslt34 = any_3693(empty_list, (Value *)varArgs33);

// static-fixed
// #line 101 "/Users/jim/toccata/reader.toc"
Value *rslt35 = none_or_more_3790(empty_list, rslt34);

// static-fixed
// #line 100 "/Users/jim/toccata/reader.toc"
Value *rslt36 = rule_3888(empty_list, strPtr264, rslt35);
rest_of_namespace_4794 = rslt36;
rest_of_namespace_4794->refs = -1;

// static-fixed
// #line 111 "/Users/jim/toccata/reader.toc"
Value *rslt37 = ignore_3466(empty_list, strPtr94);

// static-variadic
// #line 107 "/Users/jim/toccata/reader.toc"
List *varArgs38 = empty_list;
varArgs38 = (List *)listCons((Value *)rslt37, varArgs38);
varArgs38 = (List *)listCons((Value *)rest_of_namespace_4794, varArgs38);
varArgs38 = (List *)listCons((Value *)alpha_4098, varArgs38);
varArgs38 = (List *)listCons((Value *)fn4795, varArgs38);
Value *rslt39 = apply_fn_4170(empty_list, (Value *)varArgs38);

// static-fixed
// #line 106 "/Users/jim/toccata/reader.toc"
Value *rslt40 = rule_3888(empty_list, strPtr265, rslt39);
read_namespace_4799 = rslt40;
read_namespace_4799->refs = -1;

// static-fixed
// #line 121 "/Users/jim/toccata/reader.toc"
Value *rslt41 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 122 "/Users/jim/toccata/reader.toc"
Value *rslt42 = get_value_2924(empty_list, symPtr3);

// static-fixed
// #line 123 "/Users/jim/toccata/reader.toc"
Value *rslt43 = optional_4228(empty_list, read_namespace_4799);

// static-variadic
// #line 115 "/Users/jim/toccata/reader.toc"
List *varArgs44 = empty_list;
varArgs44 = (List *)listCons((Value *)rest_of_symbol_4783, varArgs44);
varArgs44 = (List *)listCons((Value *)symbol_start_4769, varArgs44);
varArgs44 = (List *)listCons((Value *)rslt43, varArgs44);
varArgs44 = (List *)listCons((Value *)rslt42, varArgs44);
varArgs44 = (List *)listCons((Value *)rslt41, varArgs44);
varArgs44 = (List *)listCons((Value *)fn4818, varArgs44);
Value *rslt45 = apply_fn_4170(empty_list, (Value *)varArgs44);

// static-fixed
// #line 114 "/Users/jim/toccata/reader.toc"
Value *rslt46 = rule_3888(empty_list, strPtr253, rslt45);
read_symbol_4822 = rslt46;
read_symbol_4822->refs = -1;

// static-variadic
// #line 130 "/Users/jim/toccata/reader.toc"
List *varArgs47 = empty_list;
varArgs47 = (List *)listCons((Value *)strPtr268, varArgs47);
varArgs47 = (List *)listCons((Value *)strPtr267, varArgs47);
Value *rslt48 = all_3607(empty_list, (Value *)varArgs47);

// static-variadic
// #line 129 "/Users/jim/toccata/reader.toc"
List *varArgs49 = empty_list;
varArgs49 = (List *)listCons((Value *)rslt48, varArgs49);
varArgs49 = (List *)listCons((Value *)fn4823, varArgs49);
Value *rslt50 = apply_fn_4170(empty_list, (Value *)varArgs49);

// static-fixed
// #line 128 "/Users/jim/toccata/reader.toc"
Value *rslt51 = rule_3888(empty_list, strPtr266, rslt50);
read_string_newline_4827 = rslt51;
read_string_newline_4827->refs = -1;

// static-variadic
// #line 135 "/Users/jim/toccata/reader.toc"
List *varArgs52 = empty_list;
varArgs52 = (List *)listCons((Value *)strPtr271, varArgs52);
varArgs52 = (List *)listCons((Value *)strPtr267, varArgs52);
Value *rslt53 = all_3607(empty_list, (Value *)varArgs52);

// static-variadic
// #line 134 "/Users/jim/toccata/reader.toc"
List *varArgs54 = empty_list;
varArgs54 = (List *)listCons((Value *)rslt53, varArgs54);
varArgs54 = (List *)listCons((Value *)fn4828, varArgs54);
Value *rslt55 = apply_fn_4170(empty_list, (Value *)varArgs54);

// static-fixed
// #line 133 "/Users/jim/toccata/reader.toc"
Value *rslt56 = rule_3888(empty_list, strPtr269, rslt55);
read_string_tab_4832 = rslt56;
read_string_tab_4832->refs = -1;

// static-variadic
// #line 140 "/Users/jim/toccata/reader.toc"
List *varArgs57 = empty_list;
varArgs57 = (List *)listCons((Value *)strPtr274, varArgs57);
varArgs57 = (List *)listCons((Value *)strPtr267, varArgs57);
Value *rslt58 = all_3607(empty_list, (Value *)varArgs57);

// static-variadic
// #line 139 "/Users/jim/toccata/reader.toc"
List *varArgs59 = empty_list;
varArgs59 = (List *)listCons((Value *)rslt58, varArgs59);
varArgs59 = (List *)listCons((Value *)fn4833, varArgs59);
Value *rslt60 = apply_fn_4170(empty_list, (Value *)varArgs59);

// static-fixed
// #line 138 "/Users/jim/toccata/reader.toc"
Value *rslt61 = rule_3888(empty_list, strPtr272, rslt60);
read_string_backspace_4837 = rslt61;
read_string_backspace_4837->refs = -1;

// static-variadic
// #line 145 "/Users/jim/toccata/reader.toc"
List *varArgs62 = empty_list;
varArgs62 = (List *)listCons((Value *)strPtr277, varArgs62);
varArgs62 = (List *)listCons((Value *)strPtr267, varArgs62);
Value *rslt63 = all_3607(empty_list, (Value *)varArgs62);

// static-variadic
// #line 144 "/Users/jim/toccata/reader.toc"
List *varArgs64 = empty_list;
varArgs64 = (List *)listCons((Value *)rslt63, varArgs64);
varArgs64 = (List *)listCons((Value *)fn4838, varArgs64);
Value *rslt65 = apply_fn_4170(empty_list, (Value *)varArgs64);

// static-fixed
// #line 143 "/Users/jim/toccata/reader.toc"
Value *rslt66 = rule_3888(empty_list, strPtr275, rslt65);
read_string_return_4842 = rslt66;
read_string_return_4842->refs = -1;

// static-variadic
// #line 150 "/Users/jim/toccata/reader.toc"
List *varArgs67 = empty_list;
varArgs67 = (List *)listCons((Value *)strPtr137, varArgs67);
varArgs67 = (List *)listCons((Value *)strPtr267, varArgs67);
Value *rslt68 = all_3607(empty_list, (Value *)varArgs67);

// static-variadic
// #line 149 "/Users/jim/toccata/reader.toc"
List *varArgs69 = empty_list;
varArgs69 = (List *)listCons((Value *)rslt68, varArgs69);
varArgs69 = (List *)listCons((Value *)fn4863, varArgs69);
Value *rslt70 = apply_fn_4170(empty_list, (Value *)varArgs69);

// static-fixed
// #line 148 "/Users/jim/toccata/reader.toc"
Value *rslt71 = rule_3888(empty_list, strPtr278, rslt70);
read_string_formfeed_4867 = rslt71;
read_string_formfeed_4867->refs = -1;

// static-variadic
// #line 155 "/Users/jim/toccata/reader.toc"
List *varArgs72 = empty_list;
varArgs72 = (List *)listCons((Value *)strPtr8, varArgs72);
varArgs72 = (List *)listCons((Value *)strPtr267, varArgs72);
Value *rslt73 = all_3607(empty_list, (Value *)varArgs72);

// static-variadic
// #line 154 "/Users/jim/toccata/reader.toc"
List *varArgs74 = empty_list;
varArgs74 = (List *)listCons((Value *)rslt73, varArgs74);
varArgs74 = (List *)listCons((Value *)fn4870, varArgs74);
Value *rslt75 = apply_fn_4170(empty_list, (Value *)varArgs74);

// static-fixed
// #line 153 "/Users/jim/toccata/reader.toc"
Value *rslt76 = rule_3888(empty_list, strPtr280, rslt75);
read_string_doublequote_4874 = rslt76;
read_string_doublequote_4874->refs = -1;

// static-variadic
// #line 160 "/Users/jim/toccata/reader.toc"
List *varArgs77 = empty_list;
varArgs77 = (List *)listCons((Value *)strPtr267, varArgs77);
varArgs77 = (List *)listCons((Value *)strPtr267, varArgs77);
Value *rslt78 = all_3607(empty_list, (Value *)varArgs77);

// static-variadic
// #line 159 "/Users/jim/toccata/reader.toc"
List *varArgs79 = empty_list;
varArgs79 = (List *)listCons((Value *)rslt78, varArgs79);
varArgs79 = (List *)listCons((Value *)fn4875, varArgs79);
Value *rslt80 = apply_fn_4170(empty_list, (Value *)varArgs79);

// static-fixed
// #line 158 "/Users/jim/toccata/reader.toc"
Value *rslt81 = rule_3888(empty_list, strPtr281, rslt80);
read_string_backslash_4879 = rslt81;
read_string_backslash_4879->refs = -1;

// static-fixed
// #line 164 "/Users/jim/toccata/reader.toc"
Value *rslt82 = not_char_3078(empty_list, strPtr5);

// static-fixed
// #line 163 "/Users/jim/toccata/reader.toc"
Value *rslt83 = rule_3888(empty_list, strPtr282, rslt82);
not_eol_4886 = rslt83;
not_eol_4886->refs = -1;

// static-fixed
// #line 186 "/Users/jim/toccata/reader.toc"
Value *rslt84 = term_fn_3216(empty_list, fn4892);

// static-fixed
// #line 185 "/Users/jim/toccata/reader.toc"
Value *rslt85 = rule_3888(empty_list, strPtr283, rslt84);
read_string_fragment_4896 = rslt85;
read_string_fragment_4896->refs = -1;

// static-fixed
// #line 192 "/Users/jim/toccata/reader.toc"
Value *rslt86 = ignore_3466(empty_list, strPtr8);

// static-variadic
// #line 194 "/Users/jim/toccata/reader.toc"
List *varArgs87 = empty_list;
varArgs87 = (List *)listCons((Value *)read_string_newline_4827, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_formfeed_4867, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_return_4842, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_backspace_4837, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_tab_4832, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_doublequote_4874, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_backslash_4879, varArgs87);
varArgs87 = (List *)listCons((Value *)read_string_fragment_4896, varArgs87);
Value *rslt88 = any_3693(empty_list, (Value *)varArgs87);

// static-fixed
// #line 193 "/Users/jim/toccata/reader.toc"
Value *rslt89 = none_or_more_3790(empty_list, rslt88);

// static-fixed
// #line 202 "/Users/jim/toccata/reader.toc"
Value *rslt90 = ignore_3466(empty_list, strPtr8);

// static-variadic
// #line 191 "/Users/jim/toccata/reader.toc"
List *varArgs91 = empty_list;
varArgs91 = (List *)listCons((Value *)rslt90, varArgs91);
varArgs91 = (List *)listCons((Value *)rslt89, varArgs91);
varArgs91 = (List *)listCons((Value *)rslt86, varArgs91);
varArgs91 = (List *)listCons((Value *)to_str_309, varArgs91);
Value *rslt92 = apply_fn_4170(empty_list, (Value *)varArgs91);

// static-fixed
// #line 190 "/Users/jim/toccata/reader.toc"
Value *rslt93 = rule_3888(empty_list, strPtr286, rslt92);
read_string_4917 = rslt93;
read_string_4917->refs = -1;

// static-fixed
// #line 207 "/Users/jim/toccata/reader.toc"
Value *rslt94 = one_or_more_3430(empty_list, digit_4099);

// static-variadic
// #line 206 "/Users/jim/toccata/reader.toc"
List *varArgs95 = empty_list;
varArgs95 = (List *)listCons((Value *)rslt94, varArgs95);
varArgs95 = (List *)listCons((Value *)str_to_int_1522, varArgs95);
Value *rslt96 = apply_fn_4170(empty_list, (Value *)varArgs95);

// static-fixed
// #line 210 "/Users/jim/toccata/reader.toc"
Value *rslt97 = ignore_3466(empty_list, strPtr288);

// static-fixed
// #line 211 "/Users/jim/toccata/reader.toc"
Value *rslt98 = one_or_more_3430(empty_list, digit_4099);

// static-variadic
// #line 208 "/Users/jim/toccata/reader.toc"
List *varArgs99 = empty_list;
varArgs99 = (List *)listCons((Value *)rslt98, varArgs99);
varArgs99 = (List *)listCons((Value *)rslt97, varArgs99);
varArgs99 = (List *)listCons((Value *)fn4932, varArgs99);
Value *rslt100 = apply_fn_4170(empty_list, (Value *)varArgs99);

// static-variadic
// #line 206 "/Users/jim/toccata/reader.toc"
List *varArgs101 = empty_list;
varArgs101 = (List *)listCons((Value *)rslt100, varArgs101);
varArgs101 = (List *)listCons((Value *)rslt96, varArgs101);
Value *rslt102 = any_3693(empty_list, (Value *)varArgs101);

// static-fixed
// #line 205 "/Users/jim/toccata/reader.toc"
Value *rslt103 = rule_3888(empty_list, strPtr287, rslt102);
read_integer_4936 = rslt103;
read_integer_4936->refs = -1;

// static-fixed
// #line 214 "/Users/jim/toccata/reader.toc"
Value *rslt104 = recurse_4022(empty_list, strPtr289);
read_sub_expr_4937 = rslt104;
read_sub_expr_4937->refs = -1;

// static-variadic
// #line 218 "/Users/jim/toccata/reader.toc"
List *varArgs105 = empty_list;
varArgs105 = (List *)listCons((Value *)strPtr270, varArgs105);
varArgs105 = (List *)listCons((Value *)strPtr4, varArgs105);
varArgs105 = (List *)listCons((Value *)strPtr181, varArgs105);
Value *rslt106 = any_3693(empty_list, (Value *)varArgs105);

// static-fixed
// #line 217 "/Users/jim/toccata/reader.toc"
Value *rslt107 = rule_3888(empty_list, strPtr290, rslt106);
linear_whitespace_4938 = rslt107;
linear_whitespace_4938->refs = -1;

// static-fixed
// #line 220 "/Users/jim/toccata/reader.toc"
Value *rslt108 = none_or_more_3790(empty_list, linear_whitespace_4938);

// static-fixed
// #line 220 "/Users/jim/toccata/reader.toc"
Value *rslt109 = ignore_3466(empty_list, rslt108);
ignore_linear_whitespace_4939 = rslt109;
ignore_linear_whitespace_4939->refs = -1;

// static-fixed
// #line 225 "/Users/jim/toccata/reader.toc"
Value *rslt110 = update_value_3024(empty_list, symPtr3, inc_563);

// static-fixed
// #line 225 "/Users/jim/toccata/reader.toc"
Value *rslt111 = ignore_3466(empty_list, rslt110);

// static-variadic
// #line 224 "/Users/jim/toccata/reader.toc"
List *varArgs112 = empty_list;
varArgs112 = (List *)listCons((Value *)rslt111, varArgs112);
varArgs112 = (List *)listCons((Value *)strPtr5, varArgs112);
varArgs112 = (List *)listCons((Value *)identity_143, varArgs112);
Value *rslt113 = apply_fn_4170(empty_list, (Value *)varArgs112);

// static-fixed
// #line 223 "/Users/jim/toccata/reader.toc"
Value *rslt114 = rule_3888(empty_list, strPtr266, rslt113);
newline_4940 = rslt114;
newline_4940->refs = -1;

// static-fixed
// #line 227 "/Users/jim/toccata/reader.toc"
Value *rslt115 = none_or_more_3790(empty_list, newline_4940);

// static-fixed
// #line 227 "/Users/jim/toccata/reader.toc"
Value *rslt116 = ignore_3466(empty_list, rslt115);
ignore_newlines_4950 = rslt116;
ignore_newlines_4950->refs = -1;

// static-variadic
// #line 231 "/Users/jim/toccata/reader.toc"
List *varArgs117 = empty_list;
varArgs117 = (List *)listCons((Value *)newline_4940, varArgs117);
varArgs117 = (List *)listCons((Value *)strPtr276, varArgs117);
varArgs117 = (List *)listCons((Value *)linear_whitespace_4938, varArgs117);
Value *rslt118 = any_3693(empty_list, (Value *)varArgs117);

// static-fixed
// #line 230 "/Users/jim/toccata/reader.toc"
Value *rslt119 = rule_3888(empty_list, strPtr292, rslt118);
whitespace_4951 = rslt119;
whitespace_4951->refs = -1;

// static-fixed
// #line 235 "/Users/jim/toccata/reader.toc"
Value *rslt120 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 235 "/Users/jim/toccata/reader.toc"
Value *rslt121 = ignore_3466(empty_list, rslt120);
ignore_whitespace_4952 = rslt121;
ignore_whitespace_4952->refs = -1;

// static-variadic
// #line 239 "/Users/jim/toccata/reader.toc"
List *varArgs122 = empty_list;
varArgs122 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs122);
varArgs122 = (List *)listCons((Value *)read_symbol_4822, varArgs122);
varArgs122 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs122);
varArgs122 = (List *)listCons((Value *)comp_240, varArgs122);
Value *rslt123 = apply_fn_4170(empty_list, (Value *)varArgs122);

// static-fixed
// #line 238 "/Users/jim/toccata/reader.toc"
Value *rslt124 = rule_3888(empty_list, strPtr293, rslt123);
read_arg_4963 = rslt124;
read_arg_4963->refs = -1;

// static-fixed
// #line 248 "/Users/jim/toccata/reader.toc"
Value *rslt125 = ignore_3466(empty_list, strPtr295);

// static-variadic
// #line 246 "/Users/jim/toccata/reader.toc"
List *varArgs126 = empty_list;
varArgs126 = (List *)listCons((Value *)read_arg_4963, varArgs126);
varArgs126 = (List *)listCons((Value *)rslt125, varArgs126);
varArgs126 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs126);
varArgs126 = (List *)listCons((Value *)identity_143, varArgs126);
Value *rslt127 = apply_fn_4170(empty_list, (Value *)varArgs126);

// static-fixed
// #line 245 "/Users/jim/toccata/reader.toc"
Value *rslt128 = rule_3888(empty_list, strPtr294, rslt127);
read_var_arg_4964 = rslt128;
read_var_arg_4964->refs = -1;

// static-fixed
// #line 255 "/Users/jim/toccata/reader.toc"
Value *rslt129 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 258 "/Users/jim/toccata/reader.toc"
Value *rslt130 = recurse_4022(empty_list, strPtr296);

// static-fixed
// #line 257 "/Users/jim/toccata/reader.toc"
Value *rslt131 = none_or_more_3790(empty_list, rslt130);

// static-fixed
// #line 259 "/Users/jim/toccata/reader.toc"
Value *rslt132 = optional_4228(empty_list, read_var_arg_4964);

// static-variadic
// #line 256 "/Users/jim/toccata/reader.toc"
List *varArgs133 = empty_list;
varArgs133 = (List *)listCons((Value *)rslt132, varArgs133);
varArgs133 = (List *)listCons((Value *)rslt131, varArgs133);
varArgs133 = (List *)listCons((Value *)params_2407, varArgs133);
Value *rslt134 = apply_fn_4170(empty_list, (Value *)varArgs133);

// static-fixed
// #line 260 "/Users/jim/toccata/reader.toc"
Value *rslt135 = ignore_3466(empty_list, strPtr22);

// static-fixed
// #line 261 "/Users/jim/toccata/reader.toc"
Value *rslt136 = error_4642(empty_list, strPtr297);

// static-variadic
// #line 260 "/Users/jim/toccata/reader.toc"
List *varArgs137 = empty_list;
varArgs137 = (List *)listCons((Value *)rslt136, varArgs137);
varArgs137 = (List *)listCons((Value *)rslt135, varArgs137);
Value *rslt138 = any_3693(empty_list, (Value *)varArgs137);

// static-variadic
// #line 253 "/Users/jim/toccata/reader.toc"
List *varArgs139 = empty_list;
varArgs139 = (List *)listCons((Value *)rslt138, varArgs139);
varArgs139 = (List *)listCons((Value *)rslt134, varArgs139);
varArgs139 = (List *)listCons((Value *)rslt129, varArgs139);
varArgs139 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs139);
varArgs139 = (List *)listCons((Value *)identity_143, varArgs139);
Value *rslt140 = apply_fn_4170(empty_list, (Value *)varArgs139);

// static-variadic
// #line 253 "/Users/jim/toccata/reader.toc"
List *varArgs141 = empty_list;
varArgs141 = (List *)listCons((Value *)read_arg_4963, varArgs141);
varArgs141 = (List *)listCons((Value *)rslt140, varArgs141);
Value *rslt142 = any_3693(empty_list, (Value *)varArgs141);

// static-fixed
// #line 252 "/Users/jim/toccata/reader.toc"
Value *rslt143 = recursive_rule_3976(empty_list, strPtr296, rslt142);
read_params_4994 = rslt143;
read_params_4994->refs = -1;

// static-variadic
// #line 266 "/Users/jim/toccata/reader.toc"
List *varArgs144 = empty_list;
varArgs144 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs144);
varArgs144 = (List *)listCons((Value *)strPtr16, varArgs144);
varArgs144 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs144);
Value *rslt145 = all_3607(empty_list, (Value *)varArgs144);

// static-fixed
// #line 266 "/Users/jim/toccata/reader.toc"
Value *rslt146 = ignore_3466(empty_list, rslt145);

// static-fixed
// #line 265 "/Users/jim/toccata/reader.toc"
Value *rslt147 = rule_3888(empty_list, strPtr298, rslt146);
read_open_paren_4995 = rslt147;
read_open_paren_4995->refs = -1;

// static-variadic
// #line 270 "/Users/jim/toccata/reader.toc"
List *varArgs148 = empty_list;
varArgs148 = (List *)listCons((Value *)strPtr18, varArgs148);
varArgs148 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs148);
Value *rslt149 = all_3607(empty_list, (Value *)varArgs148);

// static-fixed
// #line 270 "/Users/jim/toccata/reader.toc"
Value *rslt150 = ignore_3466(empty_list, rslt149);

// static-fixed
// #line 269 "/Users/jim/toccata/reader.toc"
Value *rslt151 = rule_3888(empty_list, strPtr299, rslt150);
read_close_paren_4996 = rslt151;
read_close_paren_4996->refs = -1;

// static-fixed
// #line 276 "/Users/jim/toccata/reader.toc"
Value *rslt152 = ignore_3466(empty_list, strPtr301);

// static-fixed
// #line 277 "/Users/jim/toccata/reader.toc"
Value *rslt153 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 277 "/Users/jim/toccata/reader.toc"
Value *rslt154 = ignore_3466(empty_list, rslt153);

// static-fixed
// #line 280 "/Users/jim/toccata/reader.toc"
Value *rslt155 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 281 "/Users/jim/toccata/reader.toc"
Value *rslt156 = get_value_2924(empty_list, symPtr3);

// static-fixed
// #line 283 "/Users/jim/toccata/reader.toc"
Value *rslt157 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 283 "/Users/jim/toccata/reader.toc"
Value *rslt158 = ignore_3466(empty_list, rslt157);

// static-fixed
// #line 287 "/Users/jim/toccata/reader.toc"
Value *rslt159 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 286 "/Users/jim/toccata/reader.toc"
Value *rslt160 = ignore_3466(empty_list, rslt159);

// static-variadic
// #line 284 "/Users/jim/toccata/reader.toc"
List *varArgs161 = empty_list;
varArgs161 = (List *)listCons((Value *)rslt160, varArgs161);
varArgs161 = (List *)listCons((Value *)read_symbol_4822, varArgs161);
varArgs161 = (List *)listCons((Value *)identity_143, varArgs161);
Value *rslt162 = apply_fn_4170(empty_list, (Value *)varArgs161);

// static-fixed
// #line 284 "/Users/jim/toccata/reader.toc"
Value *rslt163 = optional_4228(empty_list, rslt162);

// static-variadic
// #line 278 "/Users/jim/toccata/reader.toc"
List *varArgs164 = empty_list;
varArgs164 = (List *)listCons((Value *)read_close_paren_4996, varArgs164);
varArgs164 = (List *)listCons((Value *)read_string_4917, varArgs164);
varArgs164 = (List *)listCons((Value *)rslt163, varArgs164);
varArgs164 = (List *)listCons((Value *)rslt158, varArgs164);
varArgs164 = (List *)listCons((Value *)read_symbol_4822, varArgs164);
varArgs164 = (List *)listCons((Value *)rslt156, varArgs164);
varArgs164 = (List *)listCons((Value *)rslt155, varArgs164);
varArgs164 = (List *)listCons((Value *)fn5006, varArgs164);
Value *rslt165 = apply_fn_4170(empty_list, (Value *)varArgs164);

// static-variadic
// #line 274 "/Users/jim/toccata/reader.toc"
List *varArgs166 = empty_list;
varArgs166 = (List *)listCons((Value *)rslt165, varArgs166);
varArgs166 = (List *)listCons((Value *)rslt154, varArgs166);
varArgs166 = (List *)listCons((Value *)rslt152, varArgs166);
varArgs166 = (List *)listCons((Value *)read_open_paren_4995, varArgs166);
varArgs166 = (List *)listCons((Value *)identity_143, varArgs166);
Value *rslt167 = apply_fn_4170(empty_list, (Value *)varArgs166);

// static-fixed
// #line 273 "/Users/jim/toccata/reader.toc"
Value *rslt168 = rule_3888(empty_list, strPtr300, rslt167);
read_inline_5010 = rslt168;
read_inline_5010->refs = -1;

// static-fixed
// #line 294 "/Users/jim/toccata/reader.toc"
Value *rslt169 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 295 "/Users/jim/toccata/reader.toc"
Value *rslt170 = get_value_2924(empty_list, symPtr3);

// static-fixed
// #line 299 "/Users/jim/toccata/reader.toc"
Value *rslt171 = one_or_more_3430(empty_list, strPtr303);

// static-fixed
// #line 299 "/Users/jim/toccata/reader.toc"
Value *rslt172 = ignore_3466(empty_list, rslt171);

// static-fixed
// #line 301 "/Users/jim/toccata/reader.toc"
Value *rslt173 = none_or_more_3790(empty_list, not_eol_4886);

// static-variadic
// #line 300 "/Users/jim/toccata/reader.toc"
List *varArgs174 = empty_list;
varArgs174 = (List *)listCons((Value *)rslt173, varArgs174);
varArgs174 = (List *)listCons((Value *)to_str_309, varArgs174);
Value *rslt175 = apply_fn_4170(empty_list, (Value *)varArgs174);

// static-fixed
// #line 302 "/Users/jim/toccata/reader.toc"
Value *rslt176 = ignore_3466(empty_list, newline_4940);

// static-variadic
// #line 297 "/Users/jim/toccata/reader.toc"
List *varArgs177 = empty_list;
varArgs177 = (List *)listCons((Value *)rslt176, varArgs177);
varArgs177 = (List *)listCons((Value *)rslt175, varArgs177);
varArgs177 = (List *)listCons((Value *)rslt172, varArgs177);
varArgs177 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs177);
varArgs177 = (List *)listCons((Value *)identity_143, varArgs177);
Value *rslt178 = apply_fn_4170(empty_list, (Value *)varArgs177);

// static-fixed
// #line 296 "/Users/jim/toccata/reader.toc"
Value *rslt179 = one_or_more_3430(empty_list, rslt178);

// static-variadic
// #line 293 "/Users/jim/toccata/reader.toc"
List *varArgs180 = empty_list;
varArgs180 = (List *)listCons((Value *)rslt179, varArgs180);
varArgs180 = (List *)listCons((Value *)rslt170, varArgs180);
varArgs180 = (List *)listCons((Value *)rslt169, varArgs180);
varArgs180 = (List *)listCons((Value *)block_comment_2055, varArgs180);
Value *rslt181 = apply_fn_4170(empty_list, (Value *)varArgs180);

// static-fixed
// #line 292 "/Users/jim/toccata/reader.toc"
Value *rslt182 = rule_3888(empty_list, strPtr302, rslt181);
read_block_comment_5011 = rslt182;
read_block_comment_5011->refs = -1;

// static-fixed
// #line 308 "/Users/jim/toccata/reader.toc"
Value *rslt183 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-variadic
// #line 306 "/Users/jim/toccata/reader.toc"
List *varArgs184 = empty_list;
varArgs184 = (List *)listCons((Value *)read_close_paren_4996, varArgs184);
varArgs184 = (List *)listCons((Value *)rslt183, varArgs184);
varArgs184 = (List *)listCons((Value *)read_open_paren_4995, varArgs184);
varArgs184 = (List *)listCons((Value *)call_expr_3210, varArgs184);
Value *rslt185 = apply_fn_4170(empty_list, (Value *)varArgs184);

// static-fixed
// #line 305 "/Users/jim/toccata/reader.toc"
Value *rslt186 = rule_3888(empty_list, strPtr304, rslt185);
read_call_5012 = rslt186;
read_call_5012->refs = -1;

// static-fixed
// #line 312 "/Users/jim/toccata/reader.toc"
Value *rslt187 = recurse_4022(empty_list, strPtr305);
read_sub_dest_5013 = rslt187;
read_sub_dest_5013->refs = -1;

// static-fixed
// #line 318 "/Users/jim/toccata/reader.toc"
Value *rslt188 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 319 "/Users/jim/toccata/reader.toc"
Value *rslt189 = none_or_more_3790(empty_list, read_sub_dest_5013);

// static-variadic
// #line 320 "/Users/jim/toccata/reader.toc"
List *varArgs190 = empty_list;
varArgs190 = (List *)listCons((Value *)read_var_arg_4964, varArgs190);
varArgs190 = (List *)listCons((Value *)maybe_3, varArgs190);
Value *rslt191 = apply_fn_4170(empty_list, (Value *)varArgs190);

// static-fixed
// #line 321 "/Users/jim/toccata/reader.toc"
Value *rslt192 = always_3539(empty_list, nothing_7);

// static-variadic
// #line 320 "/Users/jim/toccata/reader.toc"
List *varArgs193 = empty_list;
varArgs193 = (List *)listCons((Value *)rslt192, varArgs193);
varArgs193 = (List *)listCons((Value *)rslt191, varArgs193);
Value *rslt194 = any_3693(empty_list, (Value *)varArgs193);

// static-fixed
// #line 322 "/Users/jim/toccata/reader.toc"
Value *rslt195 = ignore_3466(empty_list, strPtr22);

// static-variadic
// #line 316 "/Users/jim/toccata/reader.toc"
List *varArgs196 = empty_list;
varArgs196 = (List *)listCons((Value *)rslt195, varArgs196);
varArgs196 = (List *)listCons((Value *)rslt194, varArgs196);
varArgs196 = (List *)listCons((Value *)rslt189, varArgs196);
varArgs196 = (List *)listCons((Value *)rslt188, varArgs196);
varArgs196 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs196);
varArgs196 = (List *)listCons((Value *)params_2407, varArgs196);
Value *rslt197 = apply_fn_4170(empty_list, (Value *)varArgs196);

// static-fixed
// #line 315 "/Users/jim/toccata/reader.toc"
Value *rslt198 = rule_3888(empty_list, strPtr306, rslt197);
read_list_destructure_5014 = rslt198;
read_list_destructure_5014->refs = -1;

// static-variadic
// #line 326 "/Users/jim/toccata/reader.toc"
List *varArgs199 = empty_list;
varArgs199 = (List *)listCons((Value *)read_arg_4963, varArgs199);
varArgs199 = (List *)listCons((Value *)read_list_destructure_5014, varArgs199);
Value *rslt200 = any_3693(empty_list, (Value *)varArgs199);

// static-fixed
// #line 325 "/Users/jim/toccata/reader.toc"
Value *rslt201 = recursive_rule_3976(empty_list, strPtr305, rslt200);
read_destructure_5015 = rslt201;
read_destructure_5015->refs = -1;

// static-fixed
// #line 332 "/Users/jim/toccata/reader.toc"
Value *rslt202 = optional_4228(empty_list, read_block_comment_5011);

// static-fixed
// #line 332 "/Users/jim/toccata/reader.toc"
Value *rslt203 = ignore_3466(empty_list, rslt202);

// static-variadic
// #line 330 "/Users/jim/toccata/reader.toc"
List *varArgs204 = empty_list;
varArgs204 = (List *)listCons((Value *)read_sub_expr_4937, varArgs204);
varArgs204 = (List *)listCons((Value *)read_destructure_5015, varArgs204);
varArgs204 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs204);
varArgs204 = (List *)listCons((Value *)rslt203, varArgs204);
varArgs204 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs204);
varArgs204 = (List *)listCons((Value *)binding_3313, varArgs204);
Value *rslt205 = apply_fn_4170(empty_list, (Value *)varArgs204);

// static-fixed
// #line 329 "/Users/jim/toccata/reader.toc"
Value *rslt206 = rule_3888(empty_list, strPtr307, rslt205);
read_let_binding_5016 = rslt206;
read_let_binding_5016->refs = -1;

// static-fixed
// #line 341 "/Users/jim/toccata/reader.toc"
Value *rslt207 = ignore_3466(empty_list, strPtr308);

// static-fixed
// #line 343 "/Users/jim/toccata/reader.toc"
Value *rslt208 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 345 "/Users/jim/toccata/reader.toc"
Value *rslt209 = one_or_more_3430(empty_list, read_let_binding_5016);

// static-fixed
// #line 346 "/Users/jim/toccata/reader.toc"
Value *rslt210 = ignore_3466(empty_list, strPtr22);

// static-fixed
// #line 347 "/Users/jim/toccata/reader.toc"
Value *rslt211 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-variadic
// #line 344 "/Users/jim/toccata/reader.toc"
List *varArgs212 = empty_list;
varArgs212 = (List *)listCons((Value *)read_close_paren_4996, varArgs212);
varArgs212 = (List *)listCons((Value *)rslt211, varArgs212);
varArgs212 = (List *)listCons((Value *)rslt210, varArgs212);
varArgs212 = (List *)listCons((Value *)rslt209, varArgs212);
varArgs212 = (List *)listCons((Value *)let_expr_3424, varArgs212);
Value *rslt213 = apply_fn_4170(empty_list, (Value *)varArgs212);

// static-fixed
// #line 349 "/Users/jim/toccata/reader.toc"
Value *rslt214 = error_4642(empty_list, strPtr309);

// static-variadic
// #line 344 "/Users/jim/toccata/reader.toc"
List *varArgs215 = empty_list;
varArgs215 = (List *)listCons((Value *)rslt214, varArgs215);
varArgs215 = (List *)listCons((Value *)rslt213, varArgs215);
Value *rslt216 = any_3693(empty_list, (Value *)varArgs215);

// static-variadic
// #line 339 "/Users/jim/toccata/reader.toc"
List *varArgs217 = empty_list;
varArgs217 = (List *)listCons((Value *)rslt216, varArgs217);
varArgs217 = (List *)listCons((Value *)rslt208, varArgs217);
varArgs217 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs217);
varArgs217 = (List *)listCons((Value *)rslt207, varArgs217);
varArgs217 = (List *)listCons((Value *)read_open_paren_4995, varArgs217);
varArgs217 = (List *)listCons((Value *)identity_143, varArgs217);
Value *rslt218 = apply_fn_4170(empty_list, (Value *)varArgs217);

// static-fixed
// #line 338 "/Users/jim/toccata/reader.toc"
Value *rslt219 = rule_3888(empty_list, strPtr308, rslt218);
read_let_5017 = rslt219;
read_let_5017->refs = -1;

// static-variadic
// #line 353 "/Users/jim/toccata/reader.toc"
List *varArgs220 = empty_list;
varArgs220 = (List *)listCons((Value *)empty_list_0, varArgs220);
varArgs220 = (List *)listCons((Value *)let_expr_3424, varArgs220);
Value *rslt221 = partial_969(empty_list, (Value *)varArgs220);

// static-fixed
// #line 355 "/Users/jim/toccata/reader.toc"
Value *rslt222 = ignore_3466(empty_list, strPtr310);

// static-fixed
// #line 356 "/Users/jim/toccata/reader.toc"
Value *rslt223 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 356 "/Users/jim/toccata/reader.toc"
Value *rslt224 = ignore_3466(empty_list, rslt223);

// static-fixed
// #line 357 "/Users/jim/toccata/reader.toc"
Value *rslt225 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-variadic
// #line 353 "/Users/jim/toccata/reader.toc"
List *varArgs226 = empty_list;
varArgs226 = (List *)listCons((Value *)read_close_paren_4996, varArgs226);
varArgs226 = (List *)listCons((Value *)rslt225, varArgs226);
varArgs226 = (List *)listCons((Value *)rslt224, varArgs226);
varArgs226 = (List *)listCons((Value *)rslt222, varArgs226);
varArgs226 = (List *)listCons((Value *)read_open_paren_4995, varArgs226);
varArgs226 = (List *)listCons((Value *)rslt221, varArgs226);
Value *rslt227 = apply_fn_4170(empty_list, (Value *)varArgs226);

// static-fixed
// #line 352 "/Users/jim/toccata/reader.toc"
Value *rslt228 = rule_3888(empty_list, strPtr310, rslt227);
read_do_5018 = rslt228;
read_do_5018->refs = -1;

// static-fixed
// #line 364 "/Users/jim/toccata/reader.toc"
Value *rslt229 = ignore_3466(empty_list, strPtr311);

// static-fixed
// #line 365 "/Users/jim/toccata/reader.toc"
Value *rslt230 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 365 "/Users/jim/toccata/reader.toc"
Value *rslt231 = ignore_3466(empty_list, rslt230);

// static-fixed
// #line 366 "/Users/jim/toccata/reader.toc"
Value *rslt232 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-variadic
// #line 362 "/Users/jim/toccata/reader.toc"
List *varArgs233 = empty_list;
varArgs233 = (List *)listCons((Value *)read_close_paren_4996, varArgs233);
varArgs233 = (List *)listCons((Value *)rslt232, varArgs233);
varArgs233 = (List *)listCons((Value *)rslt231, varArgs233);
varArgs233 = (List *)listCons((Value *)rslt229, varArgs233);
varArgs233 = (List *)listCons((Value *)read_open_paren_4995, varArgs233);
varArgs233 = (List *)listCons((Value *)or_expr_3646, varArgs233);
Value *rslt234 = apply_fn_4170(empty_list, (Value *)varArgs233);

// static-fixed
// #line 361 "/Users/jim/toccata/reader.toc"
Value *rslt235 = rule_3888(empty_list, strPtr311, rslt234);
read_or_5019 = rslt235;
read_or_5019->refs = -1;

// static-fixed
// #line 373 "/Users/jim/toccata/reader.toc"
Value *rslt236 = ignore_3466(empty_list, strPtr312);

// static-fixed
// #line 374 "/Users/jim/toccata/reader.toc"
Value *rslt237 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 374 "/Users/jim/toccata/reader.toc"
Value *rslt238 = ignore_3466(empty_list, rslt237);

// static-fixed
// #line 375 "/Users/jim/toccata/reader.toc"
Value *rslt239 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-variadic
// #line 371 "/Users/jim/toccata/reader.toc"
List *varArgs240 = empty_list;
varArgs240 = (List *)listCons((Value *)read_close_paren_4996, varArgs240);
varArgs240 = (List *)listCons((Value *)rslt239, varArgs240);
varArgs240 = (List *)listCons((Value *)rslt238, varArgs240);
varArgs240 = (List *)listCons((Value *)rslt236, varArgs240);
varArgs240 = (List *)listCons((Value *)read_open_paren_4995, varArgs240);
varArgs240 = (List *)listCons((Value *)and_expr_3543, varArgs240);
Value *rslt241 = apply_fn_4170(empty_list, (Value *)varArgs240);

// static-fixed
// #line 370 "/Users/jim/toccata/reader.toc"
Value *rslt242 = rule_3888(empty_list, strPtr312, rslt241);
read_and_5020 = rslt242;
read_and_5020->refs = -1;

// static-fixed
// #line 382 "/Users/jim/toccata/reader.toc"
Value *rslt243 = ignore_3466(empty_list, strPtr313);

// static-fixed
// #line 383 "/Users/jim/toccata/reader.toc"
Value *rslt244 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 383 "/Users/jim/toccata/reader.toc"
Value *rslt245 = ignore_3466(empty_list, rslt244);

// static-variadic
// #line 380 "/Users/jim/toccata/reader.toc"
List *varArgs246 = empty_list;
varArgs246 = (List *)listCons((Value *)read_close_paren_4996, varArgs246);
varArgs246 = (List *)listCons((Value *)read_sub_expr_4937, varArgs246);
varArgs246 = (List *)listCons((Value *)read_sub_expr_4937, varArgs246);
varArgs246 = (List *)listCons((Value *)rslt245, varArgs246);
varArgs246 = (List *)listCons((Value *)rslt243, varArgs246);
varArgs246 = (List *)listCons((Value *)read_open_paren_4995, varArgs246);
varArgs246 = (List *)listCons((Value *)either_expr_3776, varArgs246);
Value *rslt247 = apply_fn_4170(empty_list, (Value *)varArgs246);

// static-fixed
// #line 379 "/Users/jim/toccata/reader.toc"
Value *rslt248 = rule_3888(empty_list, strPtr313, rslt247);
read_either_5021 = rslt248;
read_either_5021->refs = -1;

// static-fixed
// #line 392 "/Users/jim/toccata/reader.toc"
Value *rslt249 = ignore_3466(empty_list, strPtr314);

// static-fixed
// #line 393 "/Users/jim/toccata/reader.toc"
Value *rslt250 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 393 "/Users/jim/toccata/reader.toc"
Value *rslt251 = ignore_3466(empty_list, rslt250);

// static-variadic
// #line 390 "/Users/jim/toccata/reader.toc"
List *varArgs252 = empty_list;
varArgs252 = (List *)listCons((Value *)read_close_paren_4996, varArgs252);
varArgs252 = (List *)listCons((Value *)read_sub_expr_4937, varArgs252);
varArgs252 = (List *)listCons((Value *)rslt251, varArgs252);
varArgs252 = (List *)listCons((Value *)rslt249, varArgs252);
varArgs252 = (List *)listCons((Value *)read_open_paren_4995, varArgs252);
varArgs252 = (List *)listCons((Value *)assert_expr_3835, varArgs252);
Value *rslt253 = apply_fn_4170(empty_list, (Value *)varArgs252);

// static-fixed
// #line 389 "/Users/jim/toccata/reader.toc"
Value *rslt254 = rule_3888(empty_list, strPtr314, rslt253);
read_assert_5022 = rslt254;
read_assert_5022->refs = -1;

// static-fixed
// #line 401 "/Users/jim/toccata/reader.toc"
Value *rslt255 = ignore_3466(empty_list, strPtr315);

// static-fixed
// #line 402 "/Users/jim/toccata/reader.toc"
Value *rslt256 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 402 "/Users/jim/toccata/reader.toc"
Value *rslt257 = ignore_3466(empty_list, rslt256);

// static-fixed
// #line 404 "/Users/jim/toccata/reader.toc"
Value *rslt258 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 404 "/Users/jim/toccata/reader.toc"
Value *rslt259 = ignore_3466(empty_list, rslt258);

// static-variadic
// #line 399 "/Users/jim/toccata/reader.toc"
List *varArgs260 = empty_list;
varArgs260 = (List *)listCons((Value *)read_close_paren_4996, varArgs260);
varArgs260 = (List *)listCons((Value *)read_sub_expr_4937, varArgs260);
varArgs260 = (List *)listCons((Value *)rslt259, varArgs260);
varArgs260 = (List *)listCons((Value *)read_symbol_4822, varArgs260);
varArgs260 = (List *)listCons((Value *)rslt257, varArgs260);
varArgs260 = (List *)listCons((Value *)rslt255, varArgs260);
varArgs260 = (List *)listCons((Value *)read_open_paren_4995, varArgs260);
varArgs260 = (List *)listCons((Value *)returns_expr_3970, varArgs260);
Value *rslt261 = apply_fn_4170(empty_list, (Value *)varArgs260);

// static-fixed
// #line 398 "/Users/jim/toccata/reader.toc"
Value *rslt262 = rule_3888(empty_list, strPtr315, rslt261);
read_returns_5023 = rslt262;
read_returns_5023->refs = -1;

// static-fixed
// #line 411 "/Users/jim/toccata/reader.toc"
Value *rslt263 = ignore_3466(empty_list, strPtr16);

// static-fixed
// #line 412 "/Users/jim/toccata/reader.toc"
Value *rslt264 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 412 "/Users/jim/toccata/reader.toc"
Value *rslt265 = ignore_3466(empty_list, rslt264);

// static-fixed
// #line 413 "/Users/jim/toccata/reader.toc"
Value *rslt266 = ignore_3466(empty_list, strPtr316);

// static-fixed
// #line 414 "/Users/jim/toccata/reader.toc"
Value *rslt267 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 414 "/Users/jim/toccata/reader.toc"
Value *rslt268 = ignore_3466(empty_list, rslt267);

// static-fixed
// #line 425 "/Users/jim/toccata/reader.toc"
Value *rslt269 = none_or_more_3790(empty_list, read_sub_expr_4937);

// static-fixed
// #line 426 "/Users/jim/toccata/reader.toc"
Value *rslt270 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 426 "/Users/jim/toccata/reader.toc"
Value *rslt271 = ignore_3466(empty_list, rslt270);

// static-fixed
// #line 427 "/Users/jim/toccata/reader.toc"
Value *rslt272 = ignore_3466(empty_list, strPtr18);

// static-variadic
// #line 415 "/Users/jim/toccata/reader.toc"
List *varArgs273 = empty_list;
varArgs273 = (List *)listCons((Value *)rslt272, varArgs273);
varArgs273 = (List *)listCons((Value *)rslt271, varArgs273);
varArgs273 = (List *)listCons((Value *)rslt269, varArgs273);
varArgs273 = (List *)listCons((Value *)read_sub_expr_4937, varArgs273);
varArgs273 = (List *)listCons((Value *)fn5024, varArgs273);
Value *rslt274 = apply_fn_4170(empty_list, (Value *)varArgs273);

// static-fixed
// #line 428 "/Users/jim/toccata/reader.toc"
Value *rslt275 = error_4642(empty_list, strPtr317);

// static-variadic
// #line 415 "/Users/jim/toccata/reader.toc"
List *varArgs276 = empty_list;
varArgs276 = (List *)listCons((Value *)rslt275, varArgs276);
varArgs276 = (List *)listCons((Value *)rslt274, varArgs276);
Value *rslt277 = any_3693(empty_list, (Value *)varArgs276);

// static-variadic
// #line 410 "/Users/jim/toccata/reader.toc"
List *varArgs278 = empty_list;
varArgs278 = (List *)listCons((Value *)rslt277, varArgs278);
varArgs278 = (List *)listCons((Value *)rslt268, varArgs278);
varArgs278 = (List *)listCons((Value *)rslt266, varArgs278);
varArgs278 = (List *)listCons((Value *)rslt265, varArgs278);
varArgs278 = (List *)listCons((Value *)rslt263, varArgs278);
varArgs278 = (List *)listCons((Value *)identity_143, varArgs278);
Value *rslt279 = apply_fn_4170(empty_list, (Value *)varArgs278);

// static-fixed
// #line 409 "/Users/jim/toccata/reader.toc"
Value *rslt280 = rule_3888(empty_list, strPtr316, rslt279);
read_comp_5028 = rslt280;
read_comp_5028->refs = -1;

// static-fixed
// #line 433 "/Users/jim/toccata/reader.toc"
Value *rslt281 = ignore_3466(empty_list, strPtr16);

// static-fixed
// #line 434 "/Users/jim/toccata/reader.toc"
Value *rslt282 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 434 "/Users/jim/toccata/reader.toc"
Value *rslt283 = ignore_3466(empty_list, rslt282);

// static-fixed
// #line 435 "/Users/jim/toccata/reader.toc"
Value *rslt284 = ignore_3466(empty_list, strPtr318);

// static-fixed
// #line 436 "/Users/jim/toccata/reader.toc"
Value *rslt285 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 436 "/Users/jim/toccata/reader.toc"
Value *rslt286 = ignore_3466(empty_list, rslt285);

// static-fixed
// #line 446 "/Users/jim/toccata/reader.toc"
Value *rslt287 = none_or_more_3790(empty_list, read_sub_expr_4937);

// static-fixed
// #line 447 "/Users/jim/toccata/reader.toc"
Value *rslt288 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 447 "/Users/jim/toccata/reader.toc"
Value *rslt289 = ignore_3466(empty_list, rslt288);

// static-fixed
// #line 448 "/Users/jim/toccata/reader.toc"
Value *rslt290 = ignore_3466(empty_list, strPtr18);

// static-variadic
// #line 437 "/Users/jim/toccata/reader.toc"
List *varArgs291 = empty_list;
varArgs291 = (List *)listCons((Value *)rslt290, varArgs291);
varArgs291 = (List *)listCons((Value *)rslt289, varArgs291);
varArgs291 = (List *)listCons((Value *)rslt287, varArgs291);
varArgs291 = (List *)listCons((Value *)read_sub_expr_4937, varArgs291);
varArgs291 = (List *)listCons((Value *)fn5029, varArgs291);
Value *rslt292 = apply_fn_4170(empty_list, (Value *)varArgs291);

// static-fixed
// #line 449 "/Users/jim/toccata/reader.toc"
Value *rslt293 = error_4642(empty_list, strPtr319);

// static-variadic
// #line 437 "/Users/jim/toccata/reader.toc"
List *varArgs294 = empty_list;
varArgs294 = (List *)listCons((Value *)rslt293, varArgs294);
varArgs294 = (List *)listCons((Value *)rslt292, varArgs294);
Value *rslt295 = any_3693(empty_list, (Value *)varArgs294);

// static-variadic
// #line 432 "/Users/jim/toccata/reader.toc"
List *varArgs296 = empty_list;
varArgs296 = (List *)listCons((Value *)rslt295, varArgs296);
varArgs296 = (List *)listCons((Value *)rslt286, varArgs296);
varArgs296 = (List *)listCons((Value *)rslt284, varArgs296);
varArgs296 = (List *)listCons((Value *)rslt283, varArgs296);
varArgs296 = (List *)listCons((Value *)rslt281, varArgs296);
varArgs296 = (List *)listCons((Value *)identity_143, varArgs296);
Value *rslt297 = apply_fn_4170(empty_list, (Value *)varArgs296);

// static-fixed
// #line 431 "/Users/jim/toccata/reader.toc"
Value *rslt298 = rule_3888(empty_list, strPtr318, rslt297);
read_apply_5033 = rslt298;
read_apply_5033->refs = -1;

// static-fixed
// #line 454 "/Users/jim/toccata/reader.toc"
Value *rslt299 = ignore_3466(empty_list, strPtr16);

// static-fixed
// #line 455 "/Users/jim/toccata/reader.toc"
Value *rslt300 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 455 "/Users/jim/toccata/reader.toc"
Value *rslt301 = ignore_3466(empty_list, rslt300);

// static-fixed
// #line 456 "/Users/jim/toccata/reader.toc"
Value *rslt302 = ignore_3466(empty_list, strPtr320);

// static-fixed
// #line 457 "/Users/jim/toccata/reader.toc"
Value *rslt303 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 457 "/Users/jim/toccata/reader.toc"
Value *rslt304 = ignore_3466(empty_list, rslt303);

// static-fixed
// #line 470 "/Users/jim/toccata/reader.toc"
Value *rslt305 = none_or_more_3790(empty_list, read_sub_expr_4937);

// static-fixed
// #line 471 "/Users/jim/toccata/reader.toc"
Value *rslt306 = none_or_more_3790(empty_list, whitespace_4951);

// static-fixed
// #line 471 "/Users/jim/toccata/reader.toc"
Value *rslt307 = ignore_3466(empty_list, rslt306);

// static-fixed
// #line 472 "/Users/jim/toccata/reader.toc"
Value *rslt308 = ignore_3466(empty_list, strPtr18);

// static-variadic
// #line 458 "/Users/jim/toccata/reader.toc"
List *varArgs309 = empty_list;
varArgs309 = (List *)listCons((Value *)rslt308, varArgs309);
varArgs309 = (List *)listCons((Value *)rslt307, varArgs309);
varArgs309 = (List *)listCons((Value *)rslt305, varArgs309);
varArgs309 = (List *)listCons((Value *)read_sub_expr_4937, varArgs309);
varArgs309 = (List *)listCons((Value *)read_sub_expr_4937, varArgs309);
varArgs309 = (List *)listCons((Value *)fn5034, varArgs309);
Value *rslt310 = apply_fn_4170(empty_list, (Value *)varArgs309);

// static-fixed
// #line 473 "/Users/jim/toccata/reader.toc"
Value *rslt311 = error_4642(empty_list, strPtr321);

// static-variadic
// #line 458 "/Users/jim/toccata/reader.toc"
List *varArgs312 = empty_list;
varArgs312 = (List *)listCons((Value *)rslt311, varArgs312);
varArgs312 = (List *)listCons((Value *)rslt310, varArgs312);
Value *rslt313 = any_3693(empty_list, (Value *)varArgs312);

// static-variadic
// #line 453 "/Users/jim/toccata/reader.toc"
List *varArgs314 = empty_list;
varArgs314 = (List *)listCons((Value *)rslt313, varArgs314);
varArgs314 = (List *)listCons((Value *)rslt304, varArgs314);
varArgs314 = (List *)listCons((Value *)rslt302, varArgs314);
varArgs314 = (List *)listCons((Value *)rslt301, varArgs314);
varArgs314 = (List *)listCons((Value *)rslt299, varArgs314);
varArgs314 = (List *)listCons((Value *)identity_143, varArgs314);
Value *rslt315 = apply_fn_4170(empty_list, (Value *)varArgs314);

// static-fixed
// #line 452 "/Users/jim/toccata/reader.toc"
Value *rslt316 = rule_3888(empty_list, strPtr320, rslt315);
read_apply_to_5038 = rslt316;
read_apply_to_5038->refs = -1;

// static-variadic
// #line 478 "/Users/jim/toccata/reader.toc"
List *varArgs317 = empty_list;
varArgs317 = (List *)listCons((Value *)read_block_comment_5011, varArgs317);
varArgs317 = (List *)listCons((Value *)read_returns_5023, varArgs317);
varArgs317 = (List *)listCons((Value *)read_assert_5022, varArgs317);
Value *rslt318 = any_3693(empty_list, (Value *)varArgs317);

// static-fixed
// #line 478 "/Users/jim/toccata/reader.toc"
Value *rslt319 = none_or_more_3790(empty_list, rslt318);

// static-variadic
// #line 482 "/Users/jim/toccata/reader.toc"
List *varArgs320 = empty_list;
varArgs320 = (List *)listCons((Value *)read_inline_5010, varArgs320);
Value *rslt321 = all_3607(empty_list, (Value *)varArgs320);

// static-fixed
// #line 483 "/Users/jim/toccata/reader.toc"
Value *rslt322 = none_or_more_3790(empty_list, read_block_comment_5011);

// static-variadic
// #line 477 "/Users/jim/toccata/reader.toc"
List *varArgs323 = empty_list;
varArgs323 = (List *)listCons((Value *)rslt322, varArgs323);
varArgs323 = (List *)listCons((Value *)rslt321, varArgs323);
varArgs323 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs323);
varArgs323 = (List *)listCons((Value *)rslt319, varArgs323);
varArgs323 = (List *)listCons((Value *)comp_240, varArgs323);
Value *rslt324 = apply_fn_4170(empty_list, (Value *)varArgs323);

// static-fixed
// #line 476 "/Users/jim/toccata/reader.toc"
Value *rslt325 = rule_3888(empty_list, strPtr322, rslt324);
read_inline_body_5039 = rslt325;
read_inline_body_5039->refs = -1;

// static-fixed
// #line 490 "/Users/jim/toccata/reader.toc"
Value *rslt326 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 491 "/Users/jim/toccata/reader.toc"
Value *rslt327 = get_value_2924(empty_list, symPtr3);

// static-variadic
// #line 488 "/Users/jim/toccata/reader.toc"
List *varArgs328 = empty_list;
varArgs328 = (List *)listCons((Value *)rslt327, varArgs328);
varArgs328 = (List *)listCons((Value *)rslt326, varArgs328);
varArgs328 = (List *)listCons((Value *)fn5040, varArgs328);
Value *rslt329 = apply_fn_4170(empty_list, (Value *)varArgs328);

// static-variadic
// #line 487 "/Users/jim/toccata/reader.toc"
List *varArgs330 = empty_list;
varArgs330 = (List *)listCons((Value *)rslt329, varArgs330);
varArgs330 = (List *)listCons((Value *)read_block_comment_5011, varArgs330);
Value *rslt331 = any_3693(empty_list, (Value *)varArgs330);

// static-fixed
// #line 486 "/Users/jim/toccata/reader.toc"
Value *rslt332 = rule_3888(empty_list, strPtr323, rslt331);
read_fn_doc_5044 = rslt332;
read_fn_doc_5044->refs = -1;

// static-fixed
// #line 500 "/Users/jim/toccata/reader.toc"
Value *rslt333 = one_or_more_3430(empty_list, read_sub_expr_4937);

// static-fixed
// #line 501 "/Users/jim/toccata/reader.toc"
Value *rslt334 = error_4642(empty_list, strPtr325);

// static-variadic
// #line 499 "/Users/jim/toccata/reader.toc"
List *varArgs335 = empty_list;
varArgs335 = (List *)listCons((Value *)rslt334, varArgs335);
varArgs335 = (List *)listCons((Value *)rslt333, varArgs335);
varArgs335 = (List *)listCons((Value *)read_inline_body_5039, varArgs335);
Value *rslt336 = any_3693(empty_list, (Value *)varArgs335);

// static-variadic
// #line 495 "/Users/jim/toccata/reader.toc"
List *varArgs337 = empty_list;
varArgs337 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs337);
varArgs337 = (List *)listCons((Value *)rslt336, varArgs337);
varArgs337 = (List *)listCons((Value *)read_fn_doc_5044, varArgs337);
varArgs337 = (List *)listCons((Value *)read_params_4994, varArgs337);
varArgs337 = (List *)listCons((Value *)fn5045, varArgs337);
Value *rslt338 = apply_fn_4170(empty_list, (Value *)varArgs337);

// static-fixed
// #line 494 "/Users/jim/toccata/reader.toc"
Value *rslt339 = rule_3888(empty_list, strPtr324, rslt338);
read_single_arity_5049 = rslt339;
read_single_arity_5049->refs = -1;

// static-variadic
// #line 506 "/Users/jim/toccata/reader.toc"
List *varArgs340 = empty_list;
varArgs340 = (List *)listCons((Value *)read_single_arity_5049, varArgs340);
varArgs340 = (List *)listCons((Value *)list_405, varArgs340);
Value *rslt341 = apply_fn_4170(empty_list, (Value *)varArgs340);

// static-variadic
// #line 511 "/Users/jim/toccata/reader.toc"
List *varArgs342 = empty_list;
varArgs342 = (List *)listCons((Value *)read_close_paren_4996, varArgs342);
varArgs342 = (List *)listCons((Value *)read_single_arity_5049, varArgs342);
varArgs342 = (List *)listCons((Value *)read_open_paren_4995, varArgs342);
varArgs342 = (List *)listCons((Value *)identity_143, varArgs342);
Value *rslt343 = apply_fn_4170(empty_list, (Value *)varArgs342);

// static-fixed
// #line 511 "/Users/jim/toccata/reader.toc"
Value *rslt344 = one_or_more_3430(empty_list, rslt343);

// static-variadic
// #line 507 "/Users/jim/toccata/reader.toc"
List *varArgs345 = empty_list;
varArgs345 = (List *)listCons((Value *)rslt344, varArgs345);
varArgs345 = (List *)listCons((Value *)read_fn_doc_5044, varArgs345);
varArgs345 = (List *)listCons((Value *)fn5050, varArgs345);
Value *rslt346 = apply_fn_4170(empty_list, (Value *)varArgs345);

// static-variadic
// #line 506 "/Users/jim/toccata/reader.toc"
List *varArgs347 = empty_list;
varArgs347 = (List *)listCons((Value *)rslt346, varArgs347);
varArgs347 = (List *)listCons((Value *)rslt341, varArgs347);
Value *rslt348 = any_3693(empty_list, (Value *)varArgs347);

// static-fixed
// #line 505 "/Users/jim/toccata/reader.toc"
Value *rslt349 = rule_3888(empty_list, strPtr326, rslt348);
read_arities_5057 = rslt349;
read_arities_5057->refs = -1;

// static-fixed
// #line 520 "/Users/jim/toccata/reader.toc"
Value *rslt350 = ignore_3466(empty_list, strPtr327);

// static-fixed
// #line 521 "/Users/jim/toccata/reader.toc"
Value *rslt351 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 521 "/Users/jim/toccata/reader.toc"
Value *rslt352 = ignore_3466(empty_list, rslt351);

// static-fixed
// #line 524 "/Users/jim/toccata/reader.toc"
Value *rslt353 = optional_4228(empty_list, read_symbol_4822);

// static-variadic
// #line 522 "/Users/jim/toccata/reader.toc"
List *varArgs354 = empty_list;
varArgs354 = (List *)listCons((Value *)read_close_paren_4996, varArgs354);
varArgs354 = (List *)listCons((Value *)read_arities_5057, varArgs354);
varArgs354 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs354);
varArgs354 = (List *)listCons((Value *)rslt353, varArgs354);
varArgs354 = (List *)listCons((Value *)fn5058, varArgs354);
Value *rslt355 = apply_fn_4170(empty_list, (Value *)varArgs354);

// static-fixed
// #line 528 "/Users/jim/toccata/reader.toc"
Value *rslt356 = error_4642(empty_list, strPtr328);

// static-variadic
// #line 522 "/Users/jim/toccata/reader.toc"
List *varArgs357 = empty_list;
varArgs357 = (List *)listCons((Value *)rslt356, varArgs357);
varArgs357 = (List *)listCons((Value *)rslt355, varArgs357);
Value *rslt358 = any_3693(empty_list, (Value *)varArgs357);

// static-variadic
// #line 518 "/Users/jim/toccata/reader.toc"
List *varArgs359 = empty_list;
varArgs359 = (List *)listCons((Value *)rslt358, varArgs359);
varArgs359 = (List *)listCons((Value *)rslt352, varArgs359);
varArgs359 = (List *)listCons((Value *)rslt350, varArgs359);
varArgs359 = (List *)listCons((Value *)read_open_paren_4995, varArgs359);
varArgs359 = (List *)listCons((Value *)identity_143, varArgs359);
Value *rslt360 = apply_fn_4170(empty_list, (Value *)varArgs359);

// static-fixed
// #line 517 "/Users/jim/toccata/reader.toc"
Value *rslt361 = rule_3888(empty_list, strPtr327, rslt360);
read_fn_5062 = rslt361;
read_fn_5062->refs = -1;

// static-fixed
// #line 531 "/Users/jim/toccata/reader.toc"
Value *rslt362 = int_generator_1669(empty_list, TypeCount_5063);
type_counter_5064 = rslt362;
type_counter_5064->refs = -1;

// static-variadic
// #line 537 "/Users/jim/toccata/reader.toc"
List *varArgs363 = empty_list;
varArgs363 = (List *)listCons((Value *)read_single_arity_5049, varArgs363);
varArgs363 = (List *)listCons((Value *)list_405, varArgs363);
Value *rslt364 = apply_fn_4170(empty_list, (Value *)varArgs363);

// static-variadic
// #line 535 "/Users/jim/toccata/reader.toc"
List *varArgs365 = empty_list;
varArgs365 = (List *)listCons((Value *)read_close_paren_4996, varArgs365);
varArgs365 = (List *)listCons((Value *)rslt364, varArgs365);
varArgs365 = (List *)listCons((Value *)read_symbol_4822, varArgs365);
varArgs365 = (List *)listCons((Value *)read_open_paren_4995, varArgs365);
Value *rslt366 = all_3607(empty_list, (Value *)varArgs365);

// static-fixed
// #line 534 "/Users/jim/toccata/reader.toc"
Value *rslt367 = rule_3888(empty_list, strPtr329, rslt366);
read_implementation_5065 = rslt367;
read_implementation_5065->refs = -1;

// static-fixed
// #line 546 "/Users/jim/toccata/reader.toc"
Value *rslt368 = one_or_more_3430(empty_list, read_implementation_5065);

// static-variadic
// #line 543 "/Users/jim/toccata/reader.toc"
List *varArgs369 = empty_list;
varArgs369 = (List *)listCons((Value *)rslt368, varArgs369);
varArgs369 = (List *)listCons((Value *)read_symbol_4822, varArgs369);
varArgs369 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs369);
varArgs369 = (List *)listCons((Value *)hash_map_1207, varArgs369);
Value *rslt370 = apply_fn_4170(empty_list, (Value *)varArgs369);

// static-variadic
// #line 547 "/Users/jim/toccata/reader.toc"
List *varArgs371 = empty_list;
varArgs371 = (List *)listCons((Value *)read_block_comment_5011, varArgs371);
varArgs371 = (List *)listCons((Value *)fn5066, varArgs371);
Value *rslt372 = apply_fn_4170(empty_list, (Value *)varArgs371);

// static-variadic
// #line 543 "/Users/jim/toccata/reader.toc"
List *varArgs373 = empty_list;
varArgs373 = (List *)listCons((Value *)rslt372, varArgs373);
varArgs373 = (List *)listCons((Value *)rslt370, varArgs373);
Value *rslt374 = any_3693(empty_list, (Value *)varArgs373);

// static-fixed
// #line 542 "/Users/jim/toccata/reader.toc"
Value *rslt375 = rule_3888(empty_list, strPtr330, rslt374);
read_proto_impls_5070 = rslt375;
read_proto_impls_5070->refs = -1;

// static-fixed
// #line 555 "/Users/jim/toccata/reader.toc"
Value *rslt376 = ignore_3466(empty_list, strPtr331);

// static-fixed
// #line 556 "/Users/jim/toccata/reader.toc"
Value *rslt377 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 556 "/Users/jim/toccata/reader.toc"
Value *rslt378 = ignore_3466(empty_list, rslt377);

// static-fixed
// #line 559 "/Users/jim/toccata/reader.toc"
Value *rslt379 = none_or_more_3790(empty_list, read_proto_impls_5070);

// static-variadic
// #line 557 "/Users/jim/toccata/reader.toc"
List *varArgs380 = empty_list;
varArgs380 = (List *)listCons((Value *)rslt379, varArgs380);
varArgs380 = (List *)listCons((Value *)read_proto_impls_5070, varArgs380);
varArgs380 = (List *)listCons((Value *)comp_STAR__236, varArgs380);
Value *rslt381 = apply_fn_4170(empty_list, (Value *)varArgs380);

// static-variadic
// #line 552 "/Users/jim/toccata/reader.toc"
List *varArgs382 = empty_list;
varArgs382 = (List *)listCons((Value *)read_close_paren_4996, varArgs382);
varArgs382 = (List *)listCons((Value *)rslt381, varArgs382);
varArgs382 = (List *)listCons((Value *)rslt378, varArgs382);
varArgs382 = (List *)listCons((Value *)rslt376, varArgs382);
varArgs382 = (List *)listCons((Value *)read_open_paren_4995, varArgs382);
varArgs382 = (List *)listCons((Value *)fn5071, varArgs382);
Value *rslt383 = apply_fn_4170(empty_list, (Value *)varArgs382);

// static-fixed
// #line 551 "/Users/jim/toccata/reader.toc"
Value *rslt384 = rule_3888(empty_list, strPtr331, rslt383);
read_reify_5075 = rslt384;
read_reify_5075->refs = -1;

// static-fixed
// #line 566 "/Users/jim/toccata/reader.toc"
Value *rslt385 = ignore_3466(empty_list, strPtr332);

// static-fixed
// #line 567 "/Users/jim/toccata/reader.toc"
Value *rslt386 = get_value_2924(empty_list, symPtr2);

// static-variadic
// #line 564 "/Users/jim/toccata/reader.toc"
List *varArgs387 = empty_list;
varArgs387 = (List *)listCons((Value *)rslt386, varArgs387);
varArgs387 = (List *)listCons((Value *)rslt385, varArgs387);
varArgs387 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs387);
varArgs387 = (List *)listCons((Value *)identity_143, varArgs387);
Value *rslt388 = apply_fn_4170(empty_list, (Value *)varArgs387);

// static-fixed
// #line 563 "/Users/jim/toccata/reader.toc"
Value *rslt389 = rule_3888(empty_list, strPtr332, rslt388);
curr_file_name_5076 = rslt389;
curr_file_name_5076->refs = -1;

// static-fixed
// #line 573 "/Users/jim/toccata/reader.toc"
Value *rslt390 = ignore_3466(empty_list, strPtr333);

// static-fixed
// #line 574 "/Users/jim/toccata/reader.toc"
Value *rslt391 = get_value_2924(empty_list, symPtr3);

// static-variadic
// #line 571 "/Users/jim/toccata/reader.toc"
List *varArgs392 = empty_list;
varArgs392 = (List *)listCons((Value *)rslt391, varArgs392);
varArgs392 = (List *)listCons((Value *)rslt390, varArgs392);
varArgs392 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs392);
varArgs392 = (List *)listCons((Value *)identity_143, varArgs392);
Value *rslt393 = apply_fn_4170(empty_list, (Value *)varArgs392);

// static-fixed
// #line 570 "/Users/jim/toccata/reader.toc"
Value *rslt394 = rule_3888(empty_list, strPtr333, rslt393);
curr_line_5077 = rslt394;
curr_line_5077->refs = -1;

// static-fixed
// #line 579 "/Users/jim/toccata/reader.toc"
Value *rslt395 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 582 "/Users/jim/toccata/reader.toc"
Value *rslt396 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 583 "/Users/jim/toccata/reader.toc"
Value *rslt397 = get_value_2924(empty_list, symPtr3);

// static-fixed
// #line 584 "/Users/jim/toccata/reader.toc"
Value *rslt398 = none_or_more_3790(empty_list, read_sub_expr_4937);

// static-fixed
// #line 585 "/Users/jim/toccata/reader.toc"
Value *rslt399 = ignore_3466(empty_list, strPtr22);

// static-fixed
// #line 586 "/Users/jim/toccata/reader.toc"
Value *rslt400 = error_4642(empty_list, strPtr335);

// static-variadic
// #line 585 "/Users/jim/toccata/reader.toc"
List *varArgs401 = empty_list;
varArgs401 = (List *)listCons((Value *)rslt400, varArgs401);
varArgs401 = (List *)listCons((Value *)rslt399, varArgs401);
Value *rslt402 = any_3693(empty_list, (Value *)varArgs401);

// static-variadic
// #line 580 "/Users/jim/toccata/reader.toc"
List *varArgs403 = empty_list;
varArgs403 = (List *)listCons((Value *)rslt402, varArgs403);
varArgs403 = (List *)listCons((Value *)rslt398, varArgs403);
varArgs403 = (List *)listCons((Value *)rslt397, varArgs403);
varArgs403 = (List *)listCons((Value *)rslt396, varArgs403);
varArgs403 = (List *)listCons((Value *)fn5078, varArgs403);
Value *rslt404 = apply_fn_4170(empty_list, (Value *)varArgs403);

// static-variadic
// #line 578 "/Users/jim/toccata/reader.toc"
List *varArgs405 = empty_list;
varArgs405 = (List *)listCons((Value *)rslt404, varArgs405);
varArgs405 = (List *)listCons((Value *)rslt395, varArgs405);
varArgs405 = (List *)listCons((Value *)identity_143, varArgs405);
Value *rslt406 = apply_fn_4170(empty_list, (Value *)varArgs405);

// static-fixed
// #line 577 "/Users/jim/toccata/reader.toc"
Value *rslt407 = rule_3888(empty_list, strPtr334, rslt406);
read_vector_5082 = rslt407;
read_vector_5082->refs = -1;

// static-fixed
// #line 591 "/Users/jim/toccata/reader.toc"
Value *rslt408 = ignore_3466(empty_list, strPtr27);

// static-fixed
// #line 595 "/Users/jim/toccata/reader.toc"
Value *rslt409 = get_value_2924(empty_list, symPtr2);

// static-fixed
// #line 596 "/Users/jim/toccata/reader.toc"
Value *rslt410 = get_value_2924(empty_list, symPtr3);

// static-variadic
// #line 597 "/Users/jim/toccata/reader.toc"
List *varArgs411 = empty_list;
varArgs411 = (List *)listCons((Value *)read_sub_expr_4937, varArgs411);
varArgs411 = (List *)listCons((Value *)read_sub_expr_4937, varArgs411);
Value *rslt412 = all_3607(empty_list, (Value *)varArgs411);

// static-fixed
// #line 597 "/Users/jim/toccata/reader.toc"
Value *rslt413 = none_or_more_3790(empty_list, rslt412);

// static-fixed
// #line 599 "/Users/jim/toccata/reader.toc"
Value *rslt414 = ignore_3466(empty_list, strPtr28);

// static-fixed
// #line 600 "/Users/jim/toccata/reader.toc"
Value *rslt415 = error_4642(empty_list, strPtr335);

// static-variadic
// #line 599 "/Users/jim/toccata/reader.toc"
List *varArgs416 = empty_list;
varArgs416 = (List *)listCons((Value *)rslt415, varArgs416);
varArgs416 = (List *)listCons((Value *)rslt414, varArgs416);
Value *rslt417 = any_3693(empty_list, (Value *)varArgs416);

// static-variadic
// #line 592 "/Users/jim/toccata/reader.toc"
List *varArgs418 = empty_list;
varArgs418 = (List *)listCons((Value *)rslt417, varArgs418);
varArgs418 = (List *)listCons((Value *)rslt413, varArgs418);
varArgs418 = (List *)listCons((Value *)rslt410, varArgs418);
varArgs418 = (List *)listCons((Value *)rslt409, varArgs418);
varArgs418 = (List *)listCons((Value *)fn5083, varArgs418);
Value *rslt419 = apply_fn_4170(empty_list, (Value *)varArgs418);

// static-variadic
// #line 590 "/Users/jim/toccata/reader.toc"
List *varArgs420 = empty_list;
varArgs420 = (List *)listCons((Value *)rslt419, varArgs420);
varArgs420 = (List *)listCons((Value *)rslt408, varArgs420);
varArgs420 = (List *)listCons((Value *)identity_143, varArgs420);
Value *rslt421 = apply_fn_4170(empty_list, (Value *)varArgs420);

// static-fixed
// #line 589 "/Users/jim/toccata/reader.toc"
Value *rslt422 = rule_3888(empty_list, strPtr336, rslt421);
read_hash_map_5087 = rslt422;
read_hash_map_5087->refs = -1;

// static-fixed
// #line 639 "/Users/jim/toccata/reader.toc"
Value *rslt423 = recurse_4022(empty_list, strPtr337);

// static-fixed
// #line 638 "/Users/jim/toccata/reader.toc"
Value *rslt424 = none_or_more_3790(empty_list, rslt423);

// static-variadic
// #line 636 "/Users/jim/toccata/reader.toc"
List *varArgs425 = empty_list;
varArgs425 = (List *)listCons((Value *)read_close_paren_4996, varArgs425);
varArgs425 = (List *)listCons((Value *)rslt424, varArgs425);
varArgs425 = (List *)listCons((Value *)read_open_paren_4995, varArgs425);
varArgs425 = (List *)listCons((Value *)identity_143, varArgs425);
Value *rslt426 = apply_fn_4170(empty_list, (Value *)varArgs425);

// static-variadic
// #line 641 "/Users/jim/toccata/reader.toc"
List *varArgs427 = empty_list;
varArgs427 = (List *)listCons((Value *)symPtr9, varArgs427);
varArgs427 = (List *)listCons((Value *)cons_274, varArgs427);
Value *rslt428 = partial_969(empty_list, (Value *)varArgs427);

// static-fixed
// #line 642 "/Users/jim/toccata/reader.toc"
Value *rslt429 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 644 "/Users/jim/toccata/reader.toc"
Value *rslt430 = recurse_4022(empty_list, strPtr337);

// static-fixed
// #line 643 "/Users/jim/toccata/reader.toc"
Value *rslt431 = one_or_more_3430(empty_list, rslt430);

// static-fixed
// #line 645 "/Users/jim/toccata/reader.toc"
Value *rslt432 = ignore_3466(empty_list, strPtr22);

// static-variadic
// #line 641 "/Users/jim/toccata/reader.toc"
List *varArgs433 = empty_list;
varArgs433 = (List *)listCons((Value *)rslt432, varArgs433);
varArgs433 = (List *)listCons((Value *)rslt431, varArgs433);
varArgs433 = (List *)listCons((Value *)rslt429, varArgs433);
varArgs433 = (List *)listCons((Value *)rslt428, varArgs433);
Value *rslt434 = apply_fn_4170(empty_list, (Value *)varArgs433);

// static-variadic
// #line 636 "/Users/jim/toccata/reader.toc"
List *varArgs435 = empty_list;
varArgs435 = (List *)listCons((Value *)read_symbol_4822, varArgs435);
varArgs435 = (List *)listCons((Value *)read_string_4917, varArgs435);
varArgs435 = (List *)listCons((Value *)read_integer_4936, varArgs435);
varArgs435 = (List *)listCons((Value *)rslt434, varArgs435);
varArgs435 = (List *)listCons((Value *)rslt426, varArgs435);
Value *rslt436 = any_3693(empty_list, (Value *)varArgs435);

// static-variadic
// #line 634 "/Users/jim/toccata/reader.toc"
List *varArgs437 = empty_list;
varArgs437 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs437);
varArgs437 = (List *)listCons((Value *)rslt436, varArgs437);
varArgs437 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs437);
varArgs437 = (List *)listCons((Value *)identity_143, varArgs437);
Value *rslt438 = apply_fn_4170(empty_list, (Value *)varArgs437);

// static-fixed
// #line 633 "/Users/jim/toccata/reader.toc"
Value *rslt439 = recursive_rule_3976(empty_list, strPtr337, rslt438);
read_quoted_value_5111 = rslt439;
read_quoted_value_5111->refs = -1;

// static-fixed
// #line 654 "/Users/jim/toccata/reader.toc"
Value *rslt440 = ignore_3466(empty_list, strPtr10);

// static-variadic
// #line 653 "/Users/jim/toccata/reader.toc"
List *varArgs441 = empty_list;
varArgs441 = (List *)listCons((Value *)read_quoted_value_5111, varArgs441);
varArgs441 = (List *)listCons((Value *)rslt440, varArgs441);
varArgs441 = (List *)listCons((Value *)quote_literal_5088, varArgs441);
Value *rslt442 = apply_fn_4170(empty_list, (Value *)varArgs441);

// static-fixed
// #line 652 "/Users/jim/toccata/reader.toc"
Value *rslt443 = rule_3888(empty_list, strPtr338, rslt442);
read_quoted_5112 = rslt443;
read_quoted_5112->refs = -1;

type_val_5135_5136 = reifiedPtr5167;

// static-fixed
// #line 719 "/Users/jim/toccata/reader.toc"
Value *rslt444 = ignore_3466(empty_list, read_block_comment_5011);

// static-variadic
// #line 718 "/Users/jim/toccata/reader.toc"
List *varArgs445 = empty_list;
varArgs445 = (List *)listCons((Value *)rslt444, varArgs445);
varArgs445 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs445);
Value *rslt446 = any_3693(empty_list, (Value *)varArgs445);

// static-fixed
// #line 720 "/Users/jim/toccata/reader.toc"
Value *rslt447 = ignore_3466(empty_list, strPtr344);

// static-fixed
// #line 721 "/Users/jim/toccata/reader.toc"
Value *rslt448 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 721 "/Users/jim/toccata/reader.toc"
Value *rslt449 = ignore_3466(empty_list, rslt448);

// static-fixed
// #line 722 "/Users/jim/toccata/reader.toc"
Value *rslt450 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 723 "/Users/jim/toccata/reader.toc"
Value *rslt451 = one_or_more_3430(empty_list, read_let_binding_5016);

// static-fixed
// #line 724 "/Users/jim/toccata/reader.toc"
Value *rslt452 = ignore_3466(empty_list, strPtr22);

// static-variadic
// #line 716 "/Users/jim/toccata/reader.toc"
List *varArgs453 = empty_list;
varArgs453 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt452, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt451, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt450, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt449, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt447, varArgs453);
varArgs453 = (List *)listCons((Value *)rslt446, varArgs453);
varArgs453 = (List *)listCons((Value *)fn5168, varArgs453);
Value *rslt454 = apply_fn_4170(empty_list, (Value *)varArgs453);

// static-fixed
// #line 715 "/Users/jim/toccata/reader.toc"
Value *rslt455 = rule_3888(empty_list, strPtr343, rslt454);
read_for_let_5172 = rslt455;
read_for_let_5172->refs = -1;

type_val_5173_5174 = reifiedPtr5205;

// static-fixed
// #line 742 "/Users/jim/toccata/reader.toc"
Value *rslt456 = ignore_3466(empty_list, read_block_comment_5011);

// static-variadic
// #line 741 "/Users/jim/toccata/reader.toc"
List *varArgs457 = empty_list;
varArgs457 = (List *)listCons((Value *)rslt456, varArgs457);
varArgs457 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs457);
Value *rslt458 = any_3693(empty_list, (Value *)varArgs457);

// static-fixed
// #line 743 "/Users/jim/toccata/reader.toc"
Value *rslt459 = ignore_3466(empty_list, strPtr350);

// static-fixed
// #line 744 "/Users/jim/toccata/reader.toc"
Value *rslt460 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 744 "/Users/jim/toccata/reader.toc"
Value *rslt461 = ignore_3466(empty_list, rslt460);

// static-variadic
// #line 739 "/Users/jim/toccata/reader.toc"
List *varArgs462 = empty_list;
varArgs462 = (List *)listCons((Value *)read_sub_expr_4937, varArgs462);
varArgs462 = (List *)listCons((Value *)rslt461, varArgs462);
varArgs462 = (List *)listCons((Value *)rslt459, varArgs462);
varArgs462 = (List *)listCons((Value *)rslt458, varArgs462);
varArgs462 = (List *)listCons((Value *)fn5206, varArgs462);
Value *rslt463 = apply_fn_4170(empty_list, (Value *)varArgs462);

// static-fixed
// #line 738 "/Users/jim/toccata/reader.toc"
Value *rslt464 = rule_3888(empty_list, strPtr349, rslt463);
read_for_when_5210 = rslt464;
read_for_when_5210->refs = -1;

type_val_5211_5212 = reifiedPtr5243;

// static-fixed
// #line 762 "/Users/jim/toccata/reader.toc"
Value *rslt465 = ignore_3466(empty_list, read_block_comment_5011);

// static-variadic
// #line 761 "/Users/jim/toccata/reader.toc"
List *varArgs466 = empty_list;
varArgs466 = (List *)listCons((Value *)rslt465, varArgs466);
varArgs466 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs466);
Value *rslt467 = any_3693(empty_list, (Value *)varArgs466);

// static-fixed
// #line 763 "/Users/jim/toccata/reader.toc"
Value *rslt468 = ignore_3466(empty_list, strPtr355);

// static-fixed
// #line 764 "/Users/jim/toccata/reader.toc"
Value *rslt469 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 764 "/Users/jim/toccata/reader.toc"
Value *rslt470 = ignore_3466(empty_list, rslt469);

// static-variadic
// #line 759 "/Users/jim/toccata/reader.toc"
List *varArgs471 = empty_list;
varArgs471 = (List *)listCons((Value *)read_sub_expr_4937, varArgs471);
varArgs471 = (List *)listCons((Value *)rslt470, varArgs471);
varArgs471 = (List *)listCons((Value *)rslt468, varArgs471);
varArgs471 = (List *)listCons((Value *)rslt467, varArgs471);
varArgs471 = (List *)listCons((Value *)fn5244, varArgs471);
Value *rslt472 = apply_fn_4170(empty_list, (Value *)varArgs471);

// static-fixed
// #line 758 "/Users/jim/toccata/reader.toc"
Value *rslt473 = rule_3888(empty_list, strPtr354, rslt472);
read_for_when_not_5248 = rslt473;
read_for_when_not_5248->refs = -1;

type_val_5249_5250 = reifiedPtr5287;

// static-variadic
// #line 856 "/Users/jim/toccata/reader.toc"
List *varArgs474 = empty_list;
varArgs474 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs474);
varArgs474 = (List *)listCons((Value *)read_block_comment_5011, varArgs474);
varArgs474 = (List *)listCons((Value *)identity_143, varArgs474);
Value *rslt475 = apply_fn_4170(empty_list, (Value *)varArgs474);

// static-variadic
// #line 852 "/Users/jim/toccata/reader.toc"
List *varArgs476 = empty_list;
varArgs476 = (List *)listCons((Value *)rslt475, varArgs476);
varArgs476 = (List *)listCons((Value *)read_let_binding_5016, varArgs476);
varArgs476 = (List *)listCons((Value *)read_for_when_not_5248, varArgs476);
varArgs476 = (List *)listCons((Value *)read_for_when_5210, varArgs476);
varArgs476 = (List *)listCons((Value *)read_for_let_5172, varArgs476);
Value *rslt477 = any_3693(empty_list, (Value *)varArgs476);

// static-fixed
// #line 851 "/Users/jim/toccata/reader.toc"
Value *rslt478 = rule_3888(empty_list, strPtr362, rslt477);
read_for_binding_5300 = rslt478;
read_for_binding_5300->refs = -1;

// static-fixed
// #line 864 "/Users/jim/toccata/reader.toc"
Value *rslt479 = ignore_3466(empty_list, strPtr363);

// static-fixed
// #line 865 "/Users/jim/toccata/reader.toc"
Value *rslt480 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 865 "/Users/jim/toccata/reader.toc"
Value *rslt481 = ignore_3466(empty_list, rslt480);

// static-fixed
// #line 867 "/Users/jim/toccata/reader.toc"
Value *rslt482 = ignore_3466(empty_list, strPtr21);

// static-fixed
// #line 869 "/Users/jim/toccata/reader.toc"
Value *rslt483 = error_4642(empty_list, strPtr364);

// static-variadic
// #line 868 "/Users/jim/toccata/reader.toc"
List *varArgs484 = empty_list;
varArgs484 = (List *)listCons((Value *)rslt483, varArgs484);
varArgs484 = (List *)listCons((Value *)read_let_binding_5016, varArgs484);
Value *rslt485 = any_3693(empty_list, (Value *)varArgs484);

// static-fixed
// #line 870 "/Users/jim/toccata/reader.toc"
Value *rslt486 = none_or_more_3790(empty_list, read_for_binding_5300);

// static-fixed
// #line 871 "/Users/jim/toccata/reader.toc"
Value *rslt487 = error_4642(empty_list, strPtr365);

// static-variadic
// #line 870 "/Users/jim/toccata/reader.toc"
List *varArgs488 = empty_list;
varArgs488 = (List *)listCons((Value *)rslt487, varArgs488);
varArgs488 = (List *)listCons((Value *)rslt486, varArgs488);
Value *rslt489 = any_3693(empty_list, (Value *)varArgs488);

// static-fixed
// #line 872 "/Users/jim/toccata/reader.toc"
Value *rslt490 = ignore_3466(empty_list, strPtr22);

// static-fixed
// #line 874 "/Users/jim/toccata/reader.toc"
Value *rslt491 = error_4642(empty_list, strPtr366);

// static-variadic
// #line 873 "/Users/jim/toccata/reader.toc"
List *varArgs492 = empty_list;
varArgs492 = (List *)listCons((Value *)rslt491, varArgs492);
varArgs492 = (List *)listCons((Value *)read_sub_expr_4937, varArgs492);
Value *rslt493 = any_3693(empty_list, (Value *)varArgs492);

// static-variadic
// #line 866 "/Users/jim/toccata/reader.toc"
List *varArgs494 = empty_list;
varArgs494 = (List *)listCons((Value *)rslt493, varArgs494);
varArgs494 = (List *)listCons((Value *)rslt490, varArgs494);
varArgs494 = (List *)listCons((Value *)rslt489, varArgs494);
varArgs494 = (List *)listCons((Value *)rslt485, varArgs494);
varArgs494 = (List *)listCons((Value *)rslt482, varArgs494);
varArgs494 = (List *)listCons((Value *)nest_for_exprs_5289, varArgs494);
Value *rslt495 = apply_fn_4170(empty_list, (Value *)varArgs494);

// static-fixed
// #line 875 "/Users/jim/toccata/reader.toc"
Value *rslt496 = error_4642(empty_list, strPtr367);

// static-variadic
// #line 866 "/Users/jim/toccata/reader.toc"
List *varArgs497 = empty_list;
varArgs497 = (List *)listCons((Value *)rslt496, varArgs497);
varArgs497 = (List *)listCons((Value *)rslt495, varArgs497);
Value *rslt498 = any_3693(empty_list, (Value *)varArgs497);

// static-variadic
// #line 862 "/Users/jim/toccata/reader.toc"
List *varArgs499 = empty_list;
varArgs499 = (List *)listCons((Value *)read_close_paren_4996, varArgs499);
varArgs499 = (List *)listCons((Value *)rslt498, varArgs499);
varArgs499 = (List *)listCons((Value *)rslt481, varArgs499);
varArgs499 = (List *)listCons((Value *)rslt479, varArgs499);
varArgs499 = (List *)listCons((Value *)read_open_paren_4995, varArgs499);
varArgs499 = (List *)listCons((Value *)identity_143, varArgs499);
Value *rslt500 = apply_fn_4170(empty_list, (Value *)varArgs499);

// static-fixed
// #line 861 "/Users/jim/toccata/reader.toc"
Value *rslt501 = rule_3888(empty_list, strPtr363, rslt500);
read_for_5301 = rslt501;
read_for_5301->refs = -1;

// static-variadic
// #line 887 "/Users/jim/toccata/reader.toc"
List *varArgs502 = empty_list;
varArgs502 = (List *)listCons((Value *)read_symbol_4822, varArgs502);
Value *rslt503 = all_3607(empty_list, (Value *)varArgs502);

// static-variadic
// #line 886 "/Users/jim/toccata/reader.toc"
List *varArgs504 = empty_list;
varArgs504 = (List *)listCons((Value *)rslt503, varArgs504);
varArgs504 = (List *)listCons((Value *)call_expr_3210, varArgs504);
Value *rslt505 = apply_fn_4170(empty_list, (Value *)varArgs504);

// static-variadic
// #line 886 "/Users/jim/toccata/reader.toc"
List *varArgs506 = empty_list;
varArgs506 = (List *)listCons((Value *)read_call_5012, varArgs506);
varArgs506 = (List *)listCons((Value *)rslt505, varArgs506);
Value *rslt507 = any_3693(empty_list, (Value *)varArgs506);

// static-variadic
// #line 885 "/Users/jim/toccata/reader.toc"
List *varArgs508 = empty_list;
varArgs508 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs508);
varArgs508 = (List *)listCons((Value *)rslt507, varArgs508);
varArgs508 = (List *)listCons((Value *)identity_143, varArgs508);
Value *rslt509 = apply_fn_4170(empty_list, (Value *)varArgs508);

// static-fixed
// #line 884 "/Users/jim/toccata/reader.toc"
Value *rslt510 = rule_3888(empty_list, strPtr368, rslt509);
read_thread_expr_5311 = rslt510;
read_thread_expr_5311->refs = -1;

// static-fixed
// #line 895 "/Users/jim/toccata/reader.toc"
Value *rslt511 = ignore_3466(empty_list, strPtr369);

// static-fixed
// #line 898 "/Users/jim/toccata/reader.toc"
Value *rslt512 = one_or_more_3430(empty_list, read_thread_expr_5311);

// static-variadic
// #line 896 "/Users/jim/toccata/reader.toc"
List *varArgs513 = empty_list;
varArgs513 = (List *)listCons((Value *)rslt512, varArgs513);
varArgs513 = (List *)listCons((Value *)read_sub_expr_4937, varArgs513);
varArgs513 = (List *)listCons((Value *)nest_thread_exprs_5303, varArgs513);
Value *rslt514 = apply_fn_4170(empty_list, (Value *)varArgs513);

// static-fixed
// #line 899 "/Users/jim/toccata/reader.toc"
Value *rslt515 = error_4642(empty_list, strPtr370);

// static-variadic
// #line 896 "/Users/jim/toccata/reader.toc"
List *varArgs516 = empty_list;
varArgs516 = (List *)listCons((Value *)rslt515, varArgs516);
varArgs516 = (List *)listCons((Value *)rslt514, varArgs516);
Value *rslt517 = any_3693(empty_list, (Value *)varArgs516);

// static-variadic
// #line 893 "/Users/jim/toccata/reader.toc"
List *varArgs518 = empty_list;
varArgs518 = (List *)listCons((Value *)read_close_paren_4996, varArgs518);
varArgs518 = (List *)listCons((Value *)rslt517, varArgs518);
varArgs518 = (List *)listCons((Value *)rslt511, varArgs518);
varArgs518 = (List *)listCons((Value *)read_open_paren_4995, varArgs518);
varArgs518 = (List *)listCons((Value *)identity_143, varArgs518);
Value *rslt519 = apply_fn_4170(empty_list, (Value *)varArgs518);

// static-fixed
// #line 892 "/Users/jim/toccata/reader.toc"
Value *rslt520 = rule_3888(empty_list, strPtr369, rslt519);
read_threading_5312 = rslt520;
read_threading_5312->refs = -1;

// static-fixed
// #line 929 "/Users/jim/toccata/reader.toc"
Value *rslt521 = error_4642(empty_list, strPtr371);

// static-variadic
// #line 928 "/Users/jim/toccata/reader.toc"
List *varArgs522 = empty_list;
varArgs522 = (List *)listCons((Value *)rslt521, varArgs522);
varArgs522 = (List *)listCons((Value *)read_inline_5010, varArgs522);
Value *rslt523 = all_3607(empty_list, (Value *)varArgs522);

// static-variadic
// #line 906 "/Users/jim/toccata/reader.toc"
List *varArgs524 = empty_list;
varArgs524 = (List *)listCons((Value *)read_block_comment_5011, varArgs524);
varArgs524 = (List *)listCons((Value *)read_call_5012, varArgs524);
varArgs524 = (List *)listCons((Value *)rslt523, varArgs524);
varArgs524 = (List *)listCons((Value *)read_returns_5023, varArgs524);
varArgs524 = (List *)listCons((Value *)read_assert_5022, varArgs524);
varArgs524 = (List *)listCons((Value *)read_threading_5312, varArgs524);
varArgs524 = (List *)listCons((Value *)read_for_5301, varArgs524);
varArgs524 = (List *)listCons((Value *)read_hash_map_5087, varArgs524);
varArgs524 = (List *)listCons((Value *)read_vector_5082, varArgs524);
varArgs524 = (List *)listCons((Value *)read_reify_5075, varArgs524);
varArgs524 = (List *)listCons((Value *)read_apply_to_5038, varArgs524);
varArgs524 = (List *)listCons((Value *)read_apply_5033, varArgs524);
varArgs524 = (List *)listCons((Value *)read_comp_5028, varArgs524);
varArgs524 = (List *)listCons((Value *)read_do_5018, varArgs524);
varArgs524 = (List *)listCons((Value *)read_let_5017, varArgs524);
varArgs524 = (List *)listCons((Value *)read_fn_5062, varArgs524);
varArgs524 = (List *)listCons((Value *)read_either_5021, varArgs524);
varArgs524 = (List *)listCons((Value *)read_and_5020, varArgs524);
varArgs524 = (List *)listCons((Value *)read_or_5019, varArgs524);
varArgs524 = (List *)listCons((Value *)read_quoted_5112, varArgs524);
varArgs524 = (List *)listCons((Value *)read_symbol_4822, varArgs524);
varArgs524 = (List *)listCons((Value *)curr_line_5077, varArgs524);
varArgs524 = (List *)listCons((Value *)curr_file_name_5076, varArgs524);
varArgs524 = (List *)listCons((Value *)read_string_4917, varArgs524);
varArgs524 = (List *)listCons((Value *)read_integer_4936, varArgs524);
Value *rslt525 = any_3693(empty_list, (Value *)varArgs524);

// static-variadic
// #line 904 "/Users/jim/toccata/reader.toc"
List *varArgs526 = empty_list;
varArgs526 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs526);
varArgs526 = (List *)listCons((Value *)rslt525, varArgs526);
varArgs526 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs526);
varArgs526 = (List *)listCons((Value *)identity_143, varArgs526);
Value *rslt527 = apply_fn_4170(empty_list, (Value *)varArgs526);

// static-fixed
// #line 903 "/Users/jim/toccata/reader.toc"
Value *rslt528 = recursive_rule_3976(empty_list, strPtr289, rslt527);
read_expr_5313 = rslt528;
read_expr_5313->refs = -1;

// static-fixed
// #line 938 "/Users/jim/toccata/reader.toc"
Value *rslt529 = ignore_3466(empty_list, strPtr372);

// static-fixed
// #line 942 "/Users/jim/toccata/reader.toc"
Value *rslt530 = one_or_more_3430(empty_list, read_expr_5313);

// static-fixed
// #line 943 "/Users/jim/toccata/reader.toc"
Value *rslt531 = error_4642(empty_list, strPtr373);

// static-variadic
// #line 941 "/Users/jim/toccata/reader.toc"
List *varArgs532 = empty_list;
varArgs532 = (List *)listCons((Value *)rslt531, varArgs532);
varArgs532 = (List *)listCons((Value *)rslt530, varArgs532);
varArgs532 = (List *)listCons((Value *)read_inline_body_5039, varArgs532);
Value *rslt533 = any_3693(empty_list, (Value *)varArgs532);

// static-variadic
// #line 939 "/Users/jim/toccata/reader.toc"
List *varArgs534 = empty_list;
varArgs534 = (List *)listCons((Value *)read_close_paren_4996, varArgs534);
varArgs534 = (List *)listCons((Value *)rslt533, varArgs534);
varArgs534 = (List *)listCons((Value *)read_params_4994, varArgs534);
varArgs534 = (List *)listCons((Value *)main_fn_2464, varArgs534);
Value *rslt535 = apply_fn_4170(empty_list, (Value *)varArgs534);

// static-fixed
// #line 945 "/Users/jim/toccata/reader.toc"
Value *rslt536 = error_4642(empty_list, strPtr374);

// static-variadic
// #line 939 "/Users/jim/toccata/reader.toc"
List *varArgs537 = empty_list;
varArgs537 = (List *)listCons((Value *)rslt536, varArgs537);
varArgs537 = (List *)listCons((Value *)rslt535, varArgs537);
Value *rslt538 = any_3693(empty_list, (Value *)varArgs537);

// static-variadic
// #line 936 "/Users/jim/toccata/reader.toc"
List *varArgs539 = empty_list;
varArgs539 = (List *)listCons((Value *)rslt538, varArgs539);
varArgs539 = (List *)listCons((Value *)rslt529, varArgs539);
varArgs539 = (List *)listCons((Value *)read_open_paren_4995, varArgs539);
varArgs539 = (List *)listCons((Value *)identity_143, varArgs539);
Value *rslt540 = apply_fn_4170(empty_list, (Value *)varArgs539);

// static-fixed
// #line 935 "/Users/jim/toccata/reader.toc"
Value *rslt541 = rule_3888(empty_list, strPtr372, rslt540);
read_main_5314 = rslt541;
read_main_5314->refs = -1;

// static-fixed
// #line 951 "/Users/jim/toccata/reader.toc"
Value *rslt542 = ignore_3466(empty_list, strPtr375);

// static-fixed
// #line 952 "/Users/jim/toccata/reader.toc"
Value *rslt543 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 952 "/Users/jim/toccata/reader.toc"
Value *rslt544 = ignore_3466(empty_list, rslt543);

// static-fixed
// #line 958 "/Users/jim/toccata/reader.toc"
Value *rslt545 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 958 "/Users/jim/toccata/reader.toc"
Value *rslt546 = ignore_3466(empty_list, rslt545);

// static-fixed
// #line 959 "/Users/jim/toccata/reader.toc"
Value *rslt547 = none_or_more_3790(empty_list, read_block_comment_5011);

// static-variadic
// #line 960 "/Users/jim/toccata/reader.toc"
List *varArgs548 = empty_list;
varArgs548 = (List *)listCons((Value *)read_expr_5313, varArgs548);
varArgs548 = (List *)listCons((Value *)read_inline_5010, varArgs548);
Value *rslt549 = any_3693(empty_list, (Value *)varArgs548);

// static-fixed
// #line 963 "/Users/jim/toccata/reader.toc"
Value *rslt550 = none_or_more_3790(empty_list, read_block_comment_5011);

// static-variadic
// #line 953 "/Users/jim/toccata/reader.toc"
List *varArgs551 = empty_list;
varArgs551 = (List *)listCons((Value *)read_close_paren_4996, varArgs551);
varArgs551 = (List *)listCons((Value *)rslt550, varArgs551);
varArgs551 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs551);
varArgs551 = (List *)listCons((Value *)rslt549, varArgs551);
varArgs551 = (List *)listCons((Value *)rslt547, varArgs551);
varArgs551 = (List *)listCons((Value *)rslt546, varArgs551);
varArgs551 = (List *)listCons((Value *)read_symbol_4822, varArgs551);
varArgs551 = (List *)listCons((Value *)fn5315, varArgs551);
Value *rslt552 = apply_fn_4170(empty_list, (Value *)varArgs551);

// static-variadic
// #line 965 "/Users/jim/toccata/reader.toc"
List *varArgs553 = empty_list;
varArgs553 = (List *)listCons((Value *)read_close_paren_4996, varArgs553);
varArgs553 = (List *)listCons((Value *)read_symbol_4822, varArgs553);
varArgs553 = (List *)listCons((Value *)declare_2683, varArgs553);
Value *rslt554 = apply_fn_4170(empty_list, (Value *)varArgs553);

// static-fixed
// #line 968 "/Users/jim/toccata/reader.toc"
Value *rslt555 = error_4642(empty_list, strPtr376);

// static-variadic
// #line 953 "/Users/jim/toccata/reader.toc"
List *varArgs556 = empty_list;
varArgs556 = (List *)listCons((Value *)rslt555, varArgs556);
varArgs556 = (List *)listCons((Value *)rslt554, varArgs556);
varArgs556 = (List *)listCons((Value *)rslt552, varArgs556);
Value *rslt557 = any_3693(empty_list, (Value *)varArgs556);

// static-variadic
// #line 949 "/Users/jim/toccata/reader.toc"
List *varArgs558 = empty_list;
varArgs558 = (List *)listCons((Value *)rslt557, varArgs558);
varArgs558 = (List *)listCons((Value *)rslt544, varArgs558);
varArgs558 = (List *)listCons((Value *)rslt542, varArgs558);
varArgs558 = (List *)listCons((Value *)read_open_paren_4995, varArgs558);
varArgs558 = (List *)listCons((Value *)identity_143, varArgs558);
Value *rslt559 = apply_fn_4170(empty_list, (Value *)varArgs558);

// static-fixed
// #line 948 "/Users/jim/toccata/reader.toc"
Value *rslt560 = rule_3888(empty_list, strPtr375, rslt559);
read_def_5319 = rslt560;
read_def_5319->refs = -1;

// static-fixed
// #line 981 "/Users/jim/toccata/reader.toc"
Value *rslt561 = none_or_more_3790(empty_list, read_expr_5313);

// static-variadic
// #line 980 "/Users/jim/toccata/reader.toc"
List *varArgs562 = empty_list;
varArgs562 = (List *)listCons((Value *)rslt561, varArgs562);
varArgs562 = (List *)listCons((Value *)read_inline_body_5039, varArgs562);
Value *rslt563 = any_3693(empty_list, (Value *)varArgs562);

// static-variadic
// #line 976 "/Users/jim/toccata/reader.toc"
List *varArgs564 = empty_list;
varArgs564 = (List *)listCons((Value *)read_close_paren_4996, varArgs564);
varArgs564 = (List *)listCons((Value *)rslt563, varArgs564);
varArgs564 = (List *)listCons((Value *)read_fn_doc_5044, varArgs564);
varArgs564 = (List *)listCons((Value *)read_params_4994, varArgs564);
varArgs564 = (List *)listCons((Value *)read_symbol_4822, varArgs564);
varArgs564 = (List *)listCons((Value *)prototype_4094, varArgs564);
Value *rslt565 = apply_fn_4170(empty_list, (Value *)varArgs564);

// static-fixed
// #line 983 "/Users/jim/toccata/reader.toc"
Value *rslt566 = error_4642(empty_list, strPtr378);

// static-variadic
// #line 975 "/Users/jim/toccata/reader.toc"
List *varArgs567 = empty_list;
varArgs567 = (List *)listCons((Value *)rslt566, varArgs567);
varArgs567 = (List *)listCons((Value *)rslt565, varArgs567);
Value *rslt568 = any_3693(empty_list, (Value *)varArgs567);

// static-variadic
// #line 973 "/Users/jim/toccata/reader.toc"
List *varArgs569 = empty_list;
varArgs569 = (List *)listCons((Value *)rslt568, varArgs569);
varArgs569 = (List *)listCons((Value *)read_open_paren_4995, varArgs569);
varArgs569 = (List *)listCons((Value *)identity_143, varArgs569);
Value *rslt570 = apply_fn_4170(empty_list, (Value *)varArgs569);

// static-variadic
// #line 972 "/Users/jim/toccata/reader.toc"
List *varArgs571 = empty_list;
varArgs571 = (List *)listCons((Value *)rslt570, varArgs571);
varArgs571 = (List *)listCons((Value *)read_assert_5022, varArgs571);
Value *rslt572 = any_3693(empty_list, (Value *)varArgs571);

// static-fixed
// #line 971 "/Users/jim/toccata/reader.toc"
Value *rslt573 = rule_3888(empty_list, strPtr377, rslt572);
read_prototype_5320 = rslt573;
read_prototype_5320->refs = -1;

// static-fixed
// #line 989 "/Users/jim/toccata/reader.toc"
Value *rslt574 = ignore_3466(empty_list, strPtr379);

// static-fixed
// #line 990 "/Users/jim/toccata/reader.toc"
Value *rslt575 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 990 "/Users/jim/toccata/reader.toc"
Value *rslt576 = ignore_3466(empty_list, rslt575);

// static-variadic
// #line 996 "/Users/jim/toccata/reader.toc"
List *varArgs577 = empty_list;
varArgs577 = (List *)listCons((Value *)read_prototype_5320, varArgs577);
varArgs577 = (List *)listCons((Value *)read_block_comment_5011, varArgs577);
Value *rslt578 = any_3693(empty_list, (Value *)varArgs577);

// static-fixed
// #line 995 "/Users/jim/toccata/reader.toc"
Value *rslt579 = one_or_more_3430(empty_list, rslt578);

// static-variadic
// #line 991 "/Users/jim/toccata/reader.toc"
List *varArgs580 = empty_list;
varArgs580 = (List *)listCons((Value *)read_close_paren_4996, varArgs580);
varArgs580 = (List *)listCons((Value *)rslt579, varArgs580);
varArgs580 = (List *)listCons((Value *)read_symbol_4822, varArgs580);
varArgs580 = (List *)listCons((Value *)fn5321, varArgs580);
Value *rslt581 = apply_fn_4170(empty_list, (Value *)varArgs580);

// static-fixed
// #line 999 "/Users/jim/toccata/reader.toc"
Value *rslt582 = error_4642(empty_list, strPtr380);

// static-variadic
// #line 991 "/Users/jim/toccata/reader.toc"
List *varArgs583 = empty_list;
varArgs583 = (List *)listCons((Value *)rslt582, varArgs583);
varArgs583 = (List *)listCons((Value *)rslt581, varArgs583);
Value *rslt584 = any_3693(empty_list, (Value *)varArgs583);

// static-variadic
// #line 987 "/Users/jim/toccata/reader.toc"
List *varArgs585 = empty_list;
varArgs585 = (List *)listCons((Value *)rslt584, varArgs585);
varArgs585 = (List *)listCons((Value *)rslt576, varArgs585);
varArgs585 = (List *)listCons((Value *)rslt574, varArgs585);
varArgs585 = (List *)listCons((Value *)read_open_paren_4995, varArgs585);
varArgs585 = (List *)listCons((Value *)identity_143, varArgs585);
Value *rslt586 = apply_fn_4170(empty_list, (Value *)varArgs585);

// static-fixed
// #line 986 "/Users/jim/toccata/reader.toc"
Value *rslt587 = rule_3888(empty_list, strPtr379, rslt586);
read_defprotocol_5325 = rslt587;
read_defprotocol_5325->refs = -1;

// static-fixed
// #line 1005 "/Users/jim/toccata/reader.toc"
Value *rslt588 = ignore_3466(empty_list, strPtr381);

// static-fixed
// #line 1006 "/Users/jim/toccata/reader.toc"
Value *rslt589 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1006 "/Users/jim/toccata/reader.toc"
Value *rslt590 = ignore_3466(empty_list, rslt589);

// static-fixed
// #line 1012 "/Users/jim/toccata/reader.toc"
Value *rslt591 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1012 "/Users/jim/toccata/reader.toc"
Value *rslt592 = ignore_3466(empty_list, rslt591);

// static-variadic
// #line 1007 "/Users/jim/toccata/reader.toc"
List *varArgs593 = empty_list;
varArgs593 = (List *)listCons((Value *)read_close_paren_4996, varArgs593);
varArgs593 = (List *)listCons((Value *)read_arities_5057, varArgs593);
varArgs593 = (List *)listCons((Value *)rslt592, varArgs593);
varArgs593 = (List *)listCons((Value *)read_symbol_4822, varArgs593);
varArgs593 = (List *)listCons((Value *)fn5326, varArgs593);
Value *rslt594 = apply_fn_4170(empty_list, (Value *)varArgs593);

// static-fixed
// #line 1015 "/Users/jim/toccata/reader.toc"
Value *rslt595 = error_4642(empty_list, strPtr382);

// static-variadic
// #line 1007 "/Users/jim/toccata/reader.toc"
List *varArgs596 = empty_list;
varArgs596 = (List *)listCons((Value *)rslt595, varArgs596);
varArgs596 = (List *)listCons((Value *)rslt594, varArgs596);
Value *rslt597 = any_3693(empty_list, (Value *)varArgs596);

// static-variadic
// #line 1003 "/Users/jim/toccata/reader.toc"
List *varArgs598 = empty_list;
varArgs598 = (List *)listCons((Value *)rslt597, varArgs598);
varArgs598 = (List *)listCons((Value *)rslt590, varArgs598);
varArgs598 = (List *)listCons((Value *)rslt588, varArgs598);
varArgs598 = (List *)listCons((Value *)read_open_paren_4995, varArgs598);
varArgs598 = (List *)listCons((Value *)identity_143, varArgs598);
Value *rslt599 = apply_fn_4170(empty_list, (Value *)varArgs598);

// static-fixed
// #line 1002 "/Users/jim/toccata/reader.toc"
Value *rslt600 = rule_3888(empty_list, strPtr381, rslt599);
read_defn_5330 = rslt600;
read_defn_5330->refs = -1;

// static-fixed
// #line 1021 "/Users/jim/toccata/reader.toc"
Value *rslt601 = ignore_3466(empty_list, strPtr383);

// static-fixed
// #line 1024 "/Users/jim/toccata/reader.toc"
Value *rslt602 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1023 "/Users/jim/toccata/reader.toc"
Value *rslt603 = ignore_3466(empty_list, rslt602);

// static-fixed
// #line 1028 "/Users/jim/toccata/reader.toc"
Value *rslt604 = none_or_more_3790(empty_list, read_proto_impls_5070);

// static-variadic
// #line 1026 "/Users/jim/toccata/reader.toc"
List *varArgs605 = empty_list;
varArgs605 = (List *)listCons((Value *)rslt604, varArgs605);
varArgs605 = (List *)listCons((Value *)read_proto_impls_5070, varArgs605);
varArgs605 = (List *)listCons((Value *)comp_STAR__236, varArgs605);
Value *rslt606 = apply_fn_4170(empty_list, (Value *)varArgs605);

// static-variadic
// #line 1022 "/Users/jim/toccata/reader.toc"
List *varArgs607 = empty_list;
varArgs607 = (List *)listCons((Value *)read_close_paren_4996, varArgs607);
varArgs607 = (List *)listCons((Value *)rslt606, varArgs607);
varArgs607 = (List *)listCons((Value *)read_symbol_4822, varArgs607);
varArgs607 = (List *)listCons((Value *)rslt603, varArgs607);
varArgs607 = (List *)listCons((Value *)type_extension_4222, varArgs607);
Value *rslt608 = apply_fn_4170(empty_list, (Value *)varArgs607);

// static-fixed
// #line 1030 "/Users/jim/toccata/reader.toc"
Value *rslt609 = error_4642(empty_list, strPtr384);

// static-variadic
// #line 1022 "/Users/jim/toccata/reader.toc"
List *varArgs610 = empty_list;
varArgs610 = (List *)listCons((Value *)rslt609, varArgs610);
varArgs610 = (List *)listCons((Value *)rslt608, varArgs610);
Value *rslt611 = any_3693(empty_list, (Value *)varArgs610);

// static-variadic
// #line 1019 "/Users/jim/toccata/reader.toc"
List *varArgs612 = empty_list;
varArgs612 = (List *)listCons((Value *)rslt611, varArgs612);
varArgs612 = (List *)listCons((Value *)rslt601, varArgs612);
varArgs612 = (List *)listCons((Value *)read_open_paren_4995, varArgs612);
varArgs612 = (List *)listCons((Value *)identity_143, varArgs612);
Value *rslt613 = apply_fn_4170(empty_list, (Value *)varArgs612);

// static-fixed
// #line 1018 "/Users/jim/toccata/reader.toc"
Value *rslt614 = rule_3888(empty_list, strPtr383, rslt613);
read_extend_type_5331 = rslt614;
read_extend_type_5331->refs = -1;

// static-fixed
// #line 1036 "/Users/jim/toccata/reader.toc"
Value *rslt615 = ignore_3466(empty_list, strPtr385);

// static-fixed
// #line 1039 "/Users/jim/toccata/reader.toc"
Value *rslt616 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1038 "/Users/jim/toccata/reader.toc"
Value *rslt617 = ignore_3466(empty_list, rslt616);

// static-fixed
// #line 1044 "/Users/jim/toccata/reader.toc"
Value *rslt618 = none_or_more_3790(empty_list, read_proto_impls_5070);

// static-variadic
// #line 1042 "/Users/jim/toccata/reader.toc"
List *varArgs619 = empty_list;
varArgs619 = (List *)listCons((Value *)rslt618, varArgs619);
varArgs619 = (List *)listCons((Value *)read_proto_impls_5070, varArgs619);
varArgs619 = (List *)listCons((Value *)comp_STAR__236, varArgs619);
Value *rslt620 = apply_fn_4170(empty_list, (Value *)varArgs619);

// static-variadic
// #line 1045 "/Users/jim/toccata/reader.toc"
List *varArgs621 = empty_list;
Value *rslt622 = hash_map_1208(empty_list, (Value *)varArgs621);

// static-fixed
// #line 1045 "/Users/jim/toccata/reader.toc"
Value *rslt623 = always_3539(empty_list, rslt622);

// static-variadic
// #line 1042 "/Users/jim/toccata/reader.toc"
List *varArgs624 = empty_list;
varArgs624 = (List *)listCons((Value *)rslt623, varArgs624);
varArgs624 = (List *)listCons((Value *)rslt620, varArgs624);
Value *rslt625 = any_3693(empty_list, (Value *)varArgs624);

// static-variadic
// #line 1037 "/Users/jim/toccata/reader.toc"
List *varArgs626 = empty_list;
varArgs626 = (List *)listCons((Value *)read_close_paren_4996, varArgs626);
varArgs626 = (List *)listCons((Value *)rslt625, varArgs626);
varArgs626 = (List *)listCons((Value *)read_params_4994, varArgs626);
varArgs626 = (List *)listCons((Value *)read_symbol_4822, varArgs626);
varArgs626 = (List *)listCons((Value *)rslt617, varArgs626);
varArgs626 = (List *)listCons((Value *)type_expr_4453, varArgs626);
Value *rslt627 = apply_fn_4170(empty_list, (Value *)varArgs626);

// static-fixed
// #line 1047 "/Users/jim/toccata/reader.toc"
Value *rslt628 = error_4642(empty_list, strPtr386);

// static-variadic
// #line 1037 "/Users/jim/toccata/reader.toc"
List *varArgs629 = empty_list;
varArgs629 = (List *)listCons((Value *)rslt628, varArgs629);
varArgs629 = (List *)listCons((Value *)rslt627, varArgs629);
Value *rslt630 = any_3693(empty_list, (Value *)varArgs629);

// static-variadic
// #line 1034 "/Users/jim/toccata/reader.toc"
List *varArgs631 = empty_list;
varArgs631 = (List *)listCons((Value *)rslt630, varArgs631);
varArgs631 = (List *)listCons((Value *)rslt615, varArgs631);
varArgs631 = (List *)listCons((Value *)read_open_paren_4995, varArgs631);
varArgs631 = (List *)listCons((Value *)identity_143, varArgs631);
Value *rslt632 = apply_fn_4170(empty_list, (Value *)varArgs631);

// static-fixed
// #line 1033 "/Users/jim/toccata/reader.toc"
Value *rslt633 = rule_3888(empty_list, strPtr385, rslt632);
read_deftype_5332 = rslt633;
read_deftype_5332->refs = -1;

// static-fixed
// #line 1066 "/Users/jim/toccata/reader.toc"
Value *rslt634 = kw_string_arg_5335(empty_list, strPtr389);

// static-fixed
// #line 1067 "/Users/jim/toccata/reader.toc"
Value *rslt635 = kw_string_arg_5335(empty_list, strPtr390);

// static-fixed
// #line 1068 "/Users/jim/toccata/reader.toc"
Value *rslt636 = kw_string_arg_5335(empty_list, strPtr391);

// static-variadic
// #line 1066 "/Users/jim/toccata/reader.toc"
List *varArgs637 = empty_list;
varArgs637 = (List *)listCons((Value *)rslt636, varArgs637);
varArgs637 = (List *)listCons((Value *)rslt635, varArgs637);
varArgs637 = (List *)listCons((Value *)rslt634, varArgs637);
Value *rslt638 = any_3693(empty_list, (Value *)varArgs637);

// static-fixed
// #line 1065 "/Users/jim/toccata/reader.toc"
Value *rslt639 = none_or_more_3790(empty_list, rslt638);

// static-variadic
// #line 1062 "/Users/jim/toccata/reader.toc"
List *varArgs640 = empty_list;
varArgs640 = (List *)listCons((Value *)rslt639, varArgs640);
varArgs640 = (List *)listCons((Value *)fn5342, varArgs640);
Value *rslt641 = apply_fn_4170(empty_list, (Value *)varArgs640);

// static-fixed
// #line 1061 "/Users/jim/toccata/reader.toc"
Value *rslt642 = rule_3888(empty_list, strPtr388, rslt641);
read_git_kwargs_5350 = rslt642;
read_git_kwargs_5350->refs = -1;

// static-fixed
// #line 1074 "/Users/jim/toccata/reader.toc"
Value *rslt643 = ignore_3466(empty_list, strPtr393);

// static-fixed
// #line 1077 "/Users/jim/toccata/reader.toc"
Value *rslt644 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1076 "/Users/jim/toccata/reader.toc"
Value *rslt645 = ignore_3466(empty_list, rslt644);

// static-fixed
// #line 1080 "/Users/jim/toccata/reader.toc"
Value *rslt646 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1079 "/Users/jim/toccata/reader.toc"
Value *rslt647 = ignore_3466(empty_list, rslt646);

// static-variadic
// #line 1075 "/Users/jim/toccata/reader.toc"
List *varArgs648 = empty_list;
varArgs648 = (List *)listCons((Value *)read_close_paren_4996, varArgs648);
varArgs648 = (List *)listCons((Value *)read_git_kwargs_5350, varArgs648);
varArgs648 = (List *)listCons((Value *)read_string_4917, varArgs648);
varArgs648 = (List *)listCons((Value *)rslt647, varArgs648);
varArgs648 = (List *)listCons((Value *)read_string_4917, varArgs648);
varArgs648 = (List *)listCons((Value *)rslt645, varArgs648);
varArgs648 = (List *)listCons((Value *)git_dep_4543, varArgs648);
Value *rslt649 = apply_fn_4170(empty_list, (Value *)varArgs648);

// static-fixed
// #line 1084 "/Users/jim/toccata/reader.toc"
Value *rslt650 = error_4642(empty_list, strPtr394);

// static-variadic
// #line 1075 "/Users/jim/toccata/reader.toc"
List *varArgs651 = empty_list;
varArgs651 = (List *)listCons((Value *)rslt650, varArgs651);
varArgs651 = (List *)listCons((Value *)rslt649, varArgs651);
Value *rslt652 = any_3693(empty_list, (Value *)varArgs651);

// static-variadic
// #line 1072 "/Users/jim/toccata/reader.toc"
List *varArgs653 = empty_list;
varArgs653 = (List *)listCons((Value *)rslt652, varArgs653);
varArgs653 = (List *)listCons((Value *)rslt643, varArgs653);
varArgs653 = (List *)listCons((Value *)read_open_paren_4995, varArgs653);
varArgs653 = (List *)listCons((Value *)identity_143, varArgs653);
Value *rslt654 = apply_fn_4170(empty_list, (Value *)varArgs653);

// static-fixed
// #line 1071 "/Users/jim/toccata/reader.toc"
Value *rslt655 = rule_3888(empty_list, strPtr392, rslt654);
read_git_dep_spec_5351 = rslt655;
read_git_dep_spec_5351->refs = -1;

// static-fixed
// #line 1090 "/Users/jim/toccata/reader.toc"
Value *rslt656 = ignore_3466(empty_list, strPtr395);

// static-fixed
// #line 1093 "/Users/jim/toccata/reader.toc"
Value *rslt657 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1092 "/Users/jim/toccata/reader.toc"
Value *rslt658 = ignore_3466(empty_list, rslt657);

// static-variadic
// #line 1091 "/Users/jim/toccata/reader.toc"
List *varArgs659 = empty_list;
varArgs659 = (List *)listCons((Value *)read_close_paren_4996, varArgs659);
varArgs659 = (List *)listCons((Value *)read_string_4917, varArgs659);
varArgs659 = (List *)listCons((Value *)rslt658, varArgs659);
varArgs659 = (List *)listCons((Value *)module_4491, varArgs659);
Value *rslt660 = apply_fn_4170(empty_list, (Value *)varArgs659);

// static-fixed
// #line 1096 "/Users/jim/toccata/reader.toc"
Value *rslt661 = error_4642(empty_list, strPtr396);

// static-variadic
// #line 1091 "/Users/jim/toccata/reader.toc"
List *varArgs662 = empty_list;
varArgs662 = (List *)listCons((Value *)rslt661, varArgs662);
varArgs662 = (List *)listCons((Value *)rslt660, varArgs662);
Value *rslt663 = any_3693(empty_list, (Value *)varArgs662);

// static-variadic
// #line 1088 "/Users/jim/toccata/reader.toc"
List *varArgs664 = empty_list;
varArgs664 = (List *)listCons((Value *)rslt663, varArgs664);
varArgs664 = (List *)listCons((Value *)rslt656, varArgs664);
varArgs664 = (List *)listCons((Value *)read_open_paren_4995, varArgs664);
varArgs664 = (List *)listCons((Value *)identity_143, varArgs664);
Value *rslt665 = apply_fn_4170(empty_list, (Value *)varArgs664);

// static-fixed
// #line 1087 "/Users/jim/toccata/reader.toc"
Value *rslt666 = rule_3888(empty_list, strPtr395, rslt665);
read_module_spec_5352 = rslt666;
read_module_spec_5352->refs = -1;

// static-fixed
// #line 1102 "/Users/jim/toccata/reader.toc"
Value *rslt667 = ignore_3466(empty_list, strPtr397);

// static-fixed
// #line 1105 "/Users/jim/toccata/reader.toc"
Value *rslt668 = one_or_more_3430(empty_list, whitespace_4951);

// static-fixed
// #line 1104 "/Users/jim/toccata/reader.toc"
Value *rslt669 = ignore_3466(empty_list, rslt668);

// static-variadic
// #line 1107 "/Users/jim/toccata/reader.toc"
List *varArgs670 = empty_list;
varArgs670 = (List *)listCons((Value *)read_git_dep_spec_5351, varArgs670);
varArgs670 = (List *)listCons((Value *)read_module_spec_5352, varArgs670);
Value *rslt671 = any_3693(empty_list, (Value *)varArgs670);

// static-variadic
// #line 1103 "/Users/jim/toccata/reader.toc"
List *varArgs672 = empty_list;
varArgs672 = (List *)listCons((Value *)read_close_paren_4996, varArgs672);
varArgs672 = (List *)listCons((Value *)rslt671, varArgs672);
varArgs672 = (List *)listCons((Value *)read_symbol_4822, varArgs672);
varArgs672 = (List *)listCons((Value *)rslt669, varArgs672);
varArgs672 = (List *)listCons((Value *)ns_add_4603, varArgs672);
Value *rslt673 = apply_fn_4170(empty_list, (Value *)varArgs672);

// static-fixed
// #line 1110 "/Users/jim/toccata/reader.toc"
Value *rslt674 = error_4642(empty_list, strPtr398);

// static-variadic
// #line 1103 "/Users/jim/toccata/reader.toc"
List *varArgs675 = empty_list;
varArgs675 = (List *)listCons((Value *)rslt674, varArgs675);
varArgs675 = (List *)listCons((Value *)rslt673, varArgs675);
Value *rslt676 = any_3693(empty_list, (Value *)varArgs675);

// static-variadic
// #line 1100 "/Users/jim/toccata/reader.toc"
List *varArgs677 = empty_list;
varArgs677 = (List *)listCons((Value *)rslt676, varArgs677);
varArgs677 = (List *)listCons((Value *)rslt667, varArgs677);
varArgs677 = (List *)listCons((Value *)read_open_paren_4995, varArgs677);
varArgs677 = (List *)listCons((Value *)identity_143, varArgs677);
Value *rslt678 = apply_fn_4170(empty_list, (Value *)varArgs677);

// static-fixed
// #line 1099 "/Users/jim/toccata/reader.toc"
Value *rslt679 = rule_3888(empty_list, strPtr397, rslt678);
read_add_ns_5353 = rslt679;
read_add_ns_5353->refs = -1;

// static-fixed
// #line 1115 "/Users/jim/toccata/reader.toc"
Value *rslt680 = error_4642(empty_list, strPtr400);

// static-variadic
// #line 1114 "/Users/jim/toccata/reader.toc"
List *varArgs681 = empty_list;
varArgs681 = (List *)listCons((Value *)rslt680, varArgs681);
varArgs681 = (List *)listCons((Value *)strPtr16, varArgs681);
varArgs681 = (List *)listCons((Value *)ignore_whitespace_4952, varArgs681);
Value *rslt682 = all_3607(empty_list, (Value *)varArgs681);

// static-fixed
// #line 1113 "/Users/jim/toccata/reader.toc"
Value *rslt683 = rule_3888(empty_list, strPtr399, rslt682);
bad_expr_5354 = rslt683;
bad_expr_5354->refs = -1;

// static-variadic
// #line 1119 "/Users/jim/toccata/reader.toc"
List *varArgs684 = empty_list;
varArgs684 = (List *)listCons((Value *)bad_expr_5354, varArgs684);
varArgs684 = (List *)listCons((Value *)read_add_ns_5353, varArgs684);
varArgs684 = (List *)listCons((Value *)read_block_comment_5011, varArgs684);
varArgs684 = (List *)listCons((Value *)read_deftype_5332, varArgs684);
varArgs684 = (List *)listCons((Value *)read_extend_type_5331, varArgs684);
varArgs684 = (List *)listCons((Value *)read_defn_5330, varArgs684);
varArgs684 = (List *)listCons((Value *)read_defprotocol_5325, varArgs684);
varArgs684 = (List *)listCons((Value *)read_def_5319, varArgs684);
varArgs684 = (List *)listCons((Value *)read_inline_5010, varArgs684);
varArgs684 = (List *)listCons((Value *)read_main_5314, varArgs684);
Value *rslt685 = any_3693(empty_list, (Value *)varArgs684);

// static-fixed
// #line 1118 "/Users/jim/toccata/reader.toc"
Value *rslt686 = recursive_rule_3976(empty_list, strPtr401, rslt685);
top_level_5355 = rslt686;
top_level_5355->refs = -1;

// static-variadic
// #line 41 "toccata.toc"
List *varArgs687 = empty_list;
varArgs687 = (List *)listCons((Value *)strPtr408, varArgs687);
varArgs687 = (List *)listCons((Value *)OpaqueType_5379, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr38, varArgs687);
varArgs687 = (List *)listCons((Value *)AgentType_5378, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr35, varArgs687);
varArgs687 = (List *)listCons((Value *)FutureType_5377, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr33, varArgs687);
varArgs687 = (List *)listCons((Value *)PromiseType_5376, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr29, varArgs687);
varArgs687 = (List *)listCons((Value *)HashMapType_5375, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr26, varArgs687);
varArgs687 = (List *)listCons((Value *)HashCollisionNodeType_5374, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr25, varArgs687);
varArgs687 = (List *)listCons((Value *)ArrayNodeType_5373, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr407, varArgs687);
varArgs687 = (List *)listCons((Value *)BitmapIndexedType_5372, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr11, varArgs687);
varArgs687 = (List *)listCons((Value *)SymbolType_5371, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr406, varArgs687);
varArgs687 = (List *)listCons((Value *)VectorNodeType_5370, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr23, varArgs687);
varArgs687 = (List *)listCons((Value *)VectorType_5369, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr15, varArgs687);
varArgs687 = (List *)listCons((Value *)MaybeType_5368, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr20, varArgs687);
varArgs687 = (List *)listCons((Value *)ListType_5367, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr405, varArgs687);
varArgs687 = (List *)listCons((Value *)SubStringType_5364, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr3, varArgs687);
varArgs687 = (List *)listCons((Value *)FunctionType_5366, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr404, varArgs687);
varArgs687 = (List *)listCons((Value *)FnArityType_5365, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr9, varArgs687);
varArgs687 = (List *)listCons((Value *)StringType_5363, varArgs687);
varArgs687 = (List *)listCons((Value *)strPtr7, varArgs687);
varArgs687 = (List *)listCons((Value *)IntegerType_5362, varArgs687);
Value *rslt688 = hash_map_1208(empty_list, (Value *)varArgs687);
type_names_5381 = rslt688;
type_names_5381->refs = -1;

// static-variadic
// #line 64 "toccata.toc"
List *varArgs689 = empty_list;
varArgs689 = (List *)listCons((Value *)TypeCount_5380, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr33, varArgs689);
varArgs689 = (List *)listCons((Value *)OpaqueType_5379, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr32, varArgs689);
varArgs689 = (List *)listCons((Value *)AgentType_5378, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr31, varArgs689);
varArgs689 = (List *)listCons((Value *)FutureType_5377, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr30, varArgs689);
varArgs689 = (List *)listCons((Value *)PromiseType_5376, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr29, varArgs689);
varArgs689 = (List *)listCons((Value *)HashMapType_5375, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr28, varArgs689);
varArgs689 = (List *)listCons((Value *)HashCollisionNodeType_5374, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr27, varArgs689);
varArgs689 = (List *)listCons((Value *)ArrayNodeType_5373, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr26, varArgs689);
varArgs689 = (List *)listCons((Value *)BitmapIndexedType_5372, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr25, varArgs689);
varArgs689 = (List *)listCons((Value *)SymbolType_5371, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr24, varArgs689);
varArgs689 = (List *)listCons((Value *)VectorType_5369, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr23, varArgs689);
varArgs689 = (List *)listCons((Value *)MaybeType_5368, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr22, varArgs689);
varArgs689 = (List *)listCons((Value *)ListType_5367, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr21, varArgs689);
varArgs689 = (List *)listCons((Value *)FunctionType_5366, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr20, varArgs689);
varArgs689 = (List *)listCons((Value *)FnArityType_5365, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr19, varArgs689);
varArgs689 = (List *)listCons((Value *)SubStringType_5364, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr18, varArgs689);
varArgs689 = (List *)listCons((Value *)StringType_5363, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr17, varArgs689);
varArgs689 = (List *)listCons((Value *)IntegerType_5362, varArgs689);
varArgs689 = (List *)listCons((Value *)symPtr16, varArgs689);
Value *rslt690 = hash_map_1208(empty_list, (Value *)varArgs689);
core_types_5387 = rslt690;
core_types_5387->refs = -1;

// call invoke
// #line 83 "toccata.toc"
Value *rslt691 = arityImpl2933(empty_list, reifiedPtr2939, strPtr0);
sm_space_5388 = rslt691;
sm_space_5388->refs = -1;

type_val_5406_5407 = reifiedPtr5465;

type_val_5466_5467 = reifiedPtr5507;

type_val_5508_5509 = reifiedPtr5579;

type_val_5580_5581 = reifiedPtr5673;

type_val_5674_5675 = reifiedPtr5715;

// static-variadic
// #line 133 "toccata.toc"
List *varArgs692 = empty_list;
Value *rslt693 = hash_map_1208(empty_list, (Value *)varArgs692);

// call invoke
// #line 133 "toccata.toc"
Value *rslt694 = Closures_invoke_5692(empty_list, reifiedPtr5695, empty_list_0, rslt693);
empty_closures_5716 = rslt694;
empty_closures_5716->refs = -1;

type_val_5717_5718 = reifiedPtr5787;

type_val_5859_5860 = reifiedPtr5927;

// call-vector
// #line 226 "toccata.toc"
Vector *newVect695 = empty_vect;
Value *rslt696 = (Value *)newVect695;

// call-vector
// #line 226 "toccata.toc"
Vector *newVect697 = empty_vect;
Value *rslt698 = (Value *)newVect697;

// static-variadic
// #line 226 "toccata.toc"
List *varArgs699 = empty_list;
Value *rslt700 = hash_map_1208(empty_list, (Value *)varArgs699);

// call invoke
// #line 226 "toccata.toc"
Value *rslt701 = empty_code_invoke_5880(empty_list, reifiedPtr5883, strPtr0, rslt696, rslt698, UnknownType_5361, rslt700);
empty_c_code_5928 = rslt701;
empty_c_code_5928->refs = -1;

type_val_5929_5930 = reifiedPtr5989;

type_val_5990_5991 = reifiedPtr6055;

type_val_6110_6111 = reifiedPtr6158;

type_val_6198_6199 = reifiedPtr6259;

type_val_6280_6281 = reifiedPtr6328;

// static-fixed
// #line 387 "toccata.toc"
Value *rslt702 = constantly_1504(empty_list, strPtr459);

// static-fixed
// #line 388 "toccata.toc"
Value *rslt703 = ignore_3466(empty_list, strPtr460);

// static-variadic
// #line 387 "toccata.toc"
List *varArgs704 = empty_list;
varArgs704 = (List *)listCons((Value *)rslt703, varArgs704);
varArgs704 = (List *)listCons((Value *)rslt702, varArgs704);
Value *rslt705 = apply_fn_4170(empty_list, (Value *)varArgs704);

// static-fixed
// #line 389 "toccata.toc"
Value *rslt706 = constantly_1504(empty_list, strPtr461);

// static-fixed
// #line 390 "toccata.toc"
Value *rslt707 = ignore_3466(empty_list, strPtr462);

// static-variadic
// #line 389 "toccata.toc"
List *varArgs708 = empty_list;
varArgs708 = (List *)listCons((Value *)rslt707, varArgs708);
varArgs708 = (List *)listCons((Value *)rslt706, varArgs708);
Value *rslt709 = apply_fn_4170(empty_list, (Value *)varArgs708);

// static-fixed
// #line 391 "toccata.toc"
Value *rslt710 = constantly_1504(empty_list, strPtr463);

// static-fixed
// #line 392 "toccata.toc"
Value *rslt711 = ignore_3466(empty_list, strPtr464);

// static-variadic
// #line 391 "toccata.toc"
List *varArgs712 = empty_list;
varArgs712 = (List *)listCons((Value *)rslt711, varArgs712);
varArgs712 = (List *)listCons((Value *)rslt710, varArgs712);
Value *rslt713 = apply_fn_4170(empty_list, (Value *)varArgs712);

// static-fixed
// #line 393 "toccata.toc"
Value *rslt714 = constantly_1504(empty_list, strPtr465);

// static-fixed
// #line 394 "toccata.toc"
Value *rslt715 = ignore_3466(empty_list, strPtr466);

// static-variadic
// #line 393 "toccata.toc"
List *varArgs716 = empty_list;
varArgs716 = (List *)listCons((Value *)rslt715, varArgs716);
varArgs716 = (List *)listCons((Value *)rslt714, varArgs716);
Value *rslt717 = apply_fn_4170(empty_list, (Value *)varArgs716);

// static-fixed
// #line 395 "toccata.toc"
Value *rslt718 = constantly_1504(empty_list, strPtr467);

// static-fixed
// #line 396 "toccata.toc"
Value *rslt719 = ignore_3466(empty_list, strPtr468);

// static-variadic
// #line 395 "toccata.toc"
List *varArgs720 = empty_list;
varArgs720 = (List *)listCons((Value *)rslt719, varArgs720);
varArgs720 = (List *)listCons((Value *)rslt718, varArgs720);
Value *rslt721 = apply_fn_4170(empty_list, (Value *)varArgs720);

// static-fixed
// #line 397 "toccata.toc"
Value *rslt722 = constantly_1504(empty_list, strPtr469);

// static-fixed
// #line 398 "toccata.toc"
Value *rslt723 = ignore_3466(empty_list, strPtr470);

// static-variadic
// #line 397 "toccata.toc"
List *varArgs724 = empty_list;
varArgs724 = (List *)listCons((Value *)rslt723, varArgs724);
varArgs724 = (List *)listCons((Value *)rslt722, varArgs724);
Value *rslt725 = apply_fn_4170(empty_list, (Value *)varArgs724);

// static-fixed
// #line 399 "toccata.toc"
Value *rslt726 = constantly_1504(empty_list, strPtr471);

// static-fixed
// #line 400 "toccata.toc"
Value *rslt727 = ignore_3466(empty_list, strPtr472);

// static-variadic
// #line 399 "toccata.toc"
List *varArgs728 = empty_list;
varArgs728 = (List *)listCons((Value *)rslt727, varArgs728);
varArgs728 = (List *)listCons((Value *)rslt726, varArgs728);
Value *rslt729 = apply_fn_4170(empty_list, (Value *)varArgs728);

// static-fixed
// #line 401 "toccata.toc"
Value *rslt730 = constantly_1504(empty_list, strPtr473);

// static-fixed
// #line 402 "toccata.toc"
Value *rslt731 = ignore_3466(empty_list, strPtr2);

// static-variadic
// #line 401 "toccata.toc"
List *varArgs732 = empty_list;
varArgs732 = (List *)listCons((Value *)rslt731, varArgs732);
varArgs732 = (List *)listCons((Value *)rslt730, varArgs732);
Value *rslt733 = apply_fn_4170(empty_list, (Value *)varArgs732);

// static-variadic
// #line 387 "toccata.toc"
List *varArgs734 = empty_list;
varArgs734 = (List *)listCons((Value *)rslt733, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt729, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt725, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt721, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt717, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt713, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt709, varArgs734);
varArgs734 = (List *)listCons((Value *)rslt705, varArgs734);
Value *rslt735 = any_3693(empty_list, (Value *)varArgs734);
C_var_punct_6359 = rslt735;
C_var_punct_6359->refs = -1;

// static-fixed
// #line 406 "toccata.toc"
Value *rslt736 = constantly_1504(empty_list, strPtr474);

// static-fixed
// #line 407 "toccata.toc"
Value *rslt737 = ignore_3466(empty_list, strPtr288);

// static-variadic
// #line 406 "toccata.toc"
List *varArgs738 = empty_list;
varArgs738 = (List *)listCons((Value *)rslt737, varArgs738);
varArgs738 = (List *)listCons((Value *)rslt736, varArgs738);
Value *rslt739 = apply_fn_4170(empty_list, (Value *)varArgs738);

// static-variadic
// #line 405 "toccata.toc"
List *varArgs740 = empty_list;
varArgs740 = (List *)listCons((Value *)C_var_punct_6359, varArgs740);
varArgs740 = (List *)listCons((Value *)digit_4099, varArgs740);
varArgs740 = (List *)listCons((Value *)alpha_4098, varArgs740);
varArgs740 = (List *)listCons((Value *)rslt739, varArgs740);
varArgs740 = (List *)listCons((Value *)strPtr474, varArgs740);
Value *rslt741 = any_3693(empty_list, (Value *)varArgs740);

// static-fixed
// #line 405 "toccata.toc"
Value *rslt742 = none_or_more_3790(empty_list, rslt741);
C_var_remaining_6360 = rslt742;
C_var_remaining_6360->refs = -1;

// static-fixed
// #line 415 "toccata.toc"
Value *rslt743 = ignore_3466(empty_list, strPtr462);
Value *fv_744 = rslt743;

incRef(fv_744, 1);
Value *rslt745 = reified_type_args_22(empty_list, fv_744);
Value *v_746;
Value *tail_747;
Value **destArgs748[2] = {&v_746, &tail_747};
destructValue("", "0", (Value *)rslt745, 2, destArgs748);

dec_and_free(v_746, 1);

dec_and_free(tail_747, 1);

// call invoke
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt749 = pure_invoke_2845(empty_list, reifiedPtr2848, fn6367);

// call-list
// #line 33 "/Users/jim/toccata/free.toc"
List *newList750 = empty_list;
newList750 = listCons((Value *)fv_744, newList750);
Value *rslt751 = (Value *)newList750;

// call invoke
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt752 = free_app_invoke_2632(empty_list, reifiedPtr2635, rslt749, rslt751);

// static-fixed
// #line 416 "toccata.toc"
Value *rslt753 = ignore_3466(empty_list, strPtr288);
Value *fv_754 = rslt753;

incRef(fv_754, 1);
Value *rslt755 = reified_type_args_22(empty_list, fv_754);
Value *v_756;
Value *tail_757;
Value **destArgs758[2] = {&v_756, &tail_757};
destructValue("", "0", (Value *)rslt755, 2, destArgs758);

dec_and_free(v_756, 1);

dec_and_free(tail_757, 1);

// call invoke
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt759 = pure_invoke_2845(empty_list, reifiedPtr2848, fn6371);

// call-list
// #line 33 "/Users/jim/toccata/free.toc"
List *newList760 = empty_list;
newList760 = listCons((Value *)fv_754, newList760);
Value *rslt761 = (Value *)newList760;

// call invoke
// #line 33 "/Users/jim/toccata/free.toc"
Value *rslt762 = free_app_invoke_2632(empty_list, reifiedPtr2635, rslt759, rslt761);

// static-variadic
// #line 414 "toccata.toc"
List *varArgs763 = empty_list;
varArgs763 = (List *)listCons((Value *)C_var_punct_6359, varArgs763);
varArgs763 = (List *)listCons((Value *)rslt762, varArgs763);
varArgs763 = (List *)listCons((Value *)rslt752, varArgs763);
varArgs763 = (List *)listCons((Value *)alpha_4098, varArgs763);
Value *rslt764 = any_3693(empty_list, (Value *)varArgs763);

// static-variadic
// #line 412 "toccata.toc"
List *varArgs765 = empty_list;
varArgs765 = (List *)listCons((Value *)C_var_remaining_6360, varArgs765);
varArgs765 = (List *)listCons((Value *)rslt764, varArgs765);
varArgs765 = (List *)listCons((Value *)fn6363, varArgs765);
Value *rslt766 = apply_fn_4170(empty_list, (Value *)varArgs765);
C_var_6375 = rslt766;
C_var_6375->refs = -1;

// static-fixed
// #line 420 "toccata.toc"
Value *rslt767 = parser_4999(empty_list, C_var_6375);
check_C_var_6376 = rslt767;
check_C_var_6376->refs = -1;

type_val_6422_6423 = reifiedPtr6467;

type_val_6688_6689 = reifiedPtr6760;

type_val_7742_7743 = reifiedPtr7815;

type_val_7816_7817 = reifiedPtr7895;

type_val_8050_8051 = reifiedPtr8093;

type_val_8122_8123 = reifiedPtr8165;

type_val_8188_8189 = reifiedPtr8233;

// static-variadic
// #line 2254 "toccata.toc"
List *varArgs768 = empty_list;
Value *rslt769 = hash_map_1208(empty_list, (Value *)varArgs768);

// static-variadic
// #line 2254 "toccata.toc"
List *varArgs770 = empty_list;
Value *rslt771 = hash_map_1208(empty_list, (Value *)varArgs770);

// static-variadic
// #line 2254 "toccata.toc"
List *varArgs772 = empty_list;
Value *rslt773 = hash_map_1208(empty_list, (Value *)varArgs772);

// call invoke
// #line 2254 "toccata.toc"
Value *rslt774 = FunctionArityContext_invoke_5750(empty_list, reifiedPtr5753, rslt769, numPtr0, rslt771, rslt773, empty_closures_5716);

// static-variadic
// #line 2255 "toccata.toc"
List *varArgs775 = empty_list;
Value *rslt776 = hash_map_1208(empty_list, (Value *)varArgs775);

// static-variadic
// #line 2255 "toccata.toc"
List *varArgs777 = empty_list;
Value *rslt778 = hash_map_1208(empty_list, (Value *)varArgs777);

// static-variadic
// #line 2255 "toccata.toc"
List *varArgs779 = empty_list;
Value *rslt780 = hash_map_1208(empty_list, (Value *)varArgs779);

// call invoke
// #line 2255 "toccata.toc"
Value *rslt781 = FunctionArityContext_invoke_5750(empty_list, reifiedPtr5753, rslt776, numPtr0, rslt778, rslt780, empty_closures_5716);

// call-vector
// #line 2256 "toccata.toc"
Vector *newVect782 = empty_vect;
Value *rslt783 = (Value *)newVect782;

// call invoke
// #line 2255 "toccata.toc"
Value *rslt784 = RuntimeInit_invoke_5484(empty_list, reifiedPtr5487, rslt781, rslt783);

// static-variadic
// #line 2257 "toccata.toc"
List *varArgs785 = empty_list;
Value *rslt786 = hash_map_1208(empty_list, (Value *)varArgs785);

// static-variadic
// #line 2258 "toccata.toc"
List *varArgs787 = empty_list;
Value *rslt788 = hash_map_1208(empty_list, (Value *)varArgs787);

// static-variadic
// #line 2259 "toccata.toc"
List *varArgs789 = empty_list;
Value *rslt790 = hash_map_1208(empty_list, (Value *)varArgs789);

// static-variadic
// #line 2260 "toccata.toc"
List *varArgs791 = empty_list;
Value *rslt792 = hash_map_1208(empty_list, (Value *)varArgs791);

// static-variadic
// #line 2260 "toccata.toc"
List *varArgs793 = empty_list;
Value *rslt794 = hash_map_1208(empty_list, (Value *)varArgs793);

// static-variadic
// #line 2260 "toccata.toc"
List *varArgs795 = empty_list;
Value *rslt796 = hash_map_1208(empty_list, (Value *)varArgs795);

// call invoke
// #line 2260 "toccata.toc"
Value *rslt797 = ConstantValues_invoke_5434(empty_list, reifiedPtr5437, rslt792, rslt794, rslt796, type_names_5381);

// call invoke
// #line 2253 "toccata.toc"
Value *rslt798 = GlobalContext_invoke_5624(empty_list, reifiedPtr5627, symPtr67, rslt774, rslt784, rslt786, rslt788, rslt790, rslt797, numPtr0);
global_context_9038 = rslt798;
global_context_9038->refs = -1;

// static-fixed
// #line 2264 "toccata.toc"
Value *rslt799 = agent_1483(empty_list, strPtr0);
string_writer_9039 = rslt799;
string_writer_9039->refs = -1;

// static-fixed
// #line 2266 "toccata.toc"
Value *rslt800 = agent_1483(empty_list, strPtr0);
logger_9040 = rslt800;
logger_9040->refs = -1;

// static-fixed
// #line 2296 "toccata.toc"
Value *rslt801 = lookup_static_arity_6627(empty_list, symPtr41, numPtr1);

// static-variadic
// #line 2297 "toccata.toc"
List *varArgs802 = empty_list;
varArgs802 = (List *)listCons((Value *)strPtr707, varArgs802);
Value *rslt803 = compilation_error_5400(empty_list, (Value *)varArgs802);

// call-list
// #line 2296 "toccata.toc"
List *newList804 = empty_list;
newList804 = listCons((Value *)rslt803, newList804);
Value *rslt805 = (Value *)newList804;

// type-known for comp*
// #line 2296 "toccata.toc"
Value *rslt806 = new_sm_comp_STAR__2805(empty_list, rslt801, rslt805);
Value *wrapper_807 = rslt806;

incRef(wrapper_807, 1);
Value *ev_808 = wrapper_807;
Value *rslt809 = reified_type_args_22(empty_list, ev_808);
Value *invoke_fn_810;
Value *tail_811;
Value **destArgs812[2] = {&invoke_fn_810, &tail_811};
destructValue("", "0", (Value *)rslt809, 2, destArgs812);

dec_and_free(tail_811, 1);
FnArity *dynArity813 = malloc_fnArity();
dynArity813->count = 1;
dynArity813->variadic = 0;
dynArity813->fn = arityImpl9079;
dynArity813->closures = empty_list;
dynArity813->closures = listCons((Value *)wrapper_807, (List *)dynArity813->closures);
dynArity813->closures = listCons((Value *)invoke_fn_810, (List *)dynArity813->closures);
Function *anon_9086 = malloc_function(1);
anon_9086->name = "anon";
anon_9086->arityCount = 1;
anon_9086->arities[0] = dynArity813;
Value *fn9078 = (Value *)anon_9086;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt814 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9078);
emit_main_STAR__9087 = rslt814;
emit_main_STAR__9087->refs = -1;

// static-fixed
// #line 2393 "toccata.toc"
Value *rslt815 = maybe_4(empty_list, global_context_9038);

// static-fixed
// #line 2393 "toccata.toc"
Value *rslt816 = agent_1483(empty_list, rslt815);
ast_emitter_9118 = rslt816;
ast_emitter_9118->refs = -1;

// static-fixed
// #line 2426 "toccata.toc"
Value *rslt817 = get_val_3323(empty_list, dispatchFnPtr5586);
Value *__818 = rslt817;
Value *rslt819 = reified_type_args_22(empty_list, __818);
Value *invoke_fn_820;
Value *tail_821;
Value **destArgs822[2] = {&invoke_fn_820, &tail_821};
destructValue("", "0", (Value *)rslt819, 2, destArgs822);

dec_and_free(tail_821, 1);
FnArity *dynArity823 = malloc_fnArity();
dynArity823->count = 1;
dynArity823->variadic = 0;
dynArity823->fn = arityImpl9156;
dynArity823->closures = empty_list;
dynArity823->closures = listCons((Value *)invoke_fn_820, (List *)dynArity823->closures);
Function *anon_9157 = malloc_function(1);
anon_9157->name = "anon";
anon_9157->arityCount = 1;
anon_9157->arities[0] = dynArity823;
Value *fn9155 = (Value *)anon_9157;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt824 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9155);
Value *wrapper_825 = rslt824;

incRef(wrapper_825, 1);
Value *ev_826 = wrapper_825;
Value *rslt827 = reified_type_args_22(empty_list, ev_826);
Value *invoke_fn_828;
Value *tail_829;
Value **destArgs830[2] = {&invoke_fn_828, &tail_829};
destructValue("", "0", (Value *)rslt827, 2, destArgs830);

dec_and_free(tail_829, 1);
FnArity *dynArity831 = malloc_fnArity();
dynArity831->count = 1;
dynArity831->variadic = 0;
dynArity831->fn = arityImpl9160;
dynArity831->closures = empty_list;
dynArity831->closures = listCons((Value *)wrapper_825, (List *)dynArity831->closures);
dynArity831->closures = listCons((Value *)invoke_fn_828, (List *)dynArity831->closures);
Function *anon_9191 = malloc_function(1);
anon_9191->name = "anon";
anon_9191->arityCount = 1;
anon_9191->arities[0] = dynArity831;
Value *fn9159 = (Value *)anon_9191;

// call invoke
// #line 47 "/Users/jim/toccata/state-maybe.toc"
Value *rslt832 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9159);
finalize_protocols_STAR__9192 = rslt832;
finalize_protocols_STAR__9192->refs = -1;

// static-fixed
// #line 2442 "toccata.toc"
Value *rslt833 = get_proto_dispatch_sym_9115(empty_list, symPtr44, numPtr1);
Value *__834 = rslt833;
Value *rslt835 = reified_type_args_22(empty_list, __834);
Value *invoke_fn_836;
Value *tail_837;
Value **destArgs838[2] = {&invoke_fn_836, &tail_837};
destructValue("", "0", (Value *)rslt835, 2, destArgs838);

dec_and_free(tail_837, 1);
FnArity *dynArity839 = malloc_fnArity();
dynArity839->count = 1;
dynArity839->variadic = 0;
dynArity839->fn = arityImpl9217;
dynArity839->closures = empty_list;
dynArity839->closures = listCons((Value *)invoke_fn_836, (List *)dynArity839->closures);
Function *anon_9218 = malloc_function(1);
anon_9218->name = "anon";
anon_9218->arityCount = 1;
anon_9218->arities[0] = dynArity839;
Value *fn9216 = (Value *)anon_9218;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt840 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9216);
Value *__841 = rslt840;
Value *v_842 = fn9219;
Value *rslt843 = reified_type_args_22(empty_list, __841);
Value *invoke_fn_844;
Value *tail_845;
Value **destArgs846[2] = {&invoke_fn_844, &tail_845};
destructValue("", "0", (Value *)rslt843, 2, destArgs846);

dec_and_free(invoke_fn_844, 1);

dec_and_free(tail_845, 1);
FnArity *dynArity847 = malloc_fnArity();
dynArity847->count = 1;
dynArity847->variadic = 0;
dynArity847->fn = arityImpl9224;
dynArity847->closures = empty_list;
dynArity847->closures = listCons((Value *)v_842, (List *)dynArity847->closures);
Function *anon_9225 = malloc_function(1);
anon_9225->name = "anon";
anon_9225->arityCount = 1;
anon_9225->arities[0] = dynArity847;
Value *fn9223 = (Value *)anon_9225;

// call invoke
// #line 34 "/Users/jim/toccata/state-maybe.toc"
Value *rslt848 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9223);
Value *fv_849 = rslt848;

incRef(fv_849, 1);

// static-fixed
// #line 2442 "toccata.toc"
Value *rslt850 = get_proto_dispatch_sym_9115(empty_list, symPtr44, numPtr1);
Value *__851 = rslt850;
Value *rslt852 = reified_type_args_22(empty_list, __851);
Value *invoke_fn_853;
Value *tail_854;
Value **destArgs855[2] = {&invoke_fn_853, &tail_854};
destructValue("", "0", (Value *)rslt852, 2, destArgs855);

dec_and_free(tail_854, 1);
FnArity *dynArity856 = malloc_fnArity();
dynArity856->count = 1;
dynArity856->variadic = 0;
dynArity856->fn = arityImpl9240;
dynArity856->closures = empty_list;
dynArity856->closures = listCons((Value *)invoke_fn_853, (List *)dynArity856->closures);
Function *anon_9241 = malloc_function(1);
anon_9241->name = "anon";
anon_9241->arityCount = 1;
anon_9241->arities[0] = dynArity856;
Value *fn9239 = (Value *)anon_9241;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt857 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9239);

// static-fixed
// #line 2446 "toccata.toc"
Value *rslt858 = get_proto_dispatch_sym_9115(empty_list, symPtr39, numPtr1);
Value *__859 = rslt858;
Value *rslt860 = reified_type_args_22(empty_list, __859);
Value *invoke_fn_861;
Value *tail_862;
Value **destArgs863[2] = {&invoke_fn_861, &tail_862};
destructValue("", "0", (Value *)rslt860, 2, destArgs863);

dec_and_free(tail_862, 1);
FnArity *dynArity864 = malloc_fnArity();
dynArity864->count = 1;
dynArity864->variadic = 0;
dynArity864->fn = arityImpl9243;
dynArity864->closures = empty_list;
dynArity864->closures = listCons((Value *)invoke_fn_861, (List *)dynArity864->closures);
Function *anon_9244 = malloc_function(1);
anon_9244->name = "anon";
anon_9244->arityCount = 1;
anon_9244->arities[0] = dynArity864;
Value *fn9242 = (Value *)anon_9244;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt865 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9242);

// static-fixed
// #line 2450 "toccata.toc"
Value *rslt866 = get_proto_dispatch_sym_9115(empty_list, symPtr39, numPtr2);
Value *__867 = rslt866;
Value *rslt868 = reified_type_args_22(empty_list, __867);
Value *invoke_fn_869;
Value *tail_870;
Value **destArgs871[2] = {&invoke_fn_869, &tail_870};
destructValue("", "0", (Value *)rslt868, 2, destArgs871);

dec_and_free(tail_870, 1);
FnArity *dynArity872 = malloc_fnArity();
dynArity872->count = 1;
dynArity872->variadic = 0;
dynArity872->fn = arityImpl9246;
dynArity872->closures = empty_list;
dynArity872->closures = listCons((Value *)invoke_fn_869, (List *)dynArity872->closures);
Function *anon_9247 = malloc_function(1);
anon_9247->name = "anon";
anon_9247->arityCount = 1;
anon_9247->arities[0] = dynArity872;
Value *fn9245 = (Value *)anon_9247;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt873 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9245);

// static-fixed
// #line 2454 "toccata.toc"
Value *rslt874 = get_proto_dispatch_sym_9115(empty_list, symPtr39, numPtr4);
Value *__875 = rslt874;
Value *rslt876 = reified_type_args_22(empty_list, __875);
Value *invoke_fn_877;
Value *tail_878;
Value **destArgs879[2] = {&invoke_fn_877, &tail_878};
destructValue("", "0", (Value *)rslt876, 2, destArgs879);

dec_and_free(tail_878, 1);
FnArity *dynArity880 = malloc_fnArity();
dynArity880->count = 1;
dynArity880->variadic = 0;
dynArity880->fn = arityImpl9249;
dynArity880->closures = empty_list;
dynArity880->closures = listCons((Value *)invoke_fn_877, (List *)dynArity880->closures);
Function *anon_9250 = malloc_function(1);
anon_9250->name = "anon";
anon_9250->arityCount = 1;
anon_9250->arities[0] = dynArity880;
Value *fn9248 = (Value *)anon_9250;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt881 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9248);

// static-fixed
// #line 2458 "toccata.toc"
Value *rslt882 = get_proto_dispatch_sym_9115(empty_list, symPtr48, numPtr2);
Value *__883 = rslt882;
Value *rslt884 = reified_type_args_22(empty_list, __883);
Value *invoke_fn_885;
Value *tail_886;
Value **destArgs887[2] = {&invoke_fn_885, &tail_886};
destructValue("", "0", (Value *)rslt884, 2, destArgs887);

dec_and_free(tail_886, 1);
FnArity *dynArity888 = malloc_fnArity();
dynArity888->count = 1;
dynArity888->variadic = 0;
dynArity888->fn = arityImpl9252;
dynArity888->closures = empty_list;
dynArity888->closures = listCons((Value *)invoke_fn_885, (List *)dynArity888->closures);
Function *anon_9253 = malloc_function(1);
anon_9253->name = "anon";
anon_9253->arityCount = 1;
anon_9253->arities[0] = dynArity888;
Value *fn9251 = (Value *)anon_9253;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt889 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9251);

// static-fixed
// #line 2462 "toccata.toc"
Value *rslt890 = get_proto_dispatch_sym_9115(empty_list, symPtr68, numPtr2);
Value *__891 = rslt890;
Value *rslt892 = reified_type_args_22(empty_list, __891);
Value *invoke_fn_893;
Value *tail_894;
Value **destArgs895[2] = {&invoke_fn_893, &tail_894};
destructValue("", "0", (Value *)rslt892, 2, destArgs895);

dec_and_free(tail_894, 1);
FnArity *dynArity896 = malloc_fnArity();
dynArity896->count = 1;
dynArity896->variadic = 0;
dynArity896->fn = arityImpl9255;
dynArity896->closures = empty_list;
dynArity896->closures = listCons((Value *)invoke_fn_893, (List *)dynArity896->closures);
Function *anon_9256 = malloc_function(1);
anon_9256->name = "anon";
anon_9256->arityCount = 1;
anon_9256->arities[0] = dynArity896;
Value *fn9254 = (Value *)anon_9256;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt897 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9254);

// static-fixed
// #line 2466 "toccata.toc"
Value *rslt898 = get_proto_dispatch_sym_9115(empty_list, symPtr69, numPtr1);
Value *__899 = rslt898;
Value *rslt900 = reified_type_args_22(empty_list, __899);
Value *invoke_fn_901;
Value *tail_902;
Value **destArgs903[2] = {&invoke_fn_901, &tail_902};
destructValue("", "0", (Value *)rslt900, 2, destArgs903);

dec_and_free(tail_902, 1);
FnArity *dynArity904 = malloc_fnArity();
dynArity904->count = 1;
dynArity904->variadic = 0;
dynArity904->fn = arityImpl9258;
dynArity904->closures = empty_list;
dynArity904->closures = listCons((Value *)invoke_fn_901, (List *)dynArity904->closures);
Function *anon_9259 = malloc_function(1);
anon_9259->name = "anon";
anon_9259->arityCount = 1;
anon_9259->arities[0] = dynArity904;
Value *fn9257 = (Value *)anon_9259;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt905 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9257);

// static-fixed
// #line 2470 "toccata.toc"
Value *rslt906 = get_proto_dispatch_sym_9115(empty_list, symPtr70, numPtr1);
Value *__907 = rslt906;
Value *rslt908 = reified_type_args_22(empty_list, __907);
Value *invoke_fn_909;
Value *tail_910;
Value **destArgs911[2] = {&invoke_fn_909, &tail_910};
destructValue("", "0", (Value *)rslt908, 2, destArgs911);

dec_and_free(tail_910, 1);
FnArity *dynArity912 = malloc_fnArity();
dynArity912->count = 1;
dynArity912->variadic = 0;
dynArity912->fn = arityImpl9261;
dynArity912->closures = empty_list;
dynArity912->closures = listCons((Value *)invoke_fn_909, (List *)dynArity912->closures);
Function *anon_9262 = malloc_function(1);
anon_9262->name = "anon";
anon_9262->arityCount = 1;
anon_9262->arities[0] = dynArity912;
Value *fn9260 = (Value *)anon_9262;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt913 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9260);

// static-fixed
// #line 2474 "toccata.toc"
Value *rslt914 = get_proto_dispatch_sym_9115(empty_list, symPtr61, numPtr6);
Value *__915 = rslt914;
Value *rslt916 = reified_type_args_22(empty_list, __915);
Value *invoke_fn_917;
Value *tail_918;
Value **destArgs919[2] = {&invoke_fn_917, &tail_918};
destructValue("", "0", (Value *)rslt916, 2, destArgs919);

dec_and_free(tail_918, 1);
FnArity *dynArity920 = malloc_fnArity();
dynArity920->count = 1;
dynArity920->variadic = 0;
dynArity920->fn = arityImpl9264;
dynArity920->closures = empty_list;
dynArity920->closures = listCons((Value *)invoke_fn_917, (List *)dynArity920->closures);
Function *anon_9265 = malloc_function(1);
anon_9265->name = "anon";
anon_9265->arityCount = 1;
anon_9265->arities[0] = dynArity920;
Value *fn9263 = (Value *)anon_9265;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt921 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9263);

// static-fixed
// #line 2479 "toccata.toc"
Value *rslt922 = get_proto_dispatch_sym_9115(empty_list, symPtr71, numPtr5);
Value *__923 = rslt922;
Value *rslt924 = reified_type_args_22(empty_list, __923);
Value *invoke_fn_925;
Value *tail_926;
Value **destArgs927[2] = {&invoke_fn_925, &tail_926};
destructValue("", "0", (Value *)rslt924, 2, destArgs927);

dec_and_free(tail_926, 1);
FnArity *dynArity928 = malloc_fnArity();
dynArity928->count = 1;
dynArity928->variadic = 0;
dynArity928->fn = arityImpl9267;
dynArity928->closures = empty_list;
dynArity928->closures = listCons((Value *)invoke_fn_925, (List *)dynArity928->closures);
Function *anon_9268 = malloc_function(1);
anon_9268->name = "anon";
anon_9268->arityCount = 1;
anon_9268->arities[0] = dynArity928;
Value *fn9266 = (Value *)anon_9268;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt929 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9266);

// static-fixed
// #line 2484 "toccata.toc"
Value *rslt930 = get_proto_dispatch_sym_9115(empty_list, symPtr72, numPtr6);
Value *__931 = rslt930;
Value *rslt932 = reified_type_args_22(empty_list, __931);
Value *invoke_fn_933;
Value *tail_934;
Value **destArgs935[2] = {&invoke_fn_933, &tail_934};
destructValue("", "0", (Value *)rslt932, 2, destArgs935);

dec_and_free(tail_934, 1);
FnArity *dynArity936 = malloc_fnArity();
dynArity936->count = 1;
dynArity936->variadic = 0;
dynArity936->fn = arityImpl9270;
dynArity936->closures = empty_list;
dynArity936->closures = listCons((Value *)invoke_fn_933, (List *)dynArity936->closures);
Function *anon_9271 = malloc_function(1);
anon_9271->name = "anon";
anon_9271->arityCount = 1;
anon_9271->arities[0] = dynArity936;
Value *fn9269 = (Value *)anon_9271;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt937 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9269);

// static-fixed
// #line 2489 "toccata.toc"
Value *rslt938 = lookup_core_fn_arity_6637(empty_list, symPtr73, numPtr1);
Value *__939 = rslt938;
Value *rslt940 = reified_type_args_22(empty_list, __939);
Value *invoke_fn_941;
Value *tail_942;
Value **destArgs943[2] = {&invoke_fn_941, &tail_942};
destructValue("", "0", (Value *)rslt940, 2, destArgs943);

dec_and_free(tail_942, 1);
FnArity *dynArity944 = malloc_fnArity();
dynArity944->count = 1;
dynArity944->variadic = 0;
dynArity944->fn = arityImpl9273;
dynArity944->closures = empty_list;
dynArity944->closures = listCons((Value *)invoke_fn_941, (List *)dynArity944->closures);
Function *anon_9274 = malloc_function(1);
anon_9274->name = "anon";
anon_9274->arityCount = 1;
anon_9274->arities[0] = dynArity944;
Value *fn9272 = (Value *)anon_9274;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt945 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9272);

// static-fixed
// #line 2493 "toccata.toc"
Value *rslt946 = lookup_core_fn_arity_6637(empty_list, symPtr74, numPtr2);
Value *__947 = rslt946;
Value *rslt948 = reified_type_args_22(empty_list, __947);
Value *invoke_fn_949;
Value *tail_950;
Value **destArgs951[2] = {&invoke_fn_949, &tail_950};
destructValue("", "0", (Value *)rslt948, 2, destArgs951);

dec_and_free(tail_950, 1);
FnArity *dynArity952 = malloc_fnArity();
dynArity952->count = 1;
dynArity952->variadic = 0;
dynArity952->fn = arityImpl9276;
dynArity952->closures = empty_list;
dynArity952->closures = listCons((Value *)invoke_fn_949, (List *)dynArity952->closures);
Function *anon_9277 = malloc_function(1);
anon_9277->name = "anon";
anon_9277->arityCount = 1;
anon_9277->arities[0] = dynArity952;
Value *fn9275 = (Value *)anon_9277;

// call invoke
// #line 29 "/Users/jim/toccata/state-maybe.toc"
Value *rslt953 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9275);

// call-list
// #line 2441 "toccata.toc"
List *newList954 = empty_list;
newList954 = listCons((Value *)rslt953, newList954);
newList954 = listCons((Value *)rslt945, newList954);
newList954 = listCons((Value *)rslt937, newList954);
newList954 = listCons((Value *)rslt929, newList954);
newList954 = listCons((Value *)rslt921, newList954);
newList954 = listCons((Value *)rslt913, newList954);
newList954 = listCons((Value *)rslt905, newList954);
newList954 = listCons((Value *)rslt897, newList954);
newList954 = listCons((Value *)rslt889, newList954);
newList954 = listCons((Value *)rslt881, newList954);
newList954 = listCons((Value *)rslt873, newList954);
newList954 = listCons((Value *)rslt865, newList954);
newList954 = listCons((Value *)rslt857, newList954);
Value *rslt955 = (Value *)newList954;
Value *args_956 = rslt955;
Value *rslt957 = reified_type_args_22(empty_list, fv_849);
Value *invoke_fn_958;
Value *tail_959;
Value **destArgs960[2] = {&invoke_fn_958, &tail_959};
destructValue("", "0", (Value *)rslt957, 2, destArgs960);

dec_and_free(invoke_fn_958, 1);

dec_and_free(tail_959, 1);
FnArity *dynArity961 = malloc_fnArity();
dynArity961->count = 1;
dynArity961->variadic = 0;
dynArity961->fn = arityImpl9279;
dynArity961->closures = empty_list;
dynArity961->closures = listCons((Value *)fv_849, (List *)dynArity961->closures);
dynArity961->closures = listCons((Value *)args_956, (List *)dynArity961->closures);
Function *anon_9280 = malloc_function(1);
anon_9280->name = "anon";
anon_9280->arityCount = 1;
anon_9280->arities[0] = dynArity961;
Value *fn9278 = (Value *)anon_9280;

// call invoke
// #line 37 "/Users/jim/toccata/state-maybe.toc"
Value *rslt962 = new_sm_invoke_2781(empty_list, reifiedPtr2784, fn9278);
fixup_native_symbols_STAR__9281 = rslt962;
fixup_native_symbols_STAR__9281->refs = -1;

// static-variadic
// #line 2517 "toccata.toc"
List *varArgs963 = empty_list;
Value *rslt964 = hash_map_1208(empty_list, (Value *)varArgs963);

// static-fixed
// #line 2517 "toccata.toc"
Value *rslt965 = maybe_4(empty_list, rslt964);

// static-fixed
// #line 2517 "toccata.toc"
Value *rslt966 = agent_1483(empty_list, rslt965);
module_compiler_9302 = rslt966;
module_compiler_9302->refs = -1;

// static-fixed
// #line 2588 "toccata.toc"
Value *rslt967 = get_value_2924(empty_list, symPtr78);

// static-fixed
// #line 2589 "toccata.toc"
Value *rslt968 = get_value_2924(empty_list, symPtr79);

// static-variadic
// #line 2586 "toccata.toc"
List *varArgs969 = empty_list;
varArgs969 = (List *)listCons((Value *)rslt968, varArgs969);
varArgs969 = (List *)listCons((Value *)rslt967, varArgs969);
varArgs969 = (List *)listCons((Value *)read_add_ns_5353, varArgs969);
varArgs969 = (List *)listCons((Value *)add_namespace_9308, varArgs969);
Value *rslt970 = apply_fn_4170(empty_list, (Value *)varArgs969);

// static-fixed
// #line 2585 "toccata.toc"
Value *rslt971 = one_or_more_3430(empty_list, rslt970);

// static-variadic
// #line 2583 "toccata.toc"
List *varArgs972 = empty_list;
varArgs972 = (List *)listCons((Value *)rslt971, varArgs972);
varArgs972 = (List *)listCons((Value *)fn9327, varArgs972);
Value *rslt973 = apply_fn_4170(empty_list, (Value *)varArgs972);

// static-variadic
// #line 2590 "toccata.toc"
List *varArgs974 = empty_list;
varArgs974 = (List *)listCons((Value *)top_level_5355, varArgs974);
varArgs974 = (List *)listCons((Value *)send_to_emitter_9303, varArgs974);
Value *rslt975 = apply_fn_4170(empty_list, (Value *)varArgs974);

// static-variadic
// #line 2582 "toccata.toc"
List *varArgs976 = empty_list;
varArgs976 = (List *)listCons((Value *)rslt975, varArgs976);
varArgs976 = (List *)listCons((Value *)rslt973, varArgs976);
Value *rslt977 = any_3693(empty_list, (Value *)varArgs976);

// static-fixed
// #line 2581 "toccata.toc"
Value *rslt978 = none_or_more_3790(empty_list, rslt977);

// static-fixed
// #line 2581 "toccata.toc"
Value *rslt979 = parser_4999(empty_list, rslt978);
analyze_forms_9331 = rslt979;
analyze_forms_9331->refs = -1;
Value *orRslt980;

// static-fixed
// #line 2593 "toccata.toc"
Value *rslt981 = get_environment_2485(empty_list, strPtr783);
Value *mv_982 = rslt981;

// static-fixed
// #line 975 "core"
Value *rslt983 = maybe_map_729(empty_list, mv_982, fn9333);
orRslt980 = rslt983;
if (!isNothing(orRslt980)) {

} else {
dec_and_free(orRslt980, 1);

// static-variadic
// #line 2596 "toccata.toc"
List *varArgs984 = empty_list;
varArgs984 = (List *)listCons((Value *)strPtr785, varArgs984);
Value *rslt985 = print_err_521(empty_list, (Value *)varArgs984);
Value *arg986 = rslt985;

dec_and_free(arg986, 1);

// static-fixed
// #line 2597 "toccata.toc"
Value *rslt987 = abort_113(empty_list);
orRslt980 = rslt987;
}

// type-known for extract
// #line 2593 "toccata.toc"
Value *rslt988 = Maybe_extract_757(empty_list, orRslt980);
path_to_core_9337 = rslt988;
path_to_core_9337->refs = -1;

  List *argList = malloc_list();
  argList->len = 0;
  argList->head = (Value *)0;
  argList->tail = (List *)0;
  List *tail = argList;
  for(int i = 0; i < argc; i++) {
     List *newTail = malloc_list();
     newTail->len = 0;
     newTail->tail = (List *)0;
     newTail->head = (Value *)0;
     tail->head = stringValue(argv[i]);
     tail->tail = newTail;
     tail = newTail;
     argList->len++;
}
  argList->refs = -1;
Value *the_final_answer = main_9365((List *)empty_list, (Value *)argList);

#ifdef CHECK_MEM_LEAK
cleaningUp = 1;
freeGlobal(code_0_1519);
freeGlobal(code_9_1520);
freeGlobal(sym_counter_1672);
freeGlobal(lower_alpha_4025);
freeGlobal(upper_alpha_4084);
freeGlobal(alpha_4098);
freeGlobal(digit_4099);
freeGlobal(alphanum_4100);
freeGlobal(hex_4157);
freeGlobal(symbol_start_4769);
freeGlobal(symbol_punct_4781);
freeGlobal(symbol_char_4782);
freeGlobal(rest_of_symbol_4783);
freeGlobal(namespace_punct_4793);
freeGlobal(rest_of_namespace_4794);
freeGlobal(read_namespace_4799);
freeGlobal(read_symbol_4822);
freeGlobal(read_string_newline_4827);
freeGlobal(read_string_tab_4832);
freeGlobal(read_string_backspace_4837);
freeGlobal(read_string_return_4842);
freeGlobal(read_string_formfeed_4867);
freeGlobal(read_string_doublequote_4874);
freeGlobal(read_string_backslash_4879);
freeGlobal(not_eol_4886);
freeGlobal(read_string_fragment_4896);
freeGlobal(read_string_4917);
freeGlobal(read_integer_4936);
freeGlobal(read_sub_expr_4937);
freeGlobal(linear_whitespace_4938);
freeGlobal(ignore_linear_whitespace_4939);
freeGlobal(newline_4940);
freeGlobal(ignore_newlines_4950);
freeGlobal(whitespace_4951);
freeGlobal(ignore_whitespace_4952);
freeGlobal(read_arg_4963);
freeGlobal(read_var_arg_4964);
freeGlobal(read_params_4994);
freeGlobal(read_open_paren_4995);
freeGlobal(read_close_paren_4996);
freeGlobal(read_inline_5010);
freeGlobal(read_block_comment_5011);
freeGlobal(read_call_5012);
freeGlobal(read_sub_dest_5013);
freeGlobal(read_list_destructure_5014);
freeGlobal(read_destructure_5015);
freeGlobal(read_let_binding_5016);
freeGlobal(read_let_5017);
freeGlobal(read_do_5018);
freeGlobal(read_or_5019);
freeGlobal(read_and_5020);
freeGlobal(read_either_5021);
freeGlobal(read_assert_5022);
freeGlobal(read_returns_5023);
freeGlobal(read_comp_5028);
freeGlobal(read_apply_5033);
freeGlobal(read_apply_to_5038);
freeGlobal(read_inline_body_5039);
freeGlobal(read_fn_doc_5044);
freeGlobal(read_single_arity_5049);
freeGlobal(read_arities_5057);
freeGlobal(read_fn_5062);
freeGlobal(type_counter_5064);
freeGlobal(read_implementation_5065);
freeGlobal(read_proto_impls_5070);
freeGlobal(read_reify_5075);
freeGlobal(curr_file_name_5076);
freeGlobal(curr_line_5077);
freeGlobal(read_vector_5082);
freeGlobal(read_hash_map_5087);
freeGlobal(read_quoted_value_5111);
freeGlobal(read_quoted_5112);
freeGlobal(read_for_let_5172);
freeGlobal(read_for_when_5210);
freeGlobal(read_for_when_not_5248);
freeGlobal(read_for_binding_5300);
freeGlobal(read_for_5301);
freeGlobal(read_thread_expr_5311);
freeGlobal(read_threading_5312);
freeGlobal(read_expr_5313);
freeGlobal(read_main_5314);
freeGlobal(read_def_5319);
freeGlobal(read_prototype_5320);
freeGlobal(read_defprotocol_5325);
freeGlobal(read_defn_5330);
freeGlobal(read_extend_type_5331);
freeGlobal(read_deftype_5332);
freeGlobal(read_git_kwargs_5350);
freeGlobal(read_git_dep_spec_5351);
freeGlobal(read_module_spec_5352);
freeGlobal(read_add_ns_5353);
freeGlobal(bad_expr_5354);
freeGlobal(top_level_5355);
freeGlobal(type_names_5381);
freeGlobal(core_types_5387);
freeGlobal(sm_space_5388);
freeGlobal(empty_closures_5716);
freeGlobal(empty_c_code_5928);
freeGlobal(C_var_punct_6359);
freeGlobal(C_var_remaining_6360);
freeGlobal(C_var_6375);
freeGlobal(check_C_var_6376);
freeGlobal(global_context_9038);
freeGlobal(string_writer_9039);
freeGlobal(logger_9040);
freeGlobal(emit_main_STAR__9087);
freeGlobal(ast_emitter_9118);
freeGlobal(finalize_protocols_STAR__9192);
freeGlobal(fixup_native_symbols_STAR__9281);
freeGlobal(module_compiler_9302);
freeGlobal(analyze_forms_9331);
freeGlobal(path_to_core_9337);
mainThreadDone = 1;
waitForWorkers();
dec_and_free(the_final_answer, 1);
freeGlobal((Value *)argList);
freeGlobal(maybeNothing);
freeAll();
if (malloc_count - free_count != 0)
   return(1);
#endif
  return(0);
};

// wrap-input 1 args
ProtoImpls wrap_input_Implementations_4985 = {4, {{2, (Value *)&String_wrap_input_4991}, {5, (Value *)&SubString_wrap_input_4993}, {6, (Value *)&List_wrap_input_4989}, {35, (Value *)&wrap_input_4987}}};
Value *wrap_input_4984(List *closures, Value *arg0) {
  return(proto1Arg(&wrap_input_Implementations_4985, "wrap-input", arg0, "/Users/jim/toccata/recursive-descent.toc", 199));
}
FnArity protoFnArity9895 = {FnArityType, -1, 1, (List *)0, 0, wrap_input_4984};
Function protoFn9894 = {FunctionType, -1, "wrap-input", 1, {&protoFnArity9895}};
Value *wrap_input_4983 = (Value *)&protoFn9894;


// ignore? 1 args
ProtoImpls ignore_QM__Implementations_4342 = {2, {{69, (Value *)&staticArity4911}, {0, (Value *)&Default_ignore_QM__4344}}};
Value *ignore_QM__4341(List *closures, Value *arg0) {
  return(proto1Arg(&ignore_QM__Implementations_4342, "ignore?", arg0, "/Users/jim/toccata/recursive-descent.toc", 14));
}
FnArity protoFnArity9893 = {FnArityType, -1, 1, (List *)0, 0, ignore_QM__4341};
Function protoFn9892 = {FunctionType, -1, "ignore?", 1, {&protoFnArity9893}};
Value *ignore_QM__4340 = (Value *)&protoFn9892;


// recursive-descent 1 args
ProtoImpls recursive_descent_Implementations_4334 = {16, {{4, (Value *)&Function_recursive_descent_4623}, {89, (Value *)&recursive_descent_4869}, {79, (Value *)&recursive_descent_4808}, {93, (Value *)&recursive_descent_4916}, {71, (Value *)&recursive_descent_4402}, {99, (Value *)&recursive_descent_4982}, {85, (Value *)&recursive_descent_4817}, {117, (Value *)&recursive_descent_4949}, {113, (Value *)&recursive_descent_4931}, {73, (Value *)&recursive_descent_4553}, {103, (Value *)&recursive_descent_4962}, {95, (Value *)&recursive_descent_4919}, {111, (Value *)&recursive_descent_4921}, {77, (Value *)&recursive_descent_4792}, {107, (Value *)&recursive_descent_4885}, {81, (Value *)&recursive_descent_4862}}};
Value *recursive_descent_4333(List *closures, Value *arg0) {
  return(proto1Arg(&recursive_descent_Implementations_4334, "recursive-descent", arg0, "/Users/jim/toccata/recursive-descent.toc", 11));
}
FnArity protoFnArity9891 = {FnArityType, -1, 1, (List *)0, 0, recursive_descent_4333};
Function protoFn9890 = {FunctionType, -1, "recursive-descent", 1, {&protoFnArity9891}};
Value *recursive_descent_4332 = (Value *)&protoFn9890;


// string-terminal 1 args
ProtoImpls string_terminal_Implementations_3309 = {3, {{2, (Value *)&String_string_terminal_3318}, {5, (Value *)&SubString_string_terminal_3320}, {0, (Value *)&Default_string_terminal_3311}}};
Value *string_terminal_3308(List *closures, Value *arg0) {
  return(proto1Arg(&string_terminal_Implementations_3309, "string-terminal", arg0, "/Users/jim/toccata/grammar.toc", 38));
}
FnArity protoFnArity9889 = {FnArityType, -1, 1, (List *)0, 0, string_terminal_3308};
Function protoFn9888 = {FunctionType, -1, "string-terminal", 1, {&protoFnArity9889}};
Value *string_terminal_3307 = (Value *)&protoFn9888;


// evaluate 2 args
ProtoImpls evaluate_Implementations_1866 = {5, {{54, (Value *)&app_fn_evaluate_2396}, {62, (Value *)&free_app_evaluate_2675}, {50, (Value *)&free_monad_evaluate_2308}, {68, (Value *)&pure_evaluate_2872}, {0, (Value *)&Default_evaluate_1868}}};
Value *evaluate_1865(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&evaluate_Implementations_1866, "evaluate", arg0, arg1, "/Users/jim/toccata/free.toc", 10));
}
FnArity protoFnArity9887 = {FnArityType, -1, 2, (List *)0, 0, evaluate_1865};
Function protoFn9886 = {FunctionType, -1, "evaluate", 1, {&protoFnArity9887}};
Value *evaluate_1864 = (Value *)&protoFn9886;


// free-apply 2 args
ProtoImpls free_apply_Implementations_2403 = {2, {{4, (Value *)&Function_free_apply_2414}, {0, (Value *)&Default_free_apply_2405}}};
Value *free_apply_2402(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&free_apply_Implementations_2403, "free-apply", arg0, arg1, "/Users/jim/toccata/free.toc", 51));
}
FnArity protoFnArity9885 = {FnArityType, -1, 2, (List *)0, 0, free_apply_2402};
Function protoFn9884 = {FunctionType, -1, "free-apply", 1, {&protoFnArity9885}};
Value *free_apply_2401 = (Value *)&protoFn9884;


// wrap-free 1 args
ProtoImpls wrap_free_Implementations_1840 = {4, {{62, (Value *)&free_app_wrap_free_2679}, {50, (Value *)&free_monad_wrap_free_2312}, {68, (Value *)&pure_wrap_free_2876}, {0, (Value *)&Default_wrap_free_1842}}};
Value *wrap_free_1839(List *closures, Value *arg0) {
  return(proto1Arg(&wrap_free_Implementations_1840, "wrap-free", arg0, "/Users/jim/toccata/free.toc", 6));
}
FnArity protoFnArity9883 = {FnArityType, -1, 1, (List *)0, 0, wrap_free_1839};
Function protoFn9882 = {FunctionType, -1, "wrap-free", 1, {&protoFnArity9883}};
Value *wrap_free_1838 = (Value *)&protoFn9882;


// file-name 1 args
ProtoImpls file_name_Implementations_1810 = {26, {{119, (Value *)&prototype_ast_file_name_4079}, {87, (Value *)&binding_ast_file_name_3302}, {46, (Value *)&inline_ast_file_name_2188}, {6, (Value *)&List_file_name_1884}, {75, (Value *)&fn_ast_file_name_3017}, {101, (Value *)&or_ast_file_name_3640}, {105, (Value *)&either_ast_file_name_3739}, {109, (Value *)&assert_ast_file_name_3829}, {91, (Value *)&let_ast_file_name_3410}, {56, (Value *)&main_ast_file_name_2458}, {137, (Value *)&add_ns_ast_file_name_4597}, {121, (Value *)&protocol_ast_file_name_4152}, {52, (Value *)&params_ast_file_name_2360}, {123, (Value *)&extend_ast_file_name_4216}, {60, (Value *)&declaration_ast_file_name_2613}, {115, (Value *)&returns_ast_file_name_3964}, {97, (Value *)&and_ast_file_name_3532}, {131, (Value *)&type_ast_file_name_4447}, {39, (Value *)&block_comment_ast_file_name_2009}, {139, (Value *)&tagged_symbol_ast4750}, {125, (Value *)&quoted_ast_file_name_4265}, {58, (Value *)&definition_ast_file_name_2541}, {83, (Value *)&call_ast_file_name_3204}, {64, (Value *)&fn_arity_ast_file_name_2763}, {0, (Value *)&Default_file_name_1812}, {129, (Value *)&reify_ast_file_name_4384}}};
Value *file_name_1809(List *closures, Value *arg0) {
  return(proto1Arg(&file_name_Implementations_1810, "file-name", arg0, "/Users/jim/toccata/ast.toc", 3));
}
FnArity protoFnArity9881 = {FnArityType, -1, 1, (List *)0, 0, file_name_1809};
Function protoFn9880 = {FunctionType, -1, "file-name", 1, {&protoFnArity9881}};
Value *file_name_1808 = (Value *)&protoFn9880;


// line-number 1 args
ProtoImpls line_number_Implementations_1815 = {26, {{119, (Value *)&prototype_ast_line_number_4081}, {87, (Value *)&binding_ast_line_number_3304}, {46, (Value *)&inline_ast_line_number_2190}, {6, (Value *)&List_line_number_1886}, {75, (Value *)&fn_ast_line_number_3019}, {101, (Value *)&or_ast_line_number_3642}, {105, (Value *)&either_ast_line_number_3741}, {109, (Value *)&assert_ast_line_number_3831}, {91, (Value *)&let_ast_line_number_3412}, {56, (Value *)&main_ast_line_number_2460}, {137, (Value *)&add_ns_ast_line_number_4599}, {121, (Value *)&protocol_ast_line_number_4154}, {52, (Value *)&params_ast_line_number_2362}, {123, (Value *)&extend_ast_line_number_4218}, {60, (Value *)&declaration_ast_line_number_2615}, {115, (Value *)&returns_ast_line_number_3966}, {97, (Value *)&and_ast_line_number_3534}, {131, (Value *)&type_ast_line_number_4449}, {39, (Value *)&block_comment_ast_line_number_2011}, {139, (Value *)&tagged_symbol_ast4752}, {125, (Value *)&quoted_ast_line_number_4267}, {58, (Value *)&definition_ast_line_number_2543}, {83, (Value *)&call_ast_line_number_3206}, {64, (Value *)&fn_arity_ast_line_number_2765}, {0, (Value *)&Default_line_number_1817}, {129, (Value *)&reify_ast_line_number_4386}}};
Value *line_number_1814(List *closures, Value *arg0) {
  return(proto1Arg(&line_number_Implementations_1815, "line-number", arg0, "/Users/jim/toccata/ast.toc", 4));
}
FnArity protoFnArity9879 = {FnArityType, -1, 1, (List *)0, 0, line_number_1814};
Function protoFn9878 = {FunctionType, -1, "line-number", 1, {&protoFnArity9879}};
Value *line_number_1813 = (Value *)&protoFn9878;


// not-assertion? 1 args
ProtoImpls not_assertion_QM__Implementations_1846 = {4, {{109, (Value *)&assert_ast_not_assertion_QM__3815}, {115, (Value *)&returns_ast_not_assertion_QM__3946}, {39, (Value *)&block_comment_ast_not_assertion_QM__1987}, {0, (Value *)&Default_not_assertion_QM__1848}}};
Value *not_assertion_QM__1845(List *closures, Value *arg0) {
  return(proto1Arg(&not_assertion_QM__Implementations_1846, "not-assertion?", arg0, "/Users/jim/toccata/ast.toc", 7));
}
FnArity protoFnArity9877 = {FnArityType, -1, 1, (List *)0, 0, not_assertion_QM__1845};
Function protoFn9876 = {FunctionType, -1, "not-assertion?", 1, {&protoFnArity9877}};
Value *not_assertion_QM__1844 = (Value *)&protoFn9876;


// nest-when 3 args
ProtoImpls nest_when_Implementations_5115 = {2, {{147, (Value *)&ForResultExpr_nest_when_5281}, {0, (Value *)&Default_nest_when_5117}}};
Value *nest_when_5114(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&nest_when_Implementations_5115, "nest-when", arg0, arg1, arg2, "/Users/jim/toccata/reader.toc", 661));
}
FnArity protoFnArity9875 = {FnArityType, -1, 3, (List *)0, 0, nest_when_5114};
Function protoFn9874 = {FunctionType, -1, "nest-when", 1, {&protoFnArity9875}};
Value *nest_when_5113 = (Value *)&protoFn9874;


// nest-when-not 3 args
ProtoImpls nest_when_not_Implementations_5120 = {2, {{147, (Value *)&ForResultExpr_nest_when_not_5283}, {0, (Value *)&Default_nest_when_not_5122}}};
Value *nest_when_not_5119(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&nest_when_not_Implementations_5120, "nest-when-not", arg0, arg1, arg2, "/Users/jim/toccata/reader.toc", 675));
}
FnArity protoFnArity9873 = {FnArityType, -1, 3, (List *)0, 0, nest_when_not_5119};
Function protoFn9872 = {FunctionType, -1, "nest-when-not", 1, {&protoFnArity9873}};
Value *nest_when_not_5118 = (Value *)&protoFn9872;


// tag 3 args
ProtoImpls tag_Implementations_4650 = {4, {{6, (Value *)&List_tag_4768}, {139, (Value *)&tagged_symbol_tag_4746}, {10, (Value *)&Symbol_tag_4760}, {0, (Value *)&Default_tag_4652}}};
Value *tag_4649(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&tag_Implementations_4650, "tag", arg0, arg1, arg2, "/Users/jim/toccata/reader.toc", 35));
}
FnArity protoFnArity9871 = {FnArityType, -1, 3, (List *)0, 0, tag_4649};
Function protoFn9870 = {FunctionType, -1, "tag", 1, {&protoFnArity9871}};
Value *tag_4648 = (Value *)&protoFn9870;


// nest-binding 3 args
ProtoImpls nest_binding_Implementations_5125 = {6, {{87, (Value *)&nest_binding_5134}, {145, (Value *)&ForWhenNotExpr_nest_binding_5241}, {141, (Value *)&ForLetExpr_nest_binding_5165}, {147, (Value *)&ForResultExpr_nest_binding_5285}, {0, (Value *)&Default_nest_binding_5127}, {143, (Value *)&ForWhenExpr_nest_binding_5203}}};
Value *nest_binding_5124(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&nest_binding_Implementations_5125, "nest-binding", arg0, arg1, arg2, "/Users/jim/toccata/reader.toc", 691));
}
FnArity protoFnArity9869 = {FnArityType, -1, 3, (List *)0, 0, nest_binding_5124};
Function protoFn9868 = {FunctionType, -1, "nest-binding", 1, {&protoFnArity9869}};
Value *nest_binding_5123 = (Value *)&protoFn9868;


// quote-literal 1 args
ProtoImpls quote_literal_Implementations_5090 = {5, {{2, (Value *)&String_quote_literal_5094}, {5, (Value *)&SubString_quote_literal_5096}, {6, (Value *)&List_quote_literal_5110}, {1, (Value *)&Integer_quote_literal_5098}, {0, (Value *)&Default_quote_literal_5092}}};
Value *quote_literal_5089(List *closures, Value *arg0) {
  return(proto1Arg(&quote_literal_Implementations_5090, "quote-literal", arg0, "/Users/jim/toccata/reader.toc", 603));
}
FnArity protoFnArity9867 = {FnArityType, -1, 1, (List *)0, 0, quote_literal_5089};
Function protoFn9866 = {FunctionType, -1, "quote-literal", 1, {&protoFnArity9867}};
Value *quote_literal_5088 = (Value *)&protoFn9866;


// nest-let 2 args
ProtoImpls nest_let_Implementations_5130 = {2, {{147, (Value *)&ForResultExpr_nest_let_5279}, {0, (Value *)&Default_nest_let_5132}}};
Value *nest_let_5129(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&nest_let_Implementations_5130, "nest-let", arg0, arg1, "/Users/jim/toccata/reader.toc", 658));
}
FnArity protoFnArity9865 = {FnArityType, -1, 2, (List *)0, 0, nest_let_5129};
Function protoFn9864 = {FunctionType, -1, "nest-let", 1, {&protoFnArity9865}};
Value *nest_let_5128 = (Value *)&protoFn9864;


// namespace 1 args
ProtoImpls namespace_Implementations_4655 = {2, {{139, (Value *)&tagged_symbol_namespace_4744}, {10, (Value *)&Symbol_namespace_4758}}};
Value *namespace_4654(List *closures, Value *arg0) {
  return(proto1Arg(&namespace_Implementations_4655, "namespace", arg0, "/Users/jim/toccata/reader.toc", 34));
}
FnArity protoFnArity9863 = {FnArityType, -1, 1, (List *)0, 0, namespace_4654};
Function protoFn9862 = {FunctionType, -1, "namespace", 1, {&protoFnArity9863}};
Value *namespace_4653 = (Value *)&protoFn9862;


// untag 1 args
ProtoImpls untag_Implementations_4658 = {3, {{139, (Value *)&tagged_symbol_untag_4748}, {10, (Value *)&Symbol_untag_4762}, {0, (Value *)&Default_untag_4660}}};
Value *untag_4657(List *closures, Value *arg0) {
  return(proto1Arg(&untag_Implementations_4658, "untag", arg0, "/Users/jim/toccata/reader.toc", 36));
}
FnArity protoFnArity9861 = {FnArityType, -1, 1, (List *)0, 0, untag_4657};
Function protoFn9860 = {FunctionType, -1, "untag", 1, {&protoFnArity9861}};
Value *untag_4656 = (Value *)&protoFn9860;


// .modules 2 args
ProtoImpls protoImpls5601 = {1, {{155, (Value *)&GlobalContext_modules_5649}}};
Value *protoImpl5600(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5601, ".modules", arg0, arg1, "core", 0));
}
FnArity protoFnArity9859 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5600};

// .modules 1 args
ProtoImpls protoImpls5599 = {1, {{155, (Value *)&GlobalContext_modules_5651}}};
Value *protoImpl5598(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5599, ".modules", arg0, "core", 0));
}
FnArity protoFnArity9858 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5598};
Function protoFn9857 = {FunctionType, -1, ".modules", 2, {&protoFnArity9859, &protoFnArity9858}};
Value *dispatchFnPtr5586 = (Value *)&protoFn9857;


// wrap 2 args
ProtoImpls wrap_Implementations_248 = {10, {{6, (Value *)&List_wrap_832}, {8, (Value *)&Vector_wrap_928}, {31, (Value *)&HashSet_wrap_1581}, {66, (Value *)&new_sm_wrap_2821}, {62, (Value *)&free_app_wrap_2663}, {50, (Value *)&free_monad_wrap_2296}, {15, (Value *)&Promise_wrap_1373}, {16, (Value *)&Future_wrap_1440}, {68, (Value *)&pure_wrap_2866}, {7, (Value *)&Maybe_wrap_762}}};
Value *wrap_247(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&wrap_Implementations_248, "wrap", arg0, arg1, "core", 384));
}
FnArity protoFnArity9856 = {FnArityType, -1, 2, (List *)0, 0, wrap_247};
Function protoFn9855 = {FunctionType, -1, "wrap", 1, {&protoFnArity9856}};
Value *wrap_246 = (Value *)&protoFn9855;


// .assertion 2 args
ProtoImpls protoImpls3799 = {2, {{109, (Value *)&assert_ast_assertion_3821}, {115, (Value *)&returns_ast_assertion_3956}}};
Value *protoImpl3798(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3799, ".assertion", arg0, arg1, "core", 0));
}
FnArity protoFnArity9854 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3798};

// .assertion 1 args
ProtoImpls protoImpls3797 = {2, {{109, (Value *)&assert_ast_assertion_3823}, {115, (Value *)&returns_ast_assertion_3958}}};
Value *protoImpl3796(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3797, ".assertion", arg0, "core", 0));
}
FnArity protoFnArity9853 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3796};
Function protoFn9852 = {FunctionType, -1, ".assertion", 2, {&protoFnArity9854, &protoFnArity9853}};
Value *dispatchFnPtr3795 = (Value *)&protoFn9852;


// .type-impls 2 args
ProtoImpls protoImpls6219 = {1, {{169, (Value *)&ProtocolDispatcher_type_impls_6251}}};
Value *protoImpl6218(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6219, ".type-impls", arg0, arg1, "core", 0));
}
FnArity protoFnArity9851 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6218};

// .type-impls 1 args
ProtoImpls protoImpls6217 = {1, {{169, (Value *)&ProtocolDispatcher_type_impls_6253}}};
Value *protoImpl6216(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6217, ".type-impls", arg0, "core", 0));
}
FnArity protoFnArity9850 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6216};
Function protoFn9849 = {FunctionType, -1, ".type-impls", 2, {&protoFnArity9851, &protoFnArity9850}};
Value *dispatchFnPtr6200 = (Value *)&protoFn9849;


// .type-num 2 args
ProtoImpls protoImpls4352 = {4, {{165, (Value *)&c_init_type_num_6028}, {163, (Value *)&c_code_type_num_5967}, {129, (Value *)&reify_ast_type_num_4372}, {161, (Value *)&empty_code_type_num_5905}}};
Value *protoImpl4351(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4352, ".type-num", arg0, arg1, "core", 0));
}
FnArity protoFnArity9848 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4351};

// .type-num 1 args
ProtoImpls protoImpls4350 = {4, {{165, (Value *)&c_init_type_num_6030}, {163, (Value *)&c_code_type_num_5969}, {129, (Value *)&reify_ast_type_num_4374}, {161, (Value *)&empty_code_type_num_5907}}};
Value *protoImpl4349(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4350, ".type-num", arg0, "core", 0));
}
FnArity protoFnArity9847 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4349};
Function protoFn9846 = {FunctionType, -1, ".type-num", 2, {&protoFnArity9848, &protoFnArity9847}};
Value *dispatchFnPtr4348 = (Value *)&protoFn9846;


// .protocol-sym 2 args
ProtoImpls protoImpls4116 = {1, {{121, (Value *)&protocol_ast_protocol_sym_4140}}};
Value *protoImpl4115(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4116, ".protocol-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9845 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4115};

// .protocol-sym 1 args
ProtoImpls protoImpls4114 = {1, {{121, (Value *)&protocol_ast_protocol_sym_4142}}};
Value *protoImpl4113(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4114, ".protocol-sym", arg0, "core", 0));
}
FnArity protoFnArity9844 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4113};
Function protoFn9843 = {FunctionType, -1, ".protocol-sym", 2, {&protoFnArity9845, &protoFnArity9844}};
Value *dispatchFnPtr4112 = (Value *)&protoFn9843;


// .key 2 args
ProtoImpls protoImpls2895 = {2, {{71, (Value *)&get_state_value_key_2913}, {73, (Value *)&update_state_value_key_2965}}};
Value *protoImpl2894(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2895, ".key", arg0, arg1, "core", 0));
}
FnArity protoFnArity9842 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2894};

// .key 1 args
ProtoImpls protoImpls2893 = {2, {{71, (Value *)&get_state_value_key_2915}, {73, (Value *)&update_state_value_key_2967}}};
Value *protoImpl2892(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2893, ".key", arg0, "core", 0));
}
FnArity protoFnArity9841 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2892};
Function protoFn9840 = {FunctionType, -1, ".key", 2, {&protoFnArity9842, &protoFnArity9841}};
Value *dispatchFnPtr2891 = (Value *)&protoFn9840;


// reduce 3 args
ProtoImpls reduce_Implementations_303 = {5, {{2, (Value *)&String_reduce_627}, {5, (Value *)&SubString_reduce_680}, {6, (Value *)&List_reduce_450}, {8, (Value *)&Vector_reduce_893}, {31, (Value *)&HashSet_reduce_1596}}};
Value *reduce_302(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&reduce_Implementations_303, "reduce", arg0, arg1, arg2, "core", 503));
}
FnArity protoFnArity9839 = {FnArityType, -1, 3, (List *)0, 0, reduce_302};
Function protoFn9838 = {FunctionType, -1, "reduce", 1, {&protoFnArity9839}};
Value *reduce_301 = (Value *)&protoFn9838;


// .numbers 2 args
ProtoImpls protoImpls5415 = {1, {{149, (Value *)&ConstantValues_numbers_5445}}};
Value *protoImpl5414(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5415, ".numbers", arg0, arg1, "core", 0));
}
FnArity protoFnArity9837 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5414};

// .numbers 1 args
ProtoImpls protoImpls5413 = {1, {{149, (Value *)&ConstantValues_numbers_5447}}};
Value *protoImpl5412(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5413, ".numbers", arg0, "core", 0));
}
FnArity protoFnArity9836 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5412};
Function protoFn9835 = {FunctionType, -1, ".numbers", 2, {&protoFnArity9837, &protoFnArity9836}};
Value *dispatchFnPtr5411 = (Value *)&protoFn9835;


// vals 1 args
ProtoImpls vals_Implementations_356 = {3, {{12, (Value *)&ArrayNode_vals_1137}, {13, (Value *)&HashCollisionNode_vals_1187}, {11, (Value *)&BitmapIndexNode_vals_1087}}};
Value *vals_355(List *closures, Value *arg0) {
  return(proto1Arg(&vals_Implementations_356, "vals", arg0, "core", 562));
}
FnArity protoFnArity9834 = {FnArityType, -1, 1, (List *)0, 0, vals_355};
Function protoFn9833 = {FunctionType, -1, "vals", 1, {&protoFnArity9834}};
Value *vals_354 = (Value *)&protoFn9833;


// empty 1 args
ProtoImpls empty_Implementations_285 = {5, {{2, (Value *)&String_empty_654}, {5, (Value *)&SubString_empty_707}, {6, (Value *)&List_empty_836}, {8, (Value *)&Vector_empty_939}, {31, (Value *)&HashSet_empty_1590}}};
Value *empty_284(List *closures, Value *arg0) {
  return(proto1Arg(&empty_Implementations_285, "empty", arg0, "core", 447));
}
FnArity protoFnArity9832 = {FnArityType, -1, 1, (List *)0, 0, empty_284};
Function protoFn9831 = {FunctionType, -1, "empty", 1, {&protoFnArity9832}};
Value *empty_283 = (Value *)&protoFn9831;


// .fn-var 2 args
ProtoImpls protoImpls2707 = {1, {{64, (Value *)&fn_arity_ast_fn_var_2739}}};
Value *protoImpl2706(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2707, ".fn-var", arg0, arg1, "core", 0));
}
FnArity protoFnArity9830 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2706};

// .fn-var 1 args
ProtoImpls protoImpls2705 = {1, {{64, (Value *)&fn_arity_ast_fn_var_2741}}};
Value *protoImpl2704(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2705, ".fn-var", arg0, "core", 0));
}
FnArity protoFnArity9829 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2704};
Function protoFn9828 = {FunctionType, -1, ".fn-var", 2, {&protoFnArity9830, &protoFnArity9829}};
Value *dispatchFnPtr2698 = (Value *)&protoFn9828;


// .refs-map 2 args
ProtoImpls protoImpls5685 = {4, {{165, (Value *)&c_init_refs_map_6032}, {157, (Value *)&Closures_refs_map_5707}, {163, (Value *)&c_code_refs_map_5971}, {161, (Value *)&empty_code_refs_map_5909}}};
Value *protoImpl5684(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5685, ".refs-map", arg0, arg1, "core", 0));
}
FnArity protoFnArity9827 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5684};

// .refs-map 1 args
ProtoImpls protoImpls5683 = {4, {{165, (Value *)&c_init_refs_map_6034}, {157, (Value *)&Closures_refs_map_5709}, {163, (Value *)&c_code_refs_map_5973}, {161, (Value *)&empty_code_refs_map_5911}}};
Value *protoImpl5682(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5683, ".refs-map", arg0, "core", 0));
}
FnArity protoFnArity9826 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5682};
Function protoFn9825 = {FunctionType, -1, ".refs-map", 2, {&protoFnArity9827, &protoFnArity9826}};
Value *dispatchFnPtr5676 = (Value *)&protoFn9825;


// .syms 2 args
ProtoImpls protoImpls5735 = {1, {{159, (Value *)&FunctionArityContext_syms_5771}}};
Value *protoImpl5734(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5735, ".syms", arg0, arg1, "core", 0));
}
FnArity protoFnArity9824 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5734};

// .syms 1 args
ProtoImpls protoImpls5733 = {1, {{159, (Value *)&FunctionArityContext_syms_5773}}};
Value *protoImpl5732(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5733, ".syms", arg0, "core", 0));
}
FnArity protoFnArity9823 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5732};
Function protoFn9822 = {FunctionType, -1, ".syms", 2, {&protoFnArity9824, &protoFnArity9823}};
Value *dispatchFnPtr5721 = (Value *)&protoFn9822;


// .result-type 2 args
ProtoImpls protoImpls2140 = {1, {{46, (Value *)&inline_ast_result_type_2168}}};
Value *protoImpl2139(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2140, ".result-type", arg0, arg1, "core", 0));
}
FnArity protoFnArity9821 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2139};

// .result-type 1 args
ProtoImpls protoImpls2138 = {1, {{46, (Value *)&inline_ast_result_type_2170}}};
Value *protoImpl2137(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2138, ".result-type", arg0, "core", 0));
}
FnArity protoFnArity9820 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2137};
Function protoFn9819 = {FunctionType, -1, ".result-type", 2, {&protoFnArity9821, &protoFnArity9820}};
Value *dispatchFnPtr2131 = (Value *)&protoFn9819;


// split 2 args
ProtoImpls split_Implementations_306 = {1, {{6, (Value *)&List_split_818}}};
Value *split_305(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&split_Implementations_306, "split", arg0, arg1, "core", 501));
}
FnArity protoFnArity9818 = {FnArityType, -1, 2, (List *)0, 0, split_305};

// split 3 args
ProtoImpls split_Implementations_308 = {1, {{6, (Value *)&List_split_816}}};
Value *split_307(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&split_Implementations_308, "split", arg0, arg1, arg2, "core", 501));
}
FnArity protoFnArity9817 = {FnArityType, -1, 3, (List *)0, 0, split_307};
Function protoFn9816 = {FunctionType, -1, "split", 2, {&protoFnArity9818, &protoFnArity9817}};
Value *split_304 = (Value *)&protoFn9816;


// .lazy 2 args
ProtoImpls protoImpls1715 = {1, {{35, (Value *)&LazyList_lazy_1747}}};
Value *protoImpl1714(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1715, ".lazy", arg0, arg1, "core", 0));
}
FnArity protoFnArity9815 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1714};

// .lazy 1 args
ProtoImpls protoImpls1713 = {1, {{35, (Value *)&LazyList_lazy_1749}}};
Value *protoImpl1712(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1713, ".lazy", arg0, "core", 0));
}
FnArity protoFnArity9814 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1712};
Function protoFn9813 = {FunctionType, -1, ".lazy", 2, {&protoFnArity9815, &protoFnArity9814}};
Value *dispatchFnPtr1706 = (Value *)&protoFn9813;


// .size 2 args
ProtoImpls protoImpls2080 = {1, {{44, (Value *)&FileInfo_size_2112}}};
Value *protoImpl2079(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2080, ".size", arg0, arg1, "core", 0));
}
FnArity protoFnArity9812 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2079};

// .size 1 args
ProtoImpls protoImpls2078 = {1, {{44, (Value *)&FileInfo_size_2114}}};
Value *protoImpl2077(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2078, ".size", arg0, "core", 0));
}
FnArity protoFnArity9811 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2077};
Function protoFn9810 = {FunctionType, -1, ".size", 2, {&protoFnArity9812, &protoFnArity9811}};
Value *dispatchFnPtr2061 = (Value *)&protoFn9810;


// to-str 1 args
ProtoImpls to_str_Implementations_311 = {4, {{2, (Value *)&String_to_str_631}, {5, (Value *)&SubString_to_str_684}, {6, (Value *)&List_to_str_472}, {8, (Value *)&Vector_to_str_903}}};
Value *to_str_310(List *closures, Value *arg0) {
  return(proto1Arg(&to_str_Implementations_311, "to-str", arg0, "core", 514));
}
FnArity protoFnArity9809 = {FnArityType, -1, 1, (List *)0, 0, to_str_310};
Function protoFn9808 = {FunctionType, -1, "to-str", 1, {&protoFnArity9809}};
Value *to_str_309 = (Value *)&protoFn9808;


// .file 2 args
ProtoImpls protoImpls4507 = {1, {{135, (Value *)&git_dep_ast_file_4529}}};
Value *protoImpl4506(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4507, ".file", arg0, arg1, "core", 0));
}
FnArity protoFnArity9807 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4506};

// .file 1 args
ProtoImpls protoImpls4505 = {1, {{135, (Value *)&git_dep_ast_file_4531}}};
Value *protoImpl4504(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4505, ".file", arg0, "core", 0));
}
FnArity protoFnArity9806 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4504};
Function protoFn9805 = {FunctionType, -1, ".file", 2, {&protoFnArity9807, &protoFnArity9806}};
Value *dispatchFnPtr4498 = (Value *)&protoFn9805;


// .binding 2 args
ProtoImpls protoImpls3266 = {1, {{87, (Value *)&binding_ast_binding_3290}}};
Value *protoImpl3265(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3266, ".binding", arg0, arg1, "core", 0));
}
FnArity protoFnArity9804 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3265};

// .binding 1 args
ProtoImpls protoImpls3264 = {1, {{87, (Value *)&binding_ast_binding_3292}}};
Value *protoImpl3263(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3264, ".binding", arg0, "core", 0));
}
FnArity protoFnArity9803 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3263};
Function protoFn9802 = {FunctionType, -1, ".binding", 2, {&protoFnArity9804, &protoFnArity9803}};
Value *dispatchFnPtr3262 = (Value *)&protoFn9802;


// .lang 2 args
ProtoImpls protoImpls2136 = {1, {{46, (Value *)&inline_ast_lang_2164}}};
Value *protoImpl2135(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2136, ".lang", arg0, arg1, "core", 0));
}
FnArity protoFnArity9801 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2135};

// .lang 1 args
ProtoImpls protoImpls2134 = {1, {{46, (Value *)&inline_ast_lang_2166}}};
Value *protoImpl2133(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2134, ".lang", arg0, "core", 0));
}
FnArity protoFnArity9800 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2133};
Function protoFn9799 = {FunctionType, -1, ".lang", 2, {&protoFnArity9801, &protoFnArity9800}};
Value *dispatchFnPtr2132 = (Value *)&protoFn9799;


// .dispatchers 2 args
ProtoImpls protoImpls6122 = {1, {{167, (Value *)&ProtoFnInfo_dispatchers_6150}}};
Value *protoImpl6121(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6122, ".dispatchers", arg0, arg1, "core", 0));
}
FnArity protoFnArity9798 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6121};

// .dispatchers 1 args
ProtoImpls protoImpls6120 = {1, {{167, (Value *)&ProtoFnInfo_dispatchers_6152}}};
Value *protoImpl6119(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6120, ".dispatchers", arg0, "core", 0));
}
FnArity protoFnArity9797 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6119};
Function protoFn9796 = {FunctionType, -1, ".dispatchers", 2, {&protoFnArity9798, &protoFnArity9797}};
Value *dispatchFnPtr6112 = (Value *)&protoFn9796;


// .body 2 args
ProtoImpls protoImpls2426 = {4, {{91, (Value *)&let_ast_body_3402}, {56, (Value *)&main_ast_body_2450}, {147, (Value *)&ForResultExpr_body_5271}, {64, (Value *)&fn_arity_ast_body_2755}}};
Value *protoImpl2425(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2426, ".body", arg0, arg1, "core", 0));
}
FnArity protoFnArity9795 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2425};

// .body 1 args
ProtoImpls protoImpls2424 = {4, {{91, (Value *)&let_ast_body_3404}, {56, (Value *)&main_ast_body_2452}, {147, (Value *)&ForResultExpr_body_5273}, {64, (Value *)&fn_arity_ast_body_2757}}};
Value *protoImpl2423(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2424, ".body", arg0, "core", 0));
}
FnArity protoFnArity9794 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2423};
Function protoFn9793 = {FunctionType, -1, ".body", 2, {&protoFnArity9795, &protoFnArity9794}};
Value *dispatchFnPtr2417 = (Value *)&protoFn9793;


// .parser-fns 2 args
ProtoImpls protoImpls4287 = {1, {{127, (Value *)&ParserState_parser_fns_4319}}};
Value *protoImpl4286(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4287, ".parser-fns", arg0, arg1, "core", 0));
}
FnArity protoFnArity9792 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4286};

// .parser-fns 1 args
ProtoImpls protoImpls4285 = {1, {{127, (Value *)&ParserState_parser_fns_4321}}};
Value *protoImpl4284(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4285, ".parser-fns", arg0, "core", 0));
}
FnArity protoFnArity9791 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4284};
Function protoFn9790 = {FunctionType, -1, ".parser-fns", 2, {&protoFnArity9792, &protoFnArity9791}};
Value *dispatchFnPtr4273 = (Value *)&protoFn9790;


// .val 2 args
ProtoImpls protoImpls3270 = {1, {{87, (Value *)&binding_ast_val_3294}}};
Value *protoImpl3269(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3270, ".val", arg0, arg1, "core", 0));
}
FnArity protoFnArity9789 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3269};

// .val 1 args
ProtoImpls protoImpls3268 = {1, {{87, (Value *)&binding_ast_val_3296}}};
Value *protoImpl3267(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3268, ".val", arg0, "core", 0));
}
FnArity protoFnArity9788 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3267};
Function protoFn9787 = {FunctionType, -1, ".val", 2, {&protoFnArity9789, &protoFnArity9788}};
Value *dispatchFnPtr3261 = (Value *)&protoFn9787;


// .rules 2 args
ProtoImpls protoImpls3566 = {2, {{99, (Value *)&Cat_rules_3586}, {103, (Value *)&Union_rules_3672}}};
Value *protoImpl3565(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3566, ".rules", arg0, arg1, "core", 0));
}
FnArity protoFnArity9786 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3565};

// .rules 1 args
ProtoImpls protoImpls3564 = {2, {{99, (Value *)&Cat_rules_3588}, {103, (Value *)&Union_rules_3674}}};
Value *protoImpl3563(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3564, ".rules", arg0, "core", 0));
}
FnArity protoFnArity9785 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3563};
Function protoFn9784 = {FunctionType, -1, ".rules", 2, {&protoFnArity9786, &protoFnArity9785}};
Value *dispatchFnPtr3562 = (Value *)&protoFn9784;


// .param-types 2 args
ProtoImpls protoImpls2715 = {1, {{64, (Value *)&fn_arity_ast_param_types_2751}}};
Value *protoImpl2714(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2715, ".param-types", arg0, arg1, "core", 0));
}
FnArity protoFnArity9783 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2714};

// .param-types 1 args
ProtoImpls protoImpls2713 = {1, {{64, (Value *)&fn_arity_ast_param_types_2753}}};
Value *protoImpl2712(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2713, ".param-types", arg0, "core", 0));
}
FnArity protoFnArity9782 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2712};
Function protoFn9781 = {FunctionType, -1, ".param-types", 2, {&protoFnArity9783, &protoFnArity9782}};
Value *dispatchFnPtr2695 = (Value *)&protoFn9781;


// .input 2 args
ProtoImpls protoImpls4283 = {1, {{127, (Value *)&ParserState_input_4315}}};
Value *protoImpl4282(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4283, ".input", arg0, arg1, "core", 0));
}
FnArity protoFnArity9780 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4282};

// .input 1 args
ProtoImpls protoImpls4281 = {1, {{127, (Value *)&ParserState_input_4317}}};
Value *protoImpl4280(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4281, ".input", arg0, "core", 0));
}
FnArity protoFnArity9779 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4280};
Function protoFn9778 = {FunctionType, -1, ".input", 2, {&protoFnArity9780, &protoFnArity9779}};
Value *dispatchFnPtr4274 = (Value *)&protoFn9778;


// reverse 1 args
ProtoImpls reverse_Implementations_314 = {4, {{2, (Value *)&String_reverse_629}, {5, (Value *)&SubString_reverse_682}, {6, (Value *)&List_reverse_814}, {8, (Value *)&Vector_reverse_891}}};
Value *reverse_313(List *closures, Value *arg0) {
  return(proto1Arg(&reverse_Implementations_314, "reverse", arg0, "core", 509));
}
FnArity protoFnArity9777 = {FnArityType, -1, 1, (List *)0, 0, reverse_313};
Function protoFn9776 = {FunctionType, -1, "reverse", 1, {&protoFnArity9777}};
Value *reverse_312 = (Value *)&protoFn9776;


// .clauses 2 args
ProtoImpls protoImpls3504 = {4, {{101, (Value *)&or_ast_clauses_3632}, {181, (Value *)&TailAnd_clauses_8072}, {183, (Value *)&TailOr_clauses_8144}, {97, (Value *)&and_ast_clauses_3524}}};
Value *protoImpl3503(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3504, ".clauses", arg0, arg1, "core", 0));
}
FnArity protoFnArity9775 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3503};

// .clauses 1 args
ProtoImpls protoImpls3502 = {4, {{101, (Value *)&or_ast_clauses_3634}, {181, (Value *)&TailAnd_clauses_8074}, {183, (Value *)&TailOr_clauses_8146}, {97, (Value *)&and_ast_clauses_3526}}};
Value *protoImpl3501(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3502, ".clauses", arg0, "core", 0));
}
FnArity protoFnArity9774 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3501};
Function protoFn9773 = {FunctionType, -1, ".clauses", 2, {&protoFnArity9775, &protoFnArity9774}};
Value *dispatchFnPtr3500 = (Value *)&protoFn9773;


// .recurse 2 args
ProtoImpls protoImpls5727 = {1, {{159, (Value *)&FunctionArityContext_recurse_5763}}};
Value *protoImpl5726(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5727, ".recurse", arg0, arg1, "core", 0));
}
FnArity protoFnArity9772 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5726};

// .recurse 1 args
ProtoImpls protoImpls5725 = {1, {{159, (Value *)&FunctionArityContext_recurse_5765}}};
Value *protoImpl5724(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5725, ".recurse", arg0, "core", 0));
}
FnArity protoFnArity9771 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5724};
Function protoFn9770 = {FunctionType, -1, ".recurse", 2, {&protoFnArity9772, &protoFnArity9771}};
Value *dispatchFnPtr5723 = (Value *)&protoFn9770;


// .ns 2 args
ProtoImpls protoImpls4685 = {1, {{139, (Value *)&tagged_symbol_ns_4718}}};
Value *protoImpl4684(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4685, ".ns", arg0, arg1, "core", 0));
}
FnArity protoFnArity9769 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4684};

// .ns 1 args
ProtoImpls protoImpls4683 = {1, {{139, (Value *)&tagged_symbol_ns_4720}}};
Value *protoImpl4682(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4683, ".ns", arg0, "core", 0));
}
FnArity protoFnArity9768 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4682};
Function protoFn9767 = {FunctionType, -1, ".ns", 2, {&protoFnArity9769, &protoFnArity9768}};
Value *dispatchFnPtr4681 = (Value *)&protoFn9767;


// nth 2 args
ProtoImpls nth_Implementations_350 = {4, {{2, (Value *)&String_nth_648}, {5, (Value *)&SubString_nth_701}, {6, (Value *)&List_nth_828}, {8, (Value *)&Vector_nth_919}}};
Value *nth_349(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&nth_Implementations_350, "nth", arg0, arg1, "core", 534));
}
FnArity protoFnArity9766 = {FnArityType, -1, 2, (List *)0, 0, nth_349};
Function protoFn9765 = {FunctionType, -1, "nth", 1, {&protoFnArity9766}};
Value *nth_348 = (Value *)&protoFn9765;


// .fn-sym 2 args
ProtoImpls protoImpls2703 = {3, {{75, (Value *)&fn_ast_fn_sym_3005}, {167, (Value *)&ProtoFnInfo_fn_sym_6142}, {64, (Value *)&fn_arity_ast_fn_sym_2735}}};
Value *protoImpl2702(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2703, ".fn-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9764 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2702};

// .fn-sym 1 args
ProtoImpls protoImpls2701 = {3, {{75, (Value *)&fn_ast_fn_sym_3007}, {167, (Value *)&ProtoFnInfo_fn_sym_6144}, {64, (Value *)&fn_arity_ast_fn_sym_2737}}};
Value *protoImpl2700(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2701, ".fn-sym", arg0, "core", 0));
}
FnArity protoFnArity9763 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2700};
Function protoFn9762 = {FunctionType, -1, ".fn-sym", 2, {&protoFnArity9764, &protoFnArity9763}};
Value *dispatchFnPtr2699 = (Value *)&protoFn9762;


// assoc* 5 args
ProtoImpls assoc_STAR__Implementations_10 = {81, {{159, (Value *)&FunctionArityContext_assoc_STAR__5785}, {89, (Value *)&repeat_rule_assoc_STAR__3368}, {119, (Value *)&prototype_ast_assoc_STAR__4077}, {87, (Value *)&binding_ast_assoc_STAR__3300}, {151, (Value *)&RuntimeInit_assoc_STAR__5505}, {54, (Value *)&app_fn_assoc_STAR__2398}, {145, (Value *)&ForWhenNotExpr_assoc_STAR__5239}, {46, (Value *)&inline_ast_assoc_STAR__2186}, {79, (Value *)&parser_char_range_assoc_STAR__3120}, {93, (Value *)&ignore_rule_assoc_STAR__3461}, {75, (Value *)&fn_ast_assoc_STAR__3015}, {31, (Value *)&HashSet_assoc_STAR__1598}, {133, (Value *)&module_ast_assoc_STAR__4487}, {171, (Value *)&ProtoImpl_assoc_STAR__6326}, {71, (Value *)&get_state_value_assoc_STAR__2919}, {165, (Value *)&c_init_assoc_STAR__6050}, {101, (Value *)&or_ast_assoc_STAR__3638}, {33, (Value *)&IntGenerator_assoc_STAR__1662}, {66, (Value *)&new_sm_assoc_STAR__2833}, {157, (Value *)&Closures_assoc_STAR__5713}, {105, (Value *)&either_ast_assoc_STAR__3737}, {181, (Value *)&TailAnd_assoc_STAR__8091}, {109, (Value *)&assert_ast_assoc_STAR__3827}, {48, (Value *)&DirInfo_assoc_STAR__2245}, {99, (Value *)&Cat_assoc_STAR__3594}, {62, (Value *)&free_app_assoc_STAR__2677}, {91, (Value *)&let_ast_assoc_STAR__3408}, {12, (Value *)&ArrayNode_assoc_STAR__1003}, {44, (Value *)&FileInfo_assoc_STAR__2118}, {56, (Value *)&main_ast_assoc_STAR__2456}, {13, (Value *)&HashCollisionNode_assoc_STAR__1015}, {137, (Value *)&add_ns_ast_assoc_STAR__4595}, {175, (Value *)&TailExpr_assoc_STAR__6758}, {85, (Value *)&parser_terminal_assoc_STAR__3251}, {127, (Value *)&ParserState_assoc_STAR__4329}, {50, (Value *)&free_monad_assoc_STAR__2310}, {117, (Value *)&recursion_rule_assoc_STAR__4009}, {113, (Value *)&recursive_parser_rule_assoc_STAR__3924}, {169, (Value *)&ProtocolDispatcher_assoc_STAR__6257}, {121, (Value *)&protocol_ast_assoc_STAR__4150}, {68, (Value *)&pure_assoc_STAR__2874}, {52, (Value *)&params_ast_assoc_STAR__2358}, {123, (Value *)&extend_ast_assoc_STAR__4214}, {60, (Value *)&declaration_ast_assoc_STAR__2611}, {73, (Value *)&update_state_value_assoc_STAR__2975}, {183, (Value *)&TailOr_assoc_STAR__8163}, {115, (Value *)&returns_ast_assoc_STAR__3962}, {135, (Value *)&git_dep_ast_assoc_STAR__4539}, {97, (Value *)&and_ast_assoc_STAR__3530}, {131, (Value *)&type_ast_assoc_STAR__4445}, {39, (Value *)&block_comment_ast_assoc_STAR__2007}, {173, (Value *)&ParamBinding_assoc_STAR__6465}, {103, (Value *)&Union_assoc_STAR__3680}, {139, (Value *)&tagged_symbol_assoc_STAR__4742}, {37, (Value *)&InputFile_assoc_STAR__1952}, {141, (Value *)&ForLetExpr_assoc_STAR__5163}, {41, (Value *)&OutputFile_assoc_STAR__2051}, {125, (Value *)&quoted_ast_assoc_STAR__4263}, {155, (Value *)&GlobalContext_assoc_STAR__5671}, {149, (Value *)&ConstantValues_assoc_STAR__5463}, {177, (Value *)&StaticArity_assoc_STAR__7801}, {58, (Value *)&definition_ast_assoc_STAR__2539}, {95, (Value *)&parser_always_assoc_STAR__3495}, {111, (Value *)&parser_rule_assoc_STAR__3878}, {77, (Value *)&parser_not_char_assoc_STAR__3062}, {11, (Value *)&BitmapIndexNode_assoc_STAR__993}, {179, (Value *)&ClosureArity_assoc_STAR__7854}, {83, (Value *)&call_ast_assoc_STAR__3202}, {147, (Value *)&ForResultExpr_assoc_STAR__5277}, {7, (Value *)&Maybe_assoc_STAR__754}, {167, (Value *)&ProtoFnInfo_assoc_STAR__6156}, {163, (Value *)&c_code_assoc_STAR__5985}, {107, (Value *)&none_or_more_rule_assoc_STAR__3772}, {81, (Value *)&parser_term_fn_assoc_STAR__3162}, {64, (Value *)&fn_arity_ast_assoc_STAR__2761}, {185, (Value *)&TailEither_assoc_STAR__8231}, {129, (Value *)&reify_ast_assoc_STAR__4382}, {35, (Value *)&LazyList_assoc_STAR__1759}, {161, (Value *)&empty_code_assoc_STAR__5923}, {153, (Value *)&Module_assoc_STAR__5577}, {143, (Value *)&ForWhenExpr_assoc_STAR__5201}}};
Value *assoc_STAR__9(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4) {
  return(proto5Arg(&assoc_STAR__Implementations_10, "assoc*", arg0, arg1, arg2, arg3, arg4, "core", 16));
}
FnArity protoFnArity9761 = {FnArityType, -1, 5, (List *)0, 0, assoc_STAR__9};
Function protoFn9760 = {FunctionType, -1, "assoc*", 1, {&protoFnArity9761}};
Value *assoc_STAR__8 = (Value *)&protoFn9760;


// type-name 1 args
ProtoImpls type_name_Implementations_27 = {169, {{2, (Value *)&String_type_name_633}, {5, (Value *)&SubString_type_name_686}, {162, (Value *)&c_code_const_type_name_5939}, {4, (Value *)&Function_type_name_496}, {94, (Value *)&parser_always_const_type_name_3475}, {136, (Value *)&add_ns_ast_const_type_name_4569}, {159, (Value *)&FunctionArityContext_type_name_5759}, {89, (Value *)&repeat_rule_type_name_3356}, {156, (Value *)&Closures_const_type_name_5689}, {119, (Value *)&prototype_ast_type_name_4055}, {61, (Value *)&free_app_const_type_name_2629}, {63, (Value *)&fn_arity_ast_const_type_name_2719}, {87, (Value *)&binding_ast_type_name_3286}, {124, (Value *)&quoted_ast_const_type_name_4241}, {151, (Value *)&RuntimeInit_type_name_5491}, {54, (Value *)&app_fn_type_name_2383}, {59, (Value *)&declaration_ast_const_type_name_2589}, {148, (Value *)&ConstantValues_const_type_name_5431}, {145, (Value *)&ForWhenNotExpr_type_name_5229}, {38, (Value *)&block_comment_ast_const_type_name_1975}, {46, (Value *)&inline_ast_type_name_2160}, {90, (Value *)&let_ast_const_type_name_3382}, {79, (Value *)&parser_char_range_type_name_3106}, {6, (Value *)&List_type_name_820}, {104, (Value *)&either_ast_const_type_name_3711}, {72, (Value *)&update_state_value_const_type_name_2951}, {93, (Value *)&ignore_rule_type_name_3449}, {98, (Value *)&Cat_const_type_name_3570}, {102, (Value *)&Union_const_type_name_3656}, {43, (Value *)&FileInfo_const_type_name_2084}, {8, (Value *)&Vector_type_name_905}, {75, (Value *)&fn_ast_type_name_3001}, {31, (Value *)&HashSet_type_name_1560}, {133, (Value *)&module_ast_type_name_4477}, {114, (Value *)&returns_ast_const_type_name_3934}, {80, (Value *)&parser_term_fn_const_type_name_3142}, {171, (Value *)&ProtoImpl_type_name_6308}, {71, (Value *)&get_state_value_type_name_2909}, {165, (Value *)&c_init_type_name_6012}, {142, (Value *)&ForWhenExpr_const_type_name_5179}, {101, (Value *)&or_ast_type_name_3628}, {33, (Value *)&IntGenerator_type_name_1650}, {66, (Value *)&new_sm_type_name_2790}, {146, (Value *)&ForResultExpr_const_type_name_5255}, {157, (Value *)&Closures_type_name_5699}, {105, (Value *)&either_ast_type_name_3723}, {181, (Value *)&TailAnd_type_name_8068}, {70, (Value *)&get_state_value_const_type_name_2899}, {17, (Value *)&Agent_type_name_1476}, {109, (Value *)&assert_ast_type_name_3817}, {112, (Value *)&recursive_parser_rule_const_type_name_3898}, {170, (Value *)&ProtoImpl_const_type_name_6296}, {48, (Value *)&DirInfo_type_name_2227}, {99, (Value *)&Cat_type_name_3582}, {62, (Value *)&free_app_type_name_2641}, {91, (Value *)&let_ast_type_name_3394}, {12, (Value *)&ArrayNode_type_name_1125}, {44, (Value *)&FileInfo_type_name_2096}, {176, (Value *)&StaticArity_const_type_name_7767}, {56, (Value *)&main_ast_type_name_2442}, {13, (Value *)&HashCollisionNode_type_name_1175}, {137, (Value *)&add_ns_ast_type_name_4581}, {175, (Value *)&TailExpr_type_name_6707}, {164, (Value *)&c_init_const_type_name_6000}, {126, (Value *)&ParserState_const_type_name_4295}, {85, (Value *)&parser_terminal_type_name_3241}, {120, (Value *)&protocol_ast_const_type_name_4124}, {127, (Value *)&ParserState_type_name_4307}, {150, (Value *)&RuntimeInit_const_type_name_5481}, {50, (Value *)&free_monad_type_name_2284}, {117, (Value *)&recursion_rule_type_name_3999}, {113, (Value *)&recursive_parser_rule_type_name_3908}, {182, (Value *)&TailOr_const_type_name_8128}, {169, (Value *)&ProtocolDispatcher_type_name_6235}, {92, (Value *)&ignore_rule_const_type_name_3439}, {15, (Value *)&Promise_type_name_1355}, {65, (Value *)&new_sm_const_type_name_2778}, {121, (Value *)&protocol_ast_type_name_4136}, {16, (Value *)&Future_type_name_1424}, {68, (Value *)&pure_type_name_2854}, {36, (Value *)&InputFile_const_type_name_1920}, {52, (Value *)&params_ast_type_name_2342}, {123, (Value *)&extend_ast_type_name_4200}, {30, (Value *)&HashSet_const_type_name_1544}, {96, (Value *)&and_ast_const_type_name_3508}, {60, (Value *)&declaration_ast_type_name_2601}, {73, (Value *)&update_state_value_type_name_2961}, {118, (Value *)&prototype_ast_const_type_name_4043}, {78, (Value *)&parser_char_range_const_type_name_3096}, {49, (Value *)&free_monad_const_type_name_2272}, {183, (Value *)&TailOr_type_name_8140}, {55, (Value *)&main_ast_const_type_name_2430}, {45, (Value *)&inline_ast_const_type_name_2148}, {115, (Value *)&returns_ast_type_name_3948}, {40, (Value *)&OutputFile_const_type_name_2021}, {135, (Value *)&git_dep_ast_type_name_4521}, {97, (Value *)&and_ast_type_name_3520}, {131, (Value *)&type_ast_type_name_4427}, {39, (Value *)&block_comment_ast_type_name_1989}, {173, (Value *)&ParamBinding_type_name_6449}, {103, (Value *)&Union_type_name_3668}, {152, (Value *)&Module_const_type_name_5535}, {139, (Value *)&tagged_symbol_type_name_4714}, {37, (Value *)&InputFile_type_name_1932}, {116, (Value *)&recursion_rule_const_type_name_3989}, {180, (Value *)&TailAnd_const_type_name_8056}, {141, (Value *)&ForLetExpr_type_name_5153}, {51, (Value *)&params_ast_const_type_name_2330}, {122, (Value *)&extend_ast_const_type_name_4188}, {172, (Value *)&ParamBinding_const_type_name_6437}, {86, (Value *)&binding_ast_const_type_name_3274}, {128, (Value *)&reify_ast_const_type_name_4356}, {41, (Value *)&OutputFile_type_name_2033}, {100, (Value *)&or_ast_const_type_name_3616}, {125, (Value *)&quoted_ast_type_name_4253}, {155, (Value *)&GlobalContext_type_name_5633}, {154, (Value *)&GlobalContext_const_type_name_5621}, {149, (Value *)&ConstantValues_type_name_5441}, {106, (Value *)&none_or_more_rule_const_type_name_3750}, {57, (Value *)&definition_ast_const_type_name_2513}, {160, (Value *)&empty_code_const_type_name_5877}, {88, (Value *)&repeat_rule_const_type_name_3344}, {177, (Value *)&StaticArity_type_name_7779}, {74, (Value *)&fn_ast_const_type_name_2989}, {58, (Value *)&definition_ast_type_name_2525}, {95, (Value *)&parser_always_type_name_3485}, {84, (Value *)&parser_terminal_const_type_name_3229}, {1, (Value *)&Integer_type_name_597}, {111, (Value *)&parser_rule_type_name_3862}, {158, (Value *)&FunctionArityContext_const_type_name_5747}, {53, (Value *)&app_fn_const_type_name_2371}, {174, (Value *)&TailExpr_const_type_name_6695}, {134, (Value *)&git_dep_ast_const_type_name_4511}, {10, (Value *)&Symbol_type_name_715}, {77, (Value *)&parser_not_char_type_name_3052}, {11, (Value *)&BitmapIndexNode_type_name_1075}, {168, (Value *)&ProtocolDispatcher_const_type_name_6223}, {179, (Value *)&ClosureArity_type_name_7836}, {83, (Value *)&call_ast_type_name_3188}, {138, (Value *)&tagged_symbol_const_type_name_4697}, {144, (Value *)&ForWhenNotExpr_const_type_name_5217}, {147, (Value *)&ForResultExpr_type_name_5267}, {34, (Value *)&LazyList_const_type_name_1723}, {82, (Value *)&call_ast_const_type_name_3176}, {140, (Value *)&ForLetExpr_const_type_name_5141}, {110, (Value *)&parser_rule_const_type_name_3850}, {132, (Value *)&module_ast_const_type_name_4467}, {76, (Value *)&parser_not_char_const_type_name_3042}, {47, (Value *)&DirInfo_const_type_name_2215}, {108, (Value *)&assert_ast_const_type_name_3803}, {7, (Value *)&Maybe_type_name_748}, {130, (Value *)&type_ast_const_type_name_4415}, {167, (Value *)&ProtoFnInfo_type_name_6138}, {178, (Value *)&ClosureArity_const_type_name_7824}, {163, (Value *)&c_code_type_name_5951}, {166, (Value *)&ProtoFnInfo_const_type_name_6126}, {107, (Value *)&none_or_more_rule_type_name_3760}, {81, (Value *)&parser_term_fn_type_name_3152}, {32, (Value *)&IntGenerator_const_type_name_1640}, {184, (Value *)&TailEither_const_type_name_8195}, {64, (Value *)&fn_arity_ast_type_name_2731}, {0, (Value *)&Default_type_name_29}, {185, (Value *)&TailEither_type_name_8205}, {129, (Value *)&reify_ast_type_name_4368}, {35, (Value *)&LazyList_type_name_1739}, {161, (Value *)&empty_code_type_name_5889}, {153, (Value *)&Module_type_name_5547}, {67, (Value *)&pure_const_type_name_2842}, {143, (Value *)&ForWhenExpr_type_name_5191}}};
Value *type_name_26(List *closures, Value *arg0) {
  return(proto1Arg(&type_name_Implementations_27, "type-name", arg0, "core", 45));
}
FnArity protoFnArity9759 = {FnArityType, -1, 1, (List *)0, 0, type_name_26};
Function protoFn9758 = {FunctionType, -1, "type-name", 1, {&protoFnArity9759}};
Value *type_name_25 = (Value *)&protoFn9758;


// .variadic 2 args
ProtoImpls protoImpls2326 = {1, {{52, (Value *)&params_ast_variadic_2350}}};
Value *protoImpl2325(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2326, ".variadic", arg0, arg1, "core", 0));
}
FnArity protoFnArity9757 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2325};

// .variadic 1 args
ProtoImpls protoImpls2324 = {1, {{52, (Value *)&params_ast_variadic_2352}}};
Value *protoImpl2323(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2324, ".variadic", arg0, "core", 0));
}
FnArity protoFnArity9756 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2323};
Function protoFn9755 = {FunctionType, -1, ".variadic", 2, {&protoFnArity9757, &protoFnArity9756}};
Value *dispatchFnPtr2317 = (Value *)&protoFn9755;


// .closures 2 args
ProtoImpls protoImpls5681 = {1, {{157, (Value *)&Closures_closures_5703}}};
Value *protoImpl5680(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5681, ".closures", arg0, arg1, "core", 0));
}
FnArity protoFnArity9754 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5680};

// .closures 1 args
ProtoImpls protoImpls5679 = {1, {{157, (Value *)&Closures_closures_5705}}};
Value *protoImpl5678(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5679, ".closures", arg0, "core", 0));
}
FnArity protoFnArity9753 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5678};
Function protoFn9752 = {FunctionType, -1, ".closures", 2, {&protoFnArity9754, &protoFnArity9753}};
Value *dispatchFnPtr5677 = (Value *)&protoFn9752;


// .line-num 2 args
ProtoImpls protoImpls1971 = {3, {{46, (Value *)&inline_ast_line_num_2180}, {39, (Value *)&block_comment_ast_line_num_2001}, {139, (Value *)&tagged_symbol_line_num_4734}}};
Value *protoImpl1970(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1971, ".line-num", arg0, arg1, "core", 0));
}
FnArity protoFnArity9751 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1970};

// .line-num 1 args
ProtoImpls protoImpls1969 = {3, {{46, (Value *)&inline_ast_line_num_2182}, {39, (Value *)&block_comment_ast_line_num_2003}, {139, (Value *)&tagged_symbol_line_num_4736}}};
Value *protoImpl1968(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1969, ".line-num", arg0, "core", 0));
}
FnArity protoFnArity9750 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1968};
Function protoFn9749 = {FunctionType, -1, ".line-num", 2, {&protoFnArity9751, &protoFnArity9750}};
Value *dispatchFnPtr1957 = (Value *)&protoFn9749;


// .default-body 2 args
ProtoImpls protoImpls4039 = {1, {{119, (Value *)&prototype_ast_default_body_4071}}};
Value *protoImpl4038(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4039, ".default-body", arg0, arg1, "core", 0));
}
FnArity protoFnArity9748 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4038};

// .default-body 1 args
ProtoImpls protoImpls4037 = {1, {{119, (Value *)&prototype_ast_default_body_4073}}};
Value *protoImpl4036(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4037, ".default-body", arg0, "core", 0));
}
FnArity protoFnArity9747 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4036};
Function protoFn9746 = {FunctionType, -1, ".default-body", 2, {&protoFnArity9748, &protoFnArity9747}};
Value *dispatchFnPtr4028 = (Value *)&protoFn9746;


// .gen 2 args
ProtoImpls protoImpls1636 = {1, {{33, (Value *)&IntGenerator_gen_1654}}};
Value *protoImpl1635(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1636, ".gen", arg0, arg1, "core", 0));
}
FnArity protoFnArity9745 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1635};

// .gen 1 args
ProtoImpls protoImpls1634 = {1, {{33, (Value *)&IntGenerator_gen_1656}}};
Value *protoImpl1633(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1634, ".gen", arg0, "core", 0));
}
FnArity protoFnArity9744 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1633};
Function protoFn9743 = {FunctionType, -1, ".gen", 2, {&protoFnArity9745, &protoFnArity9744}};
Value *dispatchFnPtr1632 = (Value *)&protoFn9743;


// .repo 2 args
ProtoImpls protoImpls4503 = {1, {{135, (Value *)&git_dep_ast_repo_4525}}};
Value *protoImpl4502(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4503, ".repo", arg0, arg1, "core", 0));
}
FnArity protoFnArity9742 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4502};

// .repo 1 args
ProtoImpls protoImpls4501 = {1, {{135, (Value *)&git_dep_ast_repo_4527}}};
Value *protoImpl4500(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4501, ".repo", arg0, "core", 0));
}
FnArity protoFnArity9741 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4500};
Function protoFn9740 = {FunctionType, -1, ".repo", 2, {&protoFnArity9742, &protoFnArity9741}};
Value *dispatchFnPtr4499 = (Value *)&protoFn9740;


// .tail 2 args
ProtoImpls protoImpls1719 = {1, {{35, (Value *)&LazyList_tail_1751}}};
Value *protoImpl1718(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1719, ".tail", arg0, arg1, "core", 0));
}
FnArity protoFnArity9739 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1718};

// .tail 1 args
ProtoImpls protoImpls1717 = {1, {{35, (Value *)&LazyList_tail_1753}}};
Value *protoImpl1716(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1717, ".tail", arg0, "core", 0));
}
FnArity protoFnArity9738 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1716};
Function protoFn9737 = {FunctionType, -1, ".tail", 2, {&protoFnArity9739, &protoFnArity9738}};
Value *dispatchFnPtr1705 = (Value *)&protoFn9737;


// seq 1 args
ProtoImpls seq_Implementations_317 = {8, {{2, (Value *)&String_seq_609}, {5, (Value *)&SubString_seq_662}, {6, (Value *)&List_seq_808}, {8, (Value *)&Vector_seq_879}, {31, (Value *)&HashSet_seq_1558}, {12, (Value *)&ArrayNode_seq_1123}, {13, (Value *)&HashCollisionNode_seq_1173}, {11, (Value *)&BitmapIndexNode_seq_1073}}};
Value *seq_316(List *closures, Value *arg0) {
  return(proto1Arg(&seq_Implementations_317, "seq", arg0, "core", 472));
}
FnArity protoFnArity9736 = {FnArityType, -1, 1, (List *)0, 0, seq_316};
Function protoFn9735 = {FunctionType, -1, "seq", 1, {&protoFnArity9736}};
Value *seq_315 = (Value *)&protoFn9735;


// .reify-fn-index 2 args
ProtoImpls protoImpls5617 = {1, {{155, (Value *)&GlobalContext_reify_fn_index_5665}}};
Value *protoImpl5616(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5617, ".reify-fn-index", arg0, arg1, "core", 0));
}
FnArity protoFnArity9734 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5616};

// .reify-fn-index 1 args
ProtoImpls protoImpls5615 = {1, {{155, (Value *)&GlobalContext_reify_fn_index_5667}}};
Value *protoImpl5614(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5615, ".reify-fn-index", arg0, "core", 0));
}
FnArity protoFnArity9733 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5614};
Function protoFn9732 = {FunctionType, -1, ".reify-fn-index", 2, {&protoFnArity9734, &protoFnArity9733}};
Value *dispatchFnPtr5582 = (Value *)&protoFn9732;


// string-list 1 args
ProtoImpls string_list_Implementations_395 = {153, {{2, (Value *)&String_string_list_603}, {5, (Value *)&SubString_string_list_656}, {162, (Value *)&staticArity5937}, {4, (Value *)&Function_string_list_492}, {94, (Value *)&staticArity3473}, {136, (Value *)&staticArity4567}, {159, (Value *)&FunctionArityContext_string_list_5755}, {89, (Value *)&repeat_rule_string_list_3352}, {156, (Value *)&staticArity5687}, {119, (Value *)&prototype_ast_string_list_4051}, {61, (Value *)&staticArity2627}, {63, (Value *)&staticArity2717}, {87, (Value *)&binding_ast_string_list_3282}, {124, (Value *)&staticArity4239}, {54, (Value *)&app_fn_string_list_2379}, {59, (Value *)&staticArity2587}, {148, (Value *)&staticArity5429}, {145, (Value *)&ForWhenNotExpr_string_list_5225}, {38, (Value *)&staticArity1973}, {46, (Value *)&inline_ast_string_list_2156}, {90, (Value *)&staticArity3380}, {6, (Value *)&List_string_list_799}, {104, (Value *)&staticArity3709}, {72, (Value *)&staticArity2949}, {93, (Value *)&string_list_4898}, {98, (Value *)&staticArity3568}, {102, (Value *)&staticArity3654}, {43, (Value *)&staticArity2082}, {8, (Value *)&Vector_string_list_870}, {75, (Value *)&fn_ast_string_list_2997}, {31, (Value *)&HashSet_string_list_1552}, {114, (Value *)&staticArity3932}, {80, (Value *)&staticArity3140}, {171, (Value *)&ProtoImpl_string_list_6304}, {165, (Value *)&c_init_string_list_6008}, {142, (Value *)&staticArity5177}, {101, (Value *)&or_ast_string_list_3624}, {66, (Value *)&new_sm_string_list_2786}, {146, (Value *)&staticArity5253}, {105, (Value *)&either_ast_string_list_3719}, {181, (Value *)&TailAnd_string_list_8064}, {70, (Value *)&staticArity2897}, {17, (Value *)&Agent_string_list_1472}, {109, (Value *)&assert_ast_string_list_3811}, {112, (Value *)&staticArity3896}, {170, (Value *)&staticArity6294}, {48, (Value *)&DirInfo_string_list_2223}, {99, (Value *)&Cat_string_list_3578}, {62, (Value *)&free_app_string_list_2637}, {91, (Value *)&let_ast_string_list_3390}, {12, (Value *)&ArrayNode_string_list_1111}, {44, (Value *)&FileInfo_string_list_2092}, {176, (Value *)&staticArity7765}, {69, (Value *)&staticArity4909}, {56, (Value *)&main_ast_string_list_2438}, {13, (Value *)&HashCollisionNode_string_list_1161}, {137, (Value *)&add_ns_ast_string_list_4577}, {175, (Value *)&TailExpr_string_list_6703}, {164, (Value *)&staticArity5998}, {126, (Value *)&staticArity4293}, {85, (Value *)&parser_terminal_string_list_3237}, {120, (Value *)&staticArity4122}, {127, (Value *)&ParserState_string_list_4303}, {150, (Value *)&staticArity5479}, {50, (Value *)&free_monad_string_list_2280}, {182, (Value *)&staticArity8126}, {169, (Value *)&ProtocolDispatcher_string_list_6231}, {92, (Value *)&staticArity3437}, {15, (Value *)&Promise_string_list_1348}, {65, (Value *)&staticArity2776}, {121, (Value *)&protocol_ast_string_list_4132}, {16, (Value *)&Future_string_list_1420}, {68, (Value *)&pure_string_list_2850}, {36, (Value *)&staticArity1918}, {52, (Value *)&params_ast_string_list_2338}, {123, (Value *)&extend_ast_string_list_4196}, {30, (Value *)&staticArity1542}, {96, (Value *)&staticArity3506}, {60, (Value *)&declaration_ast_string_list_2597}, {118, (Value *)&staticArity4041}, {78, (Value *)&staticArity3094}, {49, (Value *)&staticArity2270}, {183, (Value *)&TailOr_string_list_8136}, {55, (Value *)&staticArity2428}, {45, (Value *)&staticArity2146}, {115, (Value *)&returns_ast_string_list_3942}, {40, (Value *)&staticArity2019}, {97, (Value *)&and_ast_string_list_3516}, {131, (Value *)&type_ast_string_list_4423}, {39, (Value *)&block_comment_ast_string_list_1983}, {173, (Value *)&ParamBinding_string_list_6445}, {103, (Value *)&Union_string_list_3664}, {152, (Value *)&staticArity5533}, {139, (Value *)&tagged_symbol_string_list_4708}, {37, (Value *)&InputFile_string_list_1928}, {116, (Value *)&staticArity3987}, {180, (Value *)&staticArity8054}, {141, (Value *)&ForLetExpr_string_list_5149}, {51, (Value *)&staticArity2328}, {122, (Value *)&staticArity4186}, {172, (Value *)&staticArity6435}, {86, (Value *)&staticArity3272}, {128, (Value *)&staticArity4354}, {41, (Value *)&OutputFile_string_list_2029}, {100, (Value *)&staticArity3614}, {125, (Value *)&quoted_ast_string_list_4249}, {155, (Value *)&GlobalContext_string_list_5629}, {154, (Value *)&staticArity5619}, {106, (Value *)&staticArity3748}, {57, (Value *)&staticArity2511}, {160, (Value *)&staticArity5875}, {88, (Value *)&staticArity3342}, {177, (Value *)&StaticArity_string_list_7775}, {74, (Value *)&staticArity2987}, {58, (Value *)&definition_ast_string_list_2521}, {84, (Value *)&staticArity3227}, {1, (Value *)&Integer_string_list_591}, {111, (Value *)&parser_rule_string_list_3858}, {158, (Value *)&staticArity5745}, {53, (Value *)&staticArity2369}, {174, (Value *)&staticArity6693}, {134, (Value *)&staticArity4509}, {10, (Value *)&Symbol_string_list_709}, {11, (Value *)&BitmapIndexNode_string_list_1061}, {168, (Value *)&staticArity6221}, {179, (Value *)&ClosureArity_string_list_7832}, {83, (Value *)&call_ast_string_list_3184}, {138, (Value *)&staticArity4695}, {144, (Value *)&staticArity5215}, {147, (Value *)&ForResultExpr_string_list_5263}, {34, (Value *)&staticArity1721}, {82, (Value *)&staticArity3174}, {140, (Value *)&staticArity5139}, {110, (Value *)&staticArity3848}, {132, (Value *)&staticArity4465}, {76, (Value *)&staticArity3040}, {47, (Value *)&staticArity2213}, {108, (Value *)&staticArity3801}, {7, (Value *)&Maybe_string_list_737}, {130, (Value *)&staticArity4413}, {167, (Value *)&ProtoFnInfo_string_list_6134}, {178, (Value *)&staticArity7822}, {163, (Value *)&c_code_string_list_5947}, {166, (Value *)&staticArity6124}, {32, (Value *)&staticArity1638}, {184, (Value *)&staticArity8193}, {64, (Value *)&fn_arity_ast_string_list_2727}, {129, (Value *)&reify_ast_string_list_4364}, {35, (Value *)&LazyList_string_list_1731}, {161, (Value *)&empty_code_string_list_5885}, {153, (Value *)&Module_string_list_5543}, {67, (Value *)&staticArity2840}, {143, (Value *)&ForWhenExpr_string_list_5187}}};
Value *string_list_394(List *closures, Value *arg0) {
  return(proto1Arg(&string_list_Implementations_395, "string-list", arg0, "core", 598));
}
FnArity protoFnArity9731 = {FnArityType, -1, 1, (List *)0, 0, string_list_394};
Function protoFn9730 = {FunctionType, -1, "string-list", 1, {&protoFnArity9731}};
Value *string_list_393 = (Value *)&protoFn9730;


// .file-desc 2 args
ProtoImpls protoImpls1912 = {2, {{37, (Value *)&InputFile_file_desc_1936}, {41, (Value *)&OutputFile_file_desc_2037}}};
Value *protoImpl1911(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1912, ".file-desc", arg0, arg1, "core", 0));
}
FnArity protoFnArity9729 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1911};

// .file-desc 1 args
ProtoImpls protoImpls1910 = {2, {{37, (Value *)&InputFile_file_desc_1938}, {41, (Value *)&OutputFile_file_desc_2039}}};
Value *protoImpl1909(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1910, ".file-desc", arg0, "core", 0));
}
FnArity protoFnArity9728 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1909};
Function protoFn9727 = {FunctionType, -1, ".file-desc", 2, {&protoFnArity9729, &protoFnArity9728}};
Value *dispatchFnPtr1908 = (Value *)&protoFn9727;


// .namespaces 2 args
ProtoImpls protoImpls5609 = {1, {{155, (Value *)&GlobalContext_namespaces_5657}}};
Value *protoImpl5608(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5609, ".namespaces", arg0, arg1, "core", 0));
}
FnArity protoFnArity9726 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5608};

// .namespaces 1 args
ProtoImpls protoImpls5607 = {1, {{155, (Value *)&GlobalContext_namespaces_5659}}};
Value *protoImpl5606(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5607, ".namespaces", arg0, "core", 0));
}
FnArity protoFnArity9725 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5606};
Function protoFn9724 = {FunctionType, -1, ".namespaces", 2, {&protoFnArity9726, &protoFnArity9725}};
Value *dispatchFnPtr5584 = (Value *)&protoFn9724;


// .prototypes 2 args
ProtoImpls protoImpls4120 = {1, {{121, (Value *)&protocol_ast_prototypes_4144}}};
Value *protoImpl4119(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4120, ".prototypes", arg0, arg1, "core", 0));
}
FnArity protoFnArity9723 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4119};

// .prototypes 1 args
ProtoImpls protoImpls4118 = {1, {{121, (Value *)&protocol_ast_prototypes_4146}}};
Value *protoImpl4117(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4118, ".prototypes", arg0, "core", 0));
}
FnArity protoFnArity9722 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4117};
Function protoFn9721 = {FunctionType, -1, ".prototypes", 2, {&protoFnArity9723, &protoFnArity9722}};
Value *dispatchFnPtr4111 = (Value *)&protoFn9721;


// flatten 1 args
ProtoImpls flatten_Implementations_251 = {2, {{6, (Value *)&List_flatten_834}, {8, (Value *)&Vector_flatten_935}}};
Value *flatten_250(List *closures, Value *arg0) {
  return(proto1Arg(&flatten_Implementations_251, "flatten", arg0, "core", 362));
}
FnArity protoFnArity9720 = {FnArityType, -1, 1, (List *)0, 0, flatten_250};
Function protoFn9719 = {FunctionType, -1, "flatten", 1, {&protoFnArity9720}};
Value *flatten_249 = (Value *)&protoFn9719;


// .term-str 2 args
ProtoImpls protoImpls3225 = {1, {{85, (Value *)&parser_terminal_term_str_3245}}};
Value *protoImpl3224(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3225, ".term-str", arg0, arg1, "core", 0));
}
FnArity protoFnArity9718 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3224};

// .term-str 1 args
ProtoImpls protoImpls3223 = {1, {{85, (Value *)&parser_terminal_term_str_3247}}};
Value *protoImpl3222(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3223, ".term-str", arg0, "core", 0));
}
FnArity protoFnArity9717 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3222};
Function protoFn9716 = {FunctionType, -1, ".term-str", 2, {&protoFnArity9718, &protoFnArity9717}};
Value *dispatchFnPtr3221 = (Value *)&protoFn9716;


// .return-type 2 args
ProtoImpls protoImpls7759 = {1, {{177, (Value *)&StaticArity_return_type_7791}}};
Value *protoImpl7758(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls7759, ".return-type", arg0, arg1, "core", 0));
}
FnArity protoFnArity9715 = {FnArityType, -1, 2, (List *)0, 0, protoImpl7758};

// .return-type 1 args
ProtoImpls protoImpls7757 = {1, {{177, (Value *)&StaticArity_return_type_7793}}};
Value *protoImpl7756(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls7757, ".return-type", arg0, "core", 0));
}
FnArity protoFnArity9714 = {FnArityType, -1, 1, (List *)0, 0, protoImpl7756};
Function protoFn9713 = {FunctionType, -1, ".return-type", 2, {&protoFnArity9715, &protoFnArity9714}};
Value *dispatchFnPtr7745 = (Value *)&protoFn9713;


// .arity-fn-var 2 args
ProtoImpls protoImpls7751 = {2, {{177, (Value *)&StaticArity_arity_fn_var_7783}, {179, (Value *)&ClosureArity_arity_fn_var_7840}}};
Value *protoImpl7750(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls7751, ".arity-fn-var", arg0, arg1, "core", 0));
}
FnArity protoFnArity9712 = {FnArityType, -1, 2, (List *)0, 0, protoImpl7750};

// .arity-fn-var 1 args
ProtoImpls protoImpls7749 = {2, {{177, (Value *)&StaticArity_arity_fn_var_7785}, {179, (Value *)&ClosureArity_arity_fn_var_7842}}};
Value *protoImpl7748(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls7749, ".arity-fn-var", arg0, "core", 0));
}
FnArity protoFnArity9711 = {FnArityType, -1, 1, (List *)0, 0, protoImpl7748};
Function protoFn9710 = {FunctionType, -1, ".arity-fn-var", 2, {&protoFnArity9712, &protoFnArity9711}};
Value *dispatchFnPtr7747 = (Value *)&protoFn9710;


// .constants 2 args
ProtoImpls protoImpls5613 = {1, {{155, (Value *)&GlobalContext_constants_5661}}};
Value *protoImpl5612(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5613, ".constants", arg0, arg1, "core", 0));
}
FnArity protoFnArity9709 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5612};

// .constants 1 args
ProtoImpls protoImpls5611 = {1, {{155, (Value *)&GlobalContext_constants_5663}}};
Value *protoImpl5610(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5611, ".constants", arg0, "core", 0));
}
FnArity protoFnArity9708 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5610};
Function protoFn9707 = {FunctionType, -1, ".constants", 2, {&protoFnArity9709, &protoFnArity9708}};
Value *dispatchFnPtr5583 = (Value *)&protoFn9707;


// .types 2 args
ProtoImpls protoImpls5527 = {1, {{153, (Value *)&Module_types_5567}}};
Value *protoImpl5526(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5527, ".types", arg0, arg1, "core", 0));
}
FnArity protoFnArity9706 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5526};

// .types 1 args
ProtoImpls protoImpls5525 = {1, {{153, (Value *)&Module_types_5569}}};
Value *protoImpl5524(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5525, ".types", arg0, "core", 0));
}
FnArity protoFnArity9705 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5524};
Function protoFn9704 = {FunctionType, -1, ".types", 2, {&protoFnArity9706, &protoFnArity9705}};
Value *dispatchFnPtr5511 = (Value *)&protoFn9704;


// map 2 args
ProtoImpls map_Implementations_254 = {17, {{89, (Value *)&repeat_rule_map_3366}, {6, (Value *)&List_map_830}, {93, (Value *)&ignore_rule_map_3459}, {8, (Value *)&Vector_map_926}, {31, (Value *)&HashSet_map_1586}, {66, (Value *)&new_sm_map_2816}, {99, (Value *)&Cat_map_3592}, {62, (Value *)&free_app_map_2661}, {50, (Value *)&free_monad_map_2294}, {113, (Value *)&recursive_parser_rule_map_3922}, {15, (Value *)&Promise_map_1371}, {16, (Value *)&Future_map_1438}, {68, (Value *)&pure_map_2864}, {103, (Value *)&Union_map_3678}, {111, (Value *)&parser_rule_map_3876}, {7, (Value *)&Maybe_map_760}, {107, (Value *)&none_or_more_rule_map_3770}}};
Value *map_253(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&map_Implementations_254, "map", arg0, arg1, "core", 393));
}
FnArity protoFnArity9703 = {FnArityType, -1, 2, (List *)0, 0, map_253};
Function protoFn9702 = {FunctionType, -1, "map", 1, {&protoFnArity9703}};
Value *map_252 = (Value *)&protoFn9702;


// .ns-sym 2 args
ProtoImpls protoImpls4561 = {1, {{137, (Value *)&add_ns_ast_ns_sym_4585}}};
Value *protoImpl4560(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4561, ".ns-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9701 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4560};

// .ns-sym 1 args
ProtoImpls protoImpls4559 = {1, {{137, (Value *)&add_ns_ast_ns_sym_4587}}};
Value *protoImpl4558(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4559, ".ns-sym", arg0, "core", 0));
}
FnArity protoFnArity9700 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4558};
Function protoFn9699 = {FunctionType, -1, ".ns-sym", 2, {&protoFnArity9701, &protoFnArity9700}};
Value *dispatchFnPtr4557 = (Value *)&protoFn9699;


// .curr-input 2 args
ProtoImpls protoImpls4279 = {1, {{127, (Value *)&ParserState_curr_input_4311}}};
Value *protoImpl4278(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4279, ".curr-input", arg0, arg1, "core", 0));
}
FnArity protoFnArity9698 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4278};

// .curr-input 1 args
ProtoImpls protoImpls4277 = {1, {{127, (Value *)&ParserState_curr_input_4313}}};
Value *protoImpl4276(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4277, ".curr-input", arg0, "core", 0));
}
FnArity protoFnArity9697 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4276};
Function protoFn9696 = {FunctionType, -1, ".curr-input", 2, {&protoFnArity9698, &protoFnArity9697}};
Value *dispatchFnPtr4275 = (Value *)&protoFn9696;


// fold 2 args
ProtoImpls fold_Implementations_288 = {0, {}};
Value *fold_287(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&fold_Implementations_288, "fold", arg0, arg1, "core", 455));
}
FnArity protoFnArity9695 = {FnArityType, -1, 2, (List *)0, 0, fold_287};
Function protoFn9694 = {FunctionType, -1, "fold", 1, {&protoFnArity9695}};
Value *fold_286 = (Value *)&protoFn9694;


// send* 2 args
ProtoImpls send_STAR__Implementations_257 = {1, {{17, (Value *)&Agent_send_STAR__1478}}};
Value *send_STAR__256(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&send_STAR__Implementations_257, "send*", arg0, arg1, "core", 398));
}
FnArity protoFnArity9693 = {FnArityType, -1, 2, (List *)0, 0, send_STAR__256};
Function protoFn9692 = {FunctionType, -1, "send*", 1, {&protoFnArity9693}};
Value *send_STAR__255 = (Value *)&protoFn9692;


// dissoc* 4 args
ProtoImpls dissoc_STAR__Implementations_13 = {3, {{12, (Value *)&ArrayNode_dissoc_STAR__1009}, {13, (Value *)&HashCollisionNode_dissoc_STAR__1017}, {11, (Value *)&BitmapIndexNode_dissoc_STAR__995}}};
Value *dissoc_STAR__12(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3) {
  return(proto4Arg(&dissoc_STAR__Implementations_13, "dissoc*", arg0, arg1, arg2, arg3, "core", 17));
}
FnArity protoFnArity9691 = {FnArityType, -1, 4, (List *)0, 0, dissoc_STAR__12};
Function protoFn9690 = {FunctionType, -1, "dissoc*", 1, {&protoFnArity9691}};
Value *dissoc_STAR__11 = (Value *)&protoFn9690;


// .set-map 2 args
ProtoImpls protoImpls1540 = {1, {{31, (Value *)&HashSet_set_map_1564}}};
Value *protoImpl1539(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1540, ".set-map", arg0, arg1, "core", 0));
}
FnArity protoFnArity9689 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1539};

// .set-map 1 args
ProtoImpls protoImpls1538 = {1, {{31, (Value *)&HashSet_set_map_1566}}};
Value *protoImpl1537(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1538, ".set-map", arg0, "core", 0));
}
FnArity protoFnArity9688 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1537};
Function protoFn9687 = {FunctionType, -1, ".set-map", 2, {&protoFnArity9689, &protoFnArity9688}};
Value *dispatchFnPtr1536 = (Value *)&protoFn9687;


// conj 2 args
ProtoImpls conj_Implementations_291 = {3, {{6, (Value *)&List_conj_838}, {8, (Value *)&Vector_conj_943}, {31, (Value *)&HashSet_conj_1594}}};
Value *conj_290(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&conj_Implementations_291, "conj", arg0, arg1, "core", 451));
}
FnArity protoFnArity9686 = {FnArityType, -1, 2, (List *)0, 0, conj_290};
Function protoFn9685 = {FunctionType, -1, "conj", 1, {&protoFnArity9686}};
Value *conj_289 = (Value *)&protoFn9685;


// invoke 2 args
ProtoImpls invoke_Implementations_369 = {32, {{94, (Value *)&parser_always_invoke_3479}, {124, (Value *)&quoted_ast_invoke_4245}, {59, (Value *)&declaration_ast_invoke_2593}, {98, (Value *)&Cat_invoke_3574}, {102, (Value *)&Union_invoke_3660}, {31, (Value *)&HashSet_invoke_1574}, {80, (Value *)&parser_term_fn_invoke_3146}, {142, (Value *)&ForWhenExpr_invoke_5183}, {66, (Value *)&new_sm_invoke_2811}, {146, (Value *)&ForResultExpr_invoke_5259}, {70, (Value *)&get_state_value_invoke_2903}, {182, (Value *)&TailOr_invoke_8132}, {92, (Value *)&ignore_rule_invoke_3443}, {65, (Value *)&new_sm_invoke_2782}, {30, (Value *)&HashSet_invoke_1548}, {96, (Value *)&and_ast_invoke_3512}, {49, (Value *)&free_monad_invoke_2276}, {116, (Value *)&recursion_rule_invoke_3993}, {180, (Value *)&TailAnd_invoke_8060}, {100, (Value *)&or_ast_invoke_3620}, {106, (Value *)&none_or_more_rule_invoke_3754}, {88, (Value *)&repeat_rule_invoke_3348}, {42, (Value *)&staticArity2937}, {84, (Value *)&parser_terminal_invoke_3233}, {53, (Value *)&app_fn_invoke_2375}, {144, (Value *)&ForWhenNotExpr_invoke_5221}, {140, (Value *)&ForLetExpr_invoke_5145}, {132, (Value *)&module_ast_invoke_4471}, {76, (Value *)&parser_not_char_invoke_3046}, {108, (Value *)&assert_ast_invoke_3807}, {32, (Value *)&IntGenerator_invoke_1644}, {67, (Value *)&pure_invoke_2846}}};
Value *invoke_368(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&invoke_Implementations_369, "invoke", arg0, arg1, "core", 576));
}
FnArity protoFnArity9684 = {FnArityType, -1, 2, (List *)0, 0, invoke_368};

// invoke 5 args
ProtoImpls invoke_Implementations_375 = {6, {{148, (Value *)&ConstantValues_invoke_5435}, {43, (Value *)&FileInfo_invoke_2088}, {176, (Value *)&StaticArity_invoke_7771}, {126, (Value *)&ParserState_invoke_4299}, {118, (Value *)&prototype_ast_invoke_4047}, {168, (Value *)&ProtocolDispatcher_invoke_6227}}};
Value *invoke_374(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4) {
  return(proto5Arg(&invoke_Implementations_375, "invoke", arg0, arg1, arg2, arg3, arg4, "core", 576));
}
FnArity protoFnArity9683 = {FnArityType, -1, 5, (List *)0, 0, invoke_374};

// invoke 4 args
ProtoImpls invoke_Implementations_373 = {8, {{38, (Value *)&block_comment_ast_invoke_1979}, {170, (Value *)&ProtoImpl_invoke_6300}, {134, (Value *)&git_dep_ast_invoke_4515}, {34, (Value *)&LazyList_invoke_1727}, {47, (Value *)&DirInfo_invoke_2219}, {130, (Value *)&type_ast_invoke_4419}, {178, (Value *)&ClosureArity_invoke_7828}, {166, (Value *)&ProtoFnInfo_invoke_6130}}};
Value *invoke_372(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3) {
  return(proto4Arg(&invoke_Implementations_373, "invoke", arg0, arg1, arg2, arg3, "core", 576));
}
FnArity protoFnArity9682 = {FnArityType, -1, 4, (List *)0, 0, invoke_372};

// invoke 6 args
ProtoImpls invoke_Implementations_377 = {6, {{162, (Value *)&c_code_invoke_5943}, {164, (Value *)&c_init_invoke_6004}, {45, (Value *)&inline_ast_invoke_2152}, {160, (Value *)&empty_code_invoke_5881}, {158, (Value *)&FunctionArityContext_invoke_5751}, {138, (Value *)&tagged_symbol_invoke_4701}}};
Value *invoke_376(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5) {
  return(proto6Arg(&invoke_Implementations_377, "invoke", arg0, arg1, arg2, arg3, arg4, arg5, "core", 576));
}
FnArity protoFnArity9681 = {FnArityType, -1, 6, (List *)0, 0, invoke_376};

// invoke 8 args
ProtoImpls invoke_Implementations_381 = {0, {}};
Value *invoke_380(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7) {
  return(proto8Arg(&invoke_Implementations_381, "invoke", arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, "core", 576));
}
FnArity protoFnArity9680 = {FnArityType, -1, 8, (List *)0, 0, invoke_380};

// invoke 3 args
ProtoImpls invoke_Implementations_371 = {26, {{136, (Value *)&add_ns_ast_invoke_4573}, {156, (Value *)&Closures_invoke_5693}, {61, (Value *)&free_app_invoke_2633}, {90, (Value *)&let_ast_invoke_3386}, {104, (Value *)&either_ast_invoke_3715}, {72, (Value *)&update_state_value_invoke_2955}, {114, (Value *)&returns_ast_invoke_3938}, {112, (Value *)&recursive_parser_rule_invoke_3902}, {120, (Value *)&protocol_ast_invoke_4128}, {150, (Value *)&RuntimeInit_invoke_5485}, {36, (Value *)&InputFile_invoke_1924}, {78, (Value *)&parser_char_range_invoke_3100}, {55, (Value *)&main_ast_invoke_2434}, {40, (Value *)&OutputFile_invoke_2025}, {51, (Value *)&params_ast_invoke_2334}, {122, (Value *)&extend_ast_invoke_4192}, {172, (Value *)&ParamBinding_invoke_6441}, {86, (Value *)&binding_ast_invoke_3278}, {128, (Value *)&reify_ast_invoke_4360}, {57, (Value *)&definition_ast_invoke_2517}, {74, (Value *)&fn_ast_invoke_2993}, {174, (Value *)&TailExpr_invoke_6699}, {82, (Value *)&call_ast_invoke_3180}, {110, (Value *)&parser_rule_invoke_3854}, {7, (Value *)&Maybe_invoke_756}, {184, (Value *)&TailEither_invoke_8199}}};
Value *invoke_370(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&invoke_Implementations_371, "invoke", arg0, arg1, arg2, "core", 576));
}
FnArity protoFnArity9679 = {FnArityType, -1, 3, (List *)0, 0, invoke_370};

// invoke 1 args
ProtoImpls invoke_Implementations_367 = {0, {}};
Value *invoke_366(List *closures, Value *arg0) {
  return(proto1Arg(&invoke_Implementations_367, "invoke", arg0, "core", 576));
}
FnArity protoFnArity9678 = {FnArityType, -1, 1, (List *)0, 0, invoke_366};

// invoke 9 args
ProtoImpls invoke_Implementations_383 = {1, {{154, (Value *)&GlobalContext_invoke_5625}}};
Value *invoke_382(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6, Value *arg7, Value *arg8) {
  return(proto9Arg(&invoke_Implementations_383, "invoke", arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, "core", 576));
}
FnArity protoFnArity9677 = {FnArityType, -1, 9, (List *)0, 0, invoke_382};

// invoke 7 args
ProtoImpls invoke_Implementations_379 = {2, {{63, (Value *)&fn_arity_ast_invoke_2723}, {152, (Value *)&Module_invoke_5539}}};
Value *invoke_378(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4, Value *arg5, Value *arg6) {
  return(proto7Arg(&invoke_Implementations_379, "invoke", arg0, arg1, arg2, arg3, arg4, arg5, arg6, "core", 576));
}
FnArity protoFnArity9676 = {FnArityType, -1, 7, (List *)0, 0, invoke_378};
Function protoFn9675 = {FunctionType, -1, "invoke", 9, {&protoFnArity9684, &protoFnArity9683, &protoFnArity9682, &protoFnArity9681, &protoFnArity9680, &protoFnArity9679, &protoFnArity9678, &protoFnArity9677, &protoFnArity9676}};
Value *invoke_365 = (Value *)&protoFn9675;


// show* 2 args
ProtoImpls show_STAR__Implementations_398 = {14, {{2, (Value *)&String_show_STAR__605}, {5, (Value *)&SubString_show_STAR__658}, {4, (Value *)&Function_show_STAR__494}, {6, (Value *)&List_show_STAR__804}, {8, (Value *)&Vector_show_STAR__875}, {17, (Value *)&Agent_show_STAR__1474}, {12, (Value *)&ArrayNode_show_STAR__1116}, {13, (Value *)&HashCollisionNode_show_STAR__1166}, {15, (Value *)&Promise_show_STAR__1353}, {16, (Value *)&Future_show_STAR__1422}, {1, (Value *)&Integer_show_STAR__593}, {10, (Value *)&Symbol_show_STAR__711}, {11, (Value *)&BitmapIndexNode_show_STAR__1066}, {7, (Value *)&Maybe_show_STAR__742}}};
Value *show_STAR__397(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&show_STAR__Implementations_398, "show*", arg0, arg1, "core", 602));
}
FnArity protoFnArity9674 = {FnArityType, -1, 2, (List *)0, 0, show_STAR__397};
Function protoFn9673 = {FunctionType, -1, "show*", 1, {&protoFnArity9674}};
Value *show_STAR__396 = (Value *)&protoFn9673;


// first 1 args
ProtoImpls first_Implementations_320 = {5, {{2, (Value *)&String_first_616}, {5, (Value *)&SubString_first_669}, {6, (Value *)&List_first_431}, {8, (Value *)&Vector_first_883}, {35, (Value *)&LazyList_first_1735}}};
Value *first_319(List *closures, Value *arg0) {
  return(proto1Arg(&first_Implementations_320, "first", arg0, "core", 480));
}
FnArity protoFnArity9672 = {FnArityType, -1, 1, (List *)0, 0, first_319};
Function protoFn9671 = {FunctionType, -1, "first", 1, {&protoFnArity9672}};
Value *first_318 = (Value *)&protoFn9671;


// .sym 2 args
ProtoImpls protoImpls2505 = {5, {{60, (Value *)&declaration_ast_sym_2605}, {115, (Value *)&returns_ast_sym_3952}, {131, (Value *)&type_ast_sym_4431}, {139, (Value *)&tagged_symbol_sym_4726}, {58, (Value *)&definition_ast_sym_2529}}};
Value *protoImpl2504(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2505, ".sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9670 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2504};

// .sym 1 args
ProtoImpls protoImpls2503 = {5, {{60, (Value *)&declaration_ast_sym_2607}, {115, (Value *)&returns_ast_sym_3954}, {131, (Value *)&type_ast_sym_4433}, {139, (Value *)&tagged_symbol_sym_4728}, {58, (Value *)&definition_ast_sym_2531}}};
Value *protoImpl2502(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2503, ".sym", arg0, "core", 0));
}
FnArity protoFnArity9669 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2502};
Function protoFn9668 = {FunctionType, -1, ".sym", 2, {&protoFnArity9670, &protoFnArity9669}};
Value *dispatchFnPtr2501 = (Value *)&protoFn9668;


// butlast 1 args
ProtoImpls butlast_Implementations_323 = {4, {{2, (Value *)&String_butlast_625}, {5, (Value *)&SubString_butlast_678}, {6, (Value *)&List_butlast_812}, {8, (Value *)&Vector_butlast_889}}};
Value *butlast_322(List *closures, Value *arg0) {
  return(proto1Arg(&butlast_Implementations_323, "butlast", arg0, "core", 494));
}
FnArity protoFnArity9667 = {FnArityType, -1, 1, (List *)0, 0, butlast_322};
Function protoFn9666 = {FunctionType, -1, "butlast", 1, {&protoFnArity9667}};
Value *butlast_321 = (Value *)&protoFn9666;


// .path 2 args
ProtoImpls protoImpls1916 = {3, {{37, (Value *)&InputFile_path_1940}, {41, (Value *)&OutputFile_path_2041}, {153, (Value *)&Module_path_5551}}};
Value *protoImpl1915(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1916, ".path", arg0, arg1, "core", 0));
}
FnArity protoFnArity9665 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1915};

// .path 1 args
ProtoImpls protoImpls1914 = {3, {{37, (Value *)&InputFile_path_1942}, {41, (Value *)&OutputFile_path_2043}, {153, (Value *)&Module_path_5553}}};
Value *protoImpl1913(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1914, ".path", arg0, "core", 0));
}
FnArity protoFnArity9664 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1913};
Function protoFn9663 = {FunctionType, -1, ".path", 2, {&protoFnArity9665, &protoFnArity9664}};
Value *dispatchFnPtr1907 = (Value *)&protoFn9663;


// .c-var 2 args
ProtoImpls protoImpls5869 = {4, {{171, (Value *)&ProtoImpl_c_var_6316}, {165, (Value *)&c_init_c_var_6016}, {163, (Value *)&c_code_c_var_5955}, {161, (Value *)&empty_code_c_var_5893}}};
Value *protoImpl5868(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5869, ".c-var", arg0, arg1, "core", 0));
}
FnArity protoFnArity9662 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5868};

// .c-var 1 args
ProtoImpls protoImpls5867 = {4, {{171, (Value *)&ProtoImpl_c_var_6318}, {165, (Value *)&c_init_c_var_6018}, {163, (Value *)&c_code_c_var_5957}, {161, (Value *)&empty_code_c_var_5895}}};
Value *protoImpl5866(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5867, ".c-var", arg0, "core", 0));
}
FnArity protoFnArity9661 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5866};
Function protoFn9660 = {FunctionType, -1, ".c-var", 2, {&protoFnArity9662, &protoFnArity9661}};
Value *dispatchFnPtr5865 = (Value *)&protoFn9660;


// .fn-name 2 args
ProtoImpls protoImpls4035 = {1, {{119, (Value *)&prototype_ast_fn_name_4059}}};
Value *protoImpl4034(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4035, ".fn-name", arg0, arg1, "core", 0));
}
FnArity protoFnArity9659 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4034};

// .fn-name 1 args
ProtoImpls protoImpls4033 = {1, {{119, (Value *)&prototype_ast_fn_name_4061}}};
Value *protoImpl4032(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4033, ".fn-name", arg0, "core", 0));
}
FnArity protoFnArity9658 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4032};
Function protoFn9657 = {FunctionType, -1, ".fn-name", 2, {&protoFnArity9659, &protoFnArity9658}};
Value *dispatchFnPtr4031 = (Value *)&protoFn9657;


// .type-names 2 args
ProtoImpls protoImpls5427 = {1, {{149, (Value *)&ConstantValues_type_names_5457}}};
Value *protoImpl5426(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5427, ".type-names", arg0, arg1, "core", 0));
}
FnArity protoFnArity9656 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5426};

// .type-names 1 args
ProtoImpls protoImpls5425 = {1, {{149, (Value *)&ConstantValues_type_names_5459}}};
Value *protoImpl5424(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5425, ".type-names", arg0, "core", 0));
}
FnArity protoFnArity9655 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5424};
Function protoFn9654 = {FunctionType, -1, ".type-names", 2, {&protoFnArity9656, &protoFnArity9655}};
Value *dispatchFnPtr5408 = (Value *)&protoFn9654;


// .lower 2 args
ProtoImpls protoImpls3088 = {1, {{79, (Value *)&parser_char_range_lower_3110}}};
Value *protoImpl3087(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3088, ".lower", arg0, arg1, "core", 0));
}
FnArity protoFnArity9653 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3087};

// .lower 1 args
ProtoImpls protoImpls3086 = {1, {{79, (Value *)&parser_char_range_lower_3112}}};
Value *protoImpl3085(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3086, ".lower", arg0, "core", 0));
}
FnArity protoFnArity9652 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3085};
Function protoFn9651 = {FunctionType, -1, ".lower", 2, {&protoFnArity9653, &protoFnArity9652}};
Value *dispatchFnPtr3084 = (Value *)&protoFn9651;


// .declarations 2 args
ProtoImpls protoImpls5531 = {1, {{153, (Value *)&Module_declarations_5571}}};
Value *protoImpl5530(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5531, ".declarations", arg0, arg1, "core", 0));
}
FnArity protoFnArity9650 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5530};

// .declarations 1 args
ProtoImpls protoImpls5529 = {1, {{153, (Value *)&Module_declarations_5573}}};
Value *protoImpl5528(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5529, ".declarations", arg0, "core", 0));
}
FnArity protoFnArity9649 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5528};
Function protoFn9648 = {FunctionType, -1, ".declarations", 2, {&protoFnArity9650, &protoFnArity9649}};
Value *dispatchFnPtr5510 = (Value *)&protoFn9648;


// .fields 2 args
ProtoImpls protoImpls4411 = {1, {{131, (Value *)&type_ast_fields_4435}}};
Value *protoImpl4410(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4411, ".fields", arg0, arg1, "core", 0));
}
FnArity protoFnArity9647 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4410};

// .fields 1 args
ProtoImpls protoImpls4409 = {1, {{131, (Value *)&type_ast_fields_4437}}};
Value *protoImpl4408(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4409, ".fields", arg0, "core", 0));
}
FnArity protoFnArity9646 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4408};
Function protoFn9645 = {FunctionType, -1, ".fields", 2, {&protoFnArity9647, &protoFnArity9646}};
Value *dispatchFnPtr4406 = (Value *)&protoFn9645;


// .bindings 2 args
ProtoImpls protoImpls3378 = {2, {{91, (Value *)&let_ast_bindings_3398}, {141, (Value *)&ForLetExpr_bindings_5157}}};
Value *protoImpl3377(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3378, ".bindings", arg0, arg1, "core", 0));
}
FnArity protoFnArity9644 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3377};

// .bindings 1 args
ProtoImpls protoImpls3376 = {2, {{91, (Value *)&let_ast_bindings_3400}, {141, (Value *)&ForLetExpr_bindings_5159}}};
Value *protoImpl3375(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3376, ".bindings", arg0, "core", 0));
}
FnArity protoFnArity9643 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3375};
Function protoFn9642 = {FunctionType, -1, ".bindings", 2, {&protoFnArity9644, &protoFnArity9643}};
Value *dispatchFnPtr3374 = (Value *)&protoFn9642;


// zero 1 args
ProtoImpls zero_Implementations_235 = {14, {{2, (Value *)&String_zero_639}, {5, (Value *)&SubString_zero_692}, {6, (Value *)&List_zero_824}, {8, (Value *)&Vector_zero_911}, {31, (Value *)&HashSet_zero_1570}, {165, (Value *)&c_init_zero_6038}, {66, (Value *)&new_sm_zero_2804}, {12, (Value *)&ArrayNode_zero_1143}, {13, (Value *)&HashCollisionNode_zero_1193}, {42, (Value *)&staticArity2932}, {11, (Value *)&BitmapIndexNode_zero_1093}, {7, (Value *)&Maybe_zero_427}, {163, (Value *)&c_code_zero_5977}, {161, (Value *)&empty_code_zero_5915}}};
Value *zero_234(List *closures, Value *arg0) {
  return(proto1Arg(&zero_Implementations_235, "zero", arg0, "core", 336));
}
FnArity protoFnArity9641 = {FnArityType, -1, 1, (List *)0, 0, zero_234};
Function protoFn9640 = {FunctionType, -1, "zero", 1, {&protoFnArity9641}};
Value *zero_233 = (Value *)&protoFn9640;


// flat-map 2 args
ProtoImpls flat_map_Implementations_260 = {10, {{6, (Value *)&List_flat_map_452}, {8, (Value *)&Vector_flat_map_933}, {31, (Value *)&HashSet_flat_map_1579}, {66, (Value *)&new_sm_flat_map_2831}, {62, (Value *)&free_app_flat_map_2670}, {50, (Value *)&free_monad_flat_map_2303}, {15, (Value *)&Promise_flat_map_1396}, {16, (Value *)&Future_flat_map_1463}, {68, (Value *)&pure_flat_map_2870}, {7, (Value *)&Maybe_flat_map_766}}};
Value *flat_map_259(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&flat_map_Implementations_260, "flat-map", arg0, arg1, "core", 357));
}
FnArity protoFnArity9639 = {FnArityType, -1, 2, (List *)0, 0, flat_map_259};
Function protoFn9638 = {FunctionType, -1, "flat-map", 1, {&protoFnArity9639}};
Value *flat_map_258 = (Value *)&protoFn9638;


// vec 1 args
ProtoImpls vec_Implementations_326 = {4, {{2, (Value *)&String_vec_611}, {5, (Value *)&SubString_vec_664}, {6, (Value *)&List_vec_463}, {8, (Value *)&Vector_vec_881}}};
Value *vec_325(List *closures, Value *arg0) {
  return(proto1Arg(&vec_Implementations_326, "vec", arg0, "core", 476));
}
FnArity protoFnArity9637 = {FnArityType, -1, 1, (List *)0, 0, vec_325};
Function protoFn9636 = {FunctionType, -1, "vec", 1, {&protoFnArity9637}};
Value *vec_324 = (Value *)&protoFn9636;


// get* 5 args
ProtoImpls get_STAR__Implementations_16 = {3, {{12, (Value *)&ArrayNode_get_STAR__1007}, {13, (Value *)&HashCollisionNode_get_STAR__1021}, {11, (Value *)&BitmapIndexNode_get_STAR__997}}};
Value *get_STAR__15(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3, Value *arg4) {
  return(proto5Arg(&get_STAR__Implementations_16, "get*", arg0, arg1, arg2, arg3, arg4, "core", 15));
}
FnArity protoFnArity9635 = {FnArityType, -1, 5, (List *)0, 0, get_STAR__15};
Function protoFn9634 = {FunctionType, -1, "get*", 1, {&protoFnArity9635}};
Value *get_STAR__14 = (Value *)&protoFn9634;


// .sym-count 2 args
ProtoImpls protoImpls5731 = {1, {{159, (Value *)&FunctionArityContext_sym_count_5767}}};
Value *protoImpl5730(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5731, ".sym-count", arg0, arg1, "core", 0));
}
FnArity protoFnArity9633 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5730};

// .sym-count 1 args
ProtoImpls protoImpls5729 = {1, {{159, (Value *)&FunctionArityContext_sym_count_5769}}};
Value *protoImpl5728(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5729, ".sym-count", arg0, "core", 0));
}
FnArity protoFnArity9632 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5728};
Function protoFn9631 = {FunctionType, -1, ".sym-count", 2, {&protoFnArity9633, &protoFnArity9632}};
Value *dispatchFnPtr5722 = (Value *)&protoFn9631;


// .file-path 2 args
ProtoImpls protoImpls4463 = {1, {{133, (Value *)&module_ast_file_path_4481}}};
Value *protoImpl4462(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4463, ".file-path", arg0, arg1, "core", 0));
}
FnArity protoFnArity9630 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4462};

// .file-path 1 args
ProtoImpls protoImpls4461 = {1, {{133, (Value *)&module_ast_file_path_4483}}};
Value *protoImpl4460(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4461, ".file-path", arg0, "core", 0));
}
FnArity protoFnArity9629 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4460};
Function protoFn9628 = {FunctionType, -1, ".file-path", 2, {&protoFnArity9630, &protoFnArity9629}};
Value *dispatchFnPtr4459 = (Value *)&protoFn9628;


// .test-c 2 args
ProtoImpls protoImpls3038 = {1, {{77, (Value *)&parser_not_char_test_c_3056}}};
Value *protoImpl3037(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3038, ".test-c", arg0, arg1, "core", 0));
}
FnArity protoFnArity9627 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3037};

// .test-c 1 args
ProtoImpls protoImpls3036 = {1, {{77, (Value *)&parser_not_char_test_c_3058}}};
Value *protoImpl3035(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3036, ".test-c", arg0, "core", 0));
}
FnArity protoFnArity9626 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3035};
Function protoFn9625 = {FunctionType, -1, ".test-c", 2, {&protoFnArity9627, &protoFnArity9626}};
Value *dispatchFnPtr3034 = (Value *)&protoFn9625;


// .impls 2 args
ProtoImpls protoImpls4184 = {3, {{123, (Value *)&extend_ast_impls_4208}, {131, (Value *)&type_ast_impls_4439}, {129, (Value *)&reify_ast_impls_4376}}};
Value *protoImpl4183(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4184, ".impls", arg0, arg1, "core", 0));
}
FnArity protoFnArity9624 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4183};

// .impls 1 args
ProtoImpls protoImpls4182 = {3, {{123, (Value *)&extend_ast_impls_4210}, {131, (Value *)&type_ast_impls_4441}, {129, (Value *)&reify_ast_impls_4378}}};
Value *protoImpl4181(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4182, ".impls", arg0, "core", 0));
}
FnArity protoFnArity9623 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4181};
Function protoFn9622 = {FunctionType, -1, ".impls", 2, {&protoFnArity9624, &protoFnArity9623}};
Value *dispatchFnPtr4175 = (Value *)&protoFn9622;


// rest 1 args
ProtoImpls rest_Implementations_329 = {5, {{2, (Value *)&String_rest_618}, {5, (Value *)&SubString_rest_671}, {6, (Value *)&List_rest_433}, {8, (Value *)&Vector_rest_885}, {35, (Value *)&LazyList_rest_1737}}};
Value *rest_328(List *closures, Value *arg0) {
  return(proto1Arg(&rest_Implementations_329, "rest", arg0, "core", 485));
}
FnArity protoFnArity9621 = {FnArityType, -1, 1, (List *)0, 0, rest_328};
Function protoFn9620 = {FunctionType, -1, "rest", 1, {&protoFnArity9621}};
Value *rest_327 = (Value *)&protoFn9620;


// type-args 1 args
ProtoImpls type_args_Implementations_32 = {8, {{2, (Value *)&String_type_args_635}, {5, (Value *)&SubString_type_args_688}, {6, (Value *)&List_type_args_822}, {8, (Value *)&Vector_type_args_907}, {1, (Value *)&Integer_type_args_595}, {10, (Value *)&Symbol_type_args_717}, {7, (Value *)&Maybe_type_args_746}, {0, (Value *)&Default_type_args_34}}};
Value *type_args_31(List *closures, Value *arg0) {
  return(proto1Arg(&type_args_Implementations_32, "type-args", arg0, "core", 52));
}
FnArity protoFnArity9619 = {FnArityType, -1, 1, (List *)0, 0, type_args_31};
Function protoFn9618 = {FunctionType, -1, "type-args", 1, {&protoFnArity9619}};
Value *type_args_30 = (Value *)&protoFn9618;


// .ctime 2 args
ProtoImpls protoImpls2076 = {2, {{48, (Value *)&DirInfo_ctime_2239}, {44, (Value *)&FileInfo_ctime_2108}}};
Value *protoImpl2075(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2076, ".ctime", arg0, arg1, "core", 0));
}
FnArity protoFnArity9617 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2075};

// .ctime 1 args
ProtoImpls protoImpls2074 = {2, {{48, (Value *)&DirInfo_ctime_2241}, {44, (Value *)&FileInfo_ctime_2110}}};
Value *protoImpl2073(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2074, ".ctime", arg0, "core", 0));
}
FnArity protoFnArity9616 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2073};
Function protoFn9615 = {FunctionType, -1, ".ctime", 2, {&protoFnArity9617, &protoFnArity9616}};
Value *dispatchFnPtr2062 = (Value *)&protoFn9615;


// extend 2 args
ProtoImpls extend_Implementations_263 = {1, {{16, (Value *)&Future_extend_1470}}};
Value *extend_262(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&extend_Implementations_263, "extend", arg0, arg1, "core", 371));
}
FnArity protoFnArity9614 = {FnArityType, -1, 2, (List *)0, 0, extend_262};
Function protoFn9613 = {FunctionType, -1, "extend", 1, {&protoFnArity9614}};
Value *extend_261 = (Value *)&protoFn9613;


// .doc 2 args
ProtoImpls protoImpls2711 = {2, {{119, (Value *)&prototype_ast_doc_4067}, {64, (Value *)&fn_arity_ast_doc_2747}}};
Value *protoImpl2710(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2711, ".doc", arg0, arg1, "core", 0));
}
FnArity protoFnArity9612 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2710};

// .doc 1 args
ProtoImpls protoImpls2709 = {2, {{119, (Value *)&prototype_ast_doc_4069}, {64, (Value *)&fn_arity_ast_doc_2749}}};
Value *protoImpl2708(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2709, ".doc", arg0, "core", 0));
}
FnArity protoFnArity9611 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2708};
Function protoFn9610 = {FunctionType, -1, ".doc", 2, {&protoFnArity9612, &protoFnArity9611}};
Value *dispatchFnPtr2696 = (Value *)&protoFn9610;


// .invoke-fn 2 args
ProtoImpls protoImpls2774 = {1, {{66, (Value *)&new_sm_invoke_fn_2794}}};
Value *protoImpl2773(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2774, ".invoke-fn", arg0, arg1, "core", 0));
}
FnArity protoFnArity9609 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2773};

// .invoke-fn 1 args
ProtoImpls protoImpls2772 = {1, {{66, (Value *)&new_sm_invoke_fn_2796}}};
Value *protoImpl2771(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2772, ".invoke-fn", arg0, "core", 0));
}
FnArity protoFnArity9608 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2771};
Function protoFn9607 = {FunctionType, -1, ".invoke-fn", 2, {&protoFnArity9609, &protoFnArity9608}};
Value *dispatchFnPtr2770 = (Value *)&protoFn9607;


// .rule-name 2 args
ProtoImpls protoImpls3985 = {1, {{117, (Value *)&recursion_rule_rule_name_4003}}};
Value *protoImpl3984(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3985, ".rule-name", arg0, arg1, "core", 0));
}
FnArity protoFnArity9606 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3984};

// .rule-name 1 args
ProtoImpls protoImpls3983 = {1, {{117, (Value *)&recursion_rule_rule_name_4005}}};
Value *protoImpl3982(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3983, ".rule-name", arg0, "core", 0));
}
FnArity protoFnArity9605 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3982};
Function protoFn9604 = {FunctionType, -1, ".rule-name", 2, {&protoFnArity9606, &protoFnArity9605}};
Value *dispatchFnPtr3981 = (Value *)&protoFn9604;


// .q-val 2 args
ProtoImpls protoImpls4237 = {1, {{125, (Value *)&quoted_ast_q_val_4257}}};
Value *protoImpl4236(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4237, ".q-val", arg0, arg1, "core", 0));
}
FnArity protoFnArity9603 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4236};

// .q-val 1 args
ProtoImpls protoImpls4235 = {1, {{125, (Value *)&quoted_ast_q_val_4259}}};
Value *protoImpl4234(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4235, ".q-val", arg0, "core", 0));
}
FnArity protoFnArity9602 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4234};
Function protoFn9601 = {FunctionType, -1, ".q-val", 2, {&protoFnArity9603, &protoFnArity9602}};
Value *dispatchFnPtr4233 = (Value *)&protoFn9601;


// empty? 1 args
ProtoImpls empty_QM__Implementations_294 = {13, {{2, (Value *)&String_empty_QM__652}, {5, (Value *)&SubString_empty_QM__705}, {6, (Value *)&List_empty_QM__474}, {8, (Value *)&Vector_empty_QM__937}, {31, (Value *)&HashSet_empty_QM__1588}, {165, (Value *)&c_init_empty_QM__6046}, {12, (Value *)&ArrayNode_empty_QM__1155}, {13, (Value *)&HashCollisionNode_empty_QM__1205}, {37, (Value *)&InputFile_empty_QM__1950}, {11, (Value *)&BitmapIndexNode_empty_QM__1105}, {163, (Value *)&c_code_empty_QM__5981}, {35, (Value *)&LazyList_empty_QM__1757}, {161, (Value *)&empty_code_empty_QM__5919}}};
Value *empty_QM__293(List *closures, Value *arg0) {
  return(proto1Arg(&empty_QM__Implementations_294, "empty?", arg0, "core", 439));
}
FnArity protoFnArity9600 = {FnArityType, -1, 1, (List *)0, 0, empty_QM__293};
Function protoFn9599 = {FunctionType, -1, "empty?", 1, {&protoFnArity9600}};
Value *empty_QM__292 = (Value *)&protoFn9599;


// comp* 2 args
ProtoImpls comp_STAR__Implementations_238 = {15, {{2, (Value *)&String_comp_STAR__641}, {5, (Value *)&SubString_comp_STAR__694}, {6, (Value *)&List_comp_STAR__826}, {8, (Value *)&Vector_comp_STAR__917}, {31, (Value *)&HashSet_comp_STAR__1572}, {165, (Value *)&c_init_comp_STAR__6044}, {66, (Value *)&new_sm_comp_STAR__2809}, {12, (Value *)&ArrayNode_comp_STAR__1153}, {13, (Value *)&HashCollisionNode_comp_STAR__1203}, {15, (Value *)&Promise_comp_STAR__1364}, {16, (Value *)&Future_comp_STAR__1433}, {173, (Value *)&ParamBinding_comp_STAR__6463}, {11, (Value *)&BitmapIndexNode_comp_STAR__1103}, {163, (Value *)&c_code_comp_STAR__5979}, {161, (Value *)&empty_code_comp_STAR__5917}}};
Value *comp_STAR__237(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&comp_STAR__Implementations_238, "comp*", arg0, arg1, "core", 342));
}
FnArity protoFnArity9598 = {FnArityType, -1, 2, (List *)0, 0, comp_STAR__237};
Function protoFn9597 = {FunctionType, -1, "comp*", 1, {&protoFnArity9598}};
Value *comp_STAR__236 = (Value *)&protoFn9597;


// filter 2 args
ProtoImpls filter_Implementations_297 = {2, {{6, (Value *)&List_filter_840}, {8, (Value *)&Vector_filter_948}}};
Value *filter_296(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&filter_Implementations_297, "filter", arg0, arg1, "core", 460));
}
FnArity protoFnArity9596 = {FnArityType, -1, 2, (List *)0, 0, filter_296};
Function protoFn9595 = {FunctionType, -1, "filter", 1, {&protoFnArity9596}};
Value *filter_295 = (Value *)&protoFn9595;


// store 3 args
ProtoImpls store_Implementations_353 = {1, {{8, (Value *)&Vector_store_921}}};
Value *store_352(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&store_Implementations_353, "store", arg0, arg1, arg2, "core", 540));
}
FnArity protoFnArity9594 = {FnArityType, -1, 3, (List *)0, 0, store_352};
Function protoFn9593 = {FunctionType, -1, "store", 1, {&protoFnArity9594}};
Value *store_351 = (Value *)&protoFn9593;


// .values 2 args
ProtoImpls protoImpls4291 = {2, {{127, (Value *)&ParserState_values_4323}, {153, (Value *)&Module_values_5555}}};
Value *protoImpl4290(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4291, ".values", arg0, arg1, "core", 0));
}
FnArity protoFnArity9592 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4290};

// .values 1 args
ProtoImpls protoImpls4289 = {2, {{127, (Value *)&ParserState_values_4325}, {153, (Value *)&Module_values_5557}}};
Value *protoImpl4288(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4289, ".values", arg0, "core", 0));
}
FnArity protoFnArity9591 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4288};
Function protoFn9590 = {FunctionType, -1, ".values", 2, {&protoFnArity9592, &protoFnArity9591}};
Value *dispatchFnPtr4272 = (Value *)&protoFn9590;


// .clause 2 args
ProtoImpls protoImpls3703 = {2, {{105, (Value *)&either_ast_clause_3727}, {185, (Value *)&TailEither_clause_8209}}};
Value *protoImpl3702(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3703, ".clause", arg0, arg1, "core", 0));
}
FnArity protoFnArity9589 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3702};

// .clause 1 args
ProtoImpls protoImpls3701 = {2, {{105, (Value *)&either_ast_clause_3729}, {185, (Value *)&TailEither_clause_8211}}};
Value *protoImpl3700(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3701, ".clause", arg0, "core", 0));
}
FnArity protoFnArity9588 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3700};
Function protoFn9587 = {FunctionType, -1, ".clause", 2, {&protoFnArity9589, &protoFnArity9588}};
Value *dispatchFnPtr3699 = (Value *)&protoFn9587;


// .protocols 2 args
ProtoImpls protoImpls5519 = {1, {{153, (Value *)&Module_protocols_5559}}};
Value *protoImpl5518(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5519, ".protocols", arg0, arg1, "core", 0));
}
FnArity protoFnArity9586 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5518};

// .protocols 1 args
ProtoImpls protoImpls5517 = {1, {{153, (Value *)&Module_protocols_5561}}};
Value *protoImpl5516(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5517, ".protocols", arg0, "core", 0));
}
FnArity protoFnArity9585 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5516};
Function protoFn9584 = {FunctionType, -1, ".protocols", 2, {&protoFnArity9586, &protoFnArity9585}};
Value *dispatchFnPtr5513 = (Value *)&protoFn9584;


// =* 2 args
ProtoImpls _EQ__STAR__Implementations_386 = {87, {{2, (Value *)&String__EQ__STAR__607}, {5, (Value *)&SubString__EQ__STAR__660}, {159, (Value *)&FunctionArityContext_EQ_STAR__5757}, {89, (Value *)&repeat_rule_EQ_STAR__3354}, {119, (Value *)&prototype_ast_EQ_STAR__4053}, {87, (Value *)&binding_ast_EQ_STAR__3284}, {151, (Value *)&RuntimeInit_EQ_STAR__5489}, {54, (Value *)&app_fn_EQ_STAR__2381}, {145, (Value *)&ForWhenNotExpr_EQ_STAR__5227}, {46, (Value *)&inline_ast_EQ_STAR__2158}, {79, (Value *)&parser_char_range_EQ_STAR__3104}, {6, (Value *)&List__EQ__STAR__806}, {93, (Value *)&ignore_rule_EQ_STAR__3447}, {8, (Value *)&Vector__EQ__STAR__877}, {75, (Value *)&fn_ast_EQ_STAR__2999}, {31, (Value *)&HashSet__EQ__STAR__1556}, {133, (Value *)&module_ast_EQ_STAR__4475}, {171, (Value *)&ProtoImpl_EQ_STAR__6306}, {71, (Value *)&get_state_value_EQ_STAR__2907}, {165, (Value *)&c_init_EQ_STAR__6010}, {101, (Value *)&or_ast_EQ_STAR__3626}, {33, (Value *)&IntGenerator_EQ_STAR__1648}, {66, (Value *)&new_sm_EQ_STAR__2788}, {157, (Value *)&Closures_EQ_STAR__5697}, {105, (Value *)&either_ast_EQ_STAR__3721}, {181, (Value *)&TailAnd_EQ_STAR__8066}, {109, (Value *)&assert_ast_EQ_STAR__3813}, {48, (Value *)&DirInfo_EQ_STAR__2225}, {99, (Value *)&Cat_EQ_STAR__3580}, {62, (Value *)&free_app_EQ_STAR__2639}, {91, (Value *)&let_ast_EQ_STAR__3392}, {12, (Value *)&ArrayNode__EQ__STAR__1121}, {44, (Value *)&FileInfo_EQ_STAR__2094}, {56, (Value *)&main_ast_EQ_STAR__2440}, {13, (Value *)&HashCollisionNode__EQ__STAR__1171}, {137, (Value *)&add_ns_ast_EQ_STAR__4579}, {175, (Value *)&TailExpr_EQ_STAR__6705}, {85, (Value *)&parser_terminal_EQ_STAR__3239}, {127, (Value *)&ParserState_EQ_STAR__4305}, {50, (Value *)&free_monad_EQ_STAR__2282}, {117, (Value *)&recursion_rule_EQ_STAR__3997}, {113, (Value *)&recursive_parser_rule_EQ_STAR__3906}, {169, (Value *)&ProtocolDispatcher_EQ_STAR__6233}, {121, (Value *)&protocol_ast_EQ_STAR__4134}, {68, (Value *)&pure_EQ_STAR__2852}, {52, (Value *)&params_ast_EQ_STAR__2340}, {123, (Value *)&extend_ast_EQ_STAR__4198}, {60, (Value *)&declaration_ast_EQ_STAR__2599}, {73, (Value *)&update_state_value_EQ_STAR__2959}, {183, (Value *)&TailOr_EQ_STAR__8138}, {115, (Value *)&returns_ast_EQ_STAR__3944}, {135, (Value *)&git_dep_ast_EQ_STAR__4519}, {97, (Value *)&and_ast_EQ_STAR__3518}, {131, (Value *)&type_ast_EQ_STAR__4425}, {39, (Value *)&block_comment_ast_EQ_STAR__1985}, {173, (Value *)&ParamBinding_EQ_STAR__6447}, {103, (Value *)&Union_EQ_STAR__3666}, {139, (Value *)&tagged_symbol__EQ__STAR__4712}, {37, (Value *)&InputFile_EQ_STAR__1930}, {141, (Value *)&ForLetExpr_EQ_STAR__5151}, {41, (Value *)&OutputFile_EQ_STAR__2031}, {125, (Value *)&quoted_ast_EQ_STAR__4251}, {155, (Value *)&GlobalContext_EQ_STAR__5631}, {149, (Value *)&ConstantValues_EQ_STAR__5439}, {177, (Value *)&StaticArity_EQ_STAR__7777}, {58, (Value *)&definition_ast_EQ_STAR__2523}, {95, (Value *)&parser_always_EQ_STAR__3483}, {1, (Value *)&Integer__EQ__STAR__425}, {111, (Value *)&parser_rule_EQ_STAR__3860}, {10, (Value *)&Symbol__EQ__STAR__4756}, {77, (Value *)&parser_not_char_EQ_STAR__3050}, {11, (Value *)&BitmapIndexNode__EQ__STAR__1071}, {179, (Value *)&ClosureArity_EQ_STAR__7834}, {83, (Value *)&call_ast_EQ_STAR__3186}, {147, (Value *)&ForResultExpr_EQ_STAR__5265}, {7, (Value *)&Maybe__EQ__STAR__744}, {167, (Value *)&ProtoFnInfo_EQ_STAR__6136}, {163, (Value *)&c_code_EQ_STAR__5949}, {107, (Value *)&none_or_more_rule_EQ_STAR__3758}, {81, (Value *)&parser_term_fn_EQ_STAR__3150}, {64, (Value *)&fn_arity_ast_EQ_STAR__2729}, {185, (Value *)&TailEither_EQ_STAR__8203}, {129, (Value *)&reify_ast_EQ_STAR__4366}, {35, (Value *)&LazyList_EQ_STAR__1733}, {161, (Value *)&empty_code_EQ_STAR__5887}, {153, (Value *)&Module_EQ_STAR__5545}, {143, (Value *)&ForWhenExpr_EQ_STAR__5189}}};
Value *_EQ__STAR__385(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&_EQ__STAR__Implementations_386, "=*", arg0, arg1, "core", 580));
}
FnArity protoFnArity9583 = {FnArityType, -1, 2, (List *)0, 0, _EQ__STAR__385};
Function protoFn9582 = {FunctionType, -1, "=*", 1, {&protoFnArity9583}};
Value *_EQ__STAR__384 = (Value *)&protoFn9582;


// .destruct 2 args
ProtoImpls protoImpls6433 = {1, {{173, (Value *)&ParamBinding_destruct_6457}}};
Value *protoImpl6432(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6433, ".destruct", arg0, arg1, "core", 0));
}
FnArity protoFnArity9581 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6432};

// .destruct 1 args
ProtoImpls protoImpls6431 = {1, {{173, (Value *)&ParamBinding_destruct_6459}}};
Value *protoImpl6430(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6431, ".destruct", arg0, "core", 0));
}
FnArity protoFnArity9580 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6430};
Function protoFn9579 = {FunctionType, -1, ".destruct", 2, {&protoFnArity9581, &protoFnArity9580}};
Value *dispatchFnPtr6424 = (Value *)&protoFn9579;


// .path-to-file 2 args
ProtoImpls protoImpls1967 = {2, {{46, (Value *)&inline_ast_path_to_file_2176}, {39, (Value *)&block_comment_ast_path_to_file_1997}}};
Value *protoImpl1966(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1967, ".path-to-file", arg0, arg1, "core", 0));
}
FnArity protoFnArity9578 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1966};

// .path-to-file 1 args
ProtoImpls protoImpls1965 = {2, {{46, (Value *)&inline_ast_path_to_file_2178}, {39, (Value *)&block_comment_ast_path_to_file_1999}}};
Value *protoImpl1964(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1965, ".path-to-file", arg0, "core", 0));
}
FnArity protoFnArity9577 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1964};
Function protoFn9576 = {FunctionType, -1, ".path-to-file", 2, {&protoFnArity9578, &protoFnArity9577}};
Value *dispatchFnPtr1958 = (Value *)&protoFn9576;


// .ast 2 args
ProtoImpls protoImpls6292 = {2, {{171, (Value *)&ProtoImpl_ast_6320}, {175, (Value *)&TailExpr_ast_6711}}};
Value *protoImpl6291(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6292, ".ast", arg0, arg1, "core", 0));
}
FnArity protoFnArity9575 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6291};

// .ast 1 args
ProtoImpls protoImpls6290 = {2, {{171, (Value *)&ProtoImpl_ast_6322}, {175, (Value *)&TailExpr_ast_6713}}};
Value *protoImpl6289(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6290, ".ast", arg0, "core", 0));
}
FnArity protoFnArity9574 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6289};
Function protoFn9573 = {FunctionType, -1, ".ast", 2, {&protoFnArity9575, &protoFnArity9574}};
Value *dispatchFnPtr6282 = (Value *)&protoFn9573;


// .param-count 2 args
ProtoImpls protoImpls7755 = {1, {{177, (Value *)&StaticArity_param_count_7787}}};
Value *protoImpl7754(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls7755, ".param-count", arg0, arg1, "core", 0));
}
FnArity protoFnArity9572 = {FnArityType, -1, 2, (List *)0, 0, protoImpl7754};

// .param-count 1 args
ProtoImpls protoImpls7753 = {1, {{177, (Value *)&StaticArity_param_count_7789}}};
Value *protoImpl7752(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls7753, ".param-count", arg0, "core", 0));
}
FnArity protoFnArity9571 = {FnArityType, -1, 1, (List *)0, 0, protoImpl7752};
Function protoFn9570 = {FunctionType, -1, ".param-count", 2, {&protoFnArity9572, &protoFnArity9571}};
Value *dispatchFnPtr7746 = (Value *)&protoFn9570;


// hash-seq 2 args
ProtoImpls hash_seq_Implementations_19 = {3, {{12, (Value *)&ArrayNode_hash_seq_1005}, {13, (Value *)&HashCollisionNode_hash_seq_1019}, {11, (Value *)&BitmapIndexNode_hash_seq_991}}};
Value *hash_seq_18(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&hash_seq_Implementations_19, "hash-seq", arg0, arg1, "core", 14));
}
FnArity protoFnArity9569 = {FnArityType, -1, 2, (List *)0, 0, hash_seq_18};
Function protoFn9568 = {FunctionType, -1, "hash-seq", 1, {&protoFnArity9569}};
Value *hash_seq_17 = (Value *)&protoFn9568;


// .decl 2 args
ProtoImpls protoImpls5873 = {3, {{165, (Value *)&c_init_decl_6024}, {163, (Value *)&c_code_decl_5963}, {161, (Value *)&empty_code_decl_5901}}};
Value *protoImpl5872(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5873, ".decl", arg0, arg1, "core", 0));
}
FnArity protoFnArity9567 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5872};

// .decl 1 args
ProtoImpls protoImpls5871 = {3, {{165, (Value *)&c_init_decl_6026}, {163, (Value *)&c_code_decl_5965}, {161, (Value *)&empty_code_decl_5903}}};
Value *protoImpl5870(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5871, ".decl", arg0, "core", 0));
}
FnArity protoFnArity9566 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5870};
Function protoFn9565 = {FunctionType, -1, ".decl", 2, {&protoFnArity9567, &protoFnArity9566}};
Value *dispatchFnPtr5863 = (Value *)&protoFn9565;


// count 1 args
ProtoImpls count_Implementations_300 = {9, {{2, (Value *)&String_count_650}, {5, (Value *)&SubString_count_703}, {6, (Value *)&List_count_476}, {8, (Value *)&Vector_count_941}, {31, (Value *)&HashSet_count_1592}, {12, (Value *)&ArrayNode_count_1001}, {13, (Value *)&HashCollisionNode_count_1013}, {52, (Value *)&params_ast_count_2356}, {11, (Value *)&BitmapIndexNode_count_989}}};
Value *count_299(List *closures, Value *arg0) {
  return(proto1Arg(&count_Implementations_300, "count", arg0, "core", 443));
}
FnArity protoFnArity9564 = {FnArityType, -1, 1, (List *)0, 0, count_299};
Function protoFn9563 = {FunctionType, -1, "count", 1, {&protoFnArity9564}};
Value *count_298 = (Value *)&protoFn9563;


// .value 2 args
ProtoImpls protoImpls2509 = {3, {{145, (Value *)&ForWhenNotExpr_value_5233}, {58, (Value *)&definition_ast_value_2533}, {143, (Value *)&ForWhenExpr_value_5195}}};
Value *protoImpl2508(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2509, ".value", arg0, arg1, "core", 0));
}
FnArity protoFnArity9562 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2508};

// .value 1 args
ProtoImpls protoImpls2507 = {3, {{145, (Value *)&ForWhenNotExpr_value_5235}, {58, (Value *)&definition_ast_value_2535}, {143, (Value *)&ForWhenExpr_value_5197}}};
Value *protoImpl2506(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2507, ".value", arg0, "core", 0));
}
FnArity protoFnArity9561 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2506};
Function protoFn9560 = {FunctionType, -1, ".value", 2, {&protoFnArity9562, &protoFnArity9561}};
Value *dispatchFnPtr2500 = (Value *)&protoFn9560;


// .fns 2 args
ProtoImpls protoImpls5605 = {1, {{155, (Value *)&GlobalContext_fns_5653}}};
Value *protoImpl5604(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5605, ".fns", arg0, arg1, "core", 0));
}
FnArity protoFnArity9559 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5604};

// .fns 1 args
ProtoImpls protoImpls5603 = {1, {{155, (Value *)&GlobalContext_fns_5655}}};
Value *protoImpl5602(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5603, ".fns", arg0, "core", 0));
}
FnArity protoFnArity9558 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5602};
Function protoFn9557 = {FunctionType, -1, ".fns", 2, {&protoFnArity9559, &protoFnArity9558}};
Value *dispatchFnPtr5585 = (Value *)&protoFn9557;


// .init 2 args
ProtoImpls protoImpls5597 = {4, {{165, (Value *)&c_init_init_6020}, {155, (Value *)&GlobalContext_init_5645}, {163, (Value *)&c_code_init_5959}, {161, (Value *)&empty_code_init_5897}}};
Value *protoImpl5596(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5597, ".init", arg0, arg1, "core", 0));
}
FnArity protoFnArity9556 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5596};

// .init 1 args
ProtoImpls protoImpls5595 = {4, {{165, (Value *)&c_init_init_6022}, {155, (Value *)&GlobalContext_init_5647}, {163, (Value *)&c_code_init_5961}, {161, (Value *)&empty_code_init_5899}}};
Value *protoImpl5594(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5595, ".init", arg0, "core", 0));
}
FnArity protoFnArity9555 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5594};
Function protoFn9554 = {FunctionType, -1, ".init", 2, {&protoFnArity9556, &protoFnArity9555}};
Value *dispatchFnPtr5587 = (Value *)&protoFn9554;


// apply* 2 args
ProtoImpls apply_STAR__Implementations_266 = {8, {{4, (Value *)&Function_apply_STAR__500}, {66, (Value *)&new_sm_apply_STAR__2826}, {62, (Value *)&free_app_apply_STAR__2665}, {50, (Value *)&free_monad_apply_STAR__2298}, {15, (Value *)&Promise_apply_STAR__1388}, {16, (Value *)&Future_apply_STAR__1455}, {68, (Value *)&pure_apply_STAR__2868}, {7, (Value *)&Maybe_apply_STAR__764}}};
Value *apply_STAR__265(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&apply_STAR__Implementations_266, "apply*", arg0, arg1, "core", 388));
}
FnArity protoFnArity9553 = {FnArityType, -1, 2, (List *)0, 0, apply_STAR__265};
Function protoFn9552 = {FunctionType, -1, "apply*", 1, {&protoFnArity9553}};
Value *apply_STAR__264 = (Value *)&protoFn9552;


// .grammar 2 args
ProtoImpls protoImpls3846 = {2, {{113, (Value *)&recursive_parser_rule_grammar_3916}, {111, (Value *)&parser_rule_grammar_3870}}};
Value *protoImpl3845(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3846, ".grammar", arg0, arg1, "core", 0));
}
FnArity protoFnArity9551 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3845};

// .grammar 1 args
ProtoImpls protoImpls3844 = {2, {{113, (Value *)&recursive_parser_rule_grammar_3918}, {111, (Value *)&parser_rule_grammar_3872}}};
Value *protoImpl3843(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3844, ".grammar", arg0, "core", 0));
}
FnArity protoFnArity9550 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3843};
Function protoFn9549 = {FunctionType, -1, ".grammar", 2, {&protoFnArity9551, &protoFnArity9550}};
Value *dispatchFnPtr3841 = (Value *)&protoFn9549;


// <* 2 args
ProtoImpls _LT__STAR__Implementations_389 = {4, {{2, (Value *)&String__LT__STAR__637}, {5, (Value *)&SubString__LT__STAR__690}, {1, (Value *)&Integer__LT__STAR__599}, {10, (Value *)&Symbol__LT__STAR__719}}};
Value *_LT__STAR__388(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&_LT__STAR__Implementations_389, "<*", arg0, arg1, "core", 586));
}
FnArity protoFnArity9548 = {FnArityType, -1, 2, (List *)0, 0, _LT__STAR__388};
Function protoFn9547 = {FunctionType, -1, "<*", 1, {&protoFnArity9548}};
Value *_LT__STAR__387 = (Value *)&protoFn9547;


// .higher 2 args
ProtoImpls protoImpls3092 = {1, {{79, (Value *)&parser_char_range_higher_3114}}};
Value *protoImpl3091(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3092, ".higher", arg0, arg1, "core", 0));
}
FnArity protoFnArity9546 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3091};

// .higher 1 args
ProtoImpls protoImpls3090 = {1, {{79, (Value *)&parser_char_range_higher_3116}}};
Value *protoImpl3089(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3090, ".higher", arg0, "core", 0));
}
FnArity protoFnArity9545 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3089};
Function protoFn9544 = {FunctionType, -1, ".higher", 2, {&protoFnArity9546, &protoFnArity9545}};
Value *dispatchFnPtr3083 = (Value *)&protoFn9544;


// .v 2 args
ProtoImpls protoImpls2268 = {5, {{54, (Value *)&app_fn_v_2387}, {62, (Value *)&free_app_v_2645}, {50, (Value *)&free_monad_v_2288}, {68, (Value *)&pure_v_2858}, {95, (Value *)&parser_always_v_3489}}};
Value *protoImpl2267(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2268, ".v", arg0, arg1, "core", 0));
}
FnArity protoFnArity9543 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2267};

// .v 1 args
ProtoImpls protoImpls2266 = {5, {{54, (Value *)&app_fn_v_2389}, {62, (Value *)&free_app_v_2647}, {50, (Value *)&free_monad_v_2290}, {68, (Value *)&pure_v_2860}, {95, (Value *)&parser_always_v_3491}}};
Value *protoImpl2265(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2266, ".v", arg0, "core", 0));
}
FnArity protoFnArity9542 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2265};
Function protoFn9541 = {FunctionType, -1, ".v", 2, {&protoFnArity9543, &protoFnArity9542}};
Value *dispatchFnPtr2264 = (Value *)&protoFn9541;


// get-type 1 args
ProtoImpls get_type_Implementations_37 = {1, {{0, (Value *)&Default_get_type_39}}};
Value *get_type_36(List *closures, Value *arg0) {
  return(proto1Arg(&get_type_Implementations_37, "get-type", arg0, "core", 38));
}
FnArity protoFnArity9540 = {FnArityType, -1, 1, (List *)0, 0, get_type_36};
Function protoFn9539 = {FunctionType, -1, "get-type", 1, {&protoFnArity9540}};
Value *get_type_35 = (Value *)&protoFn9539;


// .closed-over 2 args
ProtoImpls protoImpls5743 = {1, {{159, (Value *)&FunctionArityContext_closed_over_5779}}};
Value *protoImpl5742(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5743, ".closed-over", arg0, arg1, "core", 0));
}
FnArity protoFnArity9538 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5742};

// .closed-over 1 args
ProtoImpls protoImpls5741 = {1, {{159, (Value *)&FunctionArityContext_closed_over_5781}}};
Value *protoImpl5740(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5741, ".closed-over", arg0, "core", 0));
}
FnArity protoFnArity9537 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5740};
Function protoFn9536 = {FunctionType, -1, ".closed-over", 2, {&protoFnArity9538, &protoFnArity9537}};
Value *dispatchFnPtr5719 = (Value *)&protoFn9536;


// .container 2 args
ProtoImpls protoImpls1711 = {1, {{35, (Value *)&LazyList_container_1743}}};
Value *protoImpl1710(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1711, ".container", arg0, arg1, "core", 0));
}
FnArity protoFnArity9535 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1710};

// .container 1 args
ProtoImpls protoImpls1709 = {1, {{35, (Value *)&LazyList_container_1745}}};
Value *protoImpl1708(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1709, ".container", arg0, "core", 0));
}
FnArity protoFnArity9534 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1708};
Function protoFn9533 = {FunctionType, -1, ".container", 2, {&protoFnArity9535, &protoFnArity9534}};
Value *dispatchFnPtr1707 = (Value *)&protoFn9533;


// .alt 2 args
ProtoImpls protoImpls3707 = {2, {{105, (Value *)&either_ast_alt_3731}, {185, (Value *)&TailEither_alt_8213}}};
Value *protoImpl3706(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3707, ".alt", arg0, arg1, "core", 0));
}
FnArity protoFnArity9532 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3706};

// .alt 1 args
ProtoImpls protoImpls3705 = {2, {{105, (Value *)&either_ast_alt_3733}, {185, (Value *)&TailEither_alt_8215}}};
Value *protoImpl3704(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3705, ".alt", arg0, "core", 0));
}
FnArity protoFnArity9531 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3704};
Function protoFn9530 = {FunctionType, -1, ".alt", 2, {&protoFnArity9532, &protoFnArity9531}};
Value *dispatchFnPtr3698 = (Value *)&protoFn9530;


// .file-name 2 args
ProtoImpls protoImpls4693 = {1, {{139, (Value *)&tagged_symbol_file_name_4730}}};
Value *protoImpl4692(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4693, ".file-name", arg0, arg1, "core", 0));
}
FnArity protoFnArity9529 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4692};

// .file-name 1 args
ProtoImpls protoImpls4691 = {1, {{139, (Value *)&tagged_symbol_file_name_4732}}};
Value *protoImpl4690(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4691, ".file-name", arg0, "core", 0));
}
FnArity protoFnArity9528 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4690};
Function protoFn9527 = {FunctionType, -1, ".file-name", 2, {&protoFnArity9529, &protoFnArity9528}};
Value *dispatchFnPtr4678 = (Value *)&protoFn9527;


// .f 2 args
ProtoImpls protoImpls2947 = {2, {{73, (Value *)&update_state_value_f_2969}, {81, (Value *)&parser_term_fn_f_3156}}};
Value *protoImpl2946(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2947, ".f", arg0, arg1, "core", 0));
}
FnArity protoFnArity9526 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2946};

// .f 1 args
ProtoImpls protoImpls2945 = {2, {{73, (Value *)&update_state_value_f_2971}, {81, (Value *)&parser_term_fn_f_3158}}};
Value *protoImpl2944(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2945, ".f", arg0, "core", 0));
}
FnArity protoFnArity9525 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2944};
Function protoFn9524 = {FunctionType, -1, ".f", 2, {&protoFnArity9526, &protoFnArity9525}};
Value *dispatchFnPtr2942 = (Value *)&protoFn9524;


// instance? 2 args
ProtoImpls instance_QM__Implementations_42 = {88, {{162, (Value *)&c_code_instance_QMARK__5941}, {94, (Value *)&parser_always_instance_QMARK__3477}, {136, (Value *)&add_ns_ast_instance_QMARK__4571}, {156, (Value *)&Closures_instance_QMARK__5691}, {61, (Value *)&free_app_instance_QMARK__2631}, {63, (Value *)&fn_arity_ast_instance_QMARK__2721}, {124, (Value *)&quoted_ast_instance_QMARK__4243}, {27, (Value *)&staticArity180}, {59, (Value *)&declaration_ast_instance_QMARK__2591}, {148, (Value *)&ConstantValues_instance_QMARK__5433}, {38, (Value *)&block_comment_ast_instance_QMARK__1977}, {90, (Value *)&let_ast_instance_QMARK__3384}, {104, (Value *)&either_ast_instance_QMARK__3713}, {72, (Value *)&update_state_value_instance_QMARK__2953}, {98, (Value *)&Cat_instance_QMARK__3572}, {102, (Value *)&Union_instance_QMARK__3658}, {43, (Value *)&FileInfo_instance_QMARK__2086}, {22, (Value *)&staticArity160}, {28, (Value *)&staticArity184}, {114, (Value *)&returns_ast_instance_QMARK__3936}, {80, (Value *)&parser_term_fn_instance_QMARK__3144}, {142, (Value *)&ForWhenExpr_instance_QMARK__5181}, {20, (Value *)&staticArity152}, {146, (Value *)&ForResultExpr_instance_QMARK__5257}, {70, (Value *)&get_state_value_instance_QMARK__2901}, {26, (Value *)&staticArity176}, {112, (Value *)&recursive_parser_rule_instance_QMARK__3900}, {170, (Value *)&ProtoImpl_instance_QMARK__6298}, {176, (Value *)&StaticArity_instance_QMARK__7769}, {164, (Value *)&c_init_instance_QMARK__6002}, {126, (Value *)&ParserState_instance_QMARK__4297}, {120, (Value *)&protocol_ast_instance_QMARK__4126}, {150, (Value *)&RuntimeInit_instance_QMARK__5483}, {182, (Value *)&TailOr_instance_QMARK__8130}, {92, (Value *)&ignore_rule_instance_QMARK__3441}, {65, (Value *)&new_sm_instance_QMARK__2780}, {36, (Value *)&InputFile_instance_QMARK__1922}, {30, (Value *)&HashSet_instance_QMARK__1546}, {96, (Value *)&and_ast_instance_QMARK__3510}, {25, (Value *)&staticArity172}, {118, (Value *)&prototype_ast_instance_QMARK__4045}, {19, (Value *)&staticArity148}, {78, (Value *)&parser_char_range_instance_QMARK__3098}, {49, (Value *)&free_monad_instance_QMARK__2274}, {55, (Value *)&main_ast_instance_QMARK__2432}, {45, (Value *)&inline_ast_instance_QMARK__2150}, {40, (Value *)&OutputFile_instance_QMARK__2023}, {152, (Value *)&Module_instance_QMARK__5537}, {116, (Value *)&recursion_rule_instance_QMARK__3991}, {180, (Value *)&TailAnd_instance_QMARK__8058}, {51, (Value *)&params_ast_instance_QMARK__2332}, {122, (Value *)&extend_ast_instance_QMARK__4190}, {172, (Value *)&ParamBinding_instance_QMARK__6439}, {86, (Value *)&binding_ast_instance_QMARK__3276}, {128, (Value *)&reify_ast_instance_QMARK__4358}, {100, (Value *)&or_ast_instance_QMARK__3618}, {154, (Value *)&GlobalContext_instance_QMARK__5623}, {24, (Value *)&staticArity168}, {106, (Value *)&none_or_more_rule_instance_QMARK__3752}, {57, (Value *)&definition_ast_instance_QMARK__2515}, {21, (Value *)&staticArity156}, {160, (Value *)&empty_code_instance_QMARK__5879}, {88, (Value *)&repeat_rule_instance_QMARK__3346}, {74, (Value *)&fn_ast_instance_QMARK__2991}, {84, (Value *)&parser_terminal_instance_QMARK__3231}, {158, (Value *)&FunctionArityContext_instance_QMARK__5749}, {53, (Value *)&app_fn_instance_QMARK__2373}, {174, (Value *)&TailExpr_instance_QMARK__6697}, {134, (Value *)&git_dep_ast_instance_QMARK__4513}, {168, (Value *)&ProtocolDispatcher_instance_QMARK__6225}, {138, (Value *)&tagged_symbol_instance_QMARK__4699}, {144, (Value *)&ForWhenNotExpr_instance_QMARK__5219}, {34, (Value *)&LazyList_instance_QMARK__1725}, {82, (Value *)&call_ast_instance_QMARK__3178}, {140, (Value *)&ForLetExpr_instance_QMARK__5143}, {110, (Value *)&parser_rule_instance_QMARK__3852}, {132, (Value *)&module_ast_instance_QMARK__4469}, {23, (Value *)&staticArity164}, {29, (Value *)&staticArity188}, {76, (Value *)&parser_not_char_instance_QMARK__3044}, {47, (Value *)&DirInfo_instance_QMARK__2217}, {108, (Value *)&assert_ast_instance_QMARK__3805}, {130, (Value *)&type_ast_instance_QMARK__4417}, {178, (Value *)&ClosureArity_instance_QMARK__7826}, {166, (Value *)&ProtoFnInfo_instance_QMARK__6128}, {32, (Value *)&IntGenerator_instance_QMARK__1642}, {184, (Value *)&TailEither_instance_QMARK__8197}, {67, (Value *)&pure_instance_QMARK__2844}}};
Value *instance_QM__41(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&instance_QM__Implementations_42, "instance?", arg0, arg1, "core", 55));
}
FnArity protoFnArity9523 = {FnArityType, -1, 2, (List *)0, 0, instance_QM__41};
Function protoFn9522 = {FunctionType, -1, "instance?", 1, {&protoFnArity9523}};
Value *instance_QM__40 = (Value *)&protoFn9522;


// .params 2 args
ProtoImpls protoImpls2422 = {5, {{119, (Value *)&prototype_ast_params_4063}, {56, (Value *)&main_ast_params_2446}, {175, (Value *)&TailExpr_params_6715}, {179, (Value *)&ClosureArity_params_7844}, {64, (Value *)&fn_arity_ast_params_2743}}};
Value *protoImpl2421(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2422, ".params", arg0, arg1, "core", 0));
}
FnArity protoFnArity9521 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2421};

// .params 1 args
ProtoImpls protoImpls2420 = {5, {{119, (Value *)&prototype_ast_params_4065}, {56, (Value *)&main_ast_params_2448}, {175, (Value *)&TailExpr_params_6717}, {179, (Value *)&ClosureArity_params_7846}, {64, (Value *)&fn_arity_ast_params_2745}}};
Value *protoImpl2419(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2420, ".params", arg0, "core", 0));
}
FnArity protoFnArity9520 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2419};
Function protoFn9519 = {FunctionType, -1, ".params", 2, {&protoFnArity9521, &protoFnArity9520}};
Value *dispatchFnPtr2418 = (Value *)&protoFn9519;


// .exprs 2 args
ProtoImpls protoImpls5477 = {1, {{151, (Value *)&RuntimeInit_exprs_5499}}};
Value *protoImpl5476(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5477, ".exprs", arg0, arg1, "core", 0));
}
FnArity protoFnArity9518 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5476};

// .exprs 1 args
ProtoImpls protoImpls5475 = {1, {{151, (Value *)&RuntimeInit_exprs_5501}}};
Value *protoImpl5474(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5475, ".exprs", arg0, "core", 0));
}
FnArity protoFnArity9517 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5474};
Function protoFn9516 = {FunctionType, -1, ".exprs", 2, {&protoFnArity9518, &protoFnArity9517}};
Value *dispatchFnPtr5468 = (Value *)&protoFn9516;


// .impls-sym 2 args
ProtoImpls protoImpls6215 = {1, {{169, (Value *)&ProtocolDispatcher_impls_sym_6247}}};
Value *protoImpl6214(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6215, ".impls-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9515 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6214};

// .impls-sym 1 args
ProtoImpls protoImpls6213 = {1, {{169, (Value *)&ProtocolDispatcher_impls_sym_6249}}};
Value *protoImpl6212(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6213, ".impls-sym", arg0, "core", 0));
}
FnArity protoFnArity9514 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6212};
Function protoFn9513 = {FunctionType, -1, ".impls-sym", 2, {&protoFnArity9515, &protoFnArity9514}};
Value *dispatchFnPtr6201 = (Value *)&protoFn9513;


// .disp-sym 2 args
ProtoImpls protoImpls6118 = {1, {{167, (Value *)&ProtoFnInfo_disp_sym_6146}}};
Value *protoImpl6117(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6118, ".disp-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9512 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6117};

// .disp-sym 1 args
ProtoImpls protoImpls6116 = {1, {{167, (Value *)&ProtoFnInfo_disp_sym_6148}}};
Value *protoImpl6115(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6116, ".disp-sym", arg0, "core", 0));
}
FnArity protoFnArity9511 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6115};
Function protoFn9510 = {FunctionType, -1, ".disp-sym", 2, {&protoFnArity9512, &protoFnArity9511}};
Value *dispatchFnPtr6113 = (Value *)&protoFn9510;


// .target-lang 2 args
ProtoImpls protoImpls5593 = {1, {{155, (Value *)&GlobalContext_target_lang_5637}}};
Value *protoImpl5592(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5593, ".target-lang", arg0, arg1, "core", 0));
}
FnArity protoFnArity9509 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5592};

// .target-lang 1 args
ProtoImpls protoImpls5591 = {1, {{155, (Value *)&GlobalContext_target_lang_5639}}};
Value *protoImpl5590(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5591, ".target-lang", arg0, "core", 0));
}
FnArity protoFnArity9508 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5590};
Function protoFn9507 = {FunctionType, -1, ".target-lang", 2, {&protoFnArity9509, &protoFnArity9508}};
Value *dispatchFnPtr5589 = (Value *)&protoFn9507;


// .strings 2 args
ProtoImpls protoImpls5419 = {1, {{149, (Value *)&ConstantValues_strings_5449}}};
Value *protoImpl5418(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5419, ".strings", arg0, arg1, "core", 0));
}
FnArity protoFnArity9506 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5418};

// .strings 1 args
ProtoImpls protoImpls5417 = {1, {{149, (Value *)&ConstantValues_strings_5451}}};
Value *protoImpl5416(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5417, ".strings", arg0, "core", 0));
}
FnArity protoFnArity9505 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5416};
Function protoFn9504 = {FunctionType, -1, ".strings", 2, {&protoFnArity9506, &protoFnArity9505}};
Value *dispatchFnPtr5410 = (Value *)&protoFn9504;


// .fn-context 2 args
ProtoImpls protoImpls5473 = {2, {{151, (Value *)&RuntimeInit_fn_context_5495}, {155, (Value *)&GlobalContext_fn_context_5641}}};
Value *protoImpl5472(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5473, ".fn-context", arg0, arg1, "core", 0));
}
FnArity protoFnArity9503 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5472};

// .fn-context 1 args
ProtoImpls protoImpls5471 = {2, {{151, (Value *)&RuntimeInit_fn_context_5497}, {155, (Value *)&GlobalContext_fn_context_5643}}};
Value *protoImpl5470(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5471, ".fn-context", arg0, "core", 0));
}
FnArity protoFnArity9502 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5470};
Function protoFn9501 = {FunctionType, -1, ".fn-context", 2, {&protoFnArity9503, &protoFnArity9502}};
Value *dispatchFnPtr5469 = (Value *)&protoFn9501;


// .fixed 2 args
ProtoImpls protoImpls2322 = {1, {{52, (Value *)&params_ast_fixed_2346}}};
Value *protoImpl2321(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2322, ".fixed", arg0, arg1, "core", 0));
}
FnArity protoFnArity9500 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2321};

// .fixed 1 args
ProtoImpls protoImpls2320 = {1, {{52, (Value *)&params_ast_fixed_2348}}};
Value *protoImpl2319(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2320, ".fixed", arg0, "core", 0));
}
FnArity protoFnArity9499 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2319};
Function protoFn9498 = {FunctionType, -1, ".fixed", 2, {&protoFnArity9500, &protoFnArity9499}};
Value *dispatchFnPtr2318 = (Value *)&protoFn9498;


// .arities 2 args
ProtoImpls protoImpls2985 = {1, {{75, (Value *)&fn_ast_arities_3009}}};
Value *protoImpl2984(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2985, ".arities", arg0, arg1, "core", 0));
}
FnArity protoFnArity9497 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2984};

// .arities 1 args
ProtoImpls protoImpls2983 = {1, {{75, (Value *)&fn_ast_arities_3011}}};
Value *protoImpl2982(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2983, ".arities", arg0, "core", 0));
}
FnArity protoFnArity9496 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2982};
Function protoFn9495 = {FunctionType, -1, ".arities", 2, {&protoFnArity9497, &protoFnArity9496}};
Value *dispatchFnPtr2980 = (Value *)&protoFn9495;


// has-field 2 args
ProtoImpls has_field_Implementations_45 = {78, {{159, (Value *)&FunctionArityContext_has_field_5761}, {89, (Value *)&repeat_rule_has_field_3358}, {119, (Value *)&prototype_ast_has_field_4057}, {87, (Value *)&binding_ast_has_field_3288}, {151, (Value *)&RuntimeInit_has_field_5493}, {54, (Value *)&app_fn_has_field_2385}, {145, (Value *)&ForWhenNotExpr_has_field_5231}, {46, (Value *)&inline_ast_has_field_2162}, {79, (Value *)&parser_char_range_has_field_3108}, {93, (Value *)&ignore_rule_has_field_3451}, {75, (Value *)&fn_ast_has_field_3003}, {31, (Value *)&HashSet_has_field_1562}, {133, (Value *)&module_ast_has_field_4479}, {171, (Value *)&ProtoImpl_has_field_6310}, {71, (Value *)&get_state_value_has_field_2911}, {165, (Value *)&c_init_has_field_6014}, {101, (Value *)&or_ast_has_field_3630}, {33, (Value *)&IntGenerator_has_field_1652}, {66, (Value *)&new_sm_has_field_2792}, {157, (Value *)&Closures_has_field_5701}, {105, (Value *)&either_ast_has_field_3725}, {181, (Value *)&TailAnd_has_field_8070}, {109, (Value *)&assert_ast_has_field_3819}, {48, (Value *)&DirInfo_has_field_2229}, {99, (Value *)&Cat_has_field_3584}, {62, (Value *)&free_app_has_field_2643}, {91, (Value *)&let_ast_has_field_3396}, {44, (Value *)&FileInfo_has_field_2098}, {56, (Value *)&main_ast_has_field_2444}, {137, (Value *)&add_ns_ast_has_field_4583}, {175, (Value *)&TailExpr_has_field_6709}, {85, (Value *)&parser_terminal_has_field_3243}, {127, (Value *)&ParserState_has_field_4309}, {50, (Value *)&free_monad_has_field_2286}, {117, (Value *)&recursion_rule_has_field_4001}, {113, (Value *)&recursive_parser_rule_has_field_3910}, {169, (Value *)&ProtocolDispatcher_has_field_6237}, {121, (Value *)&protocol_ast_has_field_4138}, {68, (Value *)&pure_has_field_2856}, {52, (Value *)&params_ast_has_field_2344}, {123, (Value *)&extend_ast_has_field_4202}, {60, (Value *)&declaration_ast_has_field_2603}, {73, (Value *)&update_state_value_has_field_2963}, {183, (Value *)&TailOr_has_field_8142}, {115, (Value *)&returns_ast_has_field_3950}, {135, (Value *)&git_dep_ast_has_field_4523}, {97, (Value *)&and_ast_has_field_3522}, {131, (Value *)&type_ast_has_field_4429}, {39, (Value *)&block_comment_ast_has_field_1991}, {173, (Value *)&ParamBinding_has_field_6451}, {103, (Value *)&Union_has_field_3670}, {139, (Value *)&tagged_symbol_has_field_4716}, {37, (Value *)&InputFile_has_field_1934}, {141, (Value *)&ForLetExpr_has_field_5155}, {41, (Value *)&OutputFile_has_field_2035}, {125, (Value *)&quoted_ast_has_field_4255}, {155, (Value *)&GlobalContext_has_field_5635}, {149, (Value *)&ConstantValues_has_field_5443}, {177, (Value *)&StaticArity_has_field_7781}, {58, (Value *)&definition_ast_has_field_2527}, {95, (Value *)&parser_always_has_field_3487}, {111, (Value *)&parser_rule_has_field_3864}, {77, (Value *)&parser_not_char_has_field_3054}, {179, (Value *)&ClosureArity_has_field_7838}, {83, (Value *)&call_ast_has_field_3190}, {147, (Value *)&ForResultExpr_has_field_5269}, {167, (Value *)&ProtoFnInfo_has_field_6140}, {163, (Value *)&c_code_has_field_5953}, {107, (Value *)&none_or_more_rule_has_field_3762}, {81, (Value *)&parser_term_fn_has_field_3154}, {64, (Value *)&fn_arity_ast_has_field_2733}, {0, (Value *)&Default_has_field_47}, {185, (Value *)&TailEither_has_field_8207}, {129, (Value *)&reify_ast_has_field_4370}, {35, (Value *)&LazyList_has_field_1741}, {161, (Value *)&empty_code_has_field_5891}, {153, (Value *)&Module_has_field_5549}, {143, (Value *)&ForWhenExpr_has_field_5193}}};
Value *has_field_44(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&has_field_Implementations_45, "has-field", arg0, arg1, "core", 34));
}
FnArity protoFnArity9494 = {FnArityType, -1, 2, (List *)0, 0, has_field_44};
Function protoFn9493 = {FunctionType, -1, "has-field", 1, {&protoFnArity9494}};
Value *has_field_43 = (Value *)&protoFn9493;


// keys 1 args
ProtoImpls keys_Implementations_359 = {3, {{12, (Value *)&ArrayNode_keys_1131}, {13, (Value *)&HashCollisionNode_keys_1181}, {11, (Value *)&BitmapIndexNode_keys_1081}}};
Value *keys_358(List *closures, Value *arg0) {
  return(proto1Arg(&keys_Implementations_359, "keys", arg0, "core", 558));
}
FnArity protoFnArity9492 = {FnArityType, -1, 1, (List *)0, 0, keys_358};
Function protoFn9491 = {FunctionType, -1, "keys", 1, {&protoFnArity9492}};
Value *keys_357 = (Value *)&protoFn9491;


// .base 2 args
ProtoImpls protoImpls4689 = {1, {{139, (Value *)&tagged_symbol_base_4722}}};
Value *protoImpl4688(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4689, ".base", arg0, arg1, "core", 0));
}
FnArity protoFnArity9490 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4688};

// .base 1 args
ProtoImpls protoImpls4687 = {1, {{139, (Value *)&tagged_symbol_base_4724}}};
Value *protoImpl4686(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4687, ".base", arg0, "core", 0));
}
FnArity protoFnArity9489 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4686};
Function protoFn9488 = {FunctionType, -1, ".base", 2, {&protoFnArity9490, &protoFnArity9489}};
Value *dispatchFnPtr4680 = (Value *)&protoFn9488;


// .type 2 args
ProtoImpls protoImpls4180 = {1, {{123, (Value *)&extend_ast_type_4204}}};
Value *protoImpl4179(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4180, ".type", arg0, arg1, "core", 0));
}
FnArity protoFnArity9487 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4179};

// .type 1 args
ProtoImpls protoImpls4178 = {1, {{123, (Value *)&extend_ast_type_4206}}};
Value *protoImpl4177(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4178, ".type", arg0, "core", 0));
}
FnArity protoFnArity9486 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4177};
Function protoFn9485 = {FunctionType, -1, ".type", 2, {&protoFnArity9487, &protoFnArity9486}};
Value *dispatchFnPtr4176 = (Value *)&protoFn9485;


// .dispatch-type 2 args
ProtoImpls protoImpls6288 = {1, {{171, (Value *)&ProtoImpl_dispatch_type_6312}}};
Value *protoImpl6287(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6288, ".dispatch-type", arg0, arg1, "core", 0));
}
FnArity protoFnArity9484 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6287};

// .dispatch-type 1 args
ProtoImpls protoImpls6286 = {1, {{171, (Value *)&ProtoImpl_dispatch_type_6314}}};
Value *protoImpl6285(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6286, ".dispatch-type", arg0, "core", 0));
}
FnArity protoFnArity9483 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6285};
Function protoFn9482 = {FunctionType, -1, ".dispatch-type", 2, {&protoFnArity9484, &protoFnArity9483}};
Value *dispatchFnPtr6284 = (Value *)&protoFn9482;


// .proto-fns 2 args
ProtoImpls protoImpls5523 = {1, {{153, (Value *)&Module_proto_fns_5563}}};
Value *protoImpl5522(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5523, ".proto-fns", arg0, arg1, "core", 0));
}
FnArity protoFnArity9481 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5522};

// .proto-fns 1 args
ProtoImpls protoImpls5521 = {1, {{153, (Value *)&Module_proto_fns_5565}}};
Value *protoImpl5520(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5521, ".proto-fns", arg0, "core", 0));
}
FnArity protoFnArity9480 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5520};
Function protoFn9479 = {FunctionType, -1, ".proto-fns", 2, {&protoFnArity9481, &protoFnArity9480}};
Value *dispatchFnPtr5512 = (Value *)&protoFn9479;


// .arg-count 2 args
ProtoImpls protoImpls6207 = {1, {{169, (Value *)&ProtocolDispatcher_arg_count_6239}}};
Value *protoImpl6206(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6207, ".arg-count", arg0, arg1, "core", 0));
}
FnArity protoFnArity9478 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6206};

// .arg-count 1 args
ProtoImpls protoImpls6205 = {1, {{169, (Value *)&ProtocolDispatcher_arg_count_6241}}};
Value *protoImpl6204(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6205, ".arg-count", arg0, "core", 0));
}
FnArity protoFnArity9477 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6204};
Function protoFn9476 = {FunctionType, -1, ".arg-count", 2, {&protoFnArity9478, &protoFnArity9477}};
Value *dispatchFnPtr6203 = (Value *)&protoFn9476;


// .lines 2 args
ProtoImpls protoImpls1963 = {1, {{39, (Value *)&block_comment_ast_lines_1993}}};
Value *protoImpl1962(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls1963, ".lines", arg0, arg1, "core", 0));
}
FnArity protoFnArity9475 = {FnArityType, -1, 2, (List *)0, 0, protoImpl1962};

// .lines 1 args
ProtoImpls protoImpls1961 = {1, {{39, (Value *)&block_comment_ast_lines_1995}}};
Value *protoImpl1960(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls1961, ".lines", arg0, "core", 0));
}
FnArity protoFnArity9474 = {FnArityType, -1, 1, (List *)0, 0, protoImpl1960};
Function protoFn9473 = {FunctionType, -1, ".lines", 2, {&protoFnArity9475, &protoFnArity9474}};
Value *dispatchFnPtr1959 = (Value *)&protoFn9473;


// last 1 args
ProtoImpls last_Implementations_332 = {4, {{2, (Value *)&String_last_623}, {5, (Value *)&SubString_last_676}, {6, (Value *)&List_last_810}, {8, (Value *)&Vector_last_887}}};
Value *last_331(List *closures, Value *arg0) {
  return(proto1Arg(&last_Implementations_332, "last", arg0, "core", 489));
}
FnArity protoFnArity9472 = {FnArityType, -1, 1, (List *)0, 0, last_331};
Function protoFn9471 = {FunctionType, -1, "last", 1, {&protoFnArity9472}};
Value *last_330 = (Value *)&protoFn9471;


// .vars 2 args
ProtoImpls protoImpls6429 = {1, {{173, (Value *)&ParamBinding_vars_6453}}};
Value *protoImpl6428(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6429, ".vars", arg0, arg1, "core", 0));
}
FnArity protoFnArity9470 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6428};

// .vars 1 args
ProtoImpls protoImpls6427 = {1, {{173, (Value *)&ParamBinding_vars_6455}}};
Value *protoImpl6426(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6427, ".vars", arg0, "core", 0));
}
FnArity protoFnArity9469 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6426};
Function protoFn9468 = {FunctionType, -1, ".vars", 2, {&protoFnArity9470, &protoFnArity9469}};
Value *dispatchFnPtr6425 = (Value *)&protoFn9468;


// sha1 1 args
ProtoImpls sha1_Implementations_392 = {6, {{2, (Value *)&String_sha1_643}, {5, (Value *)&SubString_sha1_696}, {4, (Value *)&Function_sha1_498}, {139, (Value *)&tagged_symbol_sha1_4740}, {1, (Value *)&Integer_sha1_601}, {10, (Value *)&Symbol_sha1_721}}};
Value *sha1_391(List *closures, Value *arg0) {
  return(proto1Arg(&sha1_Implementations_392, "sha1", arg0, "core", 592));
}
FnArity protoFnArity9467 = {FnArityType, -1, 1, (List *)0, 0, sha1_391};
Function protoFn9466 = {FunctionType, -1, "sha1", 1, {&protoFnArity9467}};
Value *sha1_390 = (Value *)&protoFn9466;


// .rule 2 args
ProtoImpls protoImpls3340 = {3, {{89, (Value *)&repeat_rule_rule_3360}, {93, (Value *)&ignore_rule_rule_3453}, {107, (Value *)&none_or_more_rule_rule_3764}}};
Value *protoImpl3339(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3340, ".rule", arg0, arg1, "core", 0));
}
FnArity protoFnArity9465 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3339};

// .rule 1 args
ProtoImpls protoImpls3338 = {3, {{89, (Value *)&repeat_rule_rule_3362}, {93, (Value *)&ignore_rule_rule_3455}, {107, (Value *)&none_or_more_rule_rule_3766}}};
Value *protoImpl3337(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3338, ".rule", arg0, "core", 0));
}
FnArity protoFnArity9464 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3337};
Function protoFn9463 = {FunctionType, -1, ".rule", 2, {&protoFnArity9465, &protoFnArity9464}};
Value *dispatchFnPtr3336 = (Value *)&protoFn9463;


// .call-target 2 args
ProtoImpls protoImpls3172 = {1, {{83, (Value *)&call_ast_call_target_3192}}};
Value *protoImpl3171(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls3172, ".call-target", arg0, arg1, "core", 0));
}
FnArity protoFnArity9462 = {FnArityType, -1, 2, (List *)0, 0, protoImpl3171};

// .call-target 1 args
ProtoImpls protoImpls3170 = {1, {{83, (Value *)&call_ast_call_target_3194}}};
Value *protoImpl3169(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls3170, ".call-target", arg0, "core", 0));
}
FnArity protoFnArity9461 = {FnArityType, -1, 1, (List *)0, 0, protoImpl3169};
Function protoFn9460 = {FunctionType, -1, ".call-target", 2, {&protoFnArity9462, &protoFnArity9461}};
Value *dispatchFnPtr3168 = (Value *)&protoFn9460;


// .symbols 2 args
ProtoImpls protoImpls5423 = {1, {{149, (Value *)&ConstantValues_symbols_5453}}};
Value *protoImpl5422(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5423, ".symbols", arg0, arg1, "core", 0));
}
FnArity protoFnArity9459 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5422};

// .symbols 1 args
ProtoImpls protoImpls5421 = {1, {{149, (Value *)&ConstantValues_symbols_5455}}};
Value *protoImpl5420(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5421, ".symbols", arg0, "core", 0));
}
FnArity protoFnArity9458 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5420};
Function protoFn9457 = {FunctionType, -1, ".symbols", 2, {&protoFnArity9459, &protoFnArity9458}};
Value *dispatchFnPtr5409 = (Value *)&protoFn9457;


// .mod 2 args
ProtoImpls protoImpls4565 = {1, {{137, (Value *)&add_ns_ast_mod_4589}}};
Value *protoImpl4564(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls4565, ".mod", arg0, arg1, "core", 0));
}
FnArity protoFnArity9456 = {FnArityType, -1, 2, (List *)0, 0, protoImpl4564};

// .mod 1 args
ProtoImpls protoImpls4563 = {1, {{137, (Value *)&add_ns_ast_mod_4591}}};
Value *protoImpl4562(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls4563, ".mod", arg0, "core", 0));
}
FnArity protoFnArity9455 = {FnArityType, -1, 1, (List *)0, 0, protoImpl4562};
Function protoFn9454 = {FunctionType, -1, ".mod", 2, {&protoFnArity9456, &protoFnArity9455}};
Value *dispatchFnPtr4556 = (Value *)&protoFn9454;


// .permissions 2 args
ProtoImpls protoImpls2072 = {2, {{48, (Value *)&DirInfo_permissions_2235}, {44, (Value *)&FileInfo_permissions_2104}}};
Value *protoImpl2071(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2072, ".permissions", arg0, arg1, "core", 0));
}
FnArity protoFnArity9453 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2071};

// .permissions 1 args
ProtoImpls protoImpls2070 = {2, {{48, (Value *)&DirInfo_permissions_2237}, {44, (Value *)&FileInfo_permissions_2106}}};
Value *protoImpl2069(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2070, ".permissions", arg0, "core", 0));
}
FnArity protoFnArity9452 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2069};
Function protoFn9451 = {FunctionType, -1, ".permissions", 2, {&protoFnArity9453, &protoFnArity9452}};
Value *dispatchFnPtr2063 = (Value *)&protoFn9451;


// .txt 2 args
ProtoImpls protoImpls2144 = {1, {{46, (Value *)&inline_ast_txt_2172}}};
Value *protoImpl2143(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2144, ".txt", arg0, arg1, "core", 0));
}
FnArity protoFnArity9450 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2143};

// .txt 1 args
ProtoImpls protoImpls2142 = {1, {{46, (Value *)&inline_ast_txt_2174}}};
Value *protoImpl2141(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2142, ".txt", arg0, "core", 0));
}
FnArity protoFnArity9449 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2141};
Function protoFn9448 = {FunctionType, -1, ".txt", 2, {&protoFnArity9450, &protoFnArity9449}};
Value *dispatchFnPtr2130 = (Value *)&protoFn9448;


// .dispatch-sym 2 args
ProtoImpls protoImpls6211 = {1, {{169, (Value *)&ProtocolDispatcher_dispatch_sym_6243}}};
Value *protoImpl6210(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls6211, ".dispatch-sym", arg0, arg1, "core", 0));
}
FnArity protoFnArity9447 = {FnArityType, -1, 2, (List *)0, 0, protoImpl6210};

// .dispatch-sym 1 args
ProtoImpls protoImpls6209 = {1, {{169, (Value *)&ProtocolDispatcher_dispatch_sym_6245}}};
Value *protoImpl6208(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls6209, ".dispatch-sym", arg0, "core", 0));
}
FnArity protoFnArity9446 = {FnArityType, -1, 1, (List *)0, 0, protoImpl6208};
Function protoFn9445 = {FunctionType, -1, ".dispatch-sym", 2, {&protoFnArity9447, &protoFnArity9446}};
Value *dispatchFnPtr6202 = (Value *)&protoFn9445;


// same-type? 2 args
ProtoImpls same_type_QM__Implementations_50 = {0, {}};
Value *same_type_QM__49(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&same_type_QM__Implementations_50, "same-type?", arg0, arg1, "core", 59));
}
FnArity protoFnArity9444 = {FnArityType, -1, 2, (List *)0, 0, same_type_QM__49};
Function protoFn9443 = {FunctionType, -1, "same-type?", 1, {&protoFnArity9444}};
Value *same_type_QM__48 = (Value *)&protoFn9443;


// extract 1 args
ProtoImpls extract_Implementations_269 = {6, {{33, (Value *)&IntGenerator_extract_1660}, {17, (Value *)&Agent_extract_1480}, {15, (Value *)&Promise_extract_1366}, {16, (Value *)&Future_extract_1465}, {37, (Value *)&InputFile_extract_1948}, {7, (Value *)&Maybe_extract_758}}};
Value *extract_268(List *closures, Value *arg0) {
  return(proto1Arg(&extract_Implementations_269, "extract", arg0, "core", 376));
}
FnArity protoFnArity9442 = {FnArityType, -1, 1, (List *)0, 0, extract_268};
Function protoFn9441 = {FunctionType, -1, "extract", 1, {&protoFnArity9442}};
Value *extract_267 = (Value *)&protoFn9441;


// .args 2 args
ProtoImpls protoImpls2625 = {3, {{62, (Value *)&free_app_args_2649}, {135, (Value *)&git_dep_ast_args_4533}, {83, (Value *)&call_ast_args_3196}}};
Value *protoImpl2624(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2625, ".args", arg0, arg1, "core", 0));
}
FnArity protoFnArity9440 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2624};

// .args 1 args
ProtoImpls protoImpls2623 = {3, {{62, (Value *)&free_app_args_2651}, {135, (Value *)&git_dep_ast_args_4535}, {83, (Value *)&call_ast_args_3198}}};
Value *protoImpl2622(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2623, ".args", arg0, "core", 0));
}
FnArity protoFnArity9439 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2622};
Function protoFn9438 = {FunctionType, -1, ".args", 2, {&protoFnArity9440, &protoFnArity9439}};
Value *dispatchFnPtr2620 = (Value *)&protoFn9438;


// duplicate 1 args
ProtoImpls duplicate_Implementations_272 = {0, {}};
Value *duplicate_271(List *closures, Value *arg0) {
  return(proto1Arg(&duplicate_Implementations_272, "duplicate", arg0, "core", 380));
}
FnArity protoFnArity9437 = {FnArityType, -1, 1, (List *)0, 0, duplicate_271};
Function protoFn9436 = {FunctionType, -1, "duplicate", 1, {&protoFnArity9437}};
Value *duplicate_270 = (Value *)&protoFn9436;


// .var-info 2 args
ProtoImpls protoImpls7763 = {2, {{177, (Value *)&StaticArity_var_info_7795}, {179, (Value *)&ClosureArity_var_info_7848}}};
Value *protoImpl7762(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls7763, ".var-info", arg0, arg1, "core", 0));
}
FnArity protoFnArity9435 = {FnArityType, -1, 2, (List *)0, 0, protoImpl7762};

// .var-info 1 args
ProtoImpls protoImpls7761 = {2, {{177, (Value *)&StaticArity_var_info_7797}, {179, (Value *)&ClosureArity_var_info_7850}}};
Value *protoImpl7760(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls7761, ".var-info", arg0, "core", 0));
}
FnArity protoFnArity9434 = {FnArityType, -1, 1, (List *)0, 0, protoImpl7760};
Function protoFn9433 = {FunctionType, -1, ".var-info", 2, {&protoFnArity9435, &protoFnArity9434}};
Value *dispatchFnPtr7744 = (Value *)&protoFn9433;


// .context 2 args
ProtoImpls protoImpls5739 = {1, {{159, (Value *)&FunctionArityContext_context_5775}}};
Value *protoImpl5738(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls5739, ".context", arg0, arg1, "core", 0));
}
FnArity protoFnArity9432 = {FnArityType, -1, 2, (List *)0, 0, protoImpl5738};

// .context 1 args
ProtoImpls protoImpls5737 = {1, {{159, (Value *)&FunctionArityContext_context_5777}}};
Value *protoImpl5736(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls5737, ".context", arg0, "core", 0));
}
FnArity protoFnArity9431 = {FnArityType, -1, 1, (List *)0, 0, protoImpl5736};
Function protoFn9430 = {FunctionType, -1, ".context", 2, {&protoFnArity9432, &protoFnArity9431}};
Value *dispatchFnPtr5720 = (Value *)&protoFn9430;


// .name 2 args
ProtoImpls protoImpls2068 = {4, {{48, (Value *)&DirInfo_name_2231}, {44, (Value *)&FileInfo_name_2100}, {113, (Value *)&recursive_parser_rule_name_3912}, {111, (Value *)&parser_rule_name_3866}}};
Value *protoImpl2067(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&protoImpls2068, ".name", arg0, arg1, "core", 0));
}
FnArity protoFnArity9429 = {FnArityType, -1, 2, (List *)0, 0, protoImpl2067};

// .name 1 args
ProtoImpls protoImpls2066 = {4, {{48, (Value *)&DirInfo_name_2233}, {44, (Value *)&FileInfo_name_2102}, {113, (Value *)&recursive_parser_rule_name_3914}, {111, (Value *)&parser_rule_name_3868}}};
Value *protoImpl2065(List *closures, Value *arg0) {
  return(proto1Arg(&protoImpls2066, ".name", arg0, "core", 0));
}
FnArity protoFnArity9428 = {FnArityType, -1, 1, (List *)0, 0, protoImpl2065};
Function protoFn9427 = {FunctionType, -1, ".name", 2, {&protoFnArity9429, &protoFnArity9428}};
Value *dispatchFnPtr2064 = (Value *)&protoFn9427;


// get 2 args
ProtoImpls get_Implementations_362 = {82, {{159, (Value *)&FunctionArityContext_get_5783}, {89, (Value *)&repeat_rule_get_3364}, {119, (Value *)&prototype_ast_get_4075}, {87, (Value *)&binding_ast_get_3298}, {151, (Value *)&RuntimeInit_get_5503}, {54, (Value *)&app_fn_get_2391}, {145, (Value *)&ForWhenNotExpr_get_5237}, {46, (Value *)&inline_ast_get_2184}, {79, (Value *)&parser_char_range_get_3118}, {93, (Value *)&ignore_rule_get_3457}, {8, (Value *)&Vector_get_909}, {75, (Value *)&fn_ast_get_3013}, {31, (Value *)&HashSet_get_1568}, {133, (Value *)&module_ast_get_4485}, {171, (Value *)&ProtoImpl_get_6324}, {71, (Value *)&get_state_value_get_2917}, {165, (Value *)&c_init_get_6036}, {101, (Value *)&or_ast_get_3636}, {33, (Value *)&IntGenerator_get_1658}, {66, (Value *)&new_sm_get_2798}, {157, (Value *)&Closures_get_5711}, {105, (Value *)&either_ast_get_3735}, {181, (Value *)&TailAnd_get_8076}, {109, (Value *)&assert_ast_get_3825}, {48, (Value *)&DirInfo_get_2243}, {99, (Value *)&Cat_get_3590}, {62, (Value *)&free_app_get_2653}, {91, (Value *)&let_ast_get_3406}, {12, (Value *)&ArrayNode_get_1139}, {44, (Value *)&FileInfo_get_2116}, {56, (Value *)&main_ast_get_2454}, {13, (Value *)&HashCollisionNode_get_1189}, {137, (Value *)&add_ns_ast_get_4593}, {175, (Value *)&TailExpr_get_6719}, {85, (Value *)&parser_terminal_get_3249}, {127, (Value *)&ParserState_get_4327}, {50, (Value *)&free_monad_get_2292}, {117, (Value *)&recursion_rule_get_4007}, {113, (Value *)&recursive_parser_rule_get_3920}, {169, (Value *)&ProtocolDispatcher_get_6255}, {121, (Value *)&protocol_ast_get_4148}, {68, (Value *)&pure_get_2862}, {52, (Value *)&params_ast_get_2354}, {123, (Value *)&extend_ast_get_4212}, {60, (Value *)&declaration_ast_get_2609}, {73, (Value *)&update_state_value_get_2973}, {183, (Value *)&TailOr_get_8148}, {115, (Value *)&returns_ast_get_3960}, {135, (Value *)&git_dep_ast_get_4537}, {97, (Value *)&and_ast_get_3528}, {131, (Value *)&type_ast_get_4443}, {39, (Value *)&block_comment_ast_get_2005}, {173, (Value *)&ParamBinding_get_6461}, {103, (Value *)&Union_get_3676}, {139, (Value *)&tagged_symbol_get_4738}, {37, (Value *)&InputFile_get_1944}, {141, (Value *)&ForLetExpr_get_5161}, {41, (Value *)&OutputFile_get_2045}, {125, (Value *)&quoted_ast_get_4261}, {155, (Value *)&GlobalContext_get_5669}, {149, (Value *)&ConstantValues_get_5461}, {177, (Value *)&StaticArity_get_7799}, {58, (Value *)&definition_ast_get_2537}, {95, (Value *)&parser_always_get_3493}, {111, (Value *)&parser_rule_get_3874}, {77, (Value *)&parser_not_char_get_3060}, {11, (Value *)&BitmapIndexNode_get_1089}, {179, (Value *)&ClosureArity_get_7852}, {83, (Value *)&call_ast_get_3200}, {147, (Value *)&ForResultExpr_get_5275}, {7, (Value *)&Maybe_get_750}, {167, (Value *)&ProtoFnInfo_get_6154}, {163, (Value *)&c_code_get_5975}, {107, (Value *)&none_or_more_rule_get_3768}, {81, (Value *)&parser_term_fn_get_3160}, {64, (Value *)&fn_arity_ast_get_2759}, {185, (Value *)&TailEither_get_8217}, {129, (Value *)&reify_ast_get_4380}, {35, (Value *)&LazyList_get_1755}, {161, (Value *)&empty_code_get_5913}, {153, (Value *)&Module_get_5575}, {143, (Value *)&ForWhenExpr_get_5199}}};
Value *get_361(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&get_Implementations_362, "get", arg0, arg1, "core", 553));
}
FnArity protoFnArity9426 = {FnArityType, -1, 2, (List *)0, 0, get_361};

// get 3 args
ProtoImpls get_Implementations_364 = {4, {{12, (Value *)&ArrayNode_get_1141}, {13, (Value *)&HashCollisionNode_get_1191}, {11, (Value *)&BitmapIndexNode_get_1091}, {7, (Value *)&Maybe_get_752}}};
Value *get_363(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&get_Implementations_364, "get", arg0, arg1, arg2, "core", 553));
}
FnArity protoFnArity9425 = {FnArityType, -1, 3, (List *)0, 0, get_363};
Function protoFn9424 = {FunctionType, -1, "get", 2, {&protoFnArity9426, &protoFnArity9425}};
Value *get_360 = (Value *)&protoFn9424;


// all-symbols 1 args
ProtoImpls all_symbols_Implementations_7508 = {2, {{52, (Value *)&all_symbols_7512}, {0, (Value *)&Default_all_symbols_7510}}};
Value *all_symbols_7507(List *closures, Value *arg0) {
  return(proto1Arg(&all_symbols_Implementations_7508, "all-symbols", arg0, "toccata.toc", 1205));
}
FnArity protoFnArity9423 = {FnArityType, -1, 1, (List *)0, 0, all_symbols_7507};
Function protoFn9422 = {FunctionType, -1, "all-symbols", 1, {&protoFnArity9423}};
Value *all_symbols_7506 = (Value *)&protoFn9422;


// bind 2 args
ProtoImpls bind_Implementations_5820 = {3, {{52, (Value *)&bind_7558}, {139, (Value *)&bind_7070}, {10, (Value *)&Symbol_bind_7120}}};
Value *bind_5819(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&bind_Implementations_5820, "bind", arg0, arg1, "toccata.toc", 192));
}
FnArity protoFnArity9421 = {FnArityType, -1, 2, (List *)0, 0, bind_5819};

// bind 1 args
ProtoImpls bind_Implementations_5818 = {3, {{52, (Value *)&bind_7535}, {139, (Value *)&bind_7057}, {10, (Value *)&Symbol_bind_7107}}};
Value *bind_5817(List *closures, Value *arg0) {
  return(proto1Arg(&bind_Implementations_5818, "bind", arg0, "toccata.toc", 192));
}
FnArity protoFnArity9420 = {FnArityType, -1, 1, (List *)0, 0, bind_5817};
Function protoFn9419 = {FunctionType, -1, "bind", 2, {&protoFnArity9421, &protoFnArity9420}};
Value *bind_5816 = (Value *)&protoFn9419;


// emit-defined-value 2 args
ProtoImpls emit_defined_value_Implementations_5823 = {11, {{2, (Value *)&String_emit_defined_value_6774}, {5, (Value *)&SubString_emit_defined_value_6790}, {46, (Value *)&emit_defined_value_7183}, {75, (Value *)&emit_defined_value_8726}, {91, (Value *)&emit_defined_value_7618}, {39, (Value *)&emit_defined_value_6659}, {139, (Value *)&emit_defined_value_7084}, {125, (Value *)&emit_defined_value_6863}, {1, (Value *)&Integer_emit_defined_value_6829}, {83, (Value *)&emit_defined_value_7433}, {129, (Value *)&emit_defined_value_7998}}};
Value *emit_defined_value_5822(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&emit_defined_value_Implementations_5823, "emit-defined-value", arg0, arg1, "toccata.toc", 162));
}
FnArity protoFnArity9418 = {FnArityType, -1, 2, (List *)0, 0, emit_defined_value_5822};
Function protoFn9417 = {FunctionType, -1, "emit-defined-value", 1, {&protoFnArity9418}};
Value *emit_defined_value_5821 = (Value *)&protoFn9417;


// free-global 1 args
ProtoImpls free_global_Implementations_9064 = {2, {{165, (Value *)&free_global_9068}, {0, (Value *)&Default_free_global_9066}}};
Value *free_global_9063(List *closures, Value *arg0) {
  return(proto1Arg(&free_global_Implementations_9064, "free-global", arg0, "toccata.toc", 2284));
}
FnArity protoFnArity9416 = {FnArityType, -1, 1, (List *)0, 0, free_global_9063};
Function protoFn9415 = {FunctionType, -1, "free-global", 1, {&protoFnArity9416}};
Value *free_global_9062 = (Value *)&protoFn9415;


// replace-syms 2 args
ProtoImpls replace_syms_Implementations_5826 = {12, {{46, (Value *)&replace_syms_7201}, {75, (Value *)&replace_syms_8752}, {101, (Value *)&replace_syms_8182}, {105, (Value *)&replace_syms_8257}, {91, (Value *)&replace_syms_7653}, {97, (Value *)&replace_syms_8116}, {139, (Value *)&replace_syms_7090}, {125, (Value *)&replace_syms_6833}, {1, (Value *)&Integer_replace_syms_6813}, {10, (Value *)&Symbol_replace_syms_7124}, {83, (Value *)&replace_syms_7449}, {64, (Value *)&replace_syms_8591}}};
Value *replace_syms_5825(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&replace_syms_Implementations_5826, "replace-syms", arg0, arg1, "toccata.toc", 178));
}
FnArity protoFnArity9414 = {FnArityType, -1, 2, (List *)0, 0, replace_syms_5825};
Function protoFn9413 = {FunctionType, -1, "replace-syms", 1, {&protoFnArity9414}};
Value *replace_syms_5824 = (Value *)&protoFn9413;


// send-to-emitter 1 args
ProtoImpls send_to_emitter_Implementations_9305 = {1, {{0, (Value *)&Default_send_to_emitter_9307}}};
Value *send_to_emitter_9304(List *closures, Value *arg0) {
  return(proto1Arg(&send_to_emitter_Implementations_9305, "send-to-emitter", arg0, "toccata.toc", 2520));
}
FnArity protoFnArity9412 = {FnArityType, -1, 1, (List *)0, 0, send_to_emitter_9304};
Function protoFn9411 = {FunctionType, -1, "send-to-emitter", 1, {&protoFnArity9412}};
Value *send_to_emitter_9303 = (Value *)&protoFn9411;


// add-namespace 3 args
ProtoImpls add_namespace_Implementations_9310 = {1, {{137, (Value *)&add_namespace_9326}}};
Value *add_namespace_9309(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&add_namespace_Implementations_9310, "add-namespace", arg0, arg1, arg2, "toccata.toc", 2522));
}
FnArity protoFnArity9410 = {FnArityType, -1, 3, (List *)0, 0, add_namespace_9309};
Function protoFn9409 = {FunctionType, -1, "add-namespace", 1, {&protoFnArity9410}};
Value *add_namespace_9308 = (Value *)&protoFn9409;


// closure-arity? 1 args
ProtoImpls closure_arity_QM__Implementations_7736 = {2, {{179, (Value *)&ClosureArity_closure_arity_QM__7856}, {0, (Value *)&Default_closure_arity_QM__7738}}};
Value *closure_arity_QM__7735(List *closures, Value *arg0) {
  return(proto1Arg(&closure_arity_QM__Implementations_7736, "closure-arity?", arg0, "toccata.toc", 1364));
}
FnArity protoFnArity9408 = {FnArityType, -1, 1, (List *)0, 0, closure_arity_QM__7735};
Function protoFn9407 = {FunctionType, -1, "closure-arity?", 1, {&protoFnArity9408}};
Value *closure_arity_QM__7734 = (Value *)&protoFn9407;


// replace-bound-vars 2 args
ProtoImpls replace_bound_vars_Implementations_5829 = {14, {{46, (Value *)&replace_bound_vars_7203}, {75, (Value *)&replace_bound_vars_8757}, {101, (Value *)&replace_bound_vars_8187}, {105, (Value *)&replace_bound_vars_8259}, {91, (Value *)&replace_bound_vars_7679}, {52, (Value *)&replace_bound_vars_7566}, {97, (Value *)&replace_bound_vars_8121}, {139, (Value *)&replace_bound_vars_7094}, {125, (Value *)&replace_bound_vars_6835}, {1, (Value *)&Integer_replace_bound_vars_6815}, {10, (Value *)&Symbol_replace_bound_vars_7128}, {83, (Value *)&replace_bound_vars_7476}, {64, (Value *)&replace_bound_vars_8600}, {0, (Value *)&Default_replace_bound_vars_5831}}};
Value *replace_bound_vars_5828(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&replace_bound_vars_Implementations_5829, "replace-bound-vars", arg0, arg1, "toccata.toc", 181));
}
FnArity protoFnArity9406 = {FnArityType, -1, 2, (List *)0, 0, replace_bound_vars_5828};
Function protoFn9405 = {FunctionType, -1, "replace-bound-vars", 1, {&protoFnArity9406}};
Value *replace_bound_vars_5827 = (Value *)&protoFn9405;


// emit-definition 1 args
ProtoImpls emit_definition_Implementations_5834 = {8, {{46, (Value *)&emit_definition_7197}, {56, (Value *)&emit_definition_8493}, {121, (Value *)&emit_definition_8579}, {123, (Value *)&emit_definition_8898}, {60, (Value *)&emit_definition_7228}, {131, (Value *)&emit_definition_9037}, {39, (Value *)&emit_definition_6661}, {58, (Value *)&emit_definition_7211}}};
Value *emit_definition_5833(List *closures, Value *arg0) {
  return(proto1Arg(&emit_definition_Implementations_5834, "emit-definition", arg0, "toccata.toc", 165));
}
FnArity protoFnArity9404 = {FnArityType, -1, 1, (List *)0, 0, emit_definition_5833};
Function protoFn9403 = {FunctionType, -1, "emit-definition", 1, {&protoFnArity9404}};
Value *emit_definition_5832 = (Value *)&protoFn9403;


// emit-call-expr 2 args
ProtoImpls emit_call_expr_Implementations_5837 = {2, {{139, (Value *)&emit_call_expr_7088}, {0, (Value *)&Default_emit_call_expr_5839}}};
Value *emit_call_expr_5836(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&emit_call_expr_Implementations_5837, "emit-call-expr", arg0, arg1, "toccata.toc", 174));
}
FnArity protoFnArity9402 = {FnArityType, -1, 2, (List *)0, 0, emit_call_expr_5836};
Function protoFn9401 = {FunctionType, -1, "emit-call-expr", 1, {&protoFnArity9402}};
Value *emit_call_expr_5835 = (Value *)&protoFn9401;


// emit 1 args
ProtoImpls emit_Implementations_5842 = {28, {{2, (Value *)&String_emit_6762}, {5, (Value *)&SubString_emit_6778}, {87, (Value *)&emit_7568}, {46, (Value *)&emit_7160}, {6, (Value *)&List_emit_6483}, {8, (Value *)&Vector_emit_6487}, {75, (Value *)&emit_8714}, {165, (Value *)&c_init_emit_6048}, {101, (Value *)&emit_8172}, {105, (Value *)&emit_8253}, {181, (Value *)&TailAnd_emit_8089}, {109, (Value *)&emit_8263}, {91, (Value *)&emit_7588}, {175, (Value *)&TailExpr_emit_6756}, {183, (Value *)&TailOr_emit_8161}, {115, (Value *)&emit_8269}, {97, (Value *)&emit_8106}, {39, (Value *)&emit_6657}, {139, (Value *)&emit_7072}, {125, (Value *)&emit_6851}, {1, (Value *)&Integer_emit_6817}, {10, (Value *)&Symbol_emit_7122}, {83, (Value *)&emit_7401}, {163, (Value *)&c_code_emit_5983}, {64, (Value *)&emit_8581}, {185, (Value *)&TailEither_emit_8229}, {129, (Value *)&emit_7967}, {161, (Value *)&empty_code_emit_5921}}};
Value *emit_5841(List *closures, Value *arg0) {
  return(proto1Arg(&emit_Implementations_5842, "emit", arg0, "toccata.toc", 159));
}
FnArity protoFnArity9400 = {FnArityType, -1, 1, (List *)0, 0, emit_5841};
Function protoFn9399 = {FunctionType, -1, "emit", 1, {&protoFnArity9400}};
Value *emit_5840 = (Value *)&protoFn9399;


// load-module 3 args
ProtoImpls load_module_Implementations_9313 = {2, {{133, (Value *)&load_module_9315}, {135, (Value *)&load_module_9321}}};
Value *load_module_9312(List *closures, Value *arg0, Value *arg1, Value *arg2) {
  return(proto3Arg(&load_module_Implementations_9313, "load-module", arg0, arg1, arg2, "toccata.toc", 2523));
}
FnArity protoFnArity9398 = {FnArityType, -1, 3, (List *)0, 0, load_module_9312};
Function protoFn9397 = {FunctionType, -1, "load-module", 1, {&protoFnArity9398}};
Value *load_module_9311 = (Value *)&protoFn9397;


// produces-code? 1 args
ProtoImpls produces_code_QM__Implementations_5845 = {4, {{109, (Value *)&produces_code_QM__8261}, {115, (Value *)&produces_code_QM__8267}, {39, (Value *)&produces_code_QM__6651}, {0, (Value *)&Default_produces_code_QM__5847}}};
Value *produces_code_QM__5844(List *closures, Value *arg0) {
  return(proto1Arg(&produces_code_QM__Implementations_5845, "produces-code?", arg0, "toccata.toc", 171));
}
FnArity protoFnArity9396 = {FnArityType, -1, 1, (List *)0, 0, produces_code_QM__5844};
Function protoFn9395 = {FunctionType, -1, "produces-code?", 1, {&protoFnArity9396}};
Value *produces_code_QM__5843 = (Value *)&protoFn9395;


// collapse-expressions* 2 args
ProtoImpls collapse_expressions_STAR__Implementations_5858 = {3, {{165, (Value *)&c_init_collapse_expressions_STAR__6053}, {163, (Value *)&c_code_collapse_expressions_STAR__5987}, {161, (Value *)&empty_code_collapse_expressions_STAR__5925}}};
Value *collapse_expressions_STAR__5857(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&collapse_expressions_STAR__Implementations_5858, "collapse-expressions*", arg0, arg1, "toccata.toc", 197));
}
FnArity protoFnArity9394 = {FnArityType, -1, 2, (List *)0, 0, collapse_expressions_STAR__5857};
Function protoFn9393 = {FunctionType, -1, "collapse-expressions*", 1, {&protoFnArity9394}};
Value *collapse_expressions_STAR__5856 = (Value *)&protoFn9393;


// reify-arity 4 args
ProtoImpls reify_arity_Implementations_7741 = {2, {{177, (Value *)&StaticArity_reify_arity_7813}, {179, (Value *)&ClosureArity_reify_arity_7893}}};
Value *reify_arity_7740(List *closures, Value *arg0, Value *arg1, Value *arg2, Value *arg3) {
  return(proto4Arg(&reify_arity_Implementations_7741, "reify-arity", arg0, arg1, arg2, arg3, "toccata.toc", 1365));
}
FnArity protoFnArity9392 = {FnArityType, -1, 4, (List *)0, 0, reify_arity_7740};
Function protoFn9391 = {FunctionType, -1, "reify-arity", 1, {&protoFnArity9392}};
Value *reify_arity_7739 = (Value *)&protoFn9391;


// write-str 1 args
ProtoImpls write_str_Implementations_9051 = {3, {{6, (Value *)&List_write_str_9061}, {8, (Value *)&Vector_write_str_9059}, {0, (Value *)&Default_write_str_9053}}};
Value *write_str_9050(List *closures, Value *arg0) {
  return(proto1Arg(&write_str_Implementations_9051, "write-str", arg0, "toccata.toc", 2272));
}
FnArity protoFnArity9390 = {FnArityType, -1, 1, (List *)0, 0, write_str_9050};
Function protoFn9389 = {FunctionType, -1, "write-str", 1, {&protoFnArity9390}};
Value *write_str_9049 = (Value *)&protoFn9389;


// tail-call 2 args
ProtoImpls tail_call_Implementations_5850 = {18, {{2, (Value *)&String_tail_call_6776}, {5, (Value *)&SubString_tail_call_6792}, {46, (Value *)&tail_call_7199}, {6, (Value *)&List_tail_call_6485}, {8, (Value *)&Vector_tail_call_6492}, {75, (Value *)&tail_call_8728}, {101, (Value *)&tail_call_8174}, {105, (Value *)&tail_call_8255}, {109, (Value *)&tail_call_8265}, {91, (Value *)&tail_call_7620}, {115, (Value *)&tail_call_8271}, {97, (Value *)&tail_call_8108}, {39, (Value *)&tail_call_6663}, {139, (Value *)&tail_call_7086}, {125, (Value *)&tail_call_6865}, {1, (Value *)&Integer_tail_call_6831}, {83, (Value *)&tail_call_7435}, {129, (Value *)&tail_call_8000}}};
Value *tail_call_5849(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&tail_call_Implementations_5850, "tail-call", arg0, arg1, "toccata.toc", 168));
}
FnArity protoFnArity9388 = {FnArityType, -1, 2, (List *)0, 0, tail_call_5849};
Function protoFn9387 = {FunctionType, -1, "tail-call", 1, {&protoFnArity9388}};
Value *tail_call_5848 = (Value *)&protoFn9387;


// inline-expr 2 args
ProtoImpls inline_expr_Implementations_5853 = {7, {{75, (Value *)&inline_expr_8744}, {91, (Value *)&inline_expr_7662}, {139, (Value *)&inline_expr_7092}, {10, (Value *)&Symbol_inline_expr_7126}, {83, (Value *)&inline_expr_7471}, {64, (Value *)&inline_expr_8583}, {0, (Value *)&Default_inline_expr_5855}}};
Value *inline_expr_5852(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&inline_expr_Implementations_5853, "inline-expr", arg0, arg1, "toccata.toc", 185));
}
FnArity protoFnArity9386 = {FnArityType, -1, 2, (List *)0, 0, inline_expr_5852};
Function protoFn9385 = {FunctionType, -1, "inline-expr", 1, {&protoFnArity9386}};
Value *inline_expr_5851 = (Value *)&protoFn9385;


// close 1 args
ProtoImpls close_Implementations_1871 = {2, {{37, (Value *)&InputFile_close_1946}, {41, (Value *)&OutputFile_close_2049}}};
Value *close_1870(List *closures, Value *arg0) {
  return(proto1Arg(&close_Implementations_1871, "close", arg0, "/Users/jim/toccata/file-io.toc", 141));
}
FnArity protoFnArity9384 = {FnArityType, -1, 1, (List *)0, 0, close_1870};
Function protoFn9383 = {FunctionType, -1, "close", 1, {&protoFnArity9384}};
Value *close_1869 = (Value *)&protoFn9383;


// write 2 args
ProtoImpls write_Implementations_1874 = {1, {{41, (Value *)&OutputFile_write_2047}}};
Value *write_1873(List *closures, Value *arg0, Value *arg1) {
  return(proto2Arg(&write_Implementations_1874, "write", arg0, arg1, "/Users/jim/toccata/file-io.toc", 138));
}
FnArity protoFnArity9382 = {FnArityType, -1, 2, (List *)0, 0, write_1873};
Function protoFn9381 = {FunctionType, -1, "write", 1, {&protoFnArity9382}};
Value *write_1872 = (Value *)&protoFn9381;


// read 1 args
ProtoImpls read_Implementations_1877 = {0, {}};
Value *read_1876(List *closures, Value *arg0) {
  return(proto1Arg(&read_Implementations_1877, "read", arg0, "/Users/jim/toccata/file-io.toc", 139));
}
FnArity protoFnArity9380 = {FnArityType, -1, 1, (List *)0, 0, read_1876};
Function protoFn9379 = {FunctionType, -1, "read", 1, {&protoFnArity9380}};
Value *read_1875 = (Value *)&protoFn9379;


// blocking-read 1 args
ProtoImpls blocking_read_Implementations_1880 = {0, {}};
Value *blocking_read_1879(List *closures, Value *arg0) {
  return(proto1Arg(&blocking_read_Implementations_1880, "blocking-read", arg0, "/Users/jim/toccata/file-io.toc", 140));
}
FnArity protoFnArity9378 = {FnArityType, -1, 1, (List *)0, 0, blocking_read_1879};
Function protoFn9377 = {FunctionType, -1, "blocking-read", 1, {&protoFnArity9378}};
Value *blocking_read_1878 = (Value *)&protoFn9377;

Value *(*type_name)(List *, Value *) = type_name_26;
Value *(*invoke0Args)(List *, Value *) = invoke_366;
Value *(*invoke1Arg)(List *, Value *, Value*) = invoke_368;
Value *(*invoke2Args)(List *, Value *, Value*, Value*) = invoke_370;
Value *(*equalSTAR)(List *, Value *, Value*) = _EQ__STAR__385;
Value *(*hashSeq)(List *, Value*, Value*) = hash_seq_18;
Value *(*count)(List *, Value*) = count_299;
Value *(*sha1)(List *, Value*) = sha1_391;
Value *(*assoc)(List *, Value*, Value*, Value*, Value*, Value*) = assoc_STAR__9;
Value *(*dissoc)(List *, Value*, Value*, Value*, Value*) = dissoc_STAR__12;
Value *(*get)(List *, Value*, Value*, Value*, Value*, Value*) = get_STAR__15;
Value *(*showFn)(List *, Value *) = show_401;
Value *(*fn_apply)(List *, Value*, Value*) = fn_apply_98;
